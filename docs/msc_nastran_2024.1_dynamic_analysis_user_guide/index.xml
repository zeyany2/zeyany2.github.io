<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DOC REPO – MSC Nastran manuals</title>
    <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/</link>
    <description>Recent content in MSC Nastran manuals on DOC REPO</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
	  <atom:link href="//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>User&#39;s Manual P1</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_001/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_001/</guid>
      <description>
        
        
        &lt;p&gt;MSC Nastran 2024.1
Dynamic Analysis User’s GuideMSC Nastran Dynamic Analysis User’s Guide&lt;/p&gt;
&lt;p&gt;Worldwide Web
&lt;a href=&#34;https://www.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;www.hexagon.com&lt;/a&gt;
Support
&lt;a href=&#34;https://simcompanion.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com&lt;/a&gt;
Disclaimer
Hexagon reserves the right to make changes in specifications and other information contained in this document without prior notice.
The concepts, methods, and examples presented in this text are for illustrative and educational purposes only, and are not intended
to be exhaustive or to apply to any particular engineering problem or design. Hexagon assumes no liability or responsibility to any
person or company for direct or indirect damages resulting from the use of any information contained herein.
User Documentation: Copyright 2024 Hexagon AB and/or its subsidiaries. All Rights Reserved.
This notice shall be marked on any reproduction of this documentation, in whole or in part. Any reproduction or distribution of this
document, in whole or in part, without the prior written consent of Hexagon is prohibited.
This software may contain certain third-party software that is protected by copyright and licensed from Hexagon suppliers. Additional
terms and conditions and/or notices may apply for certain third party software. Such additional third party software terms and
conditions and/or notices may be set forth in documentation and/or at third-party software information  (or successor website designated
by Hexagon from time to time).
PCGLSS 8.0, Copyright © 1992-2016, Computational Applications and System Integration Inc. All rights reserved. PCGLSS 8.0 is
licensed from Computational Applications and System Integration Inc.
The Hexagon logo, Hexagon, MSC Software logo, MSC, Dytran, Marc, MSC Nastran, Patran, e -Xstream, Digimat, and Simulating
Reality are trademarks or registered trademarks of Hexagon AB and/or its subsidiaries in the United States and/or other countries.
NASTRAN is a registered trademark of NASA. FLEXlm and FlexNet Publisher are trademarks or registered trademarks of Flexera
Software. All other trademarks are the property of their respective owners.
Use, duplicate, or disclosure by the U.S. Government is subjected to restrictions as set forth in FAR 12.212 (Commercial Computer
Software) and DFARS 227.7202 (Commercial Computer Software and Commercial Computer Software Documentation), as
applicable.
U.S. Patent 9,361,413
May 17, 2024
NA:V2024.1:Z:Z:Z:DC-UCR-PDFCorporate Office
Hexagon Manufacturing Intelligence, Inc. UK
78 Portsmouth Road Cedar House
Cobham, Surrey KT11 1HY
Telephone: (+44) 02070686555&lt;/p&gt;
&lt;p&gt;Documentation Feedback
At Hexagon Manufacturing Intelligence, we strive to produce the highest quality documentation and
welcome your feedback. If you have comments or suggestions about our documentation, write to us .
Please include the following information with your feedback:
Document name
Release/Version number
Chapter/Section name
Topic title (for Online Help)
Brief description of the content (for example, incomplete/incorrect information, grammatical
errors, information that requires clarification or more details and so on).
Your suggestions for correcting/improving documentation
Note:   The above mentioned e-mail address is only for providing documentation specific
feedback. If you have any technical problems, issues, or queries, please contact Technical
Support .&lt;/p&gt;
&lt;p&gt;Contents
MSC Nastran Dynamic Analysis User’s Guide&lt;/p&gt;
&lt;p&gt;Main Index
Contents
Preface
About this Book  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
List of MSC Nastran Guides . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  3
Technical Support  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
Training and Internet Resources . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
1 Fundamentals of Dynamic Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  6
Equations of Motion . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  6
Dynamic Analysis Process . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  16
Dynamic Analysis Types  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  18
2 Finite Element Input Data
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  20
Strategies for Dynamic Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  20
Plan the Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21
Mass Input  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  21
Coupled Mass Matrix Terms  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  29
Mass Effects in Moving Coordinate Systems  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  30
Damping Input  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33
Units in Dynamic Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  37
3 Real Eigenvalue Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  40
Reasons to Compute Normal Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  41&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guidevi
Main Index
Mathematical Overview of Normal Modes Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  42
Methods of Computation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  48
User Interface for Real Eigenvalue Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  50
Solution Control for Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  55
Massless Mechanism Identification and Control . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  58
Prestiffened Normal Mode Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  59
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  63
Rigid Body Modes  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92
SUPORT Entry . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  94
Rigid Body Mode Examples . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  99
Tools to Help Identify and Validate Normal Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  105
4 Frequency Response Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122
Review of Dynamic Excitations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  123
Direct Frequency Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  128
Frequency Response Function (FRF) and FRF Based Assembly (FBA)  . . . . . . . . . . . . . . . . . . . . . . . . . . .  130
Inter Component Force (ICF) Calculations for FRF/FBA/TPA Capability  . . . . . . . . . . . . . . . . . . . . . . . . . .  133
Modal Frequency Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  137
Modal Versus Direct Frequency Response . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  143
Frequency-Dependent Structural Elements  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  144
Frequency -Dependent Excitation Definition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  150
Frequency Dependent Materials in MSC Nastran  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  161
Solution Frequencies . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  170
Frequency Response Considerations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  174
Solution Control for Frequency Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  175
Examples of Frequency Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  177
Modal Contribution Fraction (MCFRACTION)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  194
Dynamic Stiffness (DYSTIFF) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  198
Single-step TPA  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  204
5 Transient Response Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  218&lt;/p&gt;
&lt;p&gt;vii Contents
Main Index
Direct Transient Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  218
Modal Transient Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  222
Initial Condition Usage in Linear Transient Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  228
Dynamic Data Recovery in Modal Transient Response Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  231
Modal Versus Direct Transient Response  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  231
Transient Excitation Definition  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  232
Integration Time Step . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  246
Transient Excitation Considerations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  247
Solution Control for Transient Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  247
Restarts in Linear Transient Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  250
Suggestions for Time step size Selection in Linear Transient Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . .  250
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  252
MAX/MIN Output (New Form) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  267
6 Damping
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  276
Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  276
Modeling Damping Effects . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  278
Damping Effect on Complex Eigenvalues  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  290
Structural Damping for Shell and Bush Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  293
Geometric, Material Nonlinear Spring, and Damper Element . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  295
Enhanced Structural Damping for Anisotropic Materials  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  303
7 Enforced Motion
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  308
Direct Enforced Motion in Dynamic Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  308
Enforced Motion with Loads  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  317
Large Mass Method - Direct  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  328
Large Mass Method - Modal  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  330
User Interface for the Large Mass Method  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  331
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  334&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide viii
Main Index
8 Random Analysis
Random Analysis with Coupled Excitations . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  350
Composites and Random Response Enhancements  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  371
9 Response Spectrum Analysis
Shock and Response Spectrum Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  382
Response Spectrum Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  393
10 Restarts In Dynamic Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  412
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  413
Remarks . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  415
11 Coupled Fluid-Structure Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  427
Modeling . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  429
Basic Fluid Equations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  433
Axisymmetric Hydroelastic Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  438
Virtual Fluid Mass  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  451
Coupled and Uncoupled Acoustic Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  459
Weakly Coupled Acoustics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  473
Frequency Dependent Analysis with ACTRAN Trimmed Material and/or Acoustic Pressure Load Matrices  475
Poro-Elastic Material (PEM)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  482
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics  . . . . . . . . . . . . . . . . . . . . . . . . . .  500
Nastran PEM Solution Enhancements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  511
Exterior Acoustics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  519
BW Method of Fluid-Structure Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  536
Direct Input of Interface [A] Matrix . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  549
Acoustic Modal Participation Factors . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  550
PEAKOUT Automated Acoustic Participation Factors Output at Peak Responses  . . . . . . . . . . . . . . . . . .  563
Acoustic XY Plots, Random, and Restarts  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  569
Acoustic Source Change  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  578&lt;/p&gt;
&lt;p&gt;ix Contents
Main Index
Rigid Porous Absorber . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  579
Equivalent Radiated Power (ERP)  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  585
Peakout support for ERP  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  590
Normal Velocity  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  599
Vibration Intensity  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  601
ACLOAD and PEM Interpolation . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  603
Real Coupled Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  605
External Superelements with CMS from Real Coupled Modes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  614
Compute Element Sensitivity based on Frequency Response Function and Element Matrix . . . . . . . . . .  617
Output Particle Acceleration on Wetted Surface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  625
12 Mid-Frequency Acoustics
Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  630
Theory . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  630
User Interface and Guidelines  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  632
Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  634
Post Processing using PLT Viewer  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  635
13 Modal Augmentation Methods
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  642
Data Recovery for Modal Methods . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  642
Residual Vector . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  648
14 Complex Eigenvalue Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  654
Complex Eigensolutions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  654
15 Guidelines and Tools for Effective Dynamic Analysis
Overall Analysis Strategy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  670
Units  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  672
Mass  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  673
Damping  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  673&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guidex
Main Index
Boundary Conditions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  676
Loads  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  677
Meshing  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  677
Eigenvalue Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  678
Frequency Response Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  678
Transient Response Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  680
Results Interpretation and Verification . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  681
Computer Resource Requirements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  682
Debugging Dynamic Models  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  684
Weight Checks . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  687
Groundcheck  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  688
Static Loading  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  688
Thermal Test Case . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  689
Modal Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  689
Modal Effective Mass Computation  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  689
Modal Kinetic and Strain Energy Output . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  691
Grid Point Kinetic Energy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  694
Element Strain Energy . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  695
Element Kinetic Energy  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  697
Element Energy Loss  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  699
Total Energy Output for Defined SETs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  700
16 Results Processing
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  704
Structure Plotting . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  704
X-Y Plotting  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  710
17 MSC Nastran/ADAMS Interface
Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  724
Benefits  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  724
Theory . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  724
Inputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  729
Outputs . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  736&lt;/p&gt;
&lt;p&gt;xi Contents
Main Index
Guidelines and Limitations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  736
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  738
18 Multiple Mass Configuration
Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  768
Benefits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  768
User Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  768
Sample MMC Nastran Input File  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  771
Guidelines . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  773
Limitations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  774
Examples  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  774
19 AVL EXCITETM Interface
Introduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  776
Benefits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  778
User Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  778
Guidelines and Limitations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  781
Sample Input Files  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  783
Multiple Subcase Data Recovery . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  790
20 Nastran Smart Superelement
Introduction to Nastran Smart Superelement . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  794
Benefits . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  794
Workflow . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  795
The SSE Process and the User Interface . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  797
Case Control, Bulk Data Entries and New Parameters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  809
Guidelines and Limitations  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  811
References  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  816
21 Special Topics
Direct Matrix Input Dynamics  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  818
DMIGs, Extra Points, and Transfer Functions  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  818&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guidexii
Main Index
Dynamic Reduction  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  828
Superelement Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  836
Nonlinear Transient Response Analysis . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  841
Nonlinear Transient Response Analysis Elements . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  852
Nonlinear Harmonic Response  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  865
Design Optimization and Sensitivity Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  876
Control System Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  877
Fourier Transform  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  877
Squeeze Film Damper Nonlinear Force . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  883
Aeroelastic Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  889
Viscoelastic Material Properties . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  904
DDAM Processor  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  914
22 The Set Notation System Used in Dynamic Analysis
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  946
23 MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  950
Fluid-structure Coupling in Virtual SEA  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  960
Diffuse Sound Field with Workflow Manager for Space  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  968
A Python Code for Post Processing TPA HDF5 File
Python Code for Post Processing TPA HDF5 File  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  980
Glossary
Nomenclature
References
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  1014
General References  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  1014
Bibliography&lt;/p&gt;
&lt;p&gt;Main Index
Preface
Preface
About this Book      2
Acknowledgments      2
List of MSC Nastran Guides      3
Technical Support      4
Training and Internet Resources      4&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
About this Book2
Main Index
About this Book
The MSC Nastran Dynamic Analysis User’s Guide  is a guide to the proper use of MSC Nastran for solving
various dynamic analysis problems. This guide serves as both an introduction to dynamic analysis for the new
user and a reference for the experienced user. The major emphasis focuses on understanding the physical
processes in dynamics and properly applying MSC Nastran to model dynamic processes while restricting
mathematical derivations to a minimum.
The basic types of dynamic analysis capabilities available in MSC Nastran are described in this guide. These
common dynamic analysis capabilities include normal modes analysis, transient response analysis, frequency
response analysis, and enforced motion. These capabilities are described and illustrative examples are
presented. Theoretical derivations of the mathematics used in dynamic analysis are presented only as they
pertain to the proper understanding of the use of each capability.
To effectively use this guide, it is important for you to be familiar with MSC Nastran’s static analysis capability
and the principles of dynamic analysis. Basic finite element modeling and analysis techniques are covered only
as they pertain to MSC Nastran dynamic analysis. For more information on static analysis and modeling,
refer to the MSC Nastran Linear Static Analysis User’s Guide  and to the Getting Started with MSC Nastran User’s Guide .
This guide is an update to the MSC Nastran Basic Dynamic Analysis User’s Guide  for Version 68, which
borrowed much material from the MSC.Nastran Handbook for Dynamic Analysis . However, not all topics
covered in that handbook are covered here.  In addition, dynamic reduction, response spectrum analysis,
random response analysis, complex eigenvalue analysis, nonlinear analysis, fluid -structure coupling and
Enforced Motion and other topics which were part of the MSC Nastran Advanced Dynamics Guide  for Version
70 and are now included in this guide. In addition, Release Guide material related to dynamics has also been
included in this guide.
This guide contains many highlighted links (text in blue) to other MSC Nastran documents. All the
documents are delivered together as a collection. The links between the documents will work, if you keep the
collection together.
T wo ways of working with links are as follows:
Use “ ’alt ’ to return back to the window your cursor is in.
To open the other “linked to” documents in a new window from an Adobe Reader, choose
Open cross-document links in the same window. Then
uncheck the checkbox and select OK.
Acknowledgments
The 2012 Version of the MSC Nastran Dynamic Analysis User’s Guide  is part of an ongoing project to update
existing MSC Nastran documentation. This guide is a combination of the Basic Dynamics User’s Guide  and
Advanced Dynamics User’s Guide .
This guide incorporates most capabilities related to dynamic analysis into one place. The goal was to
incorporate the two existing dynamics guides and the material presented in all the Release Guides since
Version 70 into one place and to connect the MSC documents together by providing direct links between
manuals. This eliminates the older Release Guides and provides quick and directed access to other documents
like the MSC Nastran Quick Reference Guide  (QRG). alt  
Edit PreferencesDocuments    &lt;/p&gt;
&lt;p&gt;3 CHAPTER
Preface
Main Index
List of MSC Nastran Guides
A list of some of the MSC Nastran guides is as follows:
Installation and Release Guides
Installation and Operations Guide
Release Guide
Reference Guides
Quick Reference Guide
DMAP Programmer’s Guide
Reference Guide
Utilities Guide
Getting Started Guide
SOL 400 Getting Started Guide
MSC Nastran Error Messages Guide
Demonstration Guides
Linear Analysis
Implicit Nonlinear (SOL 400)
Explicit Nonlinear (SOL 700)
MSC Nastran Verification Guide
User’s Guides
Automated Component Modal Synthesis (ACMS)
Access Manual
Aeroelastic Analysis
Design Sensitivity and Optimization
DEMATD
Dynamic Analysis
Embedded Fatigue
Embedded Vibration Fatigue
Explicit Nonlinear (SOL 700)
High Performance Computing
Linear Static Analysis
Nonlinear (SOL 400)
Numerical Methods
Rotordynamics&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Technical Support4
Main Index
You may find any of these documents from Hexagon at:
&lt;a href=&#34;https://simcompanion.hexagon.com/customers/s/article/MSC-Nastran-Support-Home-Page&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com/customers/s/article/MSC-Nastran-Support-Home-Page&lt;/a&gt;
Technical Support
For technical support phone numbers and contact information, please visit:
&lt;a href=&#34;https://simcompanion.hexagon.com/customers/s/article/support-contact-information-kb8019304&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com/customers/s/article/support-contact-information-kb8019304&lt;/a&gt;
Support Center ( &lt;a href=&#34;http://simcompanion.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://simcompanion.hexagon.com&lt;/a&gt; )
Support Online. The Support Center provides technical articles, frequently asked questions and
documentation from a single location.
Training and Internet Resources
Hexagon corporate site has the information on the latest events, products and services for the
CAD/CAE/CAM marketplace.
&lt;a href=&#34;http://simcompanion.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://simcompanion.hexagon.com&lt;/a&gt;
The SimCompanion link above gives you access to the wealth of resources for Hexagon products. Here you
will find product and support contact information, product documentations, knowledge base articles,
product error list, knowledge base articles and SimAcademy Webinars. It is a searchable database which allows
you to find articles relevant to your inquiry. Valid MSC customer entitlement and login is required to access
the database and documents. It is a single sign-on that gives you access to product documentation for
complete list of products from Hexagon, allows you to manage your support cases, and participate in our
discussion forums.
&lt;a href=&#34;https://hexagon.com/support-success/manufacturing-intelligence/design-engineering-support/msc-&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://hexagon.com/support-success/manufacturing-intelligence/design-engineering-support/msc-&lt;/a&gt;
training
The MSC-T raining link above will point you to schedule and description of MSC Seminars. Following
courses are recommended for beginning Nastran users.
NAS120 - Linear Static Analysis using MSC Nastran and Patran
This seminar introduces basic finite element analysis techniques for linear static, normal modes, and buckling
analysis of structures using MSC Nastran and Patran. MSC Nastran data structure, the element library,
modeling practices, model validation, and guidelines for efficient solutions are discussed and illustrated with
examples and workshops. Patran will be an integral part of the examples and workshops and will be used to
generate and verify illustrative MSC Nastran models, manage analysis submission requests, and visualize
results. This seminar provides the foundation required for intermediate and advanced MSC Nastran
applications.Superelements and Modules
Thermal Analysis
User Defined Services&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s
Guide&lt;br&gt;
Chapter 1: Fundamentals of Dynamic Analysis
1Fundamentals of Dynamic
Analysis
Overview
Equations of Motion
Dynamic Analysis Process
Dynamic Analysis Types&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview6
Main Index
Overview
In static structural analysis, it is possible to describe the operation of MSC Nastran without a detailed
discussion of the fundamental equations.  Due to the several types of dynamic analyses and the different
mathematical form of each, some knowledge of both the physics of dynamics and the manner in which the
physics is represented is important to using MSC Nastran effectively and efficiently for dynamic analysis.
You should become familiar with the notation and terminology covered in this chapter.  This knowledge will
be valuable to understand the meaning of the symbols and the reasons for the procedures employed in later
chapters.  References  provides a list of references for structural dynamic analysis.
Dynamic Analysis Versus Static Analysis
T wo basic aspects of dynamic analysis differ from static analysis.  First, dynamic loads are applied as a function
of time or frequency-.  Second, this time or frequency-varying load application induces time or frequency-
varying response (displacements, velocities, accelerations, forces, and stresses).  These time or frequency-
varying characteristics make dynamic analysis more complicated and more realistic than static analysis.
This chapter introduces the equations of motion for a single degree -of-freedom dynamic system (see Equations
of Motion ), illustrates the dynamic analysis process (see Dynamic Analysis Process ), and characterizes the types of
dynamic analyses described in this guide (see Dynamic Analysis Types ).  Those who are familiar with these topics
may want to skip to subsequent chapters.
Equations of Motion
The basic types of motion in a dynamic system are displacement u and the first and second derivatives of
displacement with respect to time.  These derivatives are velocity  and acceleration , respectively, given below:
(1-1)
Velocity and Acceleration
Velocity is the rate of change in the displacement with respect to time.  Velocity can also be described as the
slope of the displacement curve.  Similarly, acceleration is the rate of change of the velocity with respect to
time, or the slope of the velocity curve.
Single Degree -of-Freedom System
The most simple representation of a dynamic system is a single degree -of-freedom (SDOF) system  (see
Figure 1-1).  In an SDOF system, the time -varying displacement of the structure is defined by one component
of motion . Velocity and acceleration are derived from the displacement.u· du
dt&amp;mdash;&amp;mdash; v velocity = = =
u··d2u
dt2&amp;mdash;&amp;mdash;&amp;mdash;dv
dt&amp;mdash;&amp;mdash; a acceleration = = = =
ut u·t u··t&lt;/p&gt;
&lt;p&gt;7 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
Figure 1-1  Single Degree -of-Freedom (SDOF) System
Dynamic and Static Degrees -of-Freedom
Mass and damping are associated with the motion of a dynamic system. Degrees -of-freedom with mass or
damping are often called dynamic degrees -of-freedom ; degrees -of-freedom with stiffness are called static
degrees -of-freedom .  It is possible (and often desirable) in models of complex systems to have fewer dynamic
degrees -of-freedom than static degrees -of-freedom.
The four basic components of a dynamic system are mass, energy dissipation (damper), resistance (spring),
and applied load. As the structure moves in response to an applied load, forces are induced that are a function
of both the applied load and the motion in the individual components. The equilibrium equation
representing the dynamic motion of the system is known as the equation of motion.
Equation of Motion
This equation, which defines the equilibrium condition of the system at each point in time, is represented as
(1-2)
The equation of motion accounts for the forces acting on the structure at each instant in time. Typically, these
forces are separated into internal forces and external forces. Internal forces are found on the left -hand side of
the equation, and external forces are specified on the right -hand side. The resulting equation is a
second -order linear differential equation representing the motion of the system as a function of displacement
and higher -order derivatives of the displacement.
Inertia Force
An accelerated mass induces a force that is proportional to the mass and the acceleration. This force is called
the inertia force .m=mass (inertia)
b=damping (energy dissipation
k=stiffness (restoring force)
p=applied force
u=displacement of mass
=velocity of mass
=acceleration of massu·
u··pt
ut
bkm
mu··tbu·tkut + + pt =
mu··t&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equations of Motion8
Main Index
Viscous Damping
The energy dissipation mechanism induces a force that is a function of a dissipation constant and the velocity.&lt;br&gt;
This force is known as the viscous damping force . The damping force transforms the kinetic energy
into another form of energy, typically heat, which tends to reduce the vibration.
Elastic Force
The final induced force in the dynamic system is due to the elastic resistance in the system and is a function
of the displacement and stiffness of the system.  This force is called the elastic force or occasionally the spring
force ku(t).
Applied Load
The applied load p(t) on the right -hand side of Eq. (1-2) is defined as a function of time. This load is
independent of the structure to which it is applied (e.g., an earthquake is the same earthquake whether it is
applied to a house, office building, or bridge), yet its effect on different structures can be very different.
Solution of the Equation of Motion
The solution of the equation of motion for quantities such as displacements, velocities, accelerations, and/or
stresses—all as a function of time—is the objective of a dynamic analysis. The primary task for the dynamic
analyst is to determine the type of analysis to be performed. The nature of the dynamic analysis in many cases
governs the choice of the appropriate mathematical approach. The extent of the information required from
a dynamic analysis also dictates the necessary solution approach and steps.
Dynamic analysis can be divided into two basic classifications: free vibrations and forced vibrations. Free
vibration analysis is used to determine the basic dynamic characteristics of the system with the right -hand
side of Eq. (1-2) set to zero (i.e., no applied load). If damping is neglected, the solution is known as undamped
free vibration analysis.
Free Vibration Analysis
In undamped free vibration analysis , the SDOF equation of motion reduces to
(1-3)
Eq. (1-3) has a solution of the form
(1-4)
The quantity u(t) is the solution for the displacement as a function of time t. As shown in Eq. (1-4), the
response is cyclic in nature.
Circular Natural Frequency
One property of the system is termed the circular natural frequency of the structure n. The subscript n
indicates the “natural” for the SDOF system. In systems having more than one mass degree of freedom and bu·t
mu··tkut + 0=
ut Ant sin Bnt cos + =&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P10</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_010/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_010/</guid>
      <description>
        
        
        &lt;p&gt;169 CHAPTER 4
Frequency Response Analysis
Main Index
Spatial Dependent Example
The figure below shows a simple strip of CQUAD4 elements with associated PCOMP entries. The PCOMP
associated with elements 1-6 have some associated PDISTB entries. Also, the PCOMP associated with
elements 7-12 have some PDISTB entries. There is a MAT2 entry associate with PCOMP , 1 that used the
new extended GEij feature.
New features for this model are the PDISTB entries shown and the extended GEij fields shown on the MAT2
entry.
NASTRAN PRTPCOMP=1
SOL 108
CEND
&amp;hellip;
BEGIN BULK
&amp;hellip;
$ 2 3 4 5 6 7 8 9
0
PDISTB 1 PCOMP 1 T 2 .2
1 1. 2 1. 3 1. 4 1.
5 1. 6 1.
PDISTB 2 PCOMP 1 T 5 .2
1 1. 2 1. 3 1. 4 1.
5 1. 6 1.
PDISTB 3 PCOMP 1 GE  1.
7 .15 8 .05 9 .07 10 .03
11 .07 12 .05
PCOMP    1                                               .1
1      .1      90.      YES     1      .8      45.      YES
1      .2      -45.     YES     1      .2      -45.     YES
1      .9      45.      YES     1      .1      90.      YES
$
MAT2 1 2.7866+38.3447+21.0139+23.3020+31.0139+21.1069+31.-9
0.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Solution Frequencies170
Main Index
.01 .15 .15 .01 .15 .11
$
PDISTB 9 PCOMP 2 THETA 4 -45.
7 1. 8 1. 9 1. 10 1.
11 1. 12 1.
PCOMP    2                                               .025
2      .1      90.      YES     2      .2      45.      YES
2      .2      -45.     YES     2      .2      +75.     YES
2      .2      45.      YES     2      .1      90.      YES
$
&amp;hellip;
$
ENDDATA&lt;br&gt;
Limitations and Guidelines
1.Both direct frequency and modal frequency allow, through MAT1F, MAT2F, MAT8F, MAT9F,
and PBUSHT, PELAST, PDAMPT entries frequency dependent analysis. For frequency analysis, to
improve both solution accuracy and performance, the concept of master frequency has been
introduced. The presence of any active MAT1F, MAT2F, MAT8F, or MAT9F entry or the
combined presence of any MAT1F, MAT2F, MAT8F, MAT9F entries and any PBUSHT, PELAST,
PDAMPT entries a master frequency will initiate the master frequency feature in frequency analysis.
In Frequency and Spatial Dependency V2018.2 release, Nastran will in frequency analysis
automatically, depending on associated frequency dependent TABLEDi entries and the required Case
Control FREQ=m entry, generate a series of master frequencies. The user has the option, as discussed
in the QRG, of supplying their own master frequency list or turning off this automatic feature. When
a master frequency list is automatically generated for MFREQ=AUTO, a message of the form:
***AUTOMATIC MASTER FREQUENCY LIST HAS BEEN SELECTED FOR SUBCASE ID 1 :
FREQ        1001   10.00   15.00   20.00   30.00   40.00   50.00   65.00
85.00  105.00  130.00  160.00  190.00  230.00  275.00  330.00
400.00
is written, informing the user of the master frequencies used. (This list is from the above laminated
windshield model. )
2.SOL400 nonlinear analysis is not supported with PDISTB or PDISTBM entries.
3.Heat transfer analysis is not supported with PDISTB and PDISTBM
4.Inclusion of frequency or spatial dependent material properties in a Sol 200 design task is not allowed.
Solution Frequencies
A major consideration when you conduct a frequency response analysis is selecting the frequency at which
the solution is to be performed. There are six Bulk Data entries that you can use to select the solution&lt;/p&gt;
&lt;p&gt;171 CHAPTER 4
Frequency Response Analysis
Main Index
frequencies. It is important to remember that each specified frequency results in an independent solution at
the specified excitation frequency.
To select the loading frequencies, use the FREQ, FREQ1, FREQ2, FREQ3, FREQ4 and FREQ5 Bulk Data
entries.
The FREQUENCY (Case)  Case Control command selects FREQi Bulk Data entries. All FREQi entries with
the same selected Set ID are applied in the analysis; therefore, you can use any combination of FREQ,
FREQ1, FREQ2, FREQ3, FREQ4 and FREQ5 entries.
The examples that follow show the formats of the FREQi entries. Notice that the six sets of excitation
frequencies shown in the examples will be combined in a single analysis if the Set IDs are identical.
FREQ
The FREQ Bulk Data entry specifies ten specific (unequally spaced loading frequencies to be analyzed.
The FREQ1  Bulk Data example specifies 14 frequencies between 2.9 Hz and 9.4 Hz in increments of 0.5 Hz.FREQ Defines discrete excitation frequencies.
FREQ1 Defines a starting frequency , a frequency incitement , and the number of
frequency increments to solve NDF .
FREQ2 Defines a starting frequency , and ending frequency , and the number of
logarithmic intervals, NF , to be used in the frequency range.
FREQ3 *
&lt;em&gt;Used for modal solution only.Defines the number of excitation frequencies used between modal pairs in a given
range.
FREQ4&lt;/em&gt; Defines excitation frequencies using a spread about each normal mode within a range.
FREQ5* Defines excitation frequencies as all frequencies in a given range as a defined fraction
of the normal modes.
1 2 3 4 5 6 7 8 9 10
$FREQ SID F1 F2 F3 F4 F5 F6 F7
$ F8 F9 F10 F11 F12 F13 F14 F15
FREQ 3 2.98 3.05 17.9 21.3 25.6 28.8 31.2
29.2 22.4 19.3
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
F Frequency value (cycles per unit time).Fstartf
FstartFend&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Solution Frequencies172
Main Index
The FREQ2  Bulk Data entry example specifies six logarithmic frequency intervals between 1.0 and 8.0 Hz,
resulting in frequencies at 1.0, 1.4142, 2.0, 2.8284, 4.0, 5.6569, and 8.0 Hz being used for the analysis.
The FREQ3  Bulk Data entry example requests 10 frequencies between each set of modes within the range 20
and 2000, plus ten frequencies between 20 and the lowest mode in the range, plus 10 frequencies between&lt;br&gt;
the highest mode in the range and 2000.$FREQ1 SID NDF
FREQ1 6 2.9 0.5 13
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
Starting frequency in set (cycles per unit time).
Frequency increment (cycles per unit time).
NDF Number of frequency increments.
1 2 3 4 5 6 7 8 9 10
$FREQ2 SID NF
FREQ2 9 1.0 8.0 6
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
Starting frequency (cycles per unit time).
Ending frequency (cycles per unit time).
NF Number of logarithmic intervals.
1 2 3 4 5 6 7 8 9 10
$FREQ3 SID F1 F2 TYPE NEF CLUSTER
FREQ3 6 20.0 2000.0 LINEAR 10 2.0
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
F1 Lower bound of modal frequency range in cycles per unit time.
(Real &amp;gt; 0.0)
F2 Upper bound of modal frequency range in cycles per unit time.
(Real &amp;gt; 0.0, F2 ³ F1, Default = F1)
TYPE LINEAR or LOG.  Specifies linear or logarithmic interpolation between frequencies.&lt;br&gt;
(Character; Default = “LINEAR”)Fstartf
Fstart
f
FstartFend
Fstart
Fend&lt;/p&gt;
&lt;p&gt;173 CHAPTER 4
Frequency Response Analysis
Main Index
The FREQ4  Bulk Data entry example chooses 21 equally spaced frequencies across a frequency band of
to  for each natural frequency between 20 and 2000.
The FREQ5  Bulk Data entry example will compute excitation frequencies which are 0.6, 0.8, 0.9, 0.95, 1.0,
1.05, 1.1, and 1.2 times the natural frequencies for all natural frequencies, but use only the computed
frequencies that fall within the range 20 and 2000.NEF Number of excitation frequencies within each subrange including the end points. (Integer&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;1, Default = 10)
CLUSTER A CLUSTER value greater than 1 provides closer spacing of excitation frequencies near
the modal frequencies, where greater resolution is needed. (Real &amp;gt; 0.0; Default = 1.0)
1 2 3 4 5 6 7 8 9 10
$FREQ4 SID F1 F2 FSPD NFM
FREQ4 6 20.0 2000.0 0.30 21
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
F1 Lower bound of modal frequency range in cycles per unit time. (Real &amp;gt; 0.0)
F2 Upper bound of modal frequency range in cycles per unit time. (Real &amp;gt; 0.0, F2 ³ F1, Default
= F1)
FSPD Frequency spread, +/– the fractional amount specified for each mode which occurs in the
frequency range F1 to F2.  (1.0 &amp;gt; Real &amp;gt; 0.0,
Default = 0.10)
NFM Number of evenly spaced frequencies per “spread” mode. (Integer &amp;gt; 0; Default = 3; If NFM
is even, NFM + 1 will be used.)
1 2 3 4 5 6 7 8 9 10
$FREQ5 SID F1 F2 FR1 FR2 FR3 FR4 FR5
FR6 FR7 -etc.-
FREQ5 6 20.0 2000.0 1.0 0.6 0.8 0.9 0.95
1.05 1.1 1.2
Field Contents
SID Set ID specified by a FREQUENCY Case Control command.
F1 Lower bound of modal frequency range in cycles per unit time. (Real &amp;gt; 0.0)Field Contents
0.7fN 1.3fN&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Frequency Response Considerations174
Main Index
Frequency Response Considerations
Exciting an undamped (or modal or viscous damped) system at 0.0 Hz using direct frequency response
analysis gives the same results as a static analysis and also gives almost the same results when using modal
frequency response (depending on the number of retained modes). Therefore, if the maximum excitation
frequency is much less than the lowest resonant frequency of the system, a static analysis is probably sufficient.
Undamped or very lightly damped structures exhibit large dynamic responses for excitation frequencies near
resonant frequencies. A small change in the model (or running it on another computer) may result in large
changes in such responses.
Use a fine enough frequency step size ( ) to adequately predict peak response.  Use at least five points across
the half -power bandwidth  (which is approximately  for an SDOF system) as shown in Figure 4-10.
Figure 4-10  Half-Power Bandwidth
For maximum efficiency, an uneven frequency step size should be used. Smaller frequency spacing should be
used in regions near resonant frequencies, and larger frequency step sizes should be used in regions away from
resonant frequencies.F2 Upper bound of modal frequency range in cycles per unit time. (Real &amp;gt; 0.0, F2 ³ F1; Default
= F1)
FRi Fractions of the natural frequencies in the range F1 to F2.  (Real &amp;gt; 0.0)Field Contents
f
2fn
ResponsePeak Response
Frequency
Half-Power Bandwidth
= Excitation FrequencyPeak
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; Half-Power Point=&lt;/p&gt;
&lt;p&gt;175 CHAPTER 4
Frequency Response Analysis
Main Index
Solution Control for Frequency Response Analysis
In the Case Control Section of the MSC Nastran input file, you must select the solution parameters
associated with the current analysis (i.e., frequencies, loads, and boundary conditions), and also the output
quantities required from the analysis. The Case Control commands directly related to frequency response
analysis are listed in Table 4-3. They can be combined in the standard fashion with the more generic entries,
such as SPC, MPC, etc.
The Case Control command, OMODES  (Case)  (for Output MODES), allows for the selection of a set of
modes for data recovery and output purposes. This command is supported for SOLs 103, 105, 107, 110,
111, 112, and 200. It allows selection of modes by mode number rather than by frequency value, as is the
case with the OFREQUENCY (Case)  command. OMODES is particularly useful because it limits the amount
of output in the case of large, real-life problems without affecting the actual number of modes computed.
For example, assume for a large normal modes model with multiple boundary conditions that the user is
interested in obtaining the output for the first five modes in the first subcase and the next ten modes in the
following subcase. The following OMODES request in each subcase will accomplish this goal.
SUBCASE 10
BC = 1
SPC = 100
METHOD = 101
SET 102 = 1 THRU 5
OMODES = 102
DISP = ALL
$
SUBCASE 20
BC = 2
SPC = 200
METHOD = 201
SET 202 = 6 THRU 15
OMODES = 202
DISP = ALLTable 4-3  Case Control Commands for Frequency Response Solution Control
Case
Control
CommandDirect or
Modal Description Required/Optional
DLOAD Both Select the dynamic load set from Bulk Data Required
FREQUENCY Both Select FREQi entries from Bulk Data Required
METHOD Modal Select the eigenvalue extraction parameters Required
LOADSET Both Select the LSEQ set from Bulk Data Optional
SDAMPING Modal Select the modal damping table from Bulk Data Optional
OFREQUENCY Both Select the frequencies for output (Default = all) Optional
OMODES Both Selects mode for output requests (Default = all) Optional&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Solution Control for Frequency Response Analysis176
Main Index
The types of results available from a frequency response analysis are similar to those for a typical static analysis
except that the results are a complex function of the applied loading frequency.  Additional quantities
(characteristic of dynamic problems) are also available. The output quantities are summarized in Table 4-4 and
Table 4-5.
Frequency response output is in real/imaginary format (the default) or magnitude/phase format (the phase
angle is in degrees). Frequency response output is also in SORT1  or SORT2  format. In SORT1 format, the
results are listed by frequency; in SORT2 format, the results are listed by grid point or element number.
SORT1 is the default for direct frequency response analysis (SOL 108), and SORT2 is the default for modal
frequency response analysis (SOL 111). PARAM,CURVPLOT ,1 and PARAM,DDRMM, -1 are necessary to
obtain SORT1 output in SOL 111. These output formats are specified with the Case Control commands.
The command
DISPLACEMENT(PHASE, SORT2) = ALL
prints displacements in magnitude/phase and SORT2 formats. The output formats are illustrated in the first
example in Examples of Frequency Response Analysis .Table 4-4  Grid Output from a Frequency Response Analysis
Case Control
Command Description
ACCELERATION Grid point acceleration results for a set of grid points.
DISPLACEMENT
(or VECTOR )Grid point displacement results for a set of grid points.
OLOAD Requests the applied load table to be output for a set of grid points.
SACCELERATION Requests the solution set acceleration output:  d -set in direct solutions and
modal variables in modal solutions.
SDISPLACEMENT Requests the solution set displacement output:  d -set in direct solutions and
modal variables in modal solutions.
SVECTOR Requests the real eigenvector output for the a -set in modal solutions.
SVELOCITY Requests the solution set velocity output:  d -set in direct solutions and modal
variables in modal solutions.
SPCFORCES Requests the forces of a single -point constraint for a set of grid points.
VELOCITY Grid point velocity results for a set of grid points.
Table 4-5  Element Output from a Frequency Response Analysis
Case Control Command Description
ELSTRESS  (or STRESS ) Element stress results for a set of elements.
ELFORCE  (or FORCE ) Element force results for a set of elements.
STRAIN Element strain results for a set of elements.&lt;/p&gt;
&lt;p&gt;177 CHAPTER 4
Frequency Response Analysis
Main Index
A number of Bulk Data entries are unique to frequency response analysis. These entries can be combined
with other generic entries in the Bulk Data. Bulk Data entries directly related to frequency response analysis
are summarized in Table 4-6.
Performance
When using modal based frequency response (SOL 111), the program automatically determines which
method will be used to obtain the solution. These are known as FASTFR or FRRD1. The PARAM, FASTFR
can be used to overwrite the default. The FASTFR method is generally faster, but cannot be used if modal
damping is used for superelements, see PARAM,SESDAMP . Additionally, parallelization can be activated by
using the DMP keyword on the nastran command.
When using direct frequency response (SOL 108), the solution of linear system (complex if damping is
present) will dominate the costs, especially when frequency dependent behavior is present. In such cases, use
the DMP keyword on the nastran command should be used.
Examples of Frequency Response Analysis
This section provides several examples showing the input and output. These examples are:Table 4-6  Bulk Data Entries for Frequency Response Analysis
Bulk Data
EntryDirect
or Modal DescriptionRequired/
Optional
FREQ , FREQi Both Excitation frequencies Required **
RLOADi Both Dynamic loading Required
EIGR  or EIGRL Modal Eigenvalue analysis parameters Required
LSEQ Both Dynamic loading from static loads Optional
TABLEDi Both Frequency -dependent tables Both*
DAREA Both Load component and scale factor Required
DELAY Both Time delay on dynamic load Optional
DPHASE Both Phase angle on dynamic load Optional
DLOAD Both Dynamic load combination, required if RLOAD1
and RLOAD2 are usedOptional
TABDMP1 Modal Modal damping table Optional
** FREQ3, FREQ4 and FREQ5 can only be used in modal frequency response
*Required for RLOAD1; optional for RLOAD2.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis178
Main Index
These examples are described in the sections that follow.
Two-DOF Model
Consider the two -DOF system shown in Figure 4-11. Modal frequency response (SOL 111) is run with a 20
N load applied to the primary mass (grid point 2) across a frequency range of 2 to 10 Hz with an excitation
frequency increment of 0.05 Hz. Uniform modal damping of 5% critical damping is used. Listing 4-4 shows
the input file. (See MSC_DOC_DIR/tpl6/dynamics/bd04two.dat)
Figure 4-11  Two-DOF Model
Listing 4-4  Input File (Abridged) for the Two -DOF Example
$  FILE bd04two.dat
$
$  TWO-DOF SYSTEMModel Frequency Response Bulk Data Entries Output
bd04two EIGRL , FREQ1 , TABDMP1 , RLOAD1 ,
DAREA , TABLED1X-Y plots (linear), printed results
SORT2
bd04twos1 EIGRL , FREQ1 , TABDMP1 , RLOAD1 ,
DAREA , TABLED1Printed results SORT1
bd04twona EIGRL , FREQ1 , TABDMP1 , RLOAD1 ,
DAREA , TABLED1X-Y plots (linear)
bd04bar EIGRL, FREQ1, TABDMP1, DLOAD ,
RLOAD2 , DAREA, DPHASE , TABLED1X-Y plots (log)
bd04bkt EIGRL, FREQ1, TABDMP1, RLOAD1,
LSEQ , TABLED1, PLOAD4X-Y plot (log)
y
xAuxiliary Structure, Grid
Point 1
Primary Structure, Grid
Point 2P = 20 N sin wt&lt;/p&gt;
&lt;p&gt;179 CHAPTER 4
Frequency Response Analysis
Main Index
$  CHAPTER 4, FREQUENCY RESPONSE
$
SOL 111  $ MODAL FREQUENCY RESPONSE
CEND
TITLE = TWO-DOF SYSTEM
SUBTITLE = MODAL FREQUENCY RESPONSE
LABEL =  20 N FORCE APPLIED TO PRIMARY MASS
$
$  SPECIFY SPC
SPC = 996
$
$  SPECIFY MODAL EXTRACTION
METHOD = 10
$
$  SPECIFY DYNAMIC INPUT
DLOAD = 999
FREQ = 888
SDAMPING = 777
$
$  SELECT OUTPUT
SET 10 = 2.0, 2.05, 2.1, 2.15, 2.2, 2.25
SET 11 = 1,2
OFREQ = ALL
$
SUBCASE 1
DISPLACEMENT(PHASE,PLOT) = 11
SUBCASE 2
OFREQ=10
DISPLACEMENT(SORT2,REAL,PRINT,PLOT) = 11
SUBCASE 3
OFREQ=10
DISPLACEMENT(SORT2,PHASE,PRINT,PLOT) = 11
$
$  XYPLOTS
OUTPUT(XYPLOT)
XTGRID = YES
YTGRID = YES
XBGRID = YES
YBGRID = YES
XTITLE = FREQUENCY
YTTITLE = DISP MAGNITUDE GRID 1
YBTITLE = PHASE GRID 1
XYPLOT DISP 1 /1(T2RM,T2IP)
YTTITLE = DISP MAGNITUDE GRID 2
YBTITLE = PHASE GRID 2
XYPLOT DISP 1 /2(T2RM,T2IP)
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;$
$
$  ENTRIES FOR FREQUENCY RESPONSE
$
$  LOAD DEFINITION
$RLOAD1 SID     DAREA                   TC
RLOAD1  999     997                     901
$DAREA  SID     P1      C1      A1
DAREA   997     2       2       20.0
$TABLED1 TID                                                            +TABL1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis180
Main Index
$+TABL1 X1      Y1      X2      Y3      ETC.
TABLED1 901                                                             +TAB901
+TAB901 0.0     1.0     10.0    1.0     ENDT
$
$  ALTERNATE LOAD DEFINITION USING DLOAD
$DLOAD  SID     S       S1      RLOAD1
$DLOAD   999    1.0     1.0     998
$RLOAD1 SID     DAREA                   TC
$RLOAD1  998    997                     901
$
$  FREQUENCY RANGE 2-10 HZ
$FREQ1  SID     F1      DF      NDF
FREQ1   888     2.      0.05    160
$
$  MODAL DAMPING OF 5% CRITICAL
$TABDMP1 TID    TYPE                                                    +TABD1
$+TABD1 F1      G1      F2      G2      ETC.
TABDMP1 777     CRIT                                                    +TABD7
+TABD7  0.      0.05    100.    0.05    ENDT
$
$ MODAL EXTRACTION
$EIGRL  SID     V1      V2      ND      MSGLVL
EIGRL   10      -0.1    20.             0
$
GRID    1               0.      2.      0.
GRID    2               0.      1.      0.
GRID    3               0.      0.      0.
GRDSET                                                  13456
CONM2   1       1               0.1
CONM2   2       2               10.0
CELAS2  11      100.0   1       2       2       2
CELAS2  12      1.0E4   2       2       3       2
SPC     996     3       2
$
ENDDATA&lt;/p&gt;
&lt;p&gt;181 CHAPTER 4
Frequency Response Analysis
Main Index
Table 4-7 shows the relationship between the Case Control commands and the Bulk Data entries. Note that
the RLOAD1 entry references the DAREA and TABLED1 entries. The input file also shows an alternate way
to specify the dynamic load, by using a DLOAD Bulk Data entry. Because there is only a single RLOAD1
entry, the DLOAD Bulk Data entry is not required.
The RLOAD1 entry describes a sinusoidal load in the form
(4-32)
where:
Output can be printed in either real/imaginary or magnitude/phase format and in either SORT1 or SORT2
format. These formats are illustrated in Listing 4-5, Listing 4-6, and Listing 4-7 showing a portion of their printed
output.Table 4-7  Relationship Between the Case Control
Commands and Bulk Data Entries for the Two -DOF Model
Case Control Bulk Data
METHOD EIGRL
FREQUENCY FREQ1
SDAMPING TABDMP1
DLOAD RLOAD1
DAREA
TABLED1
A=20.0 (entered on the DAREA entry)
C=1.0 for all frequencies entered on the TABLED1 entry
D=0.0 (field 7 of the RLOAD1 entry is blank)
=0.0 (field 5 of the RLOAD1 entry is blank)
=0.0 (field 4 of the RLOAD1 entry is blank)Pf ACfiDf + ei2f –  =

&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis182
Main Index
Listing 4-5  Real/Imaginary Output in SORT2 Format
Listing 4-6  Magnitude/Phase Output in SORT2 Format POINT-ID =         1
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(REAL/IMAGINARY)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.000000E+00     G      0.0            2.813048E-03   0.0            0.0            0.0            0.0
0.0           -2.107981E-04   0.0            0.0            0.0            0.0
2.050000E+00     G      0.0            2.866637E-03   0.0            0.0            0.0            0.0
0.0           -2.229159E-04   0.0            0.0            0.0            0.0
2.100000E+00     G      0.0            2.923136E-03   0.0            0.0            0.0            0.0
0.0           -2.358377E-04   0.0            0.0            0.0            0.0
2.150000E+00     G      0.0            2.982726E-03   0.0            0.0            0.0            0.0
0.0           -2.496357E-04   0.0            0.0            0.0            0.0
2.200000E+00     G      0.0            3.045604E-03   0.0            0.0            0.0            0.0
0.0           -2.643902E-04   0.0            0.0            0.0            0.0
2.250000E+00     G      0.0            3.111983E-03   0.0            0.0            0.0            0.0
0.0           -2.801898E-04   0.0            0.0            0.0            0.0&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT-ID =         2
                                   C O M P L E X   D I S P L A C E M E N T   V E C T O R
                                                      (REAL/IMAGINARY)

  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.000000E+00     G      0.0            2.374953E-03   0.0            0.0            0.0            0.0
0.0           -1.129933E-04   0.0            0.0            0.0            0.0
2.050000E+00     G      0.0            2.397706E-03   0.0            0.0            0.0            0.0
0.0           -1.180853E-04   0.0            0.0            0.0            0.0
2.100000E+00     G      0.0            2.421475E-03   0.0            0.0            0.0            0.0
0.0           -1.234172E-04   0.0            0.0            0.0            0.0
2.150000E+00     G      0.0            2.446310E-03   0.0            0.0            0.0            0.0
0.0           -1.290071E-04   0.0            0.0            0.0            0.0
2.200000E+00     G      0.0            2.472262E-03   0.0            0.0            0.0            0.0
0.0           -1.348744E-04   0.0            0.0            0.0            0.0
2.250000E+00     G      0.0            2.499386E-03   0.0            0.0            0.0            0.0
0.0           -1.410402E-04   0.0            0.0            0.0            0.0
POINT-ID =         1
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(MAGNITUDE/PHASE)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.000000E+00     G      0.0            2.820935E-03   0.0            0.0            0.0            0.0
0.0          355.7145         0.0            0.0            0.0            0.0
2.050000E+00     G      0.0            2.875291E-03   0.0            0.0            0.0            0.0
0.0          355.5535         0.0            0.0            0.0            0.0
2.100000E+00     G      0.0            2.932634E-03   0.0            0.0            0.0            0.0
0.0          355.3874         0.0            0.0            0.0            0.0
2.150000E+00     G      0.0            2.993155E-03   0.0            0.0            0.0            0.0
0.0          355.2159         0.0            0.0            0.0            0.0
2.200000E+00     G      0.0            3.057058E-03   0.0            0.0            0.0            0.0
0.0          355.0386         0.0            0.0            0.0            0.0
2.250000E+00     G      0.0            3.124571E-03   0.0            0.0            0.0            0.0
0.0          354.8552         0.0            0.0            0.0            0.0
POINT-ID =         2
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(MAGNITUDE/PHASE)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;2.000000E+00     G      0.0            2.377640E-03   0.0            0.0            0.0            0.0
0.0          357.2761         0.0            0.0            0.0            0.0
2.050000E+00     G      0.0            2.400612E-03   0.0            0.0            0.0            0.0
0.0          357.1805         0.0            0.0            0.0            0.0
2.100000E+00     G      0.0            2.424618E-03   0.0            0.0            0.0            0.0
0.0          357.0823         0.0            0.0            0.0            0.0
2.150000E+00     G      0.0            2.449710E-03   0.0            0.0            0.0            0.0
0.0          356.9813         0.0            0.0            0.0            0.0
2.200000E+00     G      0.0            2.475939E-03   0.0            0.0            0.0            0.0
0.0          356.8773         0.0            0.0            0.0            0.0
2.250000E+00     G      0.0            2.503362E-03   0.0            0.0            0.0            0.0
0.0          356.7702         0.0            0.0            0.0            0.0&lt;/p&gt;
&lt;p&gt;183 CHAPTER 4
Frequency Response Analysis
Main Index
Listing 4-7  Real/Imaginary and Magnitude/Phase Output in SORT1 Format
Figure 4-12 shows the plots of the resulting displacement magnitudes for grid points 1 and 2. Note that the
response for grid point 1 is nearly an order of magnitude larger than that of grid point 2. This large difference
in response magnitudes is characteristic of dynamic absorbers  (also called tuned mass dampers ), in which an
auxiliary structure (i.e., the small mass and stiffness) is attached to the primary structure in order to decrease
the dynamic response of the primary structure. If this same model is rerun without the auxiliary structure,
the response of the primary structure (grid point 2) at 5.03 Hz is twice what it was with the auxiliary structure
attached, as shown in Figure 4-13. See MSC_DOC_DIR/tpl6/dynamics/bd04twona.dat.
FREQUENCY =  2.000000E+00
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(REAL/IMAGINARY)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            2.813048E-03   0.0            0.0            0.0            0.0
                       0.0           -2.107981E-04   0.0            0.0            0.0            0.0
         2      G      0.0            2.374953E-03   0.0            0.0            0.0            0.0
                       0.0           -1.129933E-04   0.0            0.0            0.0            0.0

  FREQUENCY =  2.050000E+00
                                   C O M P L E X   D I S P L A C E M E N T   V E C T O R
                                                      (REAL/IMAGINARY)

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            2.866637E-03   0.0            0.0            0.0            0.0
                       0.0           -2.229159E-04   0.0            0.0            0.0            0.0
         2      G      0.0            2.397706E-03   0.0            0.0            0.0            0.0
                       0.0           -1.180853E-04   0.0            0.0            0.0            0.0
        
  FREQUENCY =  2.000000E+00
                                   C O M P L E X   D I S P L A C E M E N T   V E C T O R
                                                     (MAGNITUDE/PHASE)

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            2.820935E-03   0.0            0.0            0.0            0.0
                         0.0          355.7145         0.0            0.0            0.0            0.0
         2      G      0.0            2.377640E-03   0.0            0.0            0.0            0.0
                         0.0          357.2761         0.0            0.0            0.0            0.0

  FREQUENCY =  2.050000E+00
                                   C O M P L E X   D I S P L A C E M E N T   V E C T O R
                                                     (MAGNITUDE/PHASE)

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            2.875291E-03   0.0            0.0            0.0            0.0
                         0.0          355.5535         0.0            0.0            0.0            0.0
         2      G      0.0            2.400612E-03   0.0            0.0            0.0            0.0
                         0.0          357.1805         0.0            0.0            0.0            0.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis184
Main Index
Figure 4-12  Displacement Response Magnitudes With the Auxiliary Structure
Figure 4-13  Displacement Response Magnitude Without the Auxiliary Structure
0.12
0
0.014
0
2 10 Frequency (Hz)Displacement 1 (m) Displacement 2 (m)
0.02
0
2 10 Frequency (Hz)Displacement 2 (m)&lt;/p&gt;
&lt;p&gt;185 CHAPTER 4
Frequency Response Analysis
Main Index
Cantilever Beam Model
Consider the cantilever beam shown in Figure 4-14. This model is a planar model of the cantilever beam
introduced in  Real Eigenvalue Analysis  with unrestrained DOFs in the T2 and R3 directions. T wo loads are
applied: one at grid point 6 and the other at grid point 11. The loads have the frequency variation shown in
Figure 4-15. The loads in the figure are indicated with a heavy line in order to emphasize their values. The
load at grid point 6 has a 45-degree phase lead, and the load at grid point 11 is scaled to be twice that of the
load at grid point 6. Modal frequency response is run across a frequency range of 0 to 20 Hz. Modal damping
is used with 2% critical damping between 0 and 10 Hz and 5% critical damping above 10 Hz. Modes to
500Hz are computed using the Lanczos method.
Figure 4-14  Cantilever Beam Model with Applied Loadsy
x6
p(f)11
2p(f)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis186
Main Index
Figure 4-15  Applied Loads
Listing 4-8 shows the abridged input file. See MSC_DOC_DIR/tpl6/dynamics/bd04bar.dat. The output
quantities, as defined in the Case Control Section, are the applied loads (OLOAD ) for grid points 6 and 11,
physical displacements (DISPLACEMENT ) for grid points 6 and 11, solution set displacements
(SDISPLACEMENT ) for modes 1 and 2, and element forces (ELFORCE ) for element 6. These output
quantities are plotted rather than printed.
Listing 4-8  Input File (Abridged) for the Beam Example
$  FILE bd04bar.dat
$
$  CANTILEVER BEAM MODEL
$  CHAPTER 4, FREQUENCY RESPONSE
$
SOL 111     $  MODAL FREQUENCY RESPONSE
TIME 10
0 2 Frequency 108.104.
0
0
0
03.
4
6.Load Magnitude 6 (N) Load Phase 6  (deg) Load Magnitude 11 (N) Load Phase 1 1 (deg)&lt;/p&gt;
&lt;p&gt;187 CHAPTER 4
Frequency Response Analysis
Main Index
CEND
TITLE =  CANTILEVER BEAM
SUBTITLE =  MODAL FREQUENCY RESPONSE
$
SPC = 21
$
DLOAD = 22
FREQ = 27
SDAMPING = 20
$
METHOD = 10
$
SET 15 = 6,11
OLOAD(PHASE,PLOT) = 15
$
$  PHYSICAL OUTPUT REQUEST
SET 11 = 6,11
DISPLACEMENT(PHASE,PLOT) = 11
$
$  MODAL SOLUTION SET OUTPUT
SET 12 = 1,2
SDISP(PHASE,PLOT) = 12
$
$  ELEMENT FORCE OUTPUT
SET 13 = 6
ELFORCE(PHASE,PLOT) = 13
$
$  XYPLOTS
$
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
EIGRL   10      -0.1    500.            0
$
FREQ1   27      0.0     0.05    400
$
TABDMP1 20      CRIT                                                    +TABD1
+TABD1  0.0     0.02    10.0    0.02    10.01   0.05    25.0    0.05    +TABD2
+TABD2  ENDT
$
$ DYNAMIC LOADING
$DLOAD  SID     S       S1      L1      S2      L2
DLOAD   22      1.0     1.0     231     1.0     232
$RLOAD2 SID     DAREA   DELAY   DPHASE  TB      TP
RLOAD2  231     241             261     25
RLOAD2  232     242                     25
$DAREA  SID     P1      C1      A1
DAREA   241     6       2       1.0
DAREA   242     11      2       2.0
$DPHASE SID     P1      C1      TH1 &lt;br&gt;
DPHASE  261     6       2       45.
$TABLED1 TID                                                            +TABL1
$+TABL1 X1      Y1      X2      Y2      ETC.
TABLED1 25                                                              +TABL1
+TABL1  0.      1.      5.0     3.      15.0    3.0     20.0    1.      +TABL2
+TABL2  25.0    1.      ENDT&lt;br&gt;
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis188
Main Index
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Table 4-8 shows the relationship between the Case Control commands and the Bulk Data entries. Note that
the DLOAD  Bulk Data entry references two RLOAD2  entries, each of which references a separate DAREA&lt;br&gt;
entry and a common TABLED1  entry.  The RLOAD2 entry for grid point 6 also references a DPHASE  entry
that defines the 45 -degree phase lead.
The RLOAD2 entry describes a sinusoidal load in the form
(4-33)
where:
Logarithmic plots of the output are shown in the following figures.  Figure 4-16 shows the magnitude of the
displacements for grid points 6 and 11.  Figure 4-17 shows the magnitude of the modal displacements for Table 4-8  Relationship Between Case Control Commands and Bulk Data
Entries for the Beam Model
Case Control Bulk Data
METHOD EIGRL
FREQUENCY FREQ1
SDAMPING TABDMP1
DLOAD
A=1.0 for grid point 6 and 2.0 for grid point 11 (entered on the DAREA entry)
B=function defined on the TABLED1 entry
=0.0 (field 7 of the RLOAD2 entry is blank)
=phase lead of 45 degrees for grid point 6 (entered on the DPHASE entry)
=0.0 (field 4 of the RLOAD2 entry is blank)DLOAD
DAREA
TABLED1RLOAD2 231
DPHASE
DAREARLOAD2 232
Pf ABfeif2f –+   =


&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P11</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_011/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_011/</guid>
      <description>
        
        
        &lt;p&gt;189 CHAPTER 4
Frequency Response Analysis
Main Index
modes 1 and 2. Figure 4-18 shows the magnitude of the bending moment at end A in plane 1 for element 6.
Logarithmic plots are especially useful for displaying frequency response results since there can be several
orders of magnitude between the maximum and minimum response values.
Figure 4-16  Displacement Magnitude (Log)
1.0
1.0E-4
0 20 Frequency (Hz)1.0
1.0E-5Displacement 6 (m) Displacement 1 1 (m)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis190
Main Index
Figure 4-17  Modal Displacement Magnitude (Log)
Figure 4-18  Bending Moment Magnitude at End A, Plane 1 (Log)SDisplacement 2
1.0E-4
0 20 Frequency (Hz)SDisplacement 11.0
1.0E-4
1.0E-2Moment A1 (N-m)
0.1
0 201000
Frequency (Hz)&lt;/p&gt;
&lt;p&gt;191 CHAPTER 4
Frequency Response Analysis
Main Index
Bracket Model
Consider the bracket model shown in Figure 4-19. An oscillating pressure load of 3 psi is applied to the
elements on the top face in the z -direction. The model is constrained at its base. Modal frequency response
is run from 0 to 100 Hz with a frequency step size of 0.2 Hz. Eigenvalues to 1000 Hz are computed using
the Lanczos method. Modal damping is applied as 2% critical damping for all modes.
Figure 4-19  Bracket Model
Listing 4-9 shows the abridged input file. See MSC_DOC_DIR/tpl6/dynamics/bd04bkt.dat. The RLOAD1
entry is used to apply the pressure loads (PLOAD4  entries). Table 4-9 shows the relationship between the Case
Control commands and the Bulk Data entries.
Listing 4-9  Input File (Abridged) for the Bracket Model
$
$  FILE  bd04bkt.dat
$
$  BRACKET MODEL
$  CHAPTER 4, FREQUENCY RESPONSE&lt;br&gt;
$
SOL    111   $ MODAL FREQUENCY RESPONSE
CEND
TITLE =  BRACKET MODEL
SUBTITLE = MODAL FREQUENCY RESPONSE ANALYSIS
$
SPC   = 1
$
METHOD = 777
DLOAD = 2
SDAMPING = 4
FREQUENCY = 5
$
$  OUTPUT REQUEST
SET 123 = 999
DISPLACEMENT(PHASE,PLOT)=123
$
$  XYPLOTS
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples of Frequency Response Analysis192
Main Index
OUTPUT(XYPLOT)
XGRID = YES
YGRID = YES
$
$  PLOT RESULTS
XTITLE = FREQUENCY
$
YLOG = YES
YTITLE = DISPL. MAG. 999
XYPLOT DISP /999(T3RM)
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;.
$
$  NORMAL MODES TO 1000 HZ
$EIGRL  SID     V1      V2
EIGRL   777     -0.1    1000.
$                                 &lt;br&gt;
$  EXCITATION FREQUENCY DEFINITION  0 TO 100 HZ
$FREQ1  SID     F1      DF      NDF
FREQ1   5       0.0     0.2     500
$
$  MODAL DAMPING OF 2% CRITICAL FOR ALL MODES
$TABDMP1 TID    TYPE                                                    +TABD1
$+TABD1 F1      G1      F2      G2      ETC.
TABDMP1 4       CRIT                                                    +TABD1
+TABD1  0.0     0.02    1000.0  0.02    ENDT
$
$  LOAD DEFINITION
$
$RLOAD1 SID     EXCIT   DELAY   DPHASE  TC      TD
RLOAD1  2       1                       22
$
$
$TABLED1 TID                                                            +TABL1
$+TABL1 X1      Y1      X2      Y2      ETC.
TABLED1 22                                                              +TABL1
+TABL1  0.0     1.0     1000.0  1.0     ENDT
$
$  PRESURE LOAD OF 3 PSI PER ELEMENT
$PLOAD4 SID     EID     P1
PLOAD4  1       171     -3.                                          &lt;br&gt;
PLOAD4  1       172     -3.                                          &lt;br&gt;
PLOAD4  1       160     -3.                                          &lt;br&gt;
&amp;hellip;&amp;hellip;. more pload4&amp;rsquo;s                                     &lt;br&gt;
$
RBE2    999     999     123456  126     127     91      81      80      +RB1
+RB1    90      95      129     128     96      86      85      228     +RB2
+RB2    229     199     189     190     200     195     227     226     +RB3
+RB3    194     184     185
&amp;hellip;&amp;hellip;. grids                         &lt;br&gt;
GRID    999             3.      3.      3.8                          &lt;br&gt;
$
CONM2   999     999             .0906                                   +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  .35             .56                     .07       
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$
&amp;hellip;&amp;hellip;. element data
ENDDATA&lt;/p&gt;
&lt;p&gt;193 CHAPTER 4
Frequency Response Analysis
Main Index
Figure 4-20 shows a logarithmic plot of the z -displacement magnitude of grid point 999, which is the
concentrated mass at the center of the cutout.
Figure 4-20  Displacement Magnitude (Log)Table 4-9  Relationship Between Case Control Commands and
Bulk Data Entries for the Bracket Model
Case Control Bulk Data
METHOD EIGRL
FREQUENCY FREQ1
SDAMPING TABDMP1
DLOAD
RLOAD1
TABLED1PLOAD4
1.000
0.100
0.010
0.00110
0.0001
0 Frequency (Hz)100
Displacement (m)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Contribution Fraction (MCFRACTION)194
Main Index
Modal Contribution Fraction (MCFRACTION)
Introduction
The response of large structural components to loads in the frequency or time domain can be determined
using either a direct or modal solution approach. The modal approach is typically employed for large models
when the response of the structure can be approximated using only a small number of its natural modes.
During this process, data recovery and postprocessing of large quantities of response data usually occurs.
Often, the user desires detailed information for several points of interest in the model. One item of particular
interest is often referred to as the modal contribution fraction  or the modal participation factor  As these names
imply, the value for this item is defined as that portion of the total response at the point that can be attributed
to a particular natural mode.
The MFRACTION command provides more control over the amount of output produced during the modal
contribution fraction calculation.
Theory
Modal analysis solutions are based on the theory that the effects of a small number of natural modes can be
used to represent the response of the structure. The eigenvectors of these modes are used to transform the
problem from the physical domain into a scalar domain of generalized coordinates. This transformation
results in a much smaller problem size that can be solved rapidly. Once the solution to the generalized
problem is obtained, the solution in the physical domain is obtained by transformation, again using the
eigenvectors of the natural modes. The response at a physical degree of freedom (a grid point’s translation or
rotation component) for a particular forcing frequency or time step can be found by summing the individual
responses of each mode shape. This is accomplished by simple matrix multiplication of the eigenvectors times
the generalized solution vectors. The calculation of modal contribution fractions can be performed as part of
the total response calculation.
In MSC Nastran, several different views of the modal contribution fractions are computed. All start with
some basic ingredients. These are the total modal solution response at the required degrees of freedom and
the transformation matrix from modal to physical coordinates. The solution responses are complex (a real
term and an imaginary term) for frequency response  and complex eigenvalue  solutions. The responses involve
only real terms for transient analysis. The following discussion pertains to complex response results, but is
applicable to transient analysis as well. The only difference is that there are no imaginary terms and phase
angles are all zero. The discussion is limited to operations on a single degree of freedom for a single solution
vector. Extension to multiple degrees of freedom and solution vectors is a simple matter of substituting matrix
operations for vector operations.
The total modal response, , at a degree of freedom can be found by summing the individual modal
responses.
(4-34)
In Eq. (4-34),  is a real one row by h column physical response data recovery matrix and  is a
complex (real for transient) h row by one column modal solution vector.  The “ h” size represents the number
of natural modes that are used in the solution process.  The total response, , is a complex number with real
and imaginary terms.  It can be represented in polar format (magnitude and phase angle) with some simple U
U rphiuh =
rphi uh
U&lt;/p&gt;
&lt;h1&gt;195 CHAPTER 4
Frequency Response Analysis
Main Index
arithmetic manipulation. Now each of the individual modal contributions  in the sum can be
represented in complex and polar formats also.  The natural mode with the largest individual contribution
to the magnitude can be determined by scanning the magnitudes of each of the individual modal responses.
The magnitude of the individual modal response can be projected  onto the magnitude of total response. The
relative phase  angle of the individual modal response with respect to the phase angle of the total response can
be calculated. Each individual modal response projected magnitude can be divided by the total response
magnitude to obtain the fraction  of the total response that is contributed by each mode. A scaled  modal
response  magnitude  can be calculated by dividing each modal response projected magnitude by the largest
modal response magnitude. All of these different calculated quantities are present in the printed output as
shown in Figure 4-21.
Inputs
The MCFRACTION (Case)  Case Control command gives the user new controls over the amount and ordering
of the produced modal contribution fraction data.  The general format of the command is:
The SORT and KEY keywords are used to control sorting operations. The printed output can be sorted in
one of several ways using any of the fraction views as a key. The default sorting order is in the order of the
natural frequency (or mode id). The data can also be filtered to remove insignificant terms before it is printed.
The SOLUTION keyword selects a subset of the available solutions for output. Any or all of the different
fraction views can be sent to the punch file.
The SET (Case)  Case Control command allows the analyst to specify a set of grid point and component code
combinations. An example of the format is “SET 1000 = 917/T3, 85/R2, 127016/T1 ” which demonstrates
the general input format of grid ID and component code separated by a slash, much like the manner in which
XY-PLOT command grid point entities are defined. No THRU ranges are permitted.rphiuh 
MCFRACTIONSTRUCTURE PRINT, PUNCH
PLOTREAL or IMAG
PHASESORTsorttype =    
KEYFRACTION
sortitem= ITEMSFRACTION
ALL
(itemlist)= SOLUTIONALL
m
NONE= FILTER0.001
fratio= 
NULL12
ipowr=ALL
n
NONE&lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Contribution Fraction (MCFRACTION)196
Main Index
Outputs
The MCFRACTION Case Control command can cause generation of both printed and punched output.
The output data block is OMCFRAC. Items computed and available for output are shown in Table 4-10.
Figure 4-21 is an example of the modal contribution fraction output produced in a modal frequency response
solution. The heading lines identify the grid point and component, total response in both real/imaginary and
magnitude/phase formats, loading condition information, maximum response contribution for a mode and
the mode id, sorting and filtering information. Then, for each natural mode, a tabular listing of the various
views of modal contribution data is presented. The table contains the response of the mode, in real/imaginary
and magnitude phase representations, the projection magnitude, the relative phase angle, the modal fraction
value, and the scaled response magnitude.
Figure 4-21  Sample Modal Frequency Response Solution Output
The headings in Figure 4-21 reflect the output generated in modal frequency response.  For modal transient
response, only real (as opposed to complex) numbers are generated and the table is reduced to that shown in
Figure 4-22.Table 4-10  MCFRACTION Item List Descriptions
Item Identifier Description
RESPONSE each mode’s response at each degree of freedom selected
PROJECTION projection of modal response on solution
FRACTION fraction of total displacement per mode (PROJECTION divided by total)
SCALED scaled magnitudes (PROJECTION divided by largest term in FRACTION)
MODEDISP modal displacements (complex solution at each dof by mode number)
MODERESP modal response for each mode (polar format wrt total displacement)
M O D A L   C O N T R I B U T I O N   F R A C T I O N S
GRID POINT =      101/T3, TOTAL RESPONSE (R/I) =   4.73302E-01 /   5.20364E-03, (M/P) =   4.73330E-01 /      0.63
LOAD FREQUENCY =   2.00000E+01, (SUBCASE        1, DLOAD =       15)
MAXIMUM MODAL RESP =   4.67546E-01 FOR MODE ID =   2, SORTKEY = FRACTION, SORT = ABS VALUE DESCENDING, FILTER =   1.00000E-02
MODE   NATURAL          MODAL RESPONSE         MODAL RESPONSE     PROJECTION    REL.        MODAL   SCALED RESPONSE
ID   FREQ (HZ)       REAL      IMAGINARY     MAGNITUDE   PHASE    MAGNITUDE   PHASE      FRACTION     MAGNITUDE
2  9.35245E+00  4.67512E-01  5.59608E-03  4.67546E-01    0.69  4.67546E-01    0.06    9.87778E-01  9.99999E-01
3  3.17429E+01  2.36155E-02 -4.93491E-04  2.36207E-02  358.80  2.36087E-02  358.17    4.98778E-02  5.04949E-02
6  7.63429E+01 -1.77298E-02  9.97411E-05  1.77301E-02  179.68 -1.77276E-02  179.05   -3.74530E-02 -3.79164E-02&lt;/p&gt;
&lt;p&gt;197 CHAPTER 4
Frequency Response Analysis
Main Index
Figure 4-22  Sample Modal Transient Response Solution Output
Guidelines and Limitations
1.The MCFRACTION  command is available in modal frequency response (SOL 111 , 200 and 400),
modal transient response (SOL 112, 200 and 400)  and modal complex eigenvalue analysis (SOL 11 0,
200 and 400)  solution sequences only. If superelements  are used, its use is restricted to residual
structure  data recovery operations only.
2.The modal contribution fraction  computation is intended for a small sub-set of the degrees of
freedom present in the model. The calculations are limited by the amount of memory available to
store the physical response recovery matrix.  Its columns represent a response for each mode and its
rows each represent one of the grid point components for which a physical solution is requested. This
matrix must fit in the available memory.
3.Only the STRUCTURE option is currently supported.
4.Both PRINT and PUNCH may be requested.
5.Printed output includes results for all of the data items described in Table 4-10.
6.Punched output includes results for only the data items selected by the ITEMS keyword.
7.Modal Contribution Fractions are sorted by increasing order of mode number unless the SORT
keyword specifies a particular sorting order. If a sorting order is specified, the KEY keyword selects
the particular data item in the printed results tabular output listing that is sorted.
8.The SOLUTION keyword can be used to select a subset of the available solutions. If SET m is
specified, the items in the SET list are forcing frequency values, time step values, or complex
eigenvalue mode numbers depending upon the solution sequence used.
9.The FILTER keyword specifies a filter ratio value that is used to limit the amount of printed output
produced. It applies to the data item selected by the KEY keyword if it is specified. If no KEY
keyword is present, the default value of KEY=FRACTION will be used. The maximum value for the
selected data item across all natural modes is determined. If the ratio of the data item value to the
maximum data item value is less than fratio for any natural mode, no output for that natural mode
is produced.
10. The NULL keyword can be used to establish the null response threshold value. If the magnitude of
the total response at a selected grid point component is less than , no modal
contribution fraction output is generated for that degree of freedom. M O D A L   C O N T R I B U T I O N   F R A C T I O N S
GRID POINT =      101/T3, TOTAL RESPONSE =  -3.73650E-08,   MAGNITUDE =   3.73650E-08
TIME STEP =   1.00000E-02, (SUBCASE        1, DLOAD =       15)
MAXIMUM MODAL RESP =   3.30842E-08 FOR MODE ID =   2, SORTKEY = SCALED  , SORT = ALGEBRAIC  ASCENDING, FILTER =   1.00000E-03
MODE ID     NATURAL FREQ. (HZ)     MODAL RESPONSE     MODAL FRACTION     SCALED MAGNITUDE
2         9.35245E+00        -3.30842E-08         8.85432E-01        -1.00000E+00
6         7.63429E+01        -6.92352E-09         1.85294E-01        -2.09270E-01
9         2.54595E+02        -5.27676E-10         1.41222E-02        -1.59495E-02
13         5.30493E+02         4.79519E-10        -1.28334E-02         1.44939E-02
3         3.17429E+01         2.69084E-09        -7.20151E-02         8.13333E-02
1.010ipowr –&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Stiffness (DYSTIFF)198
Main Index
11. For modal transient response solution sequences, response quantities are real numbers. There are no
imaginary terms. Therefore, polar representations of the data have no meaning. Furthermore,
projections of responses onto the total response are simply the individual modal contribution to the
total response at a degree of freedom. Thus, the only items available for output are the individual
modal response magnitude (PROJECTION), the modal fraction (FRACTION) and the scaled
response magnitude (SCALED).  Selection of any of the other items from the item list of Table 4-10
causes selection of the modal response magnitude (PROJECTION) item.
Example
A simple model demonstrates the usage of the MCFRACTION  Case Control command. Three example
problems are available, one for each of the three supported solution sequences.  Example mcfr111.dat
(MSC_DOC_DIR /tpl6/d ynamics/mcfr111.dat) demonstrates usage in a modal frequency response
solution; mcfr110.dat (MSC_DOC_DIR /tpl6/d ynamics/mcfr110.dat) demonstrates usage in a modal
complex eigenvalue response solution; and mcfr112.dat (MSC_DOC_DIR /tpl6/d ynamics/mcfr112.dat)
demonstrates usage in a modal transient response solution.
In all of these examples, the MCFRACTION Case Control command is introduced to request calculation
and output of the modal contribution fraction data. Each example problem uses different options to sort and
filter the output.
The model used for these examples is the double-headed flyswatter model consisting of 67 CQUAD4 shell
elements and 104 grid points cantilevered at the base.
PFMODE - Modal Participation Factor Output
PFMODE and MCFRACTION produce very similar output. PFMODE (Case)  includes fluid and acoustic
response as will the structural mode participation factors. See Acoustic Modal Participation Factors  (Ch. 11).
PFMODE calculations can be more efficient and will appear after standard output requests such as DISP .
Dynamic Stiffness (DYSTIFF)
Introduction
Dynamic Stiffness plays an important role in the vibration design of a structure. Mathematically it is the ratio
of the load applied to the vibration response (displacement).
Generally greater the dynamic stiffness, lower is the vibration response. It plays an important role for selecting
the mounts or mounting location for machinery components in order to achieve desired vibration isolation.
For example in automotive engineering, mounting location dynamic stiffness value are set as a target to ensure
better vibration performance. CAE is often used to calculate the dynamic stiffness.
MSC Nastran 2021. 3 gives the dynamic stiffness output eliminating the needs of the user for doing hand
calculations . From  MSC Nastran 2021.4 release, dynamic stiffness can be used as design response. Dynamic
stiffness output can be requested from  SOL 108, 111, 200 (MFREQ and DFREQ) and 400 (MFREQ and Dynamic StiffnessLoad
(Vibration Response)&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;
&lt;h1&gt;199 CHAPTER 4
Frequency Response Analysis
Main Index
DFREQ from linear analysis and linear perturbation analysis). The output is supported in .f06, .op2, .pch,&lt;br&gt;
.h5 format.
Benefits
1.Dynamic stiffness output from MSC Nastran eliminates the need for postprocessing the
displacement results for dynamic stiffness.
2.Generally, unit force excitation is a standard practice across different industries, MSC Nastran
considers the actual frequency dependent applied force which can be a non-unit load .
User Interface
A new case control command is added for Dynamic Stiffness output.
Requests the form and type of dynamic stiffness output in SOL 108, 111, 200 and SOL 400 only.
Examples:
DYSTIFF = ALL
DYSTIFF (REAL, PUNCH, PRINT)=17
DYSTIFF = 25
DYSTIFF (SORT2, PRINT)=20DYSTIFF Dynamic Stiffness Output Request
Describer Meaning
SORT1 Output will be presented as a tabular listing of grid points for each frequency.
SORT2 Output will be presented as a tabular listing of frequency for each grid point.
PRINT  or (blank)
PUNCH
PLOTDYSTIFFSORT1
SORT2PRINT,PUNCH
PLOTREAL or IMAG
PHASE 
   ALL
n
NONE     &lt;/h1&gt;&lt;p&gt;Printer File (.f06) Punch File (.pch) Plot File (.op2/.h5)
X X*
X X*
X*&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Stiffness (DYSTIFF)200
Main Index
Remarks:
1.DYSTIFF is available for SOL 108, 111 and SOL 200 and 400 with ANALYSIS=DFREQ and
MFREQ.
2.See Remark 1. under DISPLACEMENT (Case)  in the MSC Nastran Quick Reference Guide , for a
discussion of SORT1 and SORT2.
3.DYSTIFF=NONE suppresses the generation of dynamic stiffness output.
4.Dynamic Stiffness, di at a grid point is computed as, di=fi/ui where fi is the load applied and ui is the
complex displacement. The dynamic stiffness will be output for the grids having load applied on it.
5.Refrain from using ALL which may produce voluminous output.
6.The dynamic stiffness output will be subjected to the mechanical load only.
7.Dynamic stiffness output is not supported for enforced motion analysis. The results will be zero for
enforced motion analysis.
Guidelines and limitation
1.Unit point loads are recommended as loading option for evaluating the dynamic stiffness. Dynamic
stiffness output should be evaluated at the same grid where unit load is applied .
2.Distributed loads like PLOAD will produce dynamic stiffness results. However, since this type of
loading may be distributed to multiple grid points and DOFs, the results may not reflect the actual
dynamic stiffness at a certain point .
3.Enforced displacement loading will generate a zero response .
4.Dynamic stiffness will be zero for grid points and DOFs without mechanical load .
5.Both linear analysis and linear perturbation after nonlinear load are supported in SOL 400 .* The .op2 binary database file will be generated with “PARAM,POST , X” (or the POST Case Control
command), while the .h5 binary database file will be generated with “MDLPRM,HDF5, X” specified in
Bulk Data Section. Both .op2 and .h5 file can be created simultaneously. Note .xdb file is being deprecated.
REAL or IMAG Requests rectangular format (real and imaginary) of complex output. Use of
either REAL or IMAG yields the same output.
PHASE Requests polar format (magnitude and phase) of complex output. Phase output
is in degrees.
ALL Accelerations at all points will be output. See remark 2
n Set identification of a previously appearing SET command. Only points with
identification numbers that appear on this SET command will be output.
(Integer &amp;gt;0).
NONE No dynamic Stiffness will be output (Default).Describer Meaning&lt;/p&gt;
&lt;p&gt;201 CHAPTER 4
Frequency Response Analysis
Main Index
6.Output will be only presented for those grids which has load applied.
Test Cas e
Car Body mode l
This model is set up for SOL 111 using ACMS. There are 8 attachment points where the dynamic stiffness
is of interest and 3 directions at each point. One subcase is defined for each point and direction, in total 24
subcases. The DYSTIFF results are requested to be output to the h5 file
Sample input dec k
DYSTIFF request and subcase set-up for one of the point s.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Stiffness (DYSTIFF)202
Main Index
Model&lt;/p&gt;
&lt;p&gt;203 CHAPTER 4
Frequency Response Analysis
Main Index
Dynamic stiffness plotted using a Python script using t he h5 file
The sample test cases dyst108, dyst111 and dyst200 are available in the MSC_DOC_DIR\tpl\elafoc&lt;br&gt;
directory.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA204
Main Index
Single-step TPA
Introduction
In NVH (Noise, Vibration, and Harshness) studies, Transfer Path Analysis (TPA) has been a well-established
experimental and simulation-based technique [ 1., 2., 3., 4.] for estimating and ranking the noise and vibration
contributions via the different structural transmission paths in a structure or structure-cavity system.
There are three elements which a TPA concerns:
1.System&amp;rsquo;s actively vibrating components , such as engines, gearing or power train systems, or wheel
suspension/chassis systems, from which the source excitations are originated and enter the system.
2.System&amp;rsquo;s passive components , where the structural or acoustic responses at some selected receiver
locations, such as velocity at a steering wheel or sound pressure near a passenger&amp;rsquo;s ear, are of interest.
3.Transmission paths , which are often associated with what is called attachment, interface, or
connection points, connecting the passive components to the active ones. The engine mounts, for
example, are typically chosen as paths for diagnosing the engine-generated noises. A path represents
the pathway of a vibration energy flow, from an interface or attachment point to the receiver point.
TPA allows engineers to represent the source excitations by the forces and vibrations at the interface points
on the passive side. Each degree of freedom (DOF) of an interface/attachment point represents a path, where
the operational force from the active side is applied. In most engineering practice, only the three translational
DOF&amp;rsquo;s are considered, while the three rotational ones are ignored. The responses at the receiver point from
an individual path constitute the contributions from the path.
For finite-element based TPA, normally two-steps are required:
Step One: Full assembly Frequency Response Analysis for responses and interface forces
•Identify the active and passive components in the whole assembly system, such as a full vehicle
model.
•Specify the interface GRID points at the interfaces between the active and passive components.
•Specify the receiver points where structural or acoustic responses are computed.
•Run a Frequency Response Analysis with the source excitations to get the responses at the receiver
points; Extract the complex grid point forces (GPFORCE) at the interface GRID points, exerted
from the active side, at all forcing frequencies. These GPFORCE components will be applied at
each DOF of a path for TPA.
Step Two: Calculate FRF/NTF and perform TPA
•Separate the passive components from the active ones at the interface attachment points
•Calculate the Frequency Response Functions (FRF) or Noise Transfer Functions (NTF) by
applying a unit load at each path. Now the path is represented by its FRF/NTF.
•Perform the TPA analysis: Calculate the contribution from a path by multiplying its FRF/NTF
with the corresponding GPFORCE component.
MSC Nastran has always had the ability to perform TPA, by following the above-mentioned two-step
approach. Obviously, it demands a heavy user involvement in terms of the input set-up, data I/O, multiple&lt;/p&gt;
&lt;p&gt;205 CHAPTER 4
Frequency Response Analysis
Main Index
job runs, and data post-processing. An automated TPA, or the Single-step TPA, is desirable in engineering
applications.
Benefits
The Single-step TPA has streamlined the multi-step simulation process. There is only one single input file
that the user needs to prepare. The TPA job is run as a regular MSC Nastran job. When the job is completed,
all TPA related results are stored in an HDF5 file for plotting and display.
Model Set-up and TPA Workflow
Figure 4-23 illustrates the model set-up for a TPA procedure on a typical vehicle body-chassis system. The
Body/Cavity subsystem (passive) is connected at the interface GRID points to the chassis/suspension/power
train subsystem (active), where the source excitations (operational loads) enter the vehicle from the
wheels/engine mounts and pass through the chassis/suspensions/engine mounts into the Body/Cavity at the
interface GRID points.
The interface forces, Fi, at the interface GRID points, are computed from the source excitations, and the
responses, Ui, at certain points are also computed, before performing a TPA.
To perform a TPA, the body is disconnected from the chassis/suspensions at all interface GRID points. The
body/cavity finite element model is used for computing the FRF/NTF, Hi , by applying a unit load at each
DOF of path i. With both FRF/NTF and the interface force, Fi (GPFORCE), of path i, the contribution,
Ui , from path i, is computed as shown in the equation of Figure 4-23.
Figure 4-23  TPA Set-up of a Vehicle Body-Chassis System in 3D&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA206
Main Index
(4-35)
where,
A full TPA model input consists of four main sections:
Case Control Section for a SOL111 run contains:
•METHOD Command(s)
•FREQ Command
•SDAMP (optional)
•Physical Loading for the Active Model
•TPASET Case Control Command
Main Bulk Data Section contains
•EIGRL entries
•FREQ entries
•Physical Loading for the Active Model
•TPADEFN Bulk Data entry
•Damping and common parameters
•HDF5OUT INPUT YES
BEGIN BULK PASSIVE
•Contains passive model including user defined interface GRID points
BEGIN BULK ACTIVE
•Contains active model including the associated connector CBUSH/RBEi type elements
connecting the interface GRID points to the active model.
TPA results are computed and stored in HDF5 file as:
•FRF/NTF due to unit load per path
•Interface force per path (GPFORCE)
•Contributions to the total response from individual paths
•Rankings of path contributions at peak responsesUt Structural or acoustic responses at selected locations
Ui Contributions from Path i
Hi FRF/NTF for Path i
Fi Interface forces from the active side&lt;/p&gt;
&lt;p&gt;207 CHAPTER 4
Frequency Response Analysis
Main Index
The workflow of Single-step TPA is shown in the following flow chart:
User Interface
Case Control and Bulk Data Delimiter Commands
Designates the end of the Case Control Section and/or the beginning of a Bulk Data Section.BEGIN BULK Case Control and Bulk Data Delimiter&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA208
Main Index
Format:&lt;/p&gt;
&lt;p&gt;Requests a Transfer Path Analysis.
Format:
TPASET = n
Bulk Data Entry
Defines a TPA set-up.
Format:
Example:Describer Meaning
ACTIVE Indicates the beginning of an active sub-model Bulk Data Section for Single-step TPA
PASSIVE Indicates the beginning of a passive sub-model Bulk Data Section for Single-step TPA
TPASET Transfer Path Analysis (TPA) Request
Describer Meaning
n Set identification of Bulk Data entry, TPADEFN. (Integer&amp;gt;0; Required)
TPADEFN Definition of a Transfer Path Analysis (TPA)
1 2 3 4 5 6 7 8 9 10
TPADEFN SETID GRIDSET UNIT
RESPTYP1 OUTSET1 RESPTYP2 OUTSET2 -etc.- -etc.-
TPADEFN 100 1001
DA 2002 P 3001BEGINBULKACTIVE
PASSIVE&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P12</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_012/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_012/</guid>
      <description>
        
        
        &lt;p&gt;209 CHAPTER 4
Frequency Response Analysis
Main Index
Guidelines and Limitations
The success of a Single-step TPA relies on an adequate partitioning of the full model into the passive sub-
model, which situates between BEGIN BULK PASSIVE and BEGIN BULK ACTIVE. The rest of model
belongs to the active sub-model. The passive sub-model must contain both the response and the interface
grid points, which are defined by the Bulk Data entry, TPADEFN, and the active sub-model must contain
the interface connector elements, such as CBUSH and RBEi, which connect the interface grid points on the
passive side to the active side.
Bulk Data entry, HDF5OUT with INPUT YES , is required for Single-step TPA post-processing with
HDF5 database.
In Bulk Data entry, TPADEFN, RESPTYP is “D”, “V” or “A” for a structural GRID point. For a fluid
GRID point, it must be “P” for pressure.
After a Single-step TPA job is terminated, a LOG file, tpa.log, is created. The user can find the runtime
information of the workflow. When the job is terminated abnormally, error information shows up in the
LOG file.
The following limitations should be observed:
•Single-step TPA is supported only in SOL 111 (Modal Frequency Response).
•Multiple TPA configurations are not supported. In other words, Case Control command,
TPASET, is not SUBCASE-selective. It must be placed above all SUBCASE statements.
•Both NASTRAN HDF5(702)  and PARAM, MDLPRM  are not allowed in place in Bulk Data
entry, HDF5OUT, where INPUT YES  is required for creating TPA results in HDF5 database.
Post Processing and Results Plot
TPA results are computed and stored in HDF5 database files. They are readily available for results display
and plotting, using a user-preferred GUI tool.Describer Meaning
SUBID Case Control TPASET ID. (Integer&amp;gt;0; Required)
GRIDSET SET3 ID of interface GRID points, where transfer paths are defined and investigated.
(Integer&amp;gt;0; Required)
UNIT Fortran Unit ID for the internal use. (Integer&amp;gt;0; Default=24)
RESPTYPi Response type of OUTSETi with any combination of “D”, “V” or “A”, as well as “P”. D
is for DISPLACEMENT , V for VELOCITY and A for ACCELERATION. For a fluid
GRID point, P is for PRESSURE. (Character; Default =“D”)
OUTSETi SET3 ID of response GRID points, where the responses, such as
DISP/VELO/ACCEL/PRESSURE, are targeted for TPA. Integer&amp;gt;0; Required).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA210
Main Index
For the user&amp;rsquo;s convenience, a Python-based snippet code is provided here for TPA results display, see
Appendix A: Python Code for Post Processing TPA HDF5 File. Additional information on HDF5 can be
found in [ 5.].
Example
A vehicle vibrational model is taken as an example for demonstrating the Single-step TPA, as shown in
Figure 4-24.
Figure 4-24  Yaris Model for Single-step TPA
It contains about 995,106 shell elements (CQUAD4 and CTRIA3), 22,301 solid elements (CHEXA and
CPENTA), and 1,065,542 GRID points. There are 12 interface GRID points, which separate the passive
part from the active one in the full model.
The input file ( MSC_DOC_DIR\tpl6\single_step_tpa\ostpa_yaris.dat ) description of this
model is shown as follows.
SOL 111
DIAG 5,8,15,53
domainsolver acms
$
CEND
ECHO=NONE
$set 200= 48067
$set 7000=101,102,141,201,202,241,301,
$         321,341,401,421,441
METHOD(STRUCTURE) =        9
FREQUENCY         =        8
$&lt;/p&gt;
&lt;p&gt;211 CHAPTER 4
Frequency Response Analysis
Main Index
$ To activate Single-step TPA
TPASET = 100
SUBCASE       1
LABEL General Frequency Response Analysis
DLOAD =        2
$
BEGIN BULK
$
MDLPRM  OFFDEF  LROFF
PARAM,GRDPNT,0
PARAM,PRGPST,NO
$
$ HDF5OUT INPUT YES is required for post-processing of TPA results
HDF5OUT PRCISION 32     INPUT   YES
$
$=======2=======3=======4=======5=======6=======7=======8=======9=======0
$TPADEFN SETID   GRIDSET UNIT
$       RESPTYP1OUTSET1 RESPTYP2 &amp;hellip;     &amp;hellip;
$=======2=======3=======4=======5=======6=======7=======8=======9=======0
$ Define interface and response GRID sets, and response type
TPADEFN 100     2000    24                                              +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  A       2001
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$SET3,1000,elem,1,thru,12
SET3,2000,grid,101,102,141,201,202,241
,301,321,341,401,421,441
SET3,2001,grid,48067
PARAM,G,0.06
FREQ1          8      1.     1.0     99
EIGRL          9            200.               0                MASS
$
$===============================
$ Passive part for FRF and EXTSE
$===============================
BEGIN BULK PASSIVE
$ Passive part
include &amp;lsquo;Yaris_bodyonly.bdf&amp;rsquo;
$===============================
$ Active part for loads
$===============================
BEGIN BULK ACTIVE
$ Active part
include &amp;lsquo;Yaris_chassisonly.bdf&amp;rsquo;
DAREA          1 4024329       3      1.
DAREA          1 4024325       3      1.
DAREA          1       2       3      1.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA212
Main Index
DAREA          1       1       3      1.
RLOAD2         2       1                      1.
$
ENDDATA
Upon the job completion, an HDF5 file, ostpa_yaris.h5 , is created to store TPA results, as shown in
Figure 4-25.
Figure 4-25  TPA Results Stored in HDF5
Using the snippets of Python scripts, attached in the Ap.A: Python Code for Post Processing TPA HDF5 File  for post-
processing and results plot, we can plot the TPA results from the HDF5 file. The following TPA results are
plotted using the method of Approach 2. Some of plot examples are shown in the following figures of plots.
Figure 4-26 shows 3D waterfall plots of TPA path contributions to the Acceleration X-component at GRID
48067. The plots are made from the datasets, TPA-M and TPA-PH, of data-group, Acce-X.&lt;/p&gt;
&lt;p&gt;213 CHAPTER 4
Frequency Response Analysis
Main Index
Figure 4-26  3D Waterfall Plots of Path Contributions to Acceleration X-component at GRID 48067
Figure 4-27 shows the summation of individual path contributions in comparison to the computed (total)
acceleration response at its X-component. The curve labeled as “Solver” represents the total response directly
computed by MSC Nastran SOL 111 solver. The one labeled as “Complex Sum” represents the complex
(Real/Imaginary) summation of all individual path contributions on the Acceleration X-component at
GRID 48067. The curve labeled as “InPhase Sum” represents the summation in Magnitude of all individual
path contributions. The differences between the Complex Sum and Solver can be used as a measure for the
validation of Single-step TPA algorithm, as shown in the bottom figure.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA214
Main Index
Figure 4-27  Summation of Path Contributions vs. Total Response
Figure 4-28 shows the ranking of path contributions at a peak response of Acceleration X-component of GRID
48067, at excitation frequency of 53 Hz. The ranking picks top path contributors in terms of percentage on
complex Magnitude and Phase angle. The summation of all path contributions is also displayed by the
vertical bar on the right-hand side in the middle plot.&lt;/p&gt;
&lt;p&gt;215 CHAPTER 4
Frequency Response Analysis
Main Index
Figure 4-28  Path Contribution Ranking at Peak Response
Other examples of smaller Single-step TPA models can be found in
MSC_DOC_DIR\tpl\single_step_tpa\ .
References
1.J. Plunt, Finding and Fixing Vehicle NVH Problems with Transfer path Analysis, Sound and
Vibration, 39(11), 2005.
2.Altair OptiStruct, Transfer Path Analysis, 2023.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Single-step TPA216
Main Index
3.Siemens PLM Software, Transfer Path Analysis, Qualifying and Quantifying Vibro-acoustic transfer
paths, White paper, 2018.
4.MSC Nastran Dynamic Analysis User&amp;rsquo;s Guide, Chapter 4: Frequency Response Analysis, Frequency
Response Function (FRF) and FRF Based Assembly (FBA) and Inter Component Force (ICF)
Calculations for FRF/FBA/TPA Capability.
5.MSC Nastran Reference Guide- Interface with Other Programs&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s
Guide
Chapter 5: Transient Response Analysis
5Transient Response Analysis
Overview
Direct Transient Response Analysis
Modal Transient Response Analysis
Initial Condition Usage in Linear Transient Analysis
Dynamic Data Recovery in Modal Transient Response Analysis
Modal Versus Direct Transient Response
Transient Excitation Definition
Integration Time Step
Transient Excitation Considerations
Solution Control for Transient Response Analysis
Restarts in Linear Transient Analysis
Suggestions for Time step size Selection in Linear Transient Analysis
Examples
MAX/MIN Output (New Form)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview218
Main Index
Overview
T ransient response analysis  is the most general method for computing forced dynamic response. The purpose
of a transient response analysis is to compute the behavior of a structure subjected to time -varying excitation.
The transient excitation is explicitly defined in the time domain. All of the forces applied to the structure are
known at each instant in time. Forces can be in the form of applied forces and/or enforced motions (see
Enforced Motion ).
The important results obtained from a transient analysis are typically displacements, velocities, and
accelerations of grid points, and forces and stresses in elements.
Depending upon the structure and the nature of the loading, two different numerical methods can be used
for a transient response analysis: direct and modal. The direct method performs a numerical integration on
the complete coupled equations of motion. The modal method utilizes the mode shapes of the structure to
reduce and uncouple the equations of motion (when modal or no damping is used); the solution is then
obtained through the summation of the individual modal responses. The choice of the approach is problem
dependent. The two methods are described in Direct Transient Response Analysis  and Modal Transient Response
Analysis .
Direct Transient Response Analysis
In direct transient response (SOL 109, 129, and 400), structural response is computed by solving a set of
coupled equations using direct numerical integration. For SOL 400, please refer to the MSC Nastran
Nonliners User’s Guide  SOL 400 , Chapter 3. Begin with the dynamic equation of motion in matrix form
(5-1)
The fundamental structural response (displacement) is solved at discrete times, typically with a fixed
integration time step .
By using a central finite difference representation for the velocity  and the acceleration  at
discrete times,
(5-2)
and averaging the applied force over three adjacent time points, the equation of motion can be rewritten as:
(5-3)
Collecting terms, the equation of motion can be rewritten as:Mu··t Bu·t Kut + + Pt =
t
u·t u··t
u·n1
2t&amp;mdash;&amp;mdash;&amp;mdash;un1+un1––  =
u··n1
t2&amp;mdash;&amp;mdash;&amp;ndash;un1+2unu+n1––  =
M
t2&amp;mdash;&amp;mdash;&amp;ndash;un1+2un– un1–+  B
2t&amp;mdash;&amp;mdash;&amp;mdash;un1+un1–– 
K
3&amp;mdash;-un1+unun1–+ +  +
+1
3&amp;mdash;Pn1+PnPn1–+ +   =&lt;/p&gt;
&lt;h1&gt;219 CHAPTER 5
Transient Response Analysis
Main Index
(5-4)
where:
Matrix  is termed the dynamic matrix, and  is the applied force (averaged over three adjacent time
points). This approach is similar to the classical Newmark -Beta direct integration method except that
is averaged over three time points and  is modified such that the dynamic equation of motion
reduces to a static solution  if no  or  exists.
The transient solution is obtained by decomposing  and applying it to the right -hand side of the above
equation. In this form, the solution behaves like a succession of static solutions with each time step
performing a forward -backward substitution (FBS) on a new load vector. Note that the transient nature of
the solution is carried through by modifying the applied force matrix  with the  and  terms.
In its simplest form, the , , and  matrices are assumed to be constant throughout the analysis
and do not change with time. Special solution methods are available in MSC Nastran for variations in these
matrices.
A significant benefit presents itself if  remains constant during the analysis. With a constant , the
matrix needs to be decomposed only once. Each progressive step in the analysis is only an FBS of a
new load vector. If  is changed,  must be redecomposed, which can be a costly operation in large
problems.
Another efficiency in the direct transient solution is that the output time interval may be greater than the
solution time interval. In many cases it is not necessary to sample output response at each solution time. For
example, if the solution is performed every 0.001 second the results can be output every fifth time step or
every 0.005 second. This efficiency reduces the amount of output.=&lt;/h1&gt;&lt;p&gt;=
=A1un1+ A2A3un A4un1– + + =
A1M
t2&amp;mdash;&amp;mdash;&amp;ndash;B
2t&amp;mdash;&amp;mdash;&amp;mdash;K
3&amp;mdash;- + +
A21
3&amp;mdash;Pn1+PnPn1–+ +  
A32M
t2&amp;mdash;&amp;mdash;&amp;ndash;K
3&amp;mdash;-–
A4M
t2&amp;mdash;&amp;mdash;&amp;ndash;–B
2t&amp;mdash;&amp;mdash;&amp;mdash;K
3&amp;mdash;-– +
A1 A2
Pt K
Kun Pn = M B
A1
A2 A3 A4
MB K
t t
A1
t A1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Direct Transient Response Analysis220
Main Index
Damping in Direct Transient Response
The damping matrix  is used to represent the energy dissipation characteristics of a structure. In the
general case, the damping matrix is comprised of several matrices
(5-5)
where:
T ransient response analysis does not permit the use of complex coefficients. Therefore, structural damping is
included by means of equivalent viscous damping. T o appreciate the impact of this on the solution, a relation
between structural damping and equivalent viscous damping must be defined.
The viscous damping force is a damping force that is a function of a damping coefficient b and the velocity.
It is an induced force that is represented in the equation of motion using the [ B] matrix and velocity vector.
(5-6)
The structural damping force is a displacement -dependent damping. The structural damping force is a
function of a damping coefficient  and a complex component of the structural stiffness matrix.
(5-7)
Assuming constant amplitude oscillatory response for an SDOF system, the two damping forces are identical
if
(5-8)
or
(5-9)=damping elements (CVISC , CDAMPi ) + B2GG
=B2PP  direct input matrix + transfer functions
G =overall structural damping coefficient (PARAM,G )
=frequency of interest in radians per unit time (PARAM,W3) for the conversion of overall structural
damping into equivalent viscous damping
=global stiffness matrix
=element structural damping coefficient (GE on the MATi  entry)
=frequency of interest in radians per unit time (PARAM,W4) for conversion of element structural
damping into equivalent viscous damping
=element stiffness matrixB
B B1B2G
W3&amp;mdash;&amp;mdash;-K1
W4&amp;mdash;&amp;mdash;-GEKE+ + + =
B1
B2
W3
K
GE
W4
KE
Mu··t Bu·t Kut + + Pt =
G
Mu··t 1iG+Kut + Pt =
Gk b=
bGk
&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;221 CHAPTER 5
Transient Response Analysis
Main Index
Therefore, if structural damping  is to be modeled using equivalent viscous damping , then the equality
Eq. (5-9) holds at only one frequency (see Figure 5-1).
Two parameters are used to convert structural damping to equivalent viscous damping. An overall structural
damping coefficient can be applied to the entire system stiffness matrix using PARAM,W3 ,r where r is the
circular frequency at which damping is to be made equivalent.  This parameter is used in conjunction with
PARAM, G, GFL .  The default value for W3 is 0.0, which causes the damping related to this source to be
ignored in transient analysis.
PARAM,W4,r is an alternate parameter used to convert element structural damping to equivalent viscous
damping. PARAM,W4,r is used where r is the circular frequency at which damping is to be made equivalent.
PARAM,W4 is used in conjunction with the GE field on the MATi entry. The default value for W4 is 0.0
which causes the related damping terms to be ignored in transient analysis.
Units for PARAM,W3 and PARAM,W4 are radians per unit time. The choice of W3 or W4 is typically the
dominant frequency at which the damping is active. Often, the first natural frequency is chosen, but isolated
individual element damping can occur at different frequencies and can be handled by the appropriate data
entries.
Figure 5-1  Structural Damping Versus Viscous Damping (Constant Oscillatory Displacement)
Initial Conditions  in Direct Transient Response
You may impose initial displacements and/or velocities in direct transient response. The TIC  Bulk Data entry
is used to define initial conditions on the components of grid points. The IC (Case)  Case Control command
is used to select TIC entries from the Bulk Data.
If initial conditions are used, initial conditions should be specified for all DOFs having nonzero values. Initial
conditions for any unspecified DOFs are set to zero.G b
Structural Damping fs = iGku Damping
Force
Equivalent
Viscous
Dampingb Gk3 (or 4)  =
fvbu· ibu = = 3 (or 4)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Transient Response Analysis222
Main Index
Initial conditions  and  are used to determine the values of , , and  used
in Eq. (5-4) to calculate .
(5-10)
(5-11)
In the presence of initial conditions, the applied load specified at  is replaced by
(5-12)
Regardless of the initial conditions specified, the initial acceleration for all points in the structure is assumed
to be zero (constant initial velocity).
The format for the TIC Bulk Data entry is
Initial conditions may be specified only in the a -set (see The Set Notation System Used in Dynamic Analysis .)
Modal Transient Response Analysis
Modal transient response (SOL 112) is an alternate approach to computing the transient response of a
structure. This method uses the mode shapes of the structure to reduce the size, uncouple the equations of
motion (when modal or no damping is used), and make the numerical integration more efficient. Since the
mode shapes are typically computed as part of the characterization of the structure, modal transient response
is a natural extension of a normal modes analysis.
As a first step in the formulation, transform the variables from physical coordinates  to modal
coordinates  by
(5-13)1 2 3 4 5 6 7 8 9 10
TIC SID G C U0 V0
Field Contents
SID Set ID specified by the IC Case Control command.
G Grid, scalar, or extra point.
C Component number.
U0 Initial displacement.
V0 Initial velocity.u0 u·0 u1–P0 P1–
u1
u1– u0 u·0t – =
P1– Ku1– Bu·0 + =
t0=
P0 Ku0 Bu·0 + =
u

utt =&lt;/p&gt;
&lt;p&gt;223 CHAPTER 5
Transient Response Analysis
Main Index
The mode shapes  are used to transform the problem in terms of the behavior of the modes as opposed
to the behavior of the grid points. Equation (5-13) represents an equality if all modes are used; however,
because all modes are rarely used, the equation usually represents an approximation.
To proceed, temporarily ignore the damping, resulting in the equation of motion
(5-14)
If the physical coordinates in terms of the modal coordinates (Eq. (5-13) is substituted into Eq. (5-14)), the
following equation is obtained:
(5-15)
This is now the equation of motion in terms of the modal coordinates. At this point, however, the equations
remain coupled.
To uncouple the equations, premultiply by  to obtain
(5-16)
where:
The final step uses the orthogonality property of the mode shapes to formulate the equation of motion in
terms of the generalized mass and stiffness matrices that are diagonal matrices. These matrices do not have
off-diagonal terms that couple the equations of motion. Therefore, in this form, the modal equations of
motion are uncoupled. In this uncoupled form, the equations of motion are written as a set on uncoupled
SDOF systems as
(5-17)
where:
Note that there is no damping in the resulting equation. The next subsection describes how to include
damping in modal transient response.=modal (generalized) mass matrix
=modal (generalized) stiffness matrix
=modal force vector
= ith modal mass
= ith modal stiffness
= ith modal force
Mu··t Kut + Pt =
M··t Kt + Pt =
T
TM··TK + TPt =
TM
TK
TP
mi··
itkiit + pit =
mi
ki
pi&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Transient Response Analysis224
Main Index
Once the individual modal responses  are computed, physical responses are recovered as the summation
of the modal responses
(5-18)
Since numerical integration is applied to the relatively small number of uncoupled equations, there is not as
large a computational penalty for changing  as there is in direct transient response analysis. However, a
constant  is still recommended.
Another efficiency option in the modal transient solution is that the output time interval may be greater than
the solution time interval.  In many cases, it is not necessary to sample output response at each solution time.&lt;br&gt;
For example, if the solution is performed every 0.001 second, the results can be output every fifth time step
or every 0.005 second.  This efficiency reduces the amount of output.
Damping in Modal Transient Response Analysis
If the damping matrix  exists, the orthogonality property (see Mathematical Overview of Normal Modes
Analysis ) of the modes does not, in general, diagonalize the generalized damping matrix
(5-19)
In the presence of a  matrix, the modal transient approach solves the coupled problem in terms of modal
coordinates using the direct transient numerical integration approach described in Direct Transient Response
Analysis  as follows:
(5-20)
where:
These equations are similar to the direct transient method except that they are in terms of modal coordinates.
Since the number of modes used in a solution is typically much less than the number of physical variables,
the direct integration of the modal equations is not as costly as with physical variables.=&lt;/h1&gt;&lt;p&gt;=
=it
utt =
t
t
B
TBdiagonal
B
A1n1+ A2A3n A4n1– + + =
A1TM
t2&amp;mdash;&amp;mdash;&amp;ndash;B
2t&amp;mdash;&amp;mdash;&amp;mdash;K
3&amp;mdash;- + +
A21
3&amp;mdash;TPn1+PnPn1–+ +  
A3T2M
t2&amp;mdash;&amp;mdash;&amp;ndash;K
3&amp;mdash;-–
A4T M
t2&amp;mdash;&amp;mdash;&amp;ndash;–B
2t&amp;mdash;&amp;mdash;&amp;mdash;K
3&amp;mdash;-– + &lt;/p&gt;
&lt;h1&gt;225 CHAPTER 5
Transient Response Analysis
Main Index
If damping is applied to each mode separately, the decoupled equations of motion can be maintained. When
modal damping is used, each mode has damping . The equations of motion remain uncoupled and have
the following form for each mode:
(5-21)
or
(5-22)
where:
The TABDMP1  Bulk Data entry defines the modal damping ratios. A table is created by the frequency -damping
pairs specified on a TABDMP1 entry. The solution refers to this table for the damping value to be applied
at a particular frequency. The TABDMP1 Bulk Data entry has a Set ID. A particular TABDMP1 table is
activated by selecting the Set ID with SDAMPING (Case)  = Set ID Case Control command.
At resonance, the three types of damping are related by the following equations:=&lt;/h1&gt;&lt;p&gt;1 2 3 4 5 6 7 8 9 10
TABDMP1 ID TYPE
-etc.- ENDT
Field Contents
TID Table identification number.
TYPE G (default)
CRIT
Q
fi Frequency value (cycles per unit time).
gi Damping value in the units specified.bi
mi··
itbi·
itkiit + + pit =
··
it2ii·
iti2it + +1
mi&amp;mdash;&amp;ndash;pit =
ibi2mii modal damping ratio 
i2kimimodal frequency (eigenvalue) 
f1g1f2g2f3g3&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Transient Response Analysis226
Main Index
(5-23)
The values of  (units = cycles per unit time) and  define pairs of frequencies and dampings. Note that
can be entered as structural damping (default), critical damping, or quality factor. The entered damping
is internally converted to structural damping using Eq. (5-23). Straight -line interpolation is used for modal
frequencies between consecutive  values.  Linear extrapolation is used at the ends of the table. ENDT ends
the table input.
For example, if modal damping is entered using Table 5-1 and if modes exist at 1.0, 2.5, 3.6, and 5.5 Hz, MSC
Nastran interpolates and extrapolates as shown in Figure 5-2 and the table. Note that there is no table entry at
1.0 Hz; MSC Nastran uses the first two table entries at  and  to extrapolate the value for
.
Figure 5-2  Example TABDMP1ibi
bcr&amp;mdash;&amp;mdash;-Gi
2&amp;mdash;&amp;ndash; = =
bcr2mii=
Qi1
2i&amp;mdash;&amp;mdash;-1
Gi&amp;mdash;&amp;ndash; = =
fi gi
gi
fi
f2.0= f3.0=
f1.0=
0.100.20
2.0 4.0 6.0
f(Hz)0.0= entered value
= computed value++&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+
+&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;227 CHAPTER 5
Transient Response Analysis
Main Index
With the modal equations in the form of Eq. (5-22), an efficient uncoupled analytical integration algorithm
is used to solve for modal response as decoupled SDOF systems. Each of the modal responses is computed
using
(5-24)
In a modal transient analysis, you may add nonmodal damping (CVISC , CDAMPi , GE on the MATi  entry,
or PARAM,G). With nonmodal damping, there is a computational penalty due to the coupled  matrix,
causing the coupled solution algorithm to be used.  In modal transient response analysis, it is recommended
that you use only modal damping (TABDMP1).  If discrete damping is desired, direct transient response
analysis is recommended.
Mode Truncation  in Modal Transient Response Analysis
It is possible that not all of the computed modes are required in the transient response solution. Often, only
the lowest few suffice for dynamic response calculation. It is quite common to evaluate the frequency content
of transient loads and determine a frequency above which no modes are noticeably excited. This frequency
is called the cutoff frequency. The act of specifically not using all of the modes of a system in the solution is
termed mode truncation. Mode truncation assumes that an accurate solution can be obtained using a
reduced set of modes. The number of modes used in a solution is controlled in a modal transient response
analysis through a number of methods.Table 5-1  Example TABDMP1
Interpolation/Extrapolation
Entered Computed
f z f z
2.0 0.16 1.0 0.14
3.0 0.18 2.5 0.17
4.0 0.13 3.6 0.15
6.0 0.13 5.5 0.13
1 2 3 4 5 6 7 8 9 10
TABDMP1 10 CRIT +TAB1
+TAB1 2.0 0.16 3.0 0.18 4.0 0.13 6.0 0.13 +TAB2
+TAB2 ENDT
t ebt– 2modt cos·
ob2mo+
d&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-dt sin +
   
ebt– 2m 1
md&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;eb2mpdt–d sin
0t
+=
B&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Initial Condition Usage in Linear Transient Analysis228
Main Index
The frequency range selected on the eigenvalue entry (EIGRL or EIGR) is one means to control the
frequency range used in the transient response solution. Also, three parameters are available to limit the
number of modes included in the solution. PARAM,LFREQ gives the lower limit on the frequency range of
retained modes, and PARAM,HFREQ gives the upper limit on the frequency range of retained modes.
PARAM,LMODES gives the number of the lowest modes to be retained. These parameters can be used to
include the desired set of modes. Note that the default is for all computed modes to be retained.
The MODESELECT (Case)  Case Control command permits the user to specify ALL data related to mode
selection without the need for any parameters. The command, which can be employed for selecting either
structure modes or fluid modes, offers five different and distinct options.
1.Mode selection based on arbitrary mode numbers.
2.Mode selection based on the number of lowest modes. This option is similar to the usage of the
LMODES/LMODESFL parameter.
3.Mode selection based on range of mode numbers. This option can be regarded as a variation of
options (1) and (2) above.
4.Mode selection based on frequency range. This option is similar to the usage of the
LFREQ/LFREQFL and HFREQ/HFREQFL parameters. However, this option is more general since
it also allows for the UNCONDITIONAL inclusion or exclusion of selected modes regardless of their
frequencies.
5.Mode selection based on modal effective mass fraction (MEFFMFRA) criteria. This powerful option
allows the user to select modes based on different MEFFMFRA criteria. Further, like Option (4)
above, it also allows for the UNCONDITIONAL inclusion or exclusion of selected modes regardless
of their MEFFMFRA values.
The details and usage are clearly described in the command MODESELECT (Case)  in the MSC Nastran Quick
Reference Guide .
It is very important to remember that truncating modes in a particular frequency range may truncate a
significant portion of the behavior in that frequency range. Typically, high-frequency modes are truncated
because they are more costly to compute. So, truncating high-frequency modes truncates high frequency
response. In most cases, high-frequency mode truncation is not of concern. You should evaluate the
truncation in terms of the loading frequency and the important characteristic frequencies of the structure.
Methods for improving solution accuracy when truncating modes are discussed in Modal Augmentation Methods&lt;br&gt;
(Ch. 13). The mode acceleration method is an ‘after-the-fact’ correction of the results that can improve
accuracy since detailed local stresses and forces are subject to mode truncation and may not be as accurate as
the results computed with the direct method. A newer, preferred method of modal augmentation is the
Residual Vector method, as the ‘correction’ is done by appending additional shapes to the retained mode set
to account for the quasi-static influence of the truncated high-frequency modes.
Initial Condition  Usage in Linear Transient Analysis
The use of initial conditions in linear transient analysis includes:
Specification of Initial Conditions in Modal Transient Analysis (SOL 112)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P13</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_013/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_013/</guid>
      <description>
        
        
        &lt;p&gt;229 CHAPTER 5
Transient Response Analysis
Main Index
The specification of initial conditions in modal transient analysis (SOL 112) either in physical
coordinates (as is done in direct transient analysis) or in modal coordinates, by use of the IC  Case
Control command and to the TIC  Bulk Data entry.
Usage of Static Solutions as Initial Conditions in Linear Transient Analysis (SOLs 109 and 112)
The results of static analysis solutions can be used as the initial conditions in linear transient analysis
(SOLs 109 and 112). Differential stiffness effects may be included if the user so desires.
IC
The format of the IC (Case)  Case Control command is as follows:
Format:
Examples:
IC = 10
IC(PHYSICAL)   = 100
IC(MODAL)   = 200
IC(STATSUB)   = 1000
IC(STATSUB,DIFFK)   = 2000
Remarks:Note:   When initial conditions are specified in modal transient analysis (SOL 112), it is important to
employ residual vector processing in order to ensure accurate results. However, residual vector
processing is the default scenario in all modal solution sequences.
Describer Meaning
PHYSICAL The TIC Bulk Data entries selected by set n define initial conditions for coordinates
involving grid, scalar, and extra points. (Default).
MODAL The TIC Bulk Data entries selected by set n define initial conditions for modal
coordinates and extra points. See Remark 3.
STATSUB Use the solution of the static analysis subcase n as the initial condition. See
Remark 4.
DIFFK Include the effects of differential stiffness in the solution. See Remarks 4. and 5.
n For the PHYSICAL (the default) and MODAL options, n is the set identification
number of TIC Bulk Data entries for structural analysis (SOL 109, 112 and 129)
or TEMP and TEMPD entries for heat transfer analysis (SOL 159). For the
STATSUB option, n is the ID of a static analysis subcase. (Integer &amp;gt; 0)ICPHYSICAL
MODAL
STATSUB[,DIFFK]n=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Initial Condition Usage in Linear Transient Analysis230
Main Index
1.For structural analysis, TIC entries will not be used (therefore, no initial conditions) unless selected
in the Case Control Section.
2.Only the PHYSICAL option (the default) may be specified in heat transfer analysis (SOL 159).
3.IC(MODAL) may be specified only in modal transient analysis (SOL 112).
4.IC(STATSUB) and IC(STATSUB,DIFFK) may not both be specified in the same execution.
5.The DIFFK keyword is meaningful only when used in conjunction with the STATSUB keyword.
Examples
1.The following example specifies initial conditions in physical coordinates using SOL 109 or
SOL 112.
IC(PHYSICAL)  = 100
or
IC = 100
2.The following example specifies initial conditions in modal coordinates using SOL 112.
IC(MODAL)  = 200
3.The following example uses the static solution from Subcase 10 as the initial condition in SOL 109
or SOL 112.  The differential stiffness effect is not included.
SUBCASE 10 $ STATIC ANALYSIS
LOAD = 100
$
SUBCASE 20
IC(STATSUB)  = 10
4.The following example uses the static solution from Subcase 100 as the initial condition in SOL 109
or SOL 112. The differential stiffness effect is included.
SUBCASE 100
LOAD = 1000
$
SUBCASE 200
IC(STATSUB,DIFFK)  = 100
Initial Condition Specification for Enforced Motion Usage via SPC/SPCD
Enforced acceleration or enforced velocity usage in transient analysis via SPC/SPCD specification requires
integration to compute the corresponding enforced velocities and/or displacements. This integration involves
the use of initial conditions. The user can specify initial displacements for enforced DOFs in the case of
enforced velocity usage via SPC/SPCD and can specify initial displacements as well as initial velocities for
enforced DOFs in the case of enforced acceleration usage via SPC/SPCD. The initial displacement and
velocity values are specified via corresponding factors in the US0 and VS0 fields of the TLOAD1  and TLOAD2&lt;br&gt;
Bulk Data entries. Details of these entries are in the MSC Nastran Quick Reference Guide . This capability will
greatly help users in performing enforced motion studies with a variety of scenarios.
It should be noted here that the initial conditions for the enforced DOFs mentioned here are distinct from,
and may be used in conjunction with, the initial conditions for independent DOFs that may be specified by
a TIC Bulk Data entry.&lt;/p&gt;
&lt;p&gt;231 CHAPTER 5
Transient Response Analysis
Main Index
Dynamic Data Recovery in Modal Transient Response
Analysis
In modal transient response analysis, two options are available for recovering displacements and stresses:
mode displacement method  and matrix method . Both methods give the same answers, although with cost
differences.
The mode displacement method computes the total physical displacements for each time step from the
modal displacements and then computes element stresses from the total physical displacements. The number
of operations is proportional to the number of time steps.
The matrix method computes displacements per mode and element stresses per mode, and then computes
physical displacements and element stresses as the summation of modal displacements and element stresses.
Costly operations are proportional to the number of modes.
Since the number of modes is usually much less that the number of time steps, the matrix method is usually
more efficient and is the default. The mode displacement method can be selected by using
PARAM, DDRMM ,-1 in the Bulk Data. The mode displacement method is required when “time frozen”
deformed structure plots are requested (see Results Processing ).
Modal Versus Direct Transient Response
Some general guidelines can be used in selecting modal transient response analysis  versus direct transient
response analysis . These guidelines are summarized in Table 5-2.
In general, larger models may be solved more efficiently in modal transient response because the numerical
solution is a solution of a smaller system of uncoupled equations. This result is certainly true if the natural
frequencies and mode shape were computed during a previous stage of the analysis. Using Duhamel’s integral
to solve the uncoupled equations is very efficient even for very long duration transients. On the other hand,
the major portion of the effort in a modal transient response analysis is the calculation of the modes. For large
systems with a large number of modes, this operation can be as costly as direct integration. This is especially
true for high -frequency excitation. T o capture high frequency response in a modal solution, less accurate Table 5-2  Modal Versus Direct Transient Response
Modal Direct
Small Model X
Large Model X
Few Time Steps X
Many Time Steps X
High Frequency Excitation X
Normal Damping X
Higher Accuracy X
Initial Conditions X X&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition232
Main Index
high-frequency modes must be computed. For small models with a few time steps, the direct method may be
the most efficient because it solves the equations without first computing the modes. The direct method is
more accurate than the modal method because the direct method is not concerned with mode truncation.
Table 5-2 provides a starting place for evaluating which method to use. Many additional factors may be
involved in the choice of a method, such as contractual obligations or local standards of practice.
Transient Excitation Definition
An important aspect of a transient response analysis is the definition of the loading function. In a transient
response analysis, the force must be defined as a function of time. Forces are defined in the same manner
whether the direct or modal method is used.
The following Bulk Data entries are used for the transient load definition:
The particular entry chosen for defining the dynamic loading is largely a function of user convenience for
concentrated loads. Pressure and distributed loads, however, require a more complicated format.
There are two important aspects of dynamic load definition. First, the location of the loading on the structure
must be defined. Since this characteristic locates the loading in space, it is called the spatial distribution of
the dynamic loading. Secondly, the time variation in the loading is the characteristic that differentiates a
dynamic load from a static load. This time variation is called the temporal distribution of the load. A
complete dynamic loading is a product of spatial and temporal distributions.
Using Table IDs and Set IDs in MSC Nastran makes it possible to apply many complicated and temporally
similar loadings with a minimum of input. Combining simple loadings to create complicated loading
distributions that vary in position as well as time is also a straightforward task.
The remainder of this section describes the Bulk Data entries for transient excitation. The description is given
in terms of the coefficients that define the dynamic load.
Time -Dependent Loads &amp;ndash; TLOAD1  Entry
The TLOAD1  Bulk Data entry is the most general form in which to define a time -dependent load. It defines a
dynamic loading of the form
(5-25)TLOAD1 Tabular input
TLOAD2 Analytical function
DAREA Spatial distribution of dynamic load
TABLEDi Tabular values versus time
DLOAD Combines dynamic load sets
DELAY Time delay
Pt AFt–  =&lt;/p&gt;
&lt;p&gt;233 CHAPTER 5
Transient Response Analysis
Main Index
The coefficients of the force are defined in tabular format. You need not explicitly define a force at every
instant in time for which the transient solution is evaluated. Only those values which describe the character
of the loading are required. MSC Nastran interpolates linearly for intermediate values.
Example:
Remarks:
1.Dynamic excitation sets must be selected with the Case Control command DLOAD = SID.
2.The type of the dynamic excitation is specified by TYPE (field 5) according to the following table:1 2 3 4 5 6 7 8 9 10
TLOAD1 SID EXCITEID DELAYI/
DELAYRTYPE TID/F US0 VS0
TLOAD1 5 7 15 LOAD 13
Field Contents
SID Set identification number. See Remarks 1. and 5. (Integer &amp;gt; 0)
EXCITEID Identification number of DAREA or SPCD entry set or a thermal load set (in heat
transfer analysis) that defines .  See Remarks 2. and 3. (Integer &amp;gt; 0)
DELAYI Identification number of DELAY Bulk Data entry that defines time delay . See Remark
8. and 13. (Integer &amp;gt;0 or blank)
DELAYR Value of time delay  that will be used for all degrees-of-freedom that are excited by this
dynamic load entry . See Remark 8. and 13. (Real or blank)
TYPE Defines the type of the dynamic excitation.  See Remarks 2. , 3. and 12. (Integer, character
or blank; Default = 0)
TID/F Identification number of TABLEDi entry that gives .  (Integer &amp;gt; 0). Value of F to
be used for all times.  (Real, non-zero)
US0 Factor for initial displacements of the enforced degrees-of-freedom. See Remarks 9., 11.
and 13. (Real; Default = 0.0)
VS0 Factor for initial velocities of the enforced degrees-of-freedom. See Remarks 10., 11. and
13. (Real; Default = 0.0)A


Ft&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition234
Main Index
If enforced motion is applied in a modal transient solution the default solution algorithm is the
COUPLED method, rather than the UNCOUPLED method. If you wish to use the UNCOUPLED
solver in a modal transient solution with enforced  motion, specify PARAM,NONCUP,-2 in your
input file. When using the COUPLED solver in transient response, it is recommended to have at least
two timesteps with 0.0 loading before starting your load.
3.TYPE (field 5) also determines the manner in which EXCITEID (field 3) is used by the program as
described below
Excitation specified by TYPE is applied load
•There is no LOADSET request in Case Control
EXCITEID may reference DAREA, static and thermal load set entries
•There is a LOADSET request in Case Control
The program may reference DAREA entries as well as static and thermal load set entries specified
by the LID and TID fields, respectively, in the selected LSEQ entry corresponding to
EXCITEID.
Excitation specified by TYPE is enforced motion
•There is no LOADSET request in Case ControlTYPE TYPE of Dynamic Excitation
0, L, LO, LOA or LOAD Applied load (force or moment) (Default)
1, D, DI, DIS, or DISP Enforced displacement using large mass or SPC/SPCD data  (not
supported for multiple steps in SOL400)
2, V, VE, VEL or VELO Enforced velocity using large mass or SPC/SPCD data (not
supported for multiple steps in SOL400)
3, A, AC, ACC or ACCE Enforced acceleration using large mass or SPC/SPCD data  (not
supported for multiple steps in SOL400)
4 FLOW boundary condition on the face of an Eulerian solid element
(SOL 700 only).
5 Displacement of SPH elements before activation by a FLOWSPH
boundary condition (SOL 700 only).
6 Velocity of SPH elements before activation by a FLOWSPH
boundary condition (SOL 700 only).
7 Acceleration of SPH elements before activation by a FLOWSPH
boundary condition (SOL 700 only)
12 Velocity of the center of gravity of a rigid body (SOL 700 only)
13 Force or moment on the center of gravity of a rigid body (SOL 700
only).&lt;/p&gt;
&lt;p&gt;235 CHAPTER 5
Transient Response Analysis
Main Index
EXCITEID will reference SPCD entries. If such entries indicate null enforced motion, the
program will then assume that the excitation is enforced motion using large mass and will
reference DAREA and static and thermal load set entries just as in the case of applied load
excitation.
•There is a LOADSET request in Case Control
The program will reference SPCD entries specified by the LID field in the selected LSEQ entry
corresponding to EXCITEID. If such entries indicate null enforced motion, the program will
then assume that the excitation is enforced motion using large mass and will reference static and
thermal load set entries specified by the LID and TID fields, respectively, in the selected LSEQ
entry corresponding to EXCITEID, just as in the case of applied load excitation.
4.EXCITEID may reference sets containing QHBDY, QBDYi, QVECT, QVOL and TEMPBC
entries when using the heat transfer option.
5.SID need not be unique for all ACSRCE, RLOAD1, RLOAD2, TLOAD1 and TLOAD2 dynamic
load entries.  The DLOAD = SID Case Control command will select all dynamic load entries with
the set identification of SID.
6.If the heat transfer option is used, the referenced QVECT entry may also contain references to
functions of time, and therefore A may be a function of time.
7.If TLOADi entries are selected in SOL 111 or 146 then a Fourier analysis is used to transform the
time-dependent loads on the TLOADi entries to the frequency domain and then combine them with
loads from RLOADi entries.  Then the analysis is performed as a frequency response analysis but the
solution and the output are converted to and printed in the time domain. Please refer to Fourier
Transform .
8.If the DELAYI/DELAYR field is blank or zero,  will be zero.
9.The USO field is used only when the dynamic excitation defined by the TYPE field is enforced
velocity or enforced acceleration using SPC/SPCD specification. The initial displacements for the
enforced degrees-of-freedom in this case are given by the product  where  is
defined by the EXCITEID field.
10. The VS0 field is used only when the dynamic excitation defined by the TYPE field is enforced
acceleration using SPC/SPCD specification. The initial velocities for the enforced degrees-of-
freedom in this case are given by the product  where  is defined by the EXCITEID
field.
11. The initial conditions for the enforced degrees-of-freedom implied by the US0 and VS0 fields are
distinct from, and may be used in conjunction with, the initial conditions for the independent
degrees-of-freedom specified by a TIC Bulk Data entry (which, in turn, is selected by an IC Case
Control command).
12. For TYPE=4, TID must be blank if it references a FLOW entry. Use the FLOWT entry to define a
time dependent flow boundary on the face of an Eulerian element.
13. Fields US0 and VS0 are not supported in SOL 700. 
AUS0 A
AVS0 A&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition236
Main Index
Time -Dependent Loads – TLOAD2  Entry
The TLOAD2 entry is a general analytical form with which to define a time -dependent load. The value of
the force at a particular instant in time is determined by evaluating the analytic function at the specific time.&lt;br&gt;
You enter the appropriate constants in the function.
The TLOAD2  Bulk Data entry defines dynamic excitation in the form:
(5-26)
where:  .
.
Example:1 2 3 4 5 6 7 8 9 10
TLOAD2 SID EXCITEID DELAYI/
DELAYRTYPE T1 T2 F P
C B US0 VS0
TLOAD2 4 10 5.0 2.1 4.7 12.0
2.0
Field Contents
SID Set identification number.  See Remarks 1. and 6. (Integer &amp;gt; 0)
EXCITEID Identification number of DAREA or SPCD entry set or a thermal load set (in heat
transfer analysis) that defines .  See Remarks 2. and  (Integer &amp;gt;0)
DELAYI Identification number of DELAY Bulk Data entry that defines time delay . See Remark
5. (Integer &amp;gt;0 or blank)
DELAYR Value of time delay  that will be used for all degrees-of-freedom that are excited by this
dynamic load entry . See Remark 5. (Real or blank)
TYPE Defines the type of the dynamic excitation.  See Remarks 2. and  (Integer; character or
blank; Default = 0)
T1 Time constant.  (Real &amp;gt; 0.0)
T2 Time constant.  (Real; T2 &amp;gt; T1)
F Frequency in cycles per unit time.  (Real &amp;gt; 0.0; Default = 0.0)
P Phase angle in degrees.  (Real; Default = 0.0)
C Exponential coefficient.  (Real; Default = 0.0)
B Growth coefficient.  (Real; Default = 0.0)Pt0 ,tT1+ or tT2+ 
At˜BeCt˜2Ft˜P+  cos ,T1+tT2+ &lt;/h1&gt;&lt;p&gt;t˜ tT1– –=
A

&lt;/p&gt;
&lt;p&gt;237 CHAPTER 5
Transient Response Analysis
Main Index
Remarks:
1.Dynamic excitation sets must be selected with the Case Control command with DLOAD=SID.
2.The type of the dynamic excitation is specified by TYPE (field 5) according to the following table:
If enforced motion is applied in a modal transient solution the default solution algorithm is the
COUPLED method, rather than the UNCOUPLED method. If you wish to use the UNCOUPLED
solver in a modal transient solution with enforced  motion, specify PARAM,NONCUP,-2 in your
input file. When using the COUPLED solver in transient response, it is recommended to have at
least t wo timesteps with 0.0 loading before starting your load.
3.TYPE (field 5) also determines the manner in which EXCITEID (field 3) is used by the program as
described below
Excitation specified by TYPE is applied load
•There is no LOADSET request in Case ControlUS0 Factor for initial displacements of the enforced degrees-of-freedom. See Remarks 9., 11.
and 15. (Real; Default = 0.0)
VSO Factor for initial velocities of the enforced degrees-of-freedom. See Remarks 10., 11. and
15.(Real; Default = 0.0)Field Contents
TYPE TYPE of Dynamic Excitation
0, L, LO, LOA or LOAD Applied load (force or moment) (Default)
1, D, DI, DIS, or DISP Enforced displacement using large mass or SPC/SPCD data  (not
supported for multiple steps in SOL400)
2, V, VE, VEL or VELO Enforced velocity using large mass or SPC/SPCD data (not
supported for multiple steps in SOL400)
3, A, AC, ACC or ACCE Enforced acceleration using large mass or SPC/SPCD data  (not
supported for multiple steps in SOL400)
5 Displacement of SPH elements before activation by a FLOWSPH
boundary condition. (SOL 700 only).
6 Velocity of SPH elements before activation by a FLOWSPH
boundary condition. (SOL 700 only)
7 Acceleration of SPH elements before activation by a FLOWSPH
boundary condition (SOL 700 only)
12 Velocity of the center of gravity of a rigid body. (SOL 700 only)
13 Force or moment on the center of gravity of a rigid body. (SOL 700
only)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition238
Main Index
EXCITEID may reference DAREA, static and thermal load set entries
•There is a LOADSET request in Case Control
The program may reference DAREA entries as well as static and thermal load set entries specified
by the LID or TID fields, respectively, in the selected LSEQ entry corresponding to EXCITEID.
Excitation specified by TYPE is enforced motion
•There is no LOADSET request in Case Control
EXCITEID will reference SPCD entries. If such entries indicate null enforced motion, the
program will then assume that the excitation is enforced motion using large mass and will
reference DAREA and static and thermal load set entries just as in the case of applied load
excitation.
•There is a LOADSET request in Case Control
The program will reference SPCD entries specified by the LID field in the selected LSEQ entry
corresponding to EXCITEID. If such entries indicate null enforced motion, the program will
then assume that the excitation is enforced motion using large mass and will reference static and
thermal load set entries specified by the LID and TID fields, respectively, in the selected LSEQ
entry corresponding to EXCITEID, just as in the case of applied load excitation.
4.EXCITEID (field 3) may reference sets containing QHBDY, QBDYi, QVECT, and QVOL and
TEMPBC entries when using the heat transfer option.
5.If the DELAYI/DELAYR field is blank or zero,  will be zero.
6.SID need not be unique for all ACSRCE, RLOAD1, RLOAD2, TLOAD1 and TLOAD2 dynamic
load entries.  The DLOAD = SID Case Control command will select all dynamic load entries with
the set identification of SID.
7.If the heat transfer option is used, the referenced QVECT entry may also contain references to
functions of time, and therefore A may be a function of time.
8.If TLOADi entries are selected in SOL 111 or 146 then a Fourier analysis is used to transform the
time-dependent loads on the TLOADi entries to the frequency domain and them combine them with
loads from RLOADi entries.  Then the analysis is performed as a frequency response analysis but the
solution and the output are converted to and printed in the time domain.  In this case, B will be
rounded to the nearest integer. Please refer to Fourier Transform .
9.The USO field is used only when the dynamic excitation defined by the TYPE field is enforced
velocity or enforced acceleration using SPC/SPCD specification. The initial displacements for the
enforced degrees-of-freedom in this case are given by the product  where  is defined
by the EXCITEID field.
10. The VS0 field is used only when the dynamic excitation defined by the TYPE field is enforced
acceleration using SPC/SPCD specification. The initial velocities for the enforced degrees-of-freedom
in this case are given by the product  where  is defined by the EXCITEID field.
11. The initial conditions for the enforced degrees-of-freedom implied by the US0 and VS0 fields are
distinct from, and may be used in conjunction with, the initial conditions for the independent
degrees-of-freedom specified by a TIC Bulk Data entry (which, in turn, is selected by an IC Case
Control command).AUS0 A
AVS0 A&lt;/p&gt;
&lt;p&gt;239 CHAPTER 5
Transient Response Analysis
Main Index
12. The continuation entry is optional.
13. TYPE=4 (SOL 700) is not supported using TLOAD2.
14. For SOL 700, TLOAD2 is converted to TLOAD1 and a TABLED1 is generated internally.
15. Fields US0 and VS0 are not supported in SOL 700.
Spatial Distribution of Loading – DAREA  Entry
The DAREA  Bulk Data entry defines the degrees -of-freedom where the dynamic load is to be applied and a
scale factor to be applied to the loading. The DAREA entry provides the basic spatial distribution of the
dynamic loading.
A DAREA entry is selected by the TLOAD1 or TLOAD2 entry.  Any number of DAREA entries may be
used; all those with the same SID are combined.
Time Delay &amp;ndash; DELAY  Entry
The DELAY  Bulk Data entry defines the time delay  in an applied load.
A DAREA entry must be defined for the same point and component.
Any number of DELAY entries may be used; all those with the same SID are combined.1 2 3 4 5 6 7 8 9 10
DAREA SID P1 C1 A1 P2 C2 A2
Field Contents
SID Set ID specified by TLOADi entries.
Pi Grid, extra, or scalar point ID.
Ci Component number.
Ai Scale factor.
1 2 3 4 5 6 7 8 9 10
DELAY SID P1 C1 P2 C2
Field Contents
SID Set ID specified by TLOADi entry.
Pi Grid, extra, or scalar point ID.
Ci Component number.
Time delay for Pi, Ci.
12
i&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition240
Main Index
Dynamic Load Tabular Function – TABLEDi Entries
The TABLEDi Bulk Data entries (i = 1 through 4) each define a tabular function for use in generating
frequency-dependent dynamic loads.  The form of each TABLEDi entry varies slightly, depending on the
value of i, as does the algorithm for y(x).  The x values need not be evenly spaced.
The TABLED1, TABLED2, and TABLED3 Bulk Data entries linearly interpolate between the end points
and linearly extrapolate outside of the endpoints as shown in Figure 5-3.  The TABLED1 entry has the option
to perform logrithmic interpolation between points. The TABLED4 Bulk Data entry uses the endpoint
values for values beyond the endpoints.
Figure 5-3  Interpolation and Extrapolation for TABLED1, TABLED2, and TABLED3 Entries
The TABLED1  Bulk Data entry has the following format:
The TABLED1 entry uses the algorithm
(5-27)
The algorithms used for interpolation and extrapolation are as follows:1 2 3 4 5 6 7 8 9 10
TABLED1 TID XAXIS YAXIS
x1 y1 x2 y2 x3 y3 -etc.- ENDT
Field Contents
TID Table identification number.
XAXIS Specifies a linear or logarithmic interpolation for the x -axis.
(Character: “LINEAR” or “LOG”; Default = “LINEAR”)
YAXIS Specifies a linear or logarithmic interpolation for the y -axis.
(Character: “LINEAR” or “LOG”; Default = “LINEAR”)
xi, yi Tabular values.  Values of x are frequency in cycles per unit time.
ENDT Ends the table input.y
xLinear Extrapolation of Segment x2 – x1Linear Extrapolation of Segment  x6 – x7Linear Interpolation Between Endpoints
x1x2x3x4x5x6x7
y yTx =&lt;/p&gt;
&lt;p&gt;241 CHAPTER 5
Transient Response Analysis
Main Index
The TABLED2  Bulk Data entry has the following format:
The TABLED2 entry uses the algorithm
(5-28)
The TABLED3  Bulk Data entry has the following format:XAXIS YAXIS
LINEAR LINEAR
LOG LINEAR
LINEAR LOG
LOG LOG
1 2 3 4 5 6 7 8 9 10
TABLED2 TID X1
x1 y1 x2 y2 x3 y3 -etc.- ENDT
Field  Contents
TID Table identification number.
X1 Table parameter.
xi, yi Tabular values.
ENDT Ends the table input.
1 2 3 4 5 6 7 8 9 10
TABLED3 TID X1 X2
x1 y1 x2 y2 x3 y3 -etc.- ENDT
Field Contents
TID Table identification number.
X1, X2 Table parameters.yTx
xjx–
xjxi–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;yixxi–
xjxi–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;yj +
xjx ln
xjxi ln&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;yixxi ln
xjxi ln&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;yj +
xjx–
xjxi–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;yilnxxi–
xjxi–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;yjln + exp
xjx ln
xjxi ln&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;yilnxxi ln
xjxi ln&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;yjln + exp
y yTxX1– =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition242
Main Index
The TABLED3 entry uses the algorithm
(5-29)
The TABLED4  entry has the following format:
The TABLED4 entry uses the algorithm
(5-30)
is the degree of the power series. When ,  is used for ; when ,  is used for .
This condition has the effect of placing bounds on the table; there is no extrapolation outside of the table
boundaries.
ENDT ends the table input.
DAREA  Example
Suppose the following command is in the Case Control Section:
DLOAD  = 35
in addition to the following entries in the Bulk Data Section:xi, yi Tabular values.
ENDT Ends the table input.
1 2 3 4 5 6 7 8 9 10
TABLED4 TID X1 X2 X3 X4
A0 A1 A2 A3 A4  A5 -etc.- ENDT
Field Contents
TID T able identification number.
Xi T able parameters. .
Ai Coefficients.
1 2 3 4 5 6 7 8 9 10
$TLOAD1 SID DAREA DELAY TYPE TID
TLOAD1 35 29 31 40
$DAREA SID POINTCOMPONEN
TSCALEField Contents
y yTxX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;=
X20.0; X3X4 
y AixX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;i
i0=N
=
N xX3 X3 x xX4 X4 x&lt;/p&gt;
&lt;p&gt;243 CHAPTER 5
Transient Response Analysis
Main Index
The DLOAD Set ID 35 in the Case Control selects the TLOAD1  entry in the Bulk Data having a Set ID
35. On the TLOAD1 entry is a reference to DAREA Set ID 29, DELAY Set ID 31, and TABLED1 Set ID
40. The DAREA entry with Set ID 29 positions the loading on grid point 30 in the 1 direction with a scale
factor of 4.0 applied to the load. The DELAY  entry with Set ID 31 delays the loading on grid point 30 in
the 1 direction by 0.2 units of time. The TABLED1  entry with Set ID 40 defines the load time history in
tabular form. The result of these entries is a dynamic load applied to grid point  30, component T1, scaled
by 4.0 and delayed by 0.2 units of time.
Figure 5-4 shows the TABLED1 time history and the applied load (scaled by the DAREA entry and time
shifted by the DELAY entry).DAREA 29 30 1 4.0
$DELAY SID POINTCOMPONEN
TLAG
DELAY 31 30 1 0.2
$TABLED1 ID
$ X1 y1 x2 y2 x3 y3 x4 y4
TABLED1 40 LINEAR LINEAR
0.0 0.0 0.3 1.0 2.0 1.0 ENDT1 2 3 4 5 6 7 8 9 10&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Excitation Definition244
Main Index
Figure 5-4  Time History from the TABLED1 Entry (Top) and Applied Load (Bottom)
Static Load Sets
MSC Nastran does not have specific data entries for many types of dynamic loads. Only concentrated forces
and moments can be specified directly using DAREA entries. To accommodate more complicated loadings
conveniently, the EXCITEID on the TLOADi Bulk Data entry is used to define static load entries that define
the spatial distribution of dynamic loads. The EXCITEID may refer to one or more static load entries
(FORCE, PLOADi, GRAV, etc.).  All static loads with the Set ID referenced on the EXCITEID entry define
the spatial distribution of the dynamic loading. MSC Nastran converts this information to equivalent
dynamic loading.
Figure 5-5 demonstrates the relationships of these entries.  To activate a load set defined in this manner, the
DLOAD Case Control command refers to the Set ID of the selected DLOAD or TLOADi entry. The
EXCITEID entry points to the static loading entries that are used to define dynamic loadings and/or DAREA
Set ID. Together this relationship defines a complete dynamic loading. T o apply dynamic loadings in this
manner, the DLOAD Case Control command and the TLOADi Bulk Data entry must be defined.0.5 1.0 1.5 2.0 2.50.5 1.0 1.5 2.0 2.51.0
Time (sec)Amplitude
on
TABLED1
4.0
Time (sec)Force
Amplitude0
0&lt;/p&gt;
&lt;p&gt;245 CHAPTER 5
Transient Response Analysis
Main Index
Figure 5-5  Relationship of Dynamic and Static Load Entries
Dynamic Load Set Combination &amp;ndash; DLOAD
If the SIDs of the transient loads, ie TLOAD1s and TLOAD2s have unique SIDs and they are to be applied
in the same analysis, they must be combined using the DLOAD Bulk Data entry. The total applied load is
constructed from a combination of component load sets as follows:
(5-31)
where:
The DLOAD  Bulk Data entry has the following format:=overall scale factor
=scale factor for i -th load set
=i-th set of loads
=total applied load
1 2 3 4 5 6 7 8 9 10
DLOAD SID S S1 L1 S2 L2 -etc.-
Field Contents
SID Load set ID.
S Overall scale factor.DLOAD
TLOADi
Static Load Entries Dynamic Load
(Temporal
Distribution)(Spatial
Distribution)Case Control
Bulk Data
P SSiPi
i=
S
Si
Pi
P&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Integration Time Step246
Main Index
As an example, in the following DLOAD entry:
A dynamic Load Set ID of 33 is created by taking 0.5 times the loads in Load Set ID of 14, adding to it 2.0
times the loads in Load Set ID of 27, and multiplying that sum by an overall scale factor of 3.25.
As with other transient loads, a dynamic load combination defined by the DLOAD Bulk Data entry is
selected by the DLOAD Case Control command.
Integration Time Step
The TSTEP  Bulk Data entry is used to select the integration time step for direct and modal transient response
analysis.  This entry also controls the duration of the solution and which time steps are to be output.  The
TSTEP Bulk Data entry is selected by the Set ID referenced on the TSTEP  Case Control command.
The integration time step must be small enough to represent accurately the variation in the loading. The
integration time step must also be small enough to represent the maximum frequency of interest. The
maximum frequency of interest is often called the cut -off frequency. It is recommended to use at least ten
solution time steps per period of response for the cutoff frequency. For a given integration time step,
integration errors increase with increasing natural frequency because there is an upper limit to the frequency
that can be represented by a given time step. Also, integration errors accumulate with total time.
In both direct and modal transient analysis, the cost of integration is directly proportional to the number of
time steps.  For example, doubling the load duration doubles the integration effort.
In specifying the duration of the analysis on the TSTEP entry, it is important to use an adequate length of
time to properly capture long period (low frequency) response. In many cases, the peak dynamic response
does not occur at the peak value of load nor necessarily during the duration of the loading function.  A good
rule is:  always solve for at least one cycle of response for the lowest frequency mode after the peak excitation.
You may change  during a run but doing so causes the dynamic matrix to be redecomposed, which can
be costly in direct transient response analysis.
The TSTEP  Bulk Data entry has the following format:Si Individual scale factors.
Li Load set ID number for TLOAD1 and TLOAD2 entries.
1 2 3 4 5 6 7 8 9 10
$DLOAD SID S S1 L1 S2 L2 -etc.-
DLOAD 33 3.25 0.5 14 2.0 27Field Contents
1 2 3 4 5 6 7 8 9 10
TSTEP SID N1 NO1t
t1&lt;/p&gt;
&lt;p&gt;247 CHAPTER 5
Transient Response Analysis
Main Index
Transient Excitation Considerations
A number of important considerations must be remembered when applying transient loads. The averaging
of applied loads (Eq. (5-3)) in the integration smooths the force and decreases the apparent frequency content.
Very sharp spikes in a loading function induce a high -frequency transient response. If the high -frequency
transient response is of primary importance in an analysis, a very small integration time step must be used.
It is also important to avoid defining discontinuous forcing functions when describing applied loads. The
numerical integration of discontinuous forcing functions may cause different results for the same analysis run
on different computers because of slight numerical differences on different computer types. If the analysis
calls for loadings with sharp impulses, it is best to smooth the impulse over at least one integration time
increment.
The loading function must accurately describe the spatial and temporal distribution of the dynamic load.
Simplifying assumptions must not change the character of the load in magnitude, location, or frequency
content.
Solution Control for Transient Response Analysis
The following tables summarize the data entries that can be used to control a transient response analysis.
Certain data entries are required, some data entries are optional, while others are user selectable.
In the Executive Control Section of the MSC Nastran input file, a solution must be selected using the SOLi
statement where i is an integer value chosen from Table 5-3.
We have applied these solutions in the examples that follow.N2 NO2
-etc.-
Field Contents
SID Set ID specified by a TSTEP Case Control command.
Ni Number of time steps of value .
Integration time step.
NOi Output every NOi-th time step.1 2 3 4 5 6 7 8 9 10
t2
ti
ti
Table 5-3  Transient Response Solutions in MSC Nastran
Structured Solution Sequences
Direct 109
Modal 112&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Solution Control for Transient Response Analysis248
Main Index
In the Case Control Section of the MSC Nastran input file, you must select the solution parameters
associated with the current analysis (i.e., time steps, loads, and boundary conditions) and also the output
quantities required from the analysis. The Case Control commands directly related to transient response
analysis are listed in Table 5-4. They can be combined in the standard fashion with the more generic
commands, such as SPC, MPC, etc.
The types of results available from a transient response analysis are similar to those for a static analysis except
that the results vary with time. Additional quantities are also available, which is characteristic of dynamics
problems. The output quantities are summarized in Table 5-5 and Table 5-6.Table 5-4  Transient Response Case Control Commands
Case Control
CommandsDirect
or
Modal DescriptionRequired/
Optional
DLOAD (Case) Both Select the dynamic load set from the Bulk Data Required *
*Not required when using initial conditions.TSTEP (Case) Both Select the TSTEP entry from the Bulk Data Required
METHOD  (Case) Modal Select the eigenvalue extraction parameters Required
LOADSET
(Case)Both Select the LSEQ set from the Bulk Data Optional
SDAMPING
(Case)Modal Select the modal damping table from the Bulk Data Optional
IC (Case) Direct Select TIC entries for initial conditions from the Bulk Data Optional
OTIME (Case) Both Select the times for output (default = all) Optional
Table 5-5  Grid Point Output from a Transient Response Analysis
Case Control
Command Description
ACCELERATION (Case) Grid point acceleration time history for a set of grid points
DISPLACEMENT (Case)
(or VECTOR )Grid point displacement time history for a set of grid points
GPSTRESS (Case) Grid point stress time history (requires SURFACE/VOLUME definition in the
OUTPUT(POST) section of the Case Control)
OLOAD (Case) Requests applied load table to be output for a set of grid points
SACCELERATION
(Case)Requests solution set acceleration output:  d -set in direct solutions and modal
variables in modal solutions
SDISPLACEMENT
(Case)Requests solution set displacement output:  d -set in direct solutions and modal
variables in modal solutions&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P14</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_014/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_014/</guid>
      <description>
        
        
        &lt;p&gt;249 CHAPTER 5
Transient Response Analysis
Main Index
Because the results may be output for many time steps, the volume of output can be very large. Prudent
selection of the output quantities is recommended.
A number of Bulk Data entries are unique to transient response analysis. They can be combined with other
generic entries in the Bulk Data. Bulk Data entries directly related to transient analysis are summarized in
Table 5-7.SVECTOR (Case) Requests real eigenvector output for the a -set in modal solutions
SVELOCITY (Case) Requests solution set velocity output:  d -set in direct solutions and modal variables
in modal solutions
SPCFORCES (Case) Requests forces of single -point constraint for a set of grid points
VELOCITY (Case) Grid point velocity time history for a set of grid points
Table 5-6  Element Output from a Transient Analysis
Case Control Command Description
ELSTRESS  (or STRESS  (Case) )Element stress time history for a set of elements
ELFORCE  (or FORCE (Case) ) Element force time history for a set of elements
STRAIN (Case) Element strain time history for a set of elements
Table 5-7  Bulk Data Entries for Transient Response Analysis
Bulk Data EntryDirect or
Modal DescriptionRequired/
Optional
TTEMP Both Integration time step and solution control Required
TLOAD1 i Both Dynamic loading Required *
EIGR or EIGRL Modal Eigenvalue analysis parameters Required
LSEQ Both Dynamic loading from static loads Optional
TABLED1 i Both Time -dependent tables for TLOADi Optional*
TIC Direct Initial conditions on grid, scalar, and extra points Optional
DAREA Both Load component and scale factor Optional
DELAY Both Time delay on dynamic load Optional
DLOAD Both Dynamic load combination, required if TLOAD1
and TLOAD2 are usedOptional
TABDMP1 Modal Modal damping table OptionalTable 5-5  Grid Point Output from a Transient Response Analysis  (continued)
Case Control
Command Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Restarts in Linear Transient Analysis250
Main Index
Restarts in Linear Transient Analysis
Restarts in Linear T ransient may be used to continue time step integration from a previous run without
repeating the earlier computations. This is accomplished by extending the usage of the STIME parameter to
SOLs 109 and 112 (while retaining its current usage in SOLs 129 and 159).
In order to use this feature in SOLs 109 and 112, ensure that the model and the constraints, as well as the
subcase setup in the restart run, are the same as those in the previous run. The user may, however, specify
different TSTEP and DLOAD requests in the Case Control and also different TSTEP and dynamic loading
entries in the Bulk Data compared to the previous run.
PARAM,STIME,x is used to specify the starting time of the restart run. If STIME exceeds the last output
time of the previous run, the starting time is assumed to be the last output time. Otherwise, the starting time
is assumed to be the output time of the previous run (not necessarily the last output time) that is closest  to
STIME. In other words, the starting time of the restart run need not be the last output time of the previous
run, but may be any earlier output time of the previous run. MSC Nastran informs the user that it is a restart
run and indicates the starting time (determined as above) that is used for the restart run. The loading and the
results output from the continued restart run will start from the new starting time.
It is important to note that the use of the continue feature requires that the model and the constraints, as well
as the subcase setup in the restart run be the same as those in the previous run. It also requires that the
databases from the previous run be available. It is the user’s responsibility to ensure that this condition is
satisfied. If this condition is not met, the program may terminate the execution with a fatal error or give
erroneous results.
Suggestions for Time step size Selection in Linear
Transient Analysis
This section gives the user recommendations for selecting the time step size in linear transient analysis (SOLs
109 and 112). SOL 112 offers two solution algorithms, the uncoupled algorithm and the coupled algorithm.
The former is meant for problems wherein there are no off-diagonal terms in the modal matrices while the
latter may be used for all problems. By default, the program selects the uncoupled algorithm when there are
no off-diagonal terms in the modal matrices and selects the coupled algorithm when this condition is not met.
SOL 109 and Coupled SOL 112
The integration scheme in these solution sequences uses an implicit modified Newmark beta method. The
accuracy of the solution is heavily dependent on the time step size ( t) employed in the analysis. The most
important point to note in this case is that the time step size selected should be small enough to capture the
response.
As a rule, the smaller the time step size, the better the answers, but a smaller time step size makes the analysis
more expensive. One way to find out if the time step size used is satisfactory is to reduce it by 1/5th or 1/10th *Not required for initial conditions.&lt;/p&gt;
&lt;p&gt;251 CHAPTER 5
Transient Response Analysis
Main Index
and repeat the analysis. If the answers do not change much, it generally means that the time step size used
earlier was good enough. Otherwise, it means the new time step size is better. This process should be repeated
until the answers do not change significantly between runs.
The above process can be quite expensive. One way to select an initial integration time step size is to use the
general rule of thumb that the time step size employed should be (1/10)th the period corresponding to the
highest dominant frequency of the excitation as well as the response. It may be noted in this regard that, in
general, for problems with damping, the excitation and response will normally have essentially the same
dominant frequencies, but for problems without any damping the dominant frequencies of the response may
be far removed from those of the excitation because of resonances at higher frequencies. Thus, for instance,
assume that the excitation in a damped problem has three dominant frequencies, one at 500 Hz., another at
600 Hz. and yet another at 800 Hz. The highest dominant frequency is 800 Hz. This corresponds to a period
of (1/800) seconds or 0.00125 seconds. So, a time step size of (1/10)th of this period, which is 0.000125
seconds, would be a good initial value.
Now, the next question one has to ask regarding the above suggested procedure is how to determine the
dominant frequencies of the excitation. There is no easy answer to this. One way to determine this is to
perform a SOL 108 frequency response analysis using the same TLOAD1/TLOAD2 data employed in the
transient analysis and request OLOAD output for the applied load excitation in the frequency domain. The
dominant frequencies of the excitation will be clear from this output. This information can then be used to
determine a good initial time step size for the transient analysis. If the transient analysis excitation is not
applied load, but enforced motion via SPCD, it is best to convert it to an equivalent applied load excitation
using large mass and make a SOL 108 execution along the lines outlined above.
Separately, these solutions also allow for the usage of nonlinear loading entries like NOLINi and NLRGAP
which use an explicit formulation. These may often exhibit numerical instability if the time step size is too
large. Such instabilities may often be cured by reducing the time step size.
Uncoupled SOL 112
The integration scheme in this solution sequence employs the Duhamel integral. In general, the accuracy of
this solution is not as susceptible to the time step size employed as it is in SOL 109 and coupled SOL 112
though, as indicated below, a smaller time step size may still be desirable or needed in certain cases.
The most important point to note in this case is that the actual time history of the loads is replaced by a
piecewise linear approximation. Therefore the time step size selected should be small enough to capture the
load. So if the actual excitation specified for the analysis is linear to start with or at least linear within the time
step size employed, then the answers will be accurate. A smaller time step size will not improve the accuracy
of the results, but may be desirable in order to get a better display of the output in the interim between the
beginning and the end of the transient analysis.
If the actual excitation specified for the analysis varies considerably with time, then clearly the smaller the
time step size, the more linear the excitation will be within the time step size employed and should therefore
yield more accurate answers.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples252
Main Index
Importance of Number of Modes and Mode Augmentation Using Residual
Vectors in SOL 112
In the case of transient analysis using SOL 112, whether it is the coupled or the uncoupled approach, the
selection of proper time step size, while important, is secondary to the more important requirement of having
a good modal representation of the structure for the excitation that is applied to it.
The most important requirement in SOL 112 is that enough modes must first be selected so as to ensure
satisfactory dynamic response can be obtained from the analysis. In addition, it is important to employ the
default solution scheme of augmenting the computed modes via residual vectors to account for the effect of
the static response of the truncated higher modes.
It is not easy to determine the number of modes that should be computed. One way to check if enough modes
have been selected is to compare the natural frequency of the highest computed mode with that of the lowest
residual vector mode. If the former is lower than the latter by at least an order of magnitude, then it indicates
that sufficient modes may have been selected to represent the dynamic response in the analysis and that the
residual vectors may be needed only to include the static response of the truncated modes. Otherwise, one
can repeat the analysis by requesting more modes until the above condition is satisfied.
Another way is to request a certain number of modes and run with the default residual vector calculations.
One can then repeat the analysis by specifying RESVEC(NODYNRSP)=YES in Case Control. This causes
the residual vectors to be calculated, but will remove any dynamic response from them, resulting in them
responding only statically. If the results do not change much, then it indicates that sufficient modes have most
likely been selected to represent the dynamic response in the analysis and that the residual vectors are needed
only to represent the static response of the truncated higher modes. If not, one can repeat the process by
requesting more modes until the above condition is satisfied.
Examples
This section provides several examples showing the input and output. These examples are
These examples are described in the sections that follow.ModelTransient Response Bulk Data
Entries Output
bd05two TSTEP , TIC X-Y plots
bd05bar EIGRL , TSTEP ,
TABDMP1 , DLOAD ,
TLOAD2 , DAREA ,
DELAYX-Y plots
bd05bkt EIGRL, TSTEP ,
TABDMP1, TLOAD1 ,
LSEQ , TABLED1 ,
PLOAD4X-Y plot&lt;/p&gt;
&lt;p&gt;253 CHAPTER 5
Transient Response Analysis
Main Index
Two-DOF Model
Consider the two -DOF system shown in Figure 5-6. Direct transient response (SOL 109) is run with an initial
displacement of 0.1 meter at grid point 2. The analysis is run for a duration of 10 seconds with a  of 0.01
second. Damping is neglected in the analysis.  Listing 5-1 shows part of the input file. See
MSC_DOC_DIR /tpl6/ dynamics/db05two.dat.
Figure 5-6  Two-DOF Model
Listing 5-1  Input File (Abridged) for the Two -DOF Example
$  FILE bd05two.dat
$
$  TWO-DOF SYSTEM
$  CHAPTER 5, TRANSIENT RESPONSE
$
TIME 5
SOL 109  $ DIRECT TRANSIENT RESPONSE
CEND
TITLE = TWO-DOF SYSTEM
SUBTITLE = DIRECT FREQUENCY RESPONSE
LABEL =  INITIAL DISPL. AT GRID 2
$
$  SPECIFY SPC
SPC = 996
$
$  SPECIFY DYNAMIC INPUT
TSTEP = 888
IC = 777
$
$  SELECT OUTPUT
SET 11 = 1,2
DISPLACEMENT(PLOT) = 11
$
$  XYPLOTS
$
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULKt
y
xGrid Point 1
Grid Point 2m1
k1
m2
k2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples254
Main Index
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
$  ENTRIES FOR TRANSIENT RESPONSE
$
$  INITIAL CONDITION
$TIC    SID     G       C       U0      V0
TIC     777     2       2       0.1
$
$  TIME STEP
$TSTEP  SID     N1      DT1     NO1
TSTEP   888     1000    0.01    1 &lt;br&gt;
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Table 5-8 shows the relationship between the Case Control commands and the Bulk Data entries. This
example represents the simplest form of dynamic response input. The only required entries are those that
define the time step and the initial conditions. Note that the unspecified initial conditions are assumed to be
zero. Note, too, that the initial conditions are available only for direct transient response analysis.
Figure 5-7 shows the plots of the resulting displacements for grid points 1 and 2. Note that there are two
frequencies of response: a higher frequency of about 5 Hz, and a lower frequency of about 0.25 Hz. The
energy (and hence response) appears to be transferred repetitively between grid points 1 and 2 as represented
by the lower frequency response. This energy transfer is called beating. Beating  occurs when there are
closely -spaced modes (in this case, 4.79 Hz and 5.29 Hz) in which energy transfer can readily occur. The
response is comprised of two frequencies as given below:
(5-32)
where:Table 5-8  Relationship Between Case
Control Commands and Bulk Data Entries
for the Two -DOF Model
Case Control Bulk Data
TSTEP TSTEP
IC TIC
f1=lower of the closely -spaced mode frequencies
f2=higher of the closely -spaced mode frequenciesfhigherf1f2+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
flowerf2f1–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;255 CHAPTER 5
Transient Response Analysis
Main Index
In this example,  is 5.04 Hz and  is 0.25 Hz. The lower frequency is called the beat frequency
and is the frequency at which energy transfer occurs.fhigherflower&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples256
Main Index
Figure 5-7  Displacements of Grid Points 1 and 2
Cantilever Beam Model
Consider the cantilever beam shown in Figure 5-8. This beam model is the same as in Examples of Frequency
Response Analysis  (Ch. 4). Modal transient response (SOL 112) is run with loads applied to grid points 6 and
11 as shown in Figure 5-9. The analysis is run for a duration of 2 seconds with a  of 0.001 second. Modal
damping of 5% critical damping is used for all modes. Modes up to 3000 Hz are computed using the Lanczos
method.  Listing 5-2 shows part of the input file. See MSC_DOC_DIR /tpl6/ dynamics/db05bar.dat.
Figure 5-8  Cantilever Beam Model with Applied Loads
Figure 5-9  Applied Loads for the Beam Model
Listing 5-2  Input File (Abridged) for the Beam Examplet
y
x6
p6(t)11
p11(t)
Time
(sec)6
-6Force 11 (N)
0.5Time
(sec)3
-3Force 6 (N)
0.1 0.5&lt;/p&gt;
&lt;p&gt;257 CHAPTER 5
Transient Response Analysis
Main Index
$  FILE bd05bar.dat
$
$  CANTILEVER BEAM MODEL
$  CHAPTER 5, TRANSIENT RESPONSE
$
SOL 112     $  MODAL TRANSIENT RESPONSE
TIME 10
CEND
TITLE =  CANTILEVER BEAM
SUBTITLE =  MODAL TRANSIENT RESPONSE
$
SPC = 21
DLOAD = 22
TSTEP = 27
SDAMPING = 25
$
METHOD = 10
$
$  PHYSICAL OUTPUT REQUEST
SET 11 = 6,11
DISPLACEMENT(PLOT) = 11
ACCELERATION(PLOT) = 11
$
$  MODAL SOLUTION SET OUTPUT
SET 12 = 1,2
SDISP(PLOT) = 12
$
$  ELEMENT FORCE OUTPUT
SET 13 = 6
ELFORCE(PLOT) = 13
$
$  APPLIED LOAD OUTPUT
SET 15 = 6,11
OLOAD(PLOT) = 15
$
$  XYPLOTS
$
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;$
$
$EIGRL  SID     V1      V2              MSGLVL
EIGRL   10      -0.1    3000.           0
$
$TSTEP  SID     N1      DT1     NO1
TSTEP   27      2000    0.001   1
$
$  MODAL DAMPING OF 5% IN ALL MODES
$TABDMP1 TID    TYPE                                                    +TABD
$+TABD  F1      G1      F2      G2      ETC.
TABDMP1 25      CRIT                                                    +TABD
+TABD   0.      0.05    1000.   0.05    ENDT
$
$ DYNAMIC LOADING
$DLOAD  SID     S       S1      L1      S2      L2
DLOAD   22      1.0     1.0     231     1.0     232
$TLOAD2 SID     DAREA   DELAY   TYPE    T1      T2      F       P       +TL1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples258
Main Index
$+TL1   C       B
TLOAD2  231     241             0       0.0     0.5     2.0     90.
TLOAD2  232     242     262     0       0.0     0.5     4.0     90.
$DAREA  SID     P1      C1      A1
DAREA   241     11      2       6.0
DAREA   242     6       2       3.0
$DELAY  SID     P1      C1      T1
DELAY   262     6       2       0.1
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Table 5-9 shows the relationship between the Case Control commands and the Bulk Data entries. The
DLOAD Bulk Data entry references two TLOAD2 entries, each of which references separate DAREA entries.
A TLOAD2 entry also references a DELAY entry to apply the time delay to the load at grid point 6.
Plotted output is shown in the following figures.  Figure 5-10 shows the applied loads at grid points 6 and 11.
Figure 5-11 shows the plots of the displacements for grid points 6 and 11. Figure 5-12 shows the accelerations
for grid points 6 and 11.  Figure 5-13 shows the bending moment at end A in plane 1 for element 6.  Figure 5-14
shows the modal displacements for modes 1 and 2.Table 5-9  Relationship Between Case Control
Commands and Bulk Data Entries for the Bar Model
Case Control Bulk Data
METHOD EIGRL
TSTEP TSTEP
SDAMPING TABDMP1
DLOADDLOAD
DAREATLOAD2 231
DAREA
DELAYTLOAD2 232&lt;/p&gt;
&lt;p&gt;259 CHAPTER 5
Transient Response Analysis
Main Index
Figure 5-10  Applied Loads at Grid Points 6 and 11
3.
-3.0.
6.
-6.00.
0. 2.Time Force 11 Force 6&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples260
Main Index
Figure 5-11  Displacements at Grid Points 6 and 11
0.0
-0.00.
0.0
-0.00.
0. 2.Time Displacement 6 Displacement 11&lt;/p&gt;
&lt;p&gt;261 CHAPTER 5
Transient Response Analysis
Main Index
Figure 5-12  Accelerations at Grid Points 6 and 11
4.0
-6.00.0
10.0
-15.00.0
0.0 2.0Time (sec)Acceleration 6
m2sec

Acceleration 11
m2sec

&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples262
Main Index
Figure 5-13  Bending Moment A1 for Element 6
25.0
-20.00.0
0.0 2.0
Time (sec)Bending Moment A1 (Nm)&lt;/p&gt;
&lt;p&gt;263 CHAPTER 5
Transient Response Analysis
Main Index
Figure 5-14  Modal Displacements for Modes 1 and 2
Bracket Model
Consider the bracket model shown in Figure 5-15.  A pressure load of 3 psi is applied to the elements in the
top face in the z -direction with the time history shown in Figure 5-16. The modal transient analysis is run for
4 seconds with a time step size of 0.005 second.  Modal damping of 2% critical damping is used for all modes.
Modes up to 3000 Hz are computed with the Lanczos method. The model is constrained near the base.
0.0
-0.10.
0.001
-0.0010.
0. 2.Time
SDisplacemen SDisplacemen&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples264
Main Index
Figure 5-15  Bracket Model
Figure 5-16  Time Variation for Applied Load
Listing 5-3 shows the abridged input file. See MSC_DOC_DIR /tpl6/ dynamics/bd05bkt.dat. The LSEQ
entry is used to apply the pressure loads (PLOAD4 entries). Note that the LSEQ and TLOAD1 entries
reference a common DAREA ID (999) and that there is no explicit DAREA entry. Table 5-10 shows the
relationship between the Case Control commands and the Bulk Data entries.
Listing 5-3  Input File (Abridged) for the Bracket Model
$  FILE  bd05bkt.dat
$
$  BRACKET MODEL
$  CHAPTER 5, TRANSIENT RESPONSE
$
SOL    112   $ MODAL TRANSIENT RESPONSE
TIME   100
CEND
3 psi
0 0.10 0.15 5
Time (sec)Pressure&lt;/p&gt;
&lt;p&gt;265 CHAPTER 5
Transient Response Analysis
Main Index
TITLE =  BRACKET MODEL
SUBTITLE = MODAL TRANSIENT RESPONSE ANALYSIS
$
SPC   = 1
$
METHOD = 777
$
DLOAD = 2
LOADSET = 3
SDAMPING = 4
TSTEP = 5
$
$  OUTPUT REQUEST
SET 123 = 999
DISPLACEMENT(PLOT)=123
$
$  XYPLOTS
$
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;.
$
$  NORMAL MODES TO 3000 HZ
$EIGRL  SID     V1      V2
EIGRL   777     -0.1    3000.
$
$  4 SECONDS OF RESPONSE
$TSTEP  SID     N1      DT1     NO1
TSTEP   5       800     0.005   1
$
$  MODAL DAMPING OF 2% CRITICAL
$TABDMP1 TID    TYPE                                                    +TABD1
$+TABD1 F1      G1      F2      G2      ETC.
TABDMP1 4       CRIT                                                    +TABD1
+TABD1  0.0     0.02    3000.0  0.02    ENDT                                 &lt;br&gt;
$
$  LOAD DEFINITION
$
$TLOAD1 SID     DAREA   DELAY   TYPE    TID
TLOAD1  2       999                     22
$
$LSEQ   SID     DAREA   LID     TID
LSEQ    3       999     1
$
$ TIME HISTORY
$TABLED1 TID                                                            +TABL1
$+TABL1 X1      Y1      X2      Y2      ETC.
TABLED1 22                                                              +TABL1
+TABL1  0.0     0.0     0.1     0.0     0.15    1.0     5.0     1.0     +TABL2
+TABL2  ENDT
$
$  PRESSURE LOAD OF 3 PSI PER ELEMENT
$PLOAD4 SID     EID     P1
PLOAD4  1       171     -3.                                          &lt;br&gt;
PLOAD4  1       172     -3.                                          &lt;br&gt;
PLOAD4  1       160     -3.                                          &lt;br&gt;
etc.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples266
Main Index
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Figure 5-17 shows a plot of the z -displacement of grid point 999, which is the concentrated mass at the center
of the cutout.Table 5-10  Relationship Between
Case Control Commands and Bulk
Data Entries for the Bracket Model
Case Control Bulk Data
METHOD EIGRL
DLOAD TLOAD
SDAMPING TABDMP1
LOADSET LSEQ&lt;/p&gt;
&lt;p&gt;267 CHAPTER 5
Transient Response Analysis
Main Index
Figure 5-17  Displacement Time History for Grid Point 999
MAX/MIN Output (New Form)
The primary use of the MAXMIN operation is to allow for rapid identification of the grids and elements
with high response values. The flexible syntax of the MAXMIN(DEF)  Case Control entry allows grouping
of operations to further reduce the number of components monitored. The commands have been developed
to avoid the standard data recovery operations unless downstream operations require the information for
intermediate durations. The FULL operation on the MAXMIN(DEF) entry, recovers the complete grid or
element entry which remains in the final response table.
A major change in data recovery strategy is the introduction of a “sort2” processing sequence. Data recovery
is normally performed using only “sort1” recovery techniques. The output tables produced are then
transposed to form the “sort2” order, that is, for time or frequency domain recovery of grids or element
responses. This transpose operation, although efficient, consumed computer resources, most notably, was the =Displacement (m)
0
-0.04
-0.08
0 4 Time (sec)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
MAX/MIN Output (New Form)268
Main Index
disk storage requirements. During the “sort2” technique in Modal T ransient (SOL 112) the matrices are
transposed in modal space before data recovery is performed. This eliminates the “sort1” step. However, when
BAR elements with intermediate station data recovery is needed, the transpose to “sort1” is still required. Be
aware that the “op2” tapes used in passing data to the post processor may also require transpose operations
due to their current interface limitations.  The param,post,0 operation, which is the default option for MSC
Patran, is sort independent and does not require the intermediate step.
The Nastran Data Definition Language (NDDL) is needed to interpret the table entries. Because the output
data block, generically named OMM, is mostly definable by the NDDL, it can be operated upon by the
standard OUTPUT2 formatting function.
The output is sequenced within the print file before the standard data recovery of grid displacements and
elements.  The standard output heading is:
M A X / M I N   S U M M A R Y  ( xxxxxx )
where xxxxx describes the class being monitored, such as displacements for grids or element names for
stresses, forces or strains.
Using the FULL action keyword causes additional grid or element information to be accumulated in the
OMM data block for the retained entries meeting the monitoring criteria.
All directives that select MAXMIN operations are located within the Case Control Section.
The Case Control command MAXMIN(DEF) (Case)  must appear before encountering any SUBCASE  entry.&lt;br&gt;
Within a SUBCASE  definition, additional entries of the form MAXMIN (Case) (GRID),  MAXMIN&lt;br&gt;
(Case) (ELEM), or MAXMIN  (Case) (BOTH)  activate the operation for the SUBCASE during data recovery.&lt;br&gt;
Both entries are necessary for any operation to occur.
The MAXMIN(DEF)  entry can be sub-divided into four definitional areas. Multiple MAXMIN(DEF)&lt;br&gt;
entries can be present in the Case Control Section.  It is recommended that only one be supplied for a class,
although more than one class can be supplied on one entry. Multiple class action selection could result in
formulation of an accumulative output domain.
MAXMIN(DEF)   class(es)  &amp;lt;element type(s)&amp;gt;  component(s)&lt;br&gt;
action(s)
The grid classes are: DISP LACMENT , VELO CITY, ACCE LERATION, OLOA D, SPCF  (Single Point
Constraint Forces), MPCF  (Multi-Point Constraint Forces), and GPKE  (Grid Point Kinetic Energy).  The
element classes are: STRE SS, FORCE and STRA IN. When an element class is selected, the “element types”
area is required. Element types that share the same recovery components can be entered on a single
MAXMIN(DEF)  entry.
The component area is always required and can either match NDDL item descriptions or the item codes
presented in Item Codes  in the MSC Nastran Quick Reference Guide . Note that components can utilize
grouping features, where the grouped components are compared to each other before they are compared to
the other action requested. When an element type has multiple recovery positions, an example would be
stresses for the HEXA element, where data recovery occurs at the center and vertices, these locations can be
limited or grouped by keyword utilization. These operators are /CENTER (default) , /ALL, or /GROUP for
the repeating component locations; and /ENDS for the BEAM element. An example for the selection of the
first principal stress component at every data location on the HEXA would be P1/ALL. This would cause
monitoring and performance of data recovery for each of the monitored nine locations per element.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P15</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_015/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_015/</guid>
      <description>
        
        
        &lt;p&gt;269 CHAPTER 5
Transient Response Analysis
Main Index
Action keywords are optional with default values. These keywords consist of MAXALG, MINALG,
ABSOLUTE, and ALL that control the number of items retained during the component evaluations. When
none are specified, the default is ALL with a retained list of five per component. When MAXALG, MINALG
or ABSOLUTE actions are selected, the ones not referenced will default to a retained set of zero. T o override
the number of retained values, an integer value of 1 to 25 can be associated with the action by either an equal
delimiter or by encapsulating the value in parenthesis, for example, MAXA=5 or MINA(2).
The action keyword RMS, causes the root mean squared value to be calculated over the domain, but may
not be meaningful depending upon the interaction with other component actions such as grouping. The
action keywords of BRIEF (default) and FULL controls the amount of presented recovery information. The
BRIEF action only presents the components selected over the retained depth associated with the selected
items in the element or grid set. The FULL action causes the grid or element entry to be retained. Those in
the retained list will be shown in their standard data recovery format. See output section for illustrations.
The last action keyword concerns the coordinate system in which the comparisons are performed. Currently
this action is only available for grid recovery classes. The action keyword CID={GLOBAL, BASIC, cid} is
used to override the default. The default of the grid comparison is different depending upon the SDR2
module sort processing. When the matrices are input in SORT1 order, then the comparison is performed in
the BASIC reference system with the “cid” used to select an alternative. GLOBAL is not supported. When
the matrices are input in SORT2 order, the transpose of SORT1, then the comparisons are performed in
GLOBAL, with either BASIC or “cid” as alternative options. Note, when FULL is requested along with a
CID= action, then the entries displayed are in the CID selected system. Standard data recovery is unaffected
and still occurs in the global reference frame.
The MAX/MIN definitions are acted upon only if selected by the additional SUBCASE  entries to select the
domain in classical Case Control syntax.
MAXMIN(GRID,[{ PRINT/NOPRINT},PUNCH]) = {ALL,SET,NONE)
MAXMIN(ELEM,[{ PRINT/NOPRINT},PUNCH],[ VONMISES /SHEAR],[ STRCUR/FIB
ER],[CENTER/BILIN|etc]) = {ALL,SET,NONE)
MAXMIN(BOTH,[{ PRINT/NOPRINT},PUNCH],[ VONMISES /SHEAR],[ STRCUR/FIB
ER],[CENTER/BILIN|etc]) = {ALL,SET,NONE)
Since the MAXMIN(ELEM..)  directives act upon all element classes defined within the MAXMIN(DEF)&lt;br&gt;
section, the keywords modifying the data recovery operations for STRESS and STRAIN are also included
since the primary Case Control entries may not be present. The invariant selection is independent between
the MAXMIN and primary data recovery entry. When element strains recovery is selected, the STRAIN
entry when present in the SUBCASE supercedes the MAXMIN selection concerning fiber or curvature
locations for the plate elements. This is also true for the QUAD4 corner selection concerning the method
for extrapolation to the vertices.
Outputs
The OMM data block conforms to standard OFP (Output File Processor) format. That is it contains pairs
of records. The first of the pair denoted as the IDENT or HEADER is 146 words in length and describes
the following data record. The data record contains entries that are eleven words in length and are
(perceivably) always in sort1 real format.  The OMM data block can be identified as OFP output class 38.
Care must be exercised interpreting the data record because item values in the entry change format classes
depending upon settings within the IDENT record. The NDDL contains a full description of the control&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
MAX/MIN Output (New Form)270
Main Index
values. Another significant difference to the OMM data block when compared to other OFP tables is that
with the FULL action on the MAXMIN(DEF) entry, all other table classes can be contained as record pairs
within the OMM data block.
The output examples presented are intended to assist with column interpretation within analysis approach
and output classes. The two examples were create from a Modal T ransient solution sequence. The OMM
table identification line contains the class name of the values presented in the table. The first table indicates
grid class response acceleration, and the second represents an element response, in this case a BAR element
and the component name indicating a stress response. For these two tables, the label of column one changes
from POINT to ELEMENT depending upon the information contained in the table. The CID or
Coordinate System Identification is always present, although currently meaningful for grid recovery. The
value “-1” indicates element 0 basic and positive values, the coordinate system used to measure response. The
OPERATION column contains two pieces of information from the data entry, first the measure, MAX
(maximum algebraic), MIN (minimum algebraic) and ABS (absolute value). The second value is the
retention depth varying from 1 to 25. The next column is labeled COMPONENT and represents the
keyword for the item selected from the NDDL description in the response table. Additional keywords such
as VONMISES that override the NDDL description for this release. The next column is variable in column
label and format. For our current example, the column header is TIME and the entry item format is real.&lt;br&gt;
When Linear Statics is selected as the analysis approach, the column label would be SUBCASE and the entry
item format integer. The next column, VALUE, represents the real value of the monitored response quantity.&lt;br&gt;
These columns form the minimum set of information presented as basic output.
The above table illustrates that two optional columns can appear after the VALUE column. The one with
RMS as the label will always appear as the last column.  The other additional column, currently has a label
of either GRID or SD (Station Distance), and appears between VALUE and RMS when the element has
multiple recovery positions, such as the HEXA element. When the GRID columns appears, it contains two
different formats depending upon the component actions selected on the MAXMIN(DEF) entry. When the  M A X / M I N   S U M M A R Y   ( ACCELERATION )
POINT        CID   OPERATION   COMPONENT          TIME          VALUE&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      1011          0   MIN     1   R2         9.999999E-02  -8.637509E-01    
      1011          0           2              9.000000E-02  -5.546898E-01    
      1011          0           3              8.000000E-02  -2.548527E-01    
      1011          0           4              7.000000E-02   2.930702E-02    
      1011          0           5              6.000000E-02   2.917157E-01    
      1011          0   ABS     1   R2         0.000000E+00   1.140825E+00    
      1011          0           2              1.000000E-02   1.103539E+00    
      1011          0           3              2.000000E-02   1.021089E+00    
      1011          0           4              3.000000E-02   8.954600E-01    
      1011          0           5              9.999999E-02   8.637509E-01 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;M A X / M I N   S U M M A R Y   ( BAR )
ELEMENT        CID   OPERATION   COMPONENT          TIME          VALUE            RMS&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      1001         -1   MAX     1   SX1B       9.999999E-02   2.695622E-02   1.362836E-02
      1001         -1           2   SX1B       9.000000E-02   2.279591E-02    
      1001         -1           3   SX1B       8.000000E-02   1.871261E-02    
      1001         -1           4   SX1B       7.000000E-02   1.481509E-02    
      1001         -1           5   SX1B       6.000000E-02   1.120520E-02    
      1001         -1   MIN     1   SX1A       9.999999E-02  -6.621534E-02   1.362836E-02
      1001         -1           2   SX1A       9.000000E-02  -5.536992E-02    
      1001         -1           3   SX1A       8.000000E-02  -4.501026E-02    
      1001         -1           4   SX1A       7.000000E-02  -3.533644E-02    
      1001         -1           5   SX1A       6.000000E-02  -2.653448E-02 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;271 CHAPTER 5
Transient Response Analysis
Main Index
OPERATION column has a depth measure of “1”, the identification will appear in the GRID column. The
center of the element has a grid designation of “0”. For higher depth values, a blank will appear in the GRID
column when the /ALL option was selected. When the column item is non-blank, then the /GROUP option
was selected and the position within the element is being identified. The SD column label indicates that the
data entry contains real values for the station distance measure used for the BEAM element.
Guidelines and Limitations
The MAXMIN capability was fundamentally designed for the Modal T ransient solution sequence employing
a sort2 processing methodology. This placed a certain perspective upon the global/local orientation of grids
and elements during the monitoring operations.  Because element or grid orientation does not change within
the time domain, global directions requiring no re-orientation were perceived for the standard processing
methodology. The grids were enhanced to support other directions and are necessary when the sort1
processing requirement was established.  The current element orientation technology is limited in sort1,
especially considering the plate elements.  Considering the T ransient Solution again, the placement and
number of the MAXMIN(DEF) are geared to time domain processing. When processing Direct T ransient
(SOL 109), the sort1 path is used. The primary consideration here is the computational costs for performing
the transpose of the “displacement” matrix at the solution set.
Since the MAXMIN operations are performed internally to the SDR2 module, effects of BAR distributed
loads are currently ignored and lump end recovery is currently available. This restriction is also true for the
BEAM and BEND elements. The MAXMIN operations are performed for SDR2 data recovery which
currently does not include Layered Composites, Element Energies, or Grid Point Forces.
The sort2 Linear Statics solution sequence is currently not supported.
There is no support for complex data recovery for either grids or element for MAXMIN operations.
Examples
Example 1: Modal T ransient Model of a Solid
The Case Control Section contains the MAXMIN(DEF) and MAXMIN(ELEM) entries, see
MSC_DOC_DIR /tpl6/ dynamics/mmhex04.dat. The specific MAXMIN(DEF) entry has been selected to
monitor stresses for the HEXA element and examine the Principal Stresses. Recovery locations are to be
monitored but a single value retained with its associated vertex grid identification. All possible monitoring
actions are to occur to a retained depth value of 10. The parenthesis usage surrounding the components
collapses all of the principals to a single value per element. The MAXMIN(ELEM) references a set of one
element.
MAXMIN(DEF) STRESS HEXA ( P1/group p2/group p3/group ) all=10
TITLE = modal transient with solid elements
SUBCASE 1
method 1
TSTEP = 1
SPC = 1
DLOAD = 2
set 200 = 1
maxmin(elem) = 200&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
MAX/MIN Output (New Form)272
Main Index
The response recovered information indicated that for the algebraic maximums that the P1 direction over
time was the dominating value although the grid location was not the same for all retained values. The
algebraic minimums switched to the P2 direction, but had a similar pattern concerning vertex location. The
absolute value monitor, however, switched direction and vertex location over the time range. The coordinate
system of element comparison was the basic reference frame because that selection can be accomplished by
setting on the PSOLID entry.
Example 2: Linear Static Model of a Quarter Plate
This example of a Quarter Plate in Linear Statics demonstrates the usage of three MAXMIN(DEF) entries
and different options selected in the MAXMIN(ELEM) entries within the Case Control Section, see
MSC_DOC_DIR /tpl6/ dynamics/mmq401.dat. The usage of FULL produces limited data recovery in
standard formats encapsulated within the MAXMIN output.  Only limited response information is displayed
for illustration purposes.
MAXMIN(DEF) STRAIN QUAD4 EMAX1 EMAX2 MAXA MINA FULL
MAXMIN(DEF) STRESS QUAD4 SMAX1 SMAX2 MAXA MINA FULL
maxmin(def) disp t1 t2 maxa mina full cid=basic
MAXLINES=1000000
echo=none
SPC=1
set 100 = 10 thru 14
SUBCASE 1001
TITLE=Only MAXMIN Shear Invariant, strcur
LOAD=101
maxmin(elem,shear) = all
DISP=100
maxmin(grid) = 100
SUBCASE 1002
TITLE=Only MAXMIN Von Mises Invariant, fiber
LOAD=101SUBCASE 1
M A X / M I N   S U M M A R Y   ( HEXA )
ELEMENT        CID   OPERATION   COMPONENT          TIME          VALUE           GRID&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;         1          0   MAX     1   P1         6.000000E-04   3.211954E+02             11
         1          0           2   P1         9.999999E-04   2.747574E+02             23
         1          0           3   P1         7.000000E-04   2.726083E+02             11
         1          0           4   P1         5.000000E-04   2.719700E+02             11
         1          0           5   P1         4.000000E-04   1.485749E+02             11
         1          0           6   P1         8.000000E-04   1.052457E+02             11
         1          0           7   P1         9.000000E-04   9.128755E+01             13
         1          0           8   P1         3.000000E-04   2.646395E+01             11
         1          0           9   P1         2.000000E-04   1.693706E+01             13
         1          0          10   P1         1.000000E-04   4.520476E+00             21
         1          0   MIN     1   P2         6.000000E-04  -3.211504E+02             23
         1          0           2   P2         9.999999E-04  -2.750641E+02             11
         1          0           3   P2         7.000000E-04  -2.724407E+02             23
         1          0           4   P2         5.000000E-04  -2.722952E+02             23
         1          0           5   P2         4.000000E-04  -1.487349E+02             23
         1          0           6   P2         8.000000E-04  -1.050558E+02             23
         1          0           7   P2         9.000000E-04  -9.140302E+01             21
         1          0           8   P2         3.000000E-04  -2.612224E+01             23
         1          0           9   P2         2.000000E-04  -1.695657E+01             21
         1          0          10   P2         1.000000E-04  -4.504962E+00             23
         1          0   ABS     1   P1         6.000000E-04   3.211954E+02             11
         1          0           2   P2         9.999999E-04   2.750641E+02             11
         1          0           3   P1         7.000000E-04   2.726083E+02             11
         1          0           4   P2         5.000000E-04   2.722952E+02             23
         1          0           5   P2         4.000000E-04   1.487349E+02             23
         1          0           6   P1         8.000000E-04   1.052457E+02             11
         1          0           7   P2         9.000000E-04   9.140302E+01             21
         1          0           8   P1         3.000000E-04   2.646395E+01             11
         1          0           9   P2         2.000000E-04   1.695657E+01             21
         1          0          10   P1         1.000000E-04   4.520476E+00             21
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;273 CHAPTER 5
Transient Response Analysis
Main Index
maxmin(elem,fiber) = all
SUBCASE 1003
TITLE=MAXMIN Shear Stress Von Mises, fiber
LOAD=101
maxmin(elem,shear) = all
STRESS=ALL
strain(fiber)=all
BEGIN BULK
The recovery for the displacements within the MAXMIN output section was within the basic reference
system. One should observe here that the POINT identification is in retained sequence and that collation
order is by operational depth. Also the identification column has become SUBCASE due to the solution
approach.
The standard output recovery for sort1 real is used for the FULL formatting. This output is recovered in the
basic reference system due the request upon the MAXMIN(DEF) entry. The normal POINT collation order
is maintained and the entries correspond to the retained list from the MAXMIN operation section.
Once the Grid Point responses have been reported, the element requested are then presented. Because in
Linear Statics, the element reference system may not be consistent, it is suggested that the invariant be used
to determine the ordering for two dimensional elements. The results presented are for the first SUBCASE
which the SHEAR invariant was selected. Again note the element identification ordering is by component
and depth. M A X / M I N   S U M M A R Y   ( DISPLACEMENTS )
POINT        CID   OPERATION   COMPONENT       SUBCASE          VALUE&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        14          0   MAX     1   T1                 1001   1.993413E-03    
        13          0           2                      1001   1.532535E-03    
        12          0           3                      1001   1.186146E-03    
        11          0           4                      1001   1.104745E-03    
        10          0           5                      1001   1.092352E-03    
        10          0   MIN     1   T1                 1001   1.092352E-03    
        11          0           2                      1001   1.104745E-03    
        12          0           3                      1001   1.186146E-03    
        13          0           4                      1001   1.532535E-03    
        14          0           5                      1001   1.993413E-03    
        14          0   MAX     1   T2                 1001  -1.716866E-05    
        11          0           2                      1001  -1.911883E-05    
        12          0           3                      1001  -2.190853E-05    
        10          0           4                      1001  -3.123875E-05    
        13          0           5                      1001  -4.483166E-05    
        13          0   MIN     1   T2                 1001  -4.483166E-05    
        10          0           2                      1001  -3.123875E-05    
        12          0           3                      1001  -2.190853E-05    
        11          0           4                      1001  -1.911883E-05    
        14          0           5                      1001  -1.716866E-05 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SUBCASE 1001&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                         D I S P L A C E M E N T   V E C T O R

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
        10      G      1.092352E-03  -3.123875E-05   0.0            0.0            0.0            0.0
        11      G      1.104745E-03  -1.911883E-05   0.0            0.0            0.0            0.0
        12      G      1.186146E-03  -2.190853E-05   0.0            0.0            0.0            0.0
        13      G      1.532535E-03  -4.483166E-05   0.0            0.0            0.0            0.0
        14      G      1.993413E-03  -1.716866E-05   0.0            0.0            0.0            0.0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
MAX/MIN Output (New Form)274
Main Index&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Chapter 6: Damping
6Damping
Overview
Introduction
Modeling Damping Effects
Damping Effect on Complex Eigenvalues
Structural Damping for Shell and Bush Elements
Geometric, Material Nonlinear Spring, and Damper Element
Enhanced Structural Damping for Anisotropic Materials&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview276
Main Index
Overview
The physical causes of damping in dynamic analysis are any processes which dissipate energy or reduce the
structural response through internal friction. Furthermore, the internal velocities or displacements cause
reactive damping forces which are irreversible and nonconservative. Examples are mechanical devices such as
shock absorbers, the internal hysteresis that occurs in materials such as rubber, friction in joints, and other
nonlinear effects such as plastic strains in metals.
Introduction
Damping is a mathematical approximation to account for an energy dissipation mechanism. This may be as
explicit as a dashpot device providing discrete damping at a specific location or it could be a general inherent
loss mechanism such as friction in joints or micro-mechanic effects within the material of a structure; the
energy is dissipated as heat. These general damping phenomena are seldom fully understood or rarely defined
precisely and as a consequence are not easily quantified leading to the definition of overall levels, or smear
type damping either for the entire structure or by region, grouping materials with similar characteristics.
Damping caused by these effects is generally low warranting simple approximations.
T wo types of damping are generally used for linear-elastic materials: viscous and structural. The viscous
damping force is proportional to velocity, and the structural damping force is proportional to displacement.
Which type to use depends on the physics of the energy dissipation mechanism, the chosen solution method
and is sometimes dictated by regulatory standards. The user may specify viscous and structural damping in
several ways with accumulated effects in overlapping specifications.
For viscous damping, the viscous damping force  is proportional to velocity and is given by
(6-1)
where:
The structural damping  force  is proportional to displacement and is given by
(6-2)
where:=viscous damping coefficient
=velocity
=structural damping coefficient
= stiffnessfv
fvbu·=
b
u·
fs
fsiGku =
G
k&lt;/p&gt;
&lt;p&gt;277 CHAPTER 6
Damping
Main Index
For a sinusoidal displacement response of constant amplitude, the structural damping force is constant
whereas the viscous damping force is proportional to the forcing frequency. Figure 6-1 depicts this and also
shows that for constant amplitude sinusoidal motion the two damping forces are equal only at a particular
frequency . Notice also that for , a non-zero structural damping force is present even though
the structure is at rest.
Figure 6-1  Structural Damping and Viscous Damping Forces for Constant Amplitude Sinusoidal
Displacement
At , which is simply defined as the frequency at which the structural and viscous damping forces are equal
for a constant amplitude of sinusoidal motion:
(6-3)
The definition of critical damping was given in equation (1-11).
(6-4)
Some equalities that are true at resonance ( ) for constant amplitude sinusoidal displacement are=displacement
=   (phase change of 90 degrees)u
i 1–
  0= f
Forcing Frequency Structural DampingViscous Damping
fvbu· i b  u = =
fsi G k u =

Damping Force

G k b   or  bGk
&amp;mdash;&amp;mdash;- = =
bcr2km 2mn= =
n&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects278
Main Index
(6-5)
and (6-6)
where  is the quality  or dynamic magnification factor, which is inversely proportional to the energy
dissipated per cycle of vibration.
Modeling Damping Effects
Damping may be defined in several different ways in MSC Nastran, and if multiple definitions are used, their
effects are cumulative. Broadly speaking there are six different types of damping definition, viscous,
structural, modal, Rayleigh, hybrid and nonlinear.
Viscous Damping
Viscous damping is generally defined using discrete damper elements CVISC  in the MSC Nastran Quick
Reference Guide , CDAMP1  or CBUSH  where dashpot type dampers are created between pairs of GRID points.
Viscous damping is also defined when structural damping is converted to viscous damping in transient
response analysis (see Damping in Direct Transient Response ). Direct matrix input may be used to define an explicit
viscous damping matrix using the B2GG or B2PP case control methods which select DMIG bulk data entries
on which the viscous damping terms are defined. Finally, hybrid damping will generate viscous damping by
default when a modal damping specification is used with the direct solution method.
For transient analysis, the damping force is proportional to velocity, so
(6-7)
where
= damping force at time t
= the damper force per unit velocity
= are the velocities at time t
In frequency response analysis, the damping forces are given by
(6-8)
where
= damping force at frequency
= the damper force per unit velocityb
bcr&amp;mdash;&amp;mdash;-G
2&amp;mdash;- = =
Q1
2&amp;mdash;&amp;mdash;1
G&amp;mdash;- = =
Q
fBt Bu·t =
fBt
B
u·t
FB iBU =
FB 
B&lt;/p&gt;
&lt;p&gt;279 CHAPTER 6
Damping
Main Index
= are the displacements at frequency
= the square root of -1
Structural Damping
Structural damping can also be defined in several ways, the most obvious being the user parameter
PARAM ,G, GFL  in the MSC Nastran Quick Reference Guide  on which the structural damping coefficient is
defined. This type of damping is also referred to as hysteretic damping and results in a complex stiffness
where the damping forces are out of phase with the displacements by 90 degrees. PARAM,G will generate
imaginary terms for the entire stiffness matrix. If it is required to define structural damping for only certain
regions of the model, structural damping may be defined at the material level for certain materials. Element
level structural damping is also available for CELAS1 (11)  elements. Direct matrix input may be used to define
an explicit structural damping matrix using the K42GG (Case)  case control method which selects DMIG bulk
data entries on which the structural damping terms are defined. Finally, hybrid damping can generate
structural damping (as an alternative to viscous damping) when a modal damping specification is used with
the direct solution method.
The physical basis for the phenomenon of imaginary stiffness is explained by Figure 6-2. Shown is the force
due to a stiffness matrix term, K, plotted against the displacement of the point. As the displacements cycle U 
i 1–&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects280
Main Index
sinusoidally, the imaginary stiffness, G, causes a phase lag in the force response resulting in an elliptical path.&lt;br&gt;
The area enclosed by the curve is equal to the dissipated energy (or energy loss) W.
Figure 6-2  Equivalent Hysteresis Path for Imaginary Stiffness Damping
The basic definition for the steady -state actual displacements, in terms of the complex displacements is
(6-9)
where ur is the actual real displacement, u0 is normally a complex variable that we will set to a real number,&lt;br&gt;
 is the steady state frequency, and . If a structural damping coefficient, G, is
added to the stiffness matrix, the resulting complex forces are in the following form:
(6-10)
The real part of the forces are
(6-11)Real
Force
Real
Displacement
u0 0=Ku0
GKu0
 90 =
 180 =
urt Reu0eit  =
eixxi x sin+ cos =
F 1iG+Ku0eit=
FrReF Ku0tGt sin – cos  = =&lt;/p&gt;
&lt;p&gt;281 CHAPTER 6
Damping
Main Index
The incremental work done over a period of time is
(6-12)
where, from Eq. (6-9)
(6-13)
Combining Eq. (6-11) through Eq. (6-13) and integrating over a full cycle, results in the work
(6-14)
Evaluating the integral, we obtain work loss per cycle
(6-15)
Note that the elastic energy terms average zero over the interval, but the energy dissipated by the structural
damping exists. This damping method is a reasonable linear approximation to the classical hysteresis effect.
If PARAM,G is defined the entire stiffness matrix K is multiplied by the coefficient defined by G and the
resulting terms placed in the imaginary part of the stiffness matrix.
(6-16)
If a value is defined in the GE field of the relevant bulk data entries, only the partition of the stiffness matrix
related to these bulk data entries receives complex stiffness terms
(6-17)
where =is the partition of the stiffness matrix affected by bulk data entries on which the GE field is specified
with a non-zero value.
KE=is the elemental stiffness matrix related to bulk data entries on which the GE field is specified with a
non-zero value.
If both PARAM,G and the GE field of relevant bulk data entries are defined, the total structural damping is
the sum of these two, i.e.
(6-18)
Structural damping provides a convenient method in the frequency domain of simulating the hysteresis of
physical damping phenomena, but the presence of a complex stiffness in the time domain is not allowed as
it violates causality. The state of a system at a given point in time can be affected only by the events in the
past and not by those of the future; with complex stiffness in the time domain, the system would react before
the impulse was applied to the system. Consequently, structural damping must be converted to linear viscous dW Frdur=
duru0t sindt –=
W Ku02ttGt sin – cos  sin – td
02
=
WGKu02=
Knew1iG+K =
K iGEKE=
K
Knew1iG+KiGEKE+ =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects282
Main Index
damping, but this can only provide a faithful damping definition when the response is dominated by a single
known frequency.
From Figure 6-1 we see that if structural damping is to be modeled using equivalent viscous damping, it can
only be defined correctly at frequency . In order to affect this frequency, PARAM ,W3, W4,W3FL, W4FL  or
W4 are used depending on whether the structural damping is defined with PARAM ,G, GFL  (in which case W3
is used) or structural damping is defined with the GE field method (in which case W4 is used). These
parameters must be defined in units of radians per unit time where the frequency is typically chosen to be a
dominant frequency of the system.
When considering acoustic analysis where the model contains a fluid, structural damping for the fluid may
be defined using PARAM  G, GFL  or using the GE field on the MAT10  entry defining the fluid properties. For
transient response analysis, the equivalents of PARAM,W3 and W4 for the fluid are PARAM ,W3FL and
W3,W4,W3FL, W4FL .
Modal Damping
Modal damping is used to define damping as a function of natural frequency wherein a diagonal damping
matrix is created such that each mode is damped independently of the others. Consequently no coupling
between modes appears with this type of damping. A characteristic of modal damping is the damping values
are calculated at the natural frequencies, not the excitation frequencies.
Used primarily for efficiency of solution where coupling effects are absent, modal damping also has the
advantage of resembling closely damping factors obtained either from test or from a design specification
where damping may be specified on a mode by mode basis. When used with hybrid damping, the tabular
definition of the damping factors also provides a convenient method of defining frequency dependent
damping in the direct solution method.
In accordance with modal definitions, the modal viscous damping coefficient  may be expressed as
(6-19)
Where  is the un-damped vibration frequency (equal to ) expressed in radians per unit time. The
dimensionless input coefficient  is equal to twice the critical damping ratio of the mode. It is evaluated by
linear interpolation of a user-specified function of frequency .
The physical meaning of modal damping is somewhat clouded. Its effect is viscous damping, but it is
proportional to the stiffness matrix, and varies with modal frequency. The damping effects are distributed to
the structure depending on the energy distribution in each mode shape. The damping coefficient  is
constant for each mode; if the mode is forcibly excited at a different frequency the initial damping factor still
applies. In other words, the damping at any particular frequency is a function of several modal damping
factors. This may cause unexpected results for frequencies where a mode is not dominant.
bi
biiimi=
iki
mi&amp;mdash;&amp;ndash;
i
f
b&lt;/p&gt;
&lt;p&gt;283 CHAPTER 6
Damping
Main Index
Modal damping is defined as a table of damping coefficients at values of cyclical frequency. Normal mode
frequencies not appearing in the table are either interpolated if they appear within the range of frequency
values defined in the table, or by extrapolation if outside this range. Caution should be exercised if
extrapolation occurs in order to avoid negative values of damping coefficient.
In response analysis using the modal method, the case control command SDAMPING (Case)  (STRUCTURE)&lt;br&gt;
is used to refer to a bulk data TABDMP1  entry on which the values of damping coefficient  versus natural
frequency are defined. If modal damping is defined in a response analysis using the direct method, the
TABDMP1 entry may be referenced by a HYBDAMP  bulk data entry; refer to the separate section on hybrid
damping for more about this option.
The damping coefficients may be entered as type G, CRIT or Q selected by field 3 of the TABDMP1  entry.
If TYPE is set to G, the damping terms n are in units of equivalent viscous dampers and are calculated using
or if you prefer .
If TYPE is set to CRIT , the damping terms  are in terms of critical damping ratio and the damping is
calculated using .
If TYPE is set to Q, the damping terms  are in terms of amplification of quality factor and the damping
is calculated using .
By default, modal damping creates a viscous modal damping matrix; that is the modal velocities are used to
calculate the modal damping forces. However, if PARAM ,KDAMP ,-1 is specified in the input file, modal damping
will create a complex stiffness instead. This renders modal damping as structural damping and if a constant
value of  is defined on the TABDMP1 table, modal damping with PARAM,KDAMP ,-1 is the same as
PARAM,G structural damping as long as the structural damping generates a diagonal complex stiffness. The
advantage to using this method rather than using PARAM,G of course is that G may now be defined as a
function of the natural frequency via the TABDMP1 table.
The complete damping matrix for modal transient analysis is
(6-20)
where
= a diagonal matrix whose elements are given by
= the matrix of eigenvectors
= the matrix of non-modal damping terms
Note that the damping effects which enter  may well be duplicated by the effects included in  so that
in general, the user should be careful when using both forms simultaneously. It should also be noted that the bnnmnn= bnGnmnn=
n
bn2nmnn=
n
bnmnn
n&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =

B biTBv + =
bibiiimi=

Bv
Bvbi&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects284
Main Index
matrix  is generally coupled so that the efficient uncoupled methods of analysis cannot be used
when  is present.
When considering acoustic analysis where the model contains a fluid, modal damping for the fluid may be
defined using a separate TABDMP1 table referenced by an SDAMPING (Case) (FLUID)  case control entry. As
with the structure, if PARAM ,KDAMP, KDAMPFL ,-1 is defined, fluid modal damping will create a complex fluid
stiffness (which is actually the inverse mass matrix) instead.
An illustration of the comparison between modal damping and an equivalent function of structural damping
is shown in Figure 6-3, showing the different options for modal damping tables. With unit modal masses, a
constant modal damping table actually corresponds to a viscous damping that increases with modal
frequency. This method falls between the two extremes (constant viscous damping and equivalent structural
damping) and serves as a general purpose
compromise.
Figure 6-3  Damping Coefficients Versus Modal Frequency
Note that structural damping will overdamp the system modes above  and underdamp system modes
below . The time domain solutions require the specification of  with the PARAMs W3 and W4 and TBv
Bv
Modal FrequencyModal DampingConstant Viscous Damping
Structural DampingFbieit
iiFbCeit 
FbG2eit 
Fb2eit 
i
ii&lt;/p&gt;
&lt;p&gt;285 CHAPTER 6
Damping
Main Index
the units are in radians per second and not Hertz. The frequency domain solutions do not require PARAMs
W3 and W4.
Rayleigh Damping
Rayleigh damping creates a viscous damping matrix that is approximated by a linear combination of the mass
and stiffness matrices.
(6-21)
where
= is the viscous damping matrix
= the mass matrix
= the stiffness matrix
= defined on PARAM,ALPHA1
= defined on PARAM,ALPHA2
Rayleigh damping is useful in dynamic analysis when non-proportional damping is present. Due to its
nature, it will naturally over-damp modes outside the frequency range used to calculate its values and under-
damp the modes inside this frequency range; correct damping is calculated at the two values of frequency
chosen to calculate the values of  and .
Pre and post multiplying by the normal modes eigenvectors gives
(6-22)
But the eigenvectors are used to diagonalize the mass and stiffness matrices such that for any mode using mass
normalized eigenvectors
and&lt;br&gt;
Although normal modes are not generally orthogonal to the damping matrix, a damping matrix which
satisfies the condition  ( ) is generated for a modal damping specification, i.e.
(6-23)
So,
(6-24)
From which the damping terms are revealedB1M2K + =
B
M
K
1
2
12
UnTBUn1UnTMUn2UnTKUn+ =
UnTMUn1= UnTMKUnn2=
UmTBUn0= mn
UnTBUn2nn=
2nn12n2+ =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects286
Main Index
(6-25)
That is to say the damping ratio is inversely proportional to the frequency for the mass contribution and
directly proportional to the frequency for the stiffness contribution. This means Rayleigh damping is
inappropriate outside the two frequencies which are typically used to calculate the factors  and .
It is useful to illustrate the typical variation of viscous damping coefficient  with eigenfreqency . See
Figure 6-4. It can be seen that the scale factors  and  can be calculated by a pair of simultaneous
equations if  and  are known for a pair of normal mode frequencies  and . Typically  will
be chosen as one of the first fundamental frequencies of the system while  is chosen somewhere among
the higher frequencies of the modes that have significant contribution to the response. The damping ratio for
these two modes is correct with somewhat lower damping between these two modes and considerably higher
damping ratios outside the band covered by these two frequencies. Rayleigh damping therefore artificially
damps the frequencies of the higher modes effectively eliminating their contribution to the response.
Figure 6-4  Figure 6-4 Variation of viscous damping with eigenfrequency
(6-26)n1
2n&amp;mdash;&amp;mdash;&amp;mdash;2n
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + =
12
 
12
mnmnm
n
m1
2m&amp;mdash;&amp;mdash;&amp;mdash;-2m
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- + = n1
2n&amp;mdash;&amp;mdash;&amp;mdash;2n
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + =&lt;/p&gt;
&lt;p&gt;287 CHAPTER 6
Damping
Main Index
When these two simultaneous equations are solved, we obtain the factors
(6-27)
The variation of damping ratio with frequency is not often available, so typically a constant value of  is
assumed.  This sets  reducing the factors to
(6-28)
Hybrid Damping
All methods of damping are now together on the bulk data entry called DAMPING  which is activated either by
an RSDAMP  (Case) = case control entry (for the residual structure) or an SEDAMP (Case) = entry for
superelements.
The DAMPING  entry allows the definition of all types of damping except the GE type damping which cannot
be generalized in the same way.
The variables G, ALPHA1, ALPHA2, W3 and W4 have the same function as the parameters of the same
names.  GEFACT can be used to scale all material level structural damping and WH defines the dominant
frequency for the conversion of structural damping to viscous damping for transient response analysis. Refer
to the remarks of the DAMPING entry in the Quick Reference Guide for further clarification of these
options.
The DAMPING entry also allows hybrid damping to be defined via the HYBRID field. The value defined
in the HYBRID field references a HYBDAMP  entry.
The HYBDAMP entry is used to reference the eigenvalue extraction method (METHOD field) for the
hybrid damping and specify the TABDMP1 table (SDAMP field) on which are defined the damping
coefficients as a function of natural frequency. The KDAMP field allows the resulting damping matrix terms
to generate either a viscous damping matrix or complex stiffness.1 2 3 4 5 6 7 8 9 10
DAMPING ID G ALPHA1 ALPHA2 HYBRID GEFACT
W3 W4 WH
1 2 3 4 5 6 7 8 9 10
HYBDAMP ID METHOD SDAMP KDAMP12mn
n2m2– &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;nmmn–   = 22mn
n2m2– &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;n
m&amp;mdash;&amp;mdash;-m
n&amp;mdash;&amp;mdash;–
 =

mn = =
12mn
mn+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = 22
mn+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling Damping Effects288
Main Index
Hybrid damping is designed for use in response analysis using the direct method in which you may use
damping properties defined as a function of natural frequency. The natural place to define such behavior is
the TABDMP1 entry used for modal damping.
To use hybrid damping and allow a modal damping specification to be used in a direct solution sequence, the
following steps are used.
The solution sequence must be direct response (SOL 108 or 109)
Define an RSDAMP=n (or SEDAMP=n for superelements) case control entry. The value of n references the
ID of a DAMPING entry.
Define a bulk data DAMPING entry that references a HYBDAMP bulk data entry via the HYBRID field.
Define a HYBDAMP entry that references an EIGRL entry via the METHOD field and a TABDMP1 entry
via the SDAMP field. The TABDMP1 entry defines the variation of damping coefficient as a function of
frequency.
Optionally, the KDAMP field may be set to YES if the resulting damping terms are to be entered as imaginary
terms in the stiffness matrix; by default (a value of NO) will generate an equivalent viscous damping matrix
for use in the direct solution.
The hybrid damping capability firstly generates a modal damping matrix in the classical way from
. (6-29)
(6-30)
From this we can see we could obtain the physical damping matrix from the modal damping matrix by pre
multiplying the modal damping matrix  by the inverse of the transposed mode shape and post multiplying
it by the inverse of the mode shape, i.e.
(6-31)
In practice, this is not a convenient procedure as it involves the expensive operation of inverting the mode
shapes. Instead, the orthogonality property of the modes relative to the mass matrix is exploited.
(6-32)
and the fact that any matrix pre multiplied by its inverse is an identity.
or  (6-33)
Using the same principle for the eigenvectorsUnTBUnbn2nnmn= =
b 211m10 0
022m20
0 033m3
=
b
UT1–bU1–UT1–BUU1–=
UnTMUn m 1==
m1–m I= m1–UnTMUn I=&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P16</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_016/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_016/</guid>
      <description>
        
        
        &lt;p&gt;289 CHAPTER 6
Damping
Main Index
(6-34)
and so
(6-35)
From which we can eliminate
(6-36)
and rearrange to give
(6-37)
These values of  and  are substituted into  to give
(6-38)
Matrix  is diagonal so its inverse is trivial. Matrix  is also diagonal, so the product of the central three
matrices is also diagonal containing the terms  where
(6-39)
Therefore the physical damping matrix may be calculated from the physical mass matrix, the eigenvectors,
the transpose of the eigenvectors and matrix  all of which are readily available and easy to obtain.
(6-40)
Nonlinear Damping
This discussion explains the limitations in damping caused by the nonlinear transient solution algorithms
(SOL 129).   Frequency response and complex eigenvalue solutions are not available in nonlinear analysis.&lt;br&gt;
For specialized nonlinear dynamics topics, see Nonlinear Transient Response Analysis . For basic information on
the MSC Nastran nonlinear solutions, see the MSC Nastran Handbook for Nonlinear Analysis  or the MSC
Nastran Reference Guide .
Finite elements may be either linear or nonlinear in the nonlinear formulations, and the damping effects will
be treated differently for each type. The basic rules for nonlinear transient analysis are as follows:
1.Plastic yield  in the nonlinear materials automatically absorbs energy when the structure follows a
loading and unloading cycle. This is an actual hysteresis effect that produces an accurate form of
damping. However, note that strain rate effects are not calculated directly. Strain rate effects must be
modeled with structural damping parameters, which are converted internally to viscous damping.
2.Viscous damping  elements are always linear and will participate as constant matrix terms.U1–U I=
m1–UTMU U1–U =
U
m1–UTM U1–=
UT1–MUm1–=
U1–UT1–UT1–bU1–UT1–BUU1–=
B MUm1–bm1–UTM =
m b
dn
dn2nn
mn&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
d
B MUdUTM =&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Damping Effect on Complex Eigenvalues290
Main Index
3.Structural damping , defined with parameters and material bulk data inputs (the GE field on the
MATi entries), is recognized for both linear and nonlinear elements. The damping matrix terms are
calculated for the current material stiffness moduli and geometry. Note, however, that the tangent
matrices are only updated periodically.  The actual damping on nonlinear elements is unpredictable
and can change answers for different runs on the same problem—depending on the convergence rate
and iteration strategy. It is recommended that the matrix update strategy forces an update on the
tangent matrix at every time step.
4.A modal formulation (and therefore modal damping) is not available in a nonlinear solution.
5.Superelements  may be used to reduce the size of a nonlinear problem by separating the linear elements
into an upstream component. Component modal synthesis may then be used to maintain accuracy.
Structural damping is allowed on superelements.
Damping Effect on Complex Eigenvalues
Damping characteristics can be demonstrated with a single degree of freedom system using complex
eigenvalue analysis. T wo types of damping are considered in this exercise, structural and viscous. The viscous
damping causes the damped natural frequency to be lower than the undamped natural frequency. The
structural damping coefficient (complex stiffness matrix) causes the damped natural frequency to be higher
than the undamped natural frequency. The damping characteristic of the equation of motion is illustrated
with both damping types in the equation. The basic complex eigenvalue equation of motion for a single
degree of freedom is expressed as follows:
(6-41)
where:
Dividing the above equation by  and making some substitutions, the equation becomes:
(6-42)
where:=mass
=viscous damping
=structural damping coefficient
=stiffness
=operator notation for&lt;/h1&gt;&lt;h1&gt;=displacement&lt;/h1&gt;&lt;p&gt;=mp2bp 1ig+k + +  u 0=
m
b
g
k
p ddt
i 1–
u
m
p22p 1ig+2+ +  u 0=
2km
2 bm&lt;/p&gt;
&lt;p&gt;291 CHAPTER 6
Damping
Main Index
The structural damping case is obtain by setting  to zero, and the viscous damping case is obtained by
setting g to zero. However, the above equation can be easily solved without setting either variable to zero for
its characteristic values, i.e., eigenvalues.
(6-43)
Putting the complex number inside the radical into polar format, yields:
(6-44)
where
The imaginary part of the above eigenvalue determines the damped natural frequency and the real part
represents the damping coefficient. When the damped natural frequency is viewed in this form, it is relatively
straightforward to observe that viscous damping, g, decreases the damped natural frequency while the
structural damping increases the damped natural frequency. Furthermore, the eigenvalue problem will never
calculate real numbers for the eigenvalues when only structural damping is applied. Putting the eigenvalue
back into Cartesian format:
(6-45)
Using the above equation one can compute the complex eigenvalues for any value of ,  and  to obtain
the results shown in Figure 6-5 as the solid lines. The circle and square symbols represent results obtain with
MSC Nastran using the input files MSC_DOC_DIR/doc/dynamics/bd06sd.dat and
MSC_DOC_DIR/doc/dynamics/bd06vd.dat.
p21ig+ –– =
p– i{12–2g2ei2+4 =
 tan1– g
12–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;=
p– 12–2g2+4i2 cos 2 sin–   
   =
g&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Damping Effect on Complex Eigenvalues292
Main Index
Figure 6-5  Complex Eigenvalues Comparison for Theory and MSC Nastran
If one looks at the two cases as separate solutions, i. e., either set  then the first equation becomes:
(6-46)
and the roots are complex conjugate pairs.   With , the equation becomes:
(6-47)
and the complex eigenvalues are the negative of each other. In this case only the complex eigenvalues with the
positive imaginary part is the one of interest. When the real part of this eigenvalue is positive, then the model
is unstable.
By mixing the two types of damping, i.e., set  and vary the viscous damping value, the damping
comparison is made in Figure 6-6.  Again the lines represent the theoretical solution and the solid symbols are
results from MSC Nastran.
g 0=
mp2bpk + +  u 0=
 0=
mp21ig+k + u 0=
g 0.02 =&lt;/p&gt;
&lt;p&gt;293 CHAPTER 6
Damping
Main Index
Figure 6-6  Effect of Mixed Structural and Viscous Damping
Structural Damping for Shell and Bush Elements
Introduction
The structural damping applied to shell elements is supported by the structural damping coefficients, on the
MID1 , MID2 , MID3 , and MID4  fields of the PSHELL entry.
The CBUSH element supports separate frequency-dependent structural damping  coefficients for all six
degrees of freedom.
The CBUSH element is a generalized spring-damper element. In frequency response, the structural damping
is associated with the imaginary portion of the complex stiffness matrix while viscous damping is associated
with the  portion.
Matrices
PSHELL
If PARAM ,SHLDAMP ,DIFF is present in the run, a structural damping matrix  is formed for each shell
element based on a relationship of the following form:
iB
K4&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Structural Damping for Shell and Bush Elements294
Main Index
(6-48)
CBUSH
If both stiffness K and structural damping  are specified, each with its own frequency dependent tables,
matrix terms of the following form are created:
(6-49)
If stiffness K with frequency dependent tables and non frequency dependent structural damping  are
specified, matrix terms of the following form are created:
(6-50)
If nonfrequency dependent stiffness K with frequency dependent structural damping  are specified, matrix
terms of the following form are created:
(6-51)
In the above three expressions, the superscript  denotes frequency dependent and the superscript 0 denotes
a nominal value. The subscript  implies the jth degree of freedom of the CBUSH element. The real term
goes into the element stiffness matrix and the imaginary term goes into the element  matrix.
User Interface
The parameter SHLDAMP defaults to the value SAME, which implies use only the MID1 associated value of
structural damping coefficient. A character value other than SAME such as DIFF implies that each MIDi
entry on the PSHELL can have its own associated value for the structural damping coefficient.
The PBUSH  and PBUSHT  Bulk Data entries have five structural damping coefficients and their corresponding
frequency dependent tables.
The resulting  matrices will have appropriate terms accounting for additional structural damping
coefficients
Guidelines and Limitations
The following suggestions are associated with this capability: K4gemid1membranestiffness 
+   gemid2bendingstiffness
+gemid3transversestiffness
+gemid4combinedstiffness   =
ge
KjfigejfKjf +
ge
Kjfigej0Kjf +
ge
Kj0igejfKj0 +
f
j
K4
K4&lt;/p&gt;
&lt;p&gt;295 CHAPTER 6
Damping
Main Index
1.Multiple  values on the PBUSH  or the use of PARAM,SHLDAMP,DIFF causes additional
element stiffness matrix generations which will increase run time.
2.With the PARAM,SHLDAMP,DIFF option, relatively large values for the structural damping
coefficient associated with MID4 can cause structural instability in transient dynamics.
3.For nonlinear shell elements, PARAM,SHLDAMP,DIFF is ignored and the MID1 associated value
of structural damping coefficient is used.
Geometric, Material Nonlinear Spring, and Damper
Element
Introduction
The element CBUSH1D is a one dimensional version of the CBUSH element (without the rigid offsets).
The element supports large displacements.
The CBUSH1D element has axial stiffness and axial damping. The element includes  the effects of large
deformation. The elastic forces and the damping forces follow the deformation of the element axis if
there is no element coordinate system defined.  The forces stay fixed in the x-direction of the element
coordinate system if the user  defines such a system. Arbitrary nonlinear force-displacement and force-
velocity functions are defined with tables and equations. A special input format is provided to model
shock absorbers.
An element where damping follows large deformation. Arbitrary force deflection functions can now
be modeled conveniently. When the same components of two grid points must be connected, we
recommend using force-deflection functions with the CBUSH1D element instead of using NOLINi
entries. The BUSH1D element produces tangent stiffness and tangent damping matrices, whereas the
NOLINi entries do not produce tangent  matrices. Therefore, CBUSH1D elements are expected to
converge better than NOLINi forces.
User Interface
The element is defined with connectivity entry CBUSH1D and a property entry PBUSH1D
described below . The user may define several spring or damping values on the PBUSH1D  property
entry. It is assumed that springs and dampers work in parallel. The element force is the sum of all
springs and dampers.
CBUSH1D
Defines the connectivity of a one-dimensional spring and viscous damper element.
Formatgei
1 2 3 4 5 6 7 8 9 10
CBUSH1D EID PID GA GB CID&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Geometric, Material Nonlinear Spring, and Damper Element296
Main Index
PBUSH1D
Defines linear and nonlinear properties of a one-dimensional spring and damper element.
Format
The continuation entries are optional. The four options, SHOCKA, SPRING, DAMPER, and GENER can
appear in any order. See PBUSH1D  for definitions.
Output
The CBUSH1D element outputs, if requested, axial force, relative axial displacement and relative axial
velocity. Also stress and strain if stress and strain coefficients are defined. All element related output (forces,
displacements, stresses) is requested with the STRESS  (Case)  Case Control command.Field Contents Default Values
EID Element identification number. (0 &amp;lt;Integer &amp;lt;100,000,000) Required
PID Property identification number of a PBUSH1D entry.  (Integer &amp;gt;
0)EID
GA Grid point id of first grid. Required
GB Grid point id of second grid blank
CID Coordinate system id.  (Integer &amp;gt;0) blank
1 2 3 4 5 6 7 8 9 10
PBUSH1D PID K C M SA SE
“SHOCKA” TYPE CVT CVC EXPVT EXPVC IDTS
IDETS IDECS IDETSD IDECSD
“SPRING” TYPE IDT IDC IDTDU IDCDU
“DAMPER&amp;quot; TYPE IDT IDC IDTDV IDCDV
“GENER” IDT IDC IDTDU IDCDU IDTDV IDCDV
Field Contents Default
PID Property identification number. (Integer &amp;gt; 0). Required
K Stiffness. (Real &amp;gt; 0). See Remark 1.
C Viscous damping. (Real &amp;gt; 0). See Remarks 1. and 2.
M T otal mass of the element. (Real &amp;gt; 0). Blank
SA Stress recovery coefficient [1/area]. (Real &amp;gt; 0). Blank
SE Strain recovery coefficient [1/length]. (Real &amp;gt; 0). Blank&lt;/p&gt;
&lt;p&gt;297 CHAPTER 6
Damping
Main Index
Guidelines and Limitations
The element is available in all solution sequences. In static and normal modes solution sequences, the
damping is ignored.
In linear dynamic solution sequences, the linear stiffness and damping is used. In linear dynamic
solution sequences, the CBUSH1D damping forces are not included in  the element force output.
In nonlinear solution sequences, the linear stiffness and damping is used for the initial tangent stiffness and
damping. When nonlinear force functions are defined and the stiffness needs to be updated, the tangents of
the force-displacement and force-velocity curves are used for stiffness and damping. The CBUSH1D element
is considered to be nonlinear if a nonlinear force function is defined or if large deformation is turned on
(PARAM, LGDISP , 1). For a nonlinear CBUSH1D element, the element force output is the sum of the elastic
forces and the damping forces. The element is considered to be a linear element if only a linear stiffness and
a linear damping are defined and large deformation is turned off.
1.The CBUSH1D element nonlinear forces are defined with table look ups and equations .
2.The table look ups are all single precision in MSC Nastran. In nonlinear, round-off errors may
accumulate due to single precision table look ups.
3.For linear dynamic solution sequences, the damping forces are not included in the element force
output.
4.The “LOG” option on the TABLED1 is not supported with the CBUSH1D.
Example
Swinging Pendulum
The solution to a swinging pendulum is calculated using SOL 129. The pendulum has a length of
1.0 [m]. and has a concentrated mass of M = 1,000.0 [kg] at the free end, see Figure 6-7. We start the&lt;br&gt;
analysis with the pendulum at rest in horizontal position. The free end is loaded with  a gravity induced
load of G = 10,000.0 [N]. The leg of the pendulum is very stiff, K = 1.e+7 [N/m], so that the relative
axial deformation is small compared to the overall motion of the pendulum. Large deformation
effects are turned on with PARAM, LGDISP , 1. The MSC Nastran input file is partially shown in
Listing 6-1, see MSC_DOC_DIR/doc/dynamics/ar29src1.dat for the complete file.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Geometric, Material Nonlinear Spring, and Damper Element298
Main Index
Figure 6-7  Swinging Pendulum
Listing 6-1  MSC Nastran Input File for the Swinging Pendulum
$
$ file: ar29src1.dat
$
$ A swinging pendulum is modeled. The pendulum is loaded with
$ gravity load. The analysis goes through one and a half cycles,
$ starting in horizontal position. Large deformation is turned on.
$
$ The pendulum is modeled with two separate systems.
CROD and CVISC, CROD rotates, CVISC stays in horizontal
$orientation.
CBUSH1D with SPRING and DAMPER, spring and damper rotate.
$
TIME 10 $
SOL 129 $
CEND
$
TITLE= ar29src1 swinging elastic pendulum
SUBTITLE= demonstrate rotating damping
. . . $
BEGIN BULK
$
param, lgdisp, 1
$
$ GEOMETRY
$ . . .
$ CBUSH1D spring and rotating  $
$CBUSH1D ,EID ,GA,GB,CID cbush1d, 108, 208, 41, 42 $PBUSH1D,PID,K,C
pbush1d, 208, 1.e+7, 1000.
$
$$$$
$ SOLUTION STRATEGY
$
. . . $ ENDDATA&lt;/p&gt;
&lt;p&gt;299 CHAPTER 6
Damping
Main Index
We investigate two different models of the pendulum in one run. In the first model, we use a Rod
element for the stiffness of the leg, K = 1.e+7 [N/m], and a Visc element for 5% equivalent viscous
damping, C = 1,000.0 [Ns/m]. The x- and z-displacements of the free end are shown in Figure 6-8. The
Rod rotates while the viscous damper Visc stays fixed in its initial horizontal position. The Visc element
is linear and does not follow large deformations. The displacements are damped out because the
viscous damper is acting in the x-direction during the whole motion.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Geometric, Material Nonlinear Spring, and Damper Element300
Main Index
Figure 6-8  Displacement of Swinging Pendulum, Model with Rod/Visc Element  Versus Model with
BUSH1D Element
In the second model, we use a CBUSH1D element. The element has a linear stiffness (K) and a viscous
damper (C) with the same values as in the first model. In  the CBUSH1D element, the spring and
damper rotate. The relative axial displacements and velocities are small because of the high axial
stiffness of the element. The rotating damper has no noticeable effect on the overall motion of the
pendulum because it damps only the small relative deformations. The x- and z-displacements of the
free end are not damped, see Figure 6-8.
The example demonstrates how the answers can change if dampers rotate with the  deformation
compared to dampers which stay fixed in space.
Simple Model of an Automotive Suspension
A simplified model of an automotive suspension is shown in Figure 6-9. The suspension is modeled with
a stiff beam which has a pinned support at the left end  and a shock absorber support in the middle. The
shock absorber is modeled with a  CBUSH1D element. The SHOCKA option on the PBUSH1D
property entry is used to  model nonlinear damping in tension and compression. A sinusoidal pulse
load is applied at the tip of the overhang. The MSC Nastran input file is partially shown in Listing 6-2
see MSC_DOC_DIR/doc/dynamics/ar29be01.dat for the complete file . The beam responds with a
rotation of about 45 0 before the motion is damped out. The load and the z-displacement at the tip of
the overhang are shown in Figure 3-4. The example demonstrates that the CBUSH1D element can
undergo large deformation and can simulate complex nonlinear force deflection laws.&lt;/p&gt;
&lt;p&gt;301 CHAPTER 6
Damping
Main Index
Figure 6-9  Simple Model of an Automotive Suspension
Listing 6-2  MSC Nastran Input File for the Automotive Suspension
$
$** * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
$Test of nonlinear shock absorber
$under large deformation
$** * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;TIME 1000
SOL 129
$* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;CEND
$
TITLE = Shock absorber and spring loaded with sine pulse
LABEL = CBUSH1D with SHOCKA option and SPRING option
. . . $
$* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;BEGIN BULK
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Geometric, Material Nonlinear Spring, and Damper Element302
Main Index
PARAM, POST, –1
PARAM, AUTO SPC, YES
PARAM,MAXRATIO, 1 .E+8
PARAM LGDISP 1
PARAM LANGLE 2
$
$ CBUSH1D element (SHOCKA option with TABLE for S(u)
$and TABLE for SPRING constant)
$
CBUSH1D, 100, 101, 8, 19
$
$ CVT = 0.2 damping for tension
$ CVC = 0.4 damping for compression
$ S(u) = 1.0 constant scale factor
$ EVT = 1.0 exponent of velocity for tension
$ EVC = 0.5 exponent of velocity for compression
$
PBUSH1D, 101, 10.0, 0.4, ,,,, ,+PB1
SHOCKA, TABLE, 0.2, 0.4, 1.0, 0.5, 999, , +PB2
SPRING, TABLE, 998
$
TABLED1, 999,,,,,,,, +TB999
+TB999, –1000., 1.0, 0.0, 1.0, 1000., 1.0, ENDT
$
TABLED1, 998,,,,,,,, +TB998
+TB998, –1000., –10000., 0.0, 0.0, 1000., 10000., ENDT
$ . . . $ ENDDATA&lt;/p&gt;
&lt;p&gt;303 CHAPTER 6
Damping
Main Index
Figure 6-10  Load and Displacement at Tip C for the Automotive Suspension Model
Enhanced Structural Damping for Anisotropic Materials
Introduction
The MAT2 entry has been extended to allow for 6 structural damping coefficients and the MAT9 has been
extended to allow for 21 structural damping coefficients.  The rational of these entries is that with composite
materials made of a viscoelastic resin system, the damping matrix does not scale with the stiffness matrix. For
example, in the directions where you have more fibers, the stiffness is higher because you have more fibers
but the damping coefficient is smaller because you have less resin matrix which is the main source of
damping.
Displacement at Tip C in the Z-Direction
Time&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enhanced Structural Damping for Anisotropic Materials 304
Main Index
Benefits
With many modern composite materials made of a viscoelastic resin system, the damping matrix does not
scale with the stiffness matrix. For example, in the directions where you have more fibers, the stiffness is
higher because you have more fibers but the damping coefficient is smaller because you have less resin matrix
which is the main source of damping. Thus the extended structural damping coefficients on the MAT2 and
MAT9 entries provide a mechanism to account for resin damping characteristics.
Extended Structural Damping for MAT2 and MAT9
To remove the restriction that structural damping is proportional to stiffness the MAT2 and MAT9 entries
have been modified as shown in red below:
In these entries, if any GEij value is present, the GE field is ignored. The new MAT2F and MAT9F have
associated GEij fields as does the MATT2 and MATT9.
The figure below shows a simple strip of CQUAD4 elements with associated PCOMP entries. The PCOMP
associated with elements 1-6 have some associated PDISTB entries. Also, the PCOMP associated with 1 2 3 4 5 6 7 8 9 10
MAT2 MID G11 G12 G13 G22 G23 G33 RHO
A1 A2 A3 TREF GE ST SC SS
MCSID GE11 GE12 GE13 GE22 GE23 GE33
1 2 3 4 5 6 7 8 9 10
MAT9 MID G11 G12 G13 G14 G15 G16 G22
G23 G24 G25 G26 G33 G34 G35 G36
G44 G45 G46 G55 G56 G66 RHO  A1
A2 A3 A4 A5 A6 TREF GE
GE11 GE12 GE13 GE14 GE15 GE16 GE22 GE23
GE24 GE25 GE26 GE33 GE34 GE35 GE36 GE44
GE45 GE46 GE55 GE56 GE66&lt;/p&gt;
&lt;p&gt;305 CHAPTER 6
Damping
Main Index
elements 7-12 have some PDISTB entries. There is a MAT2 entry associate with PCOMP1 that used the
new extended GEij feature.
New features for this model are the PDISTB entries shown and the extended GEij fields shown on the MAT2
entry.
NASTRAN PRTPCOMP=1
SOL 108
CEND
&amp;hellip;
BEGIN BULK
&amp;hellip;
$ 2 3 4 5 6 7 8 9
0
PDISTB 1 PCOMP 1 T 2 .2
1 1. 2 1. 3 1. 4 1.
5 1. 6 1.
PDISTB 2 PCOMP 1 T 5 .2
1 1. 2 1. 3 1. 4 1.
5 1. 6 1.
PDISTB 3 PCOMP 1 GE  1.
7 .15 8 .05 9 .07 10 .03
11 .07 12 .05
PCOMP    1                                               .1
1      .1      90.      YES     1      .8      45.      YES
1      .2      -45.     YES     1      .2      -45.     YES
1      .9      45.      YES     1      .1      90.      YES
$
MAT2 1 2.7866+38.3447+21.0139+23.3020+31.0139+21.1069+31.-9
0.
.01 .15 .15 .01 .15 .11
$
PDISTB 9 PCOMP 2 THETA 4 -45.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enhanced Structural Damping for Anisotropic Materials 306
Main Index
7 1. 8 1. 9 1. 10 1.
11 1. 12 1.
PCOMP    2                                               .025
2      .1      90.      YES     2      .2      45.      YES
2      .2      -45.     YES     2      .2      +75.     YES
2      .2      45.      YES     2      .1      90.      YES
$
&amp;hellip;
$
ENDDATA&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide
Chapter 7: Enforced Motion
7 Enforced Motion
Overview
Direct Enforced Motion in Dynamic Analysis
Enforced Motion with Loads
Large Mass Method - Direct
Large Mass Method - Modal
User Interface for the Large Mass Method
Examples&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview308
Main Index
Overview
Enforced motion  specifies the displacements, velocities, and/or accelerations at a set of grid points for
frequency and transient response. Enforced motion is used when motion is specified instead of or in
conjunction with applied loads. A common application is an earthquake excitation applied to a building. In
this case there are no applied loads, instead the base of the building undergoes an enforced displacement or
acceleration time history.
The direct method for enforced motion permits direct specification of displacements, velocities, or
accelerations via t he SPC and SPCD data entries. This can eliminate the need for large masses.
Other methods for prescribing enforced motion in dynamics use the procedures described in Frequency
Response Analysis  and Transient Response Analysis  for specifying applied forces in conjunction with techniques
that convert applied forces into enforced motion.  One method that is applicable to both transient response
and frequency response is the large mass method. Another method is the inertial loads method. Both of these
methods often lead to computational and numerical problems due to round-off errors and pseudo rigid body
modes. There is also the Lagrange Multiplier technique, but it is very manual and requires DMAP .
Direct Enforced Motion in Dynamic Analysis
The method called the SPC/SPCD method is regarded as the method of choice for all enforced motion
applications in dynamic analysis. This method of specifying enforced motion permits direct specification of
displacements, velocities, or accelerations via SPC/ SPCD data, thus eliminating the need to employ large
mass or Lagrange Multipliers. MSC Nastran directly utilizes this enforced motion information in the
equations of motion, partitioning and integrating them (in the case of transient analysis) in accordance with
the type of motion specified.
The enforced motion capability is implemented in direct and modal frequency analysis (Solutions 108 and
111), direct and modal transient analysis (Solutions 109 and 112), aeroelastic response (SOL 146) and design
optimization (Solution 200).
The total solution of a dynamic enforced motion analysis using SPC/SPCD can be regarded as a combination
of a static enforced motion solution (similar to what is done in SOL 101) and a dynamic enforced motion
solution that is relative to this static-based solution. T wo methods are employed for obtaining the solution in
Nastran. In the total or absolute (TOTAL/ABS) motion method, the program solves directly, in one step, for
the TOTAL solution of the dynamic analysis which includes both the static-based solution and the dynamic
solution that is relative to the static-based solution. In the relative (REL) motion method, the program
obtains the total solution of the dynamic analysis in two steps, by first solving for the static-based solution
and then solving separately for the dynamic solution RELATIVE to the static-based solution.
The TOTAL/ABS solution method is computationally more efficient. This is also the only method that is
meaningful and that should be employed when a problem involves the use of NOLINi or NLRGAP entries.
An important point to note regarding this method is that, for modal dynamic analysis, residual vectors are
absolutely critical in order for this method to get correct answers.
The REL solution method, though less efficient, may be more accurate for transient solutions and for modal
frequency response solutions at very low forcing frequencies. Also, for modal dynamic analysis, this method
is not as critically dependent on residual vectors as the TOTAL/ABS solution method.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P17</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_017/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_017/</guid>
      <description>
        
        
        &lt;p&gt;309 CHAPTER 7
Enforced Motion
Main Index
A user parameter called ENFMETH controls the solution method when dynamic enforced motion analysis
via SPC/SPCD is used in SOLs 108, 109, 111, 112, 146 and 200. The default value of ENFMETH is
TOTAL (or ABS).
A user parameter called ENFMOTN is used with the SPC/SPCD method in SOLs 108, 109, 111, 112, 146
and 200. This parameter controls how the results of the analysis are output. The total solution of a dynamic
enforced motion analysis using SPC/SPCD can be regarded as a combination of a static enforced motion
solution (similar to what is done in SOL 101) and a dynamic enforced motion solution that is relative to this
static-based solution. If the value of the ENFMOTN parameter is specified as TOTAL or ABS, then the
output results of the analysis represent the TOTAL solution of the dynamic analysis which includes both the
static-based solution and the dynamic solution that is relative to the static-based solution. If the value of
ENFMOTN is specified as REL, then the output results represent the dynamic solution RELATIVE to the
static-based solution. In the case of modal dynamic analysis, this latter scenario is equivalent to employing
the large mass approach and excluding the low frequency mode(s) resulting from the large mass usage. The
default value for the ENFMOTN parameter is TOTAL (or ABS). It should be noted that, in general, the
static-based solution mentioned above may not be a stress-free solution. Therefore, in general, the usage of
PARAM,ENFMOTN,TOTAL (or ABS) and PARAM,ENFMOTN,REL in an SPC/SPCD enforced
motion analysis may give different results not only for displacements, but also for stresses.
It should be emphasized here that the ENFMETH parameter is completely separate, independent and
distinct from the similarly sounding ENFMOTN parameter. These two parameters should not be confused
with each other. The former controls the solution method when dynamic enforced motion analysis via
SPC/SPCD is used while the latter controls how the results of such an analysis are output.
Frequency Response Analysis
The fundamental assumption in frequency response analysis is that transient effects are negligible, and the
time-dependent nature of the loads can be expressed purely in terms of harmonic forcing functions. The
forced response of the structure to these harmonic loads thus occurs at the same frequency, and in proportion
to the magnitude of the applied loads.
If instead of an harmonic force one were to apply an enforced motion, the effect would be similar, that is, a
response with proportional forces of constraint, at the same frequency as that of the enforcing motion.
Furthermore, any one of the enforced displacement, velocity, or acceleration must uniquely determine the
other two (because they differ only by multiples of frequency), with resultant forces of constraint derived
from a solution of the governing equations.
To illustrate this, an applied harmonic forcing function of the form:
will necessarily give rise to the in-phase displacement
with the corresponding velocity and accelerationPt Peit =
ut Ueit =
u·ti=Ueit&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Direct Enforced Motion in Dynamic Analysis310
Main Index
and
yielding the familiar equations of frequency response. Here they are written after multipoint constraint
partitioning operations have been performed leaving just the free (f-set) and constrained (s-set) degrees-of-
freedom
where  are the external loads applied to the s-set, and  are the corresponding forces of constraint.
If the constraints specify zero motion , the solution for the free degrees-of-freedom may be
obtained directly from the upper part of the above equation as:
(7-1)
and the corresponding constraint forces from the lower part  as:
(7-2)
If enforced displacements, velocities, or accelerations are applied,  and the free degrees-of-
freedom, again from  are:
(7-3)
With corresponding constraint forces:
(7-4)
Comparing Eqs. (7-3) and (7-4) with Eqs. (7-1) and (7-2) shows that the enforced motion modifies the forces
applied to the f-set degrees-of-freedom.  Note also that, were enforced velocities to be applied instead, the
resultant applied displacements would differ by a factor of , and by  in the case of
enforced accelerations.
Transient Response Analysis
Because it involves displacement and its higher-order time derivatives, the solution of the transient dynamic
equations of motion must be performed in a stepwise integral fashion for every time step, t. As with frequency
response, the implications for constrained motion are that any enforced displacement, velocity or acceleration
uniquely defines the other two quantities for that degree-of-freedom, with the necessary forces of constraint u··t2–U = eit
2MffMfs
MsfMss– iBffBfs
BsfBssKffKfs
KsfKss+ +
    Uf
UsPf
Psqs+
     &lt;/h1&gt;&lt;p&gt;Psqs
Us0 = 
2Mff– iBffKff+ +  UfPf=
qsPs–2Msf– iBsfKsf+ +  Uf+ =
Us0
2Mff– iBffKff+ +  UfPf2Mfs– iBfsKfs+ +  Us– =
qsPs–= 2Msf– iBsfKsf+ +  Uf2Mss– iBssKss+ +  Us+ +
1i 12 –&lt;/p&gt;
&lt;p&gt;311 CHAPTER 7
Enforced Motion
Main Index
determined by solution of the governing equations of motion at the particular time step(s) of interest. Unlike
frequency response, however, higher-order displacement derivatives for the enforced degrees-of-freedom
must be determined by finite difference, with lower-order quantities (for example, displacements and
velocities for applied accelerations) determined by numerical integration.
After multipoint constraint partitioning, the transient dynamic equations of motion, expressed in terms of
the free (f-set) and constrained ( s-set) degrees-of-freedom are:
(7-5)
In the case of zero constrained motion,  and the solution for the free degrees-of-
freedom is available directly from Eq. (7-5) as:
(7-6)
with corresponding forces of constraint from :
(7-7)
In the case of enforced motion, , ,  and the solution for the free degrees-of-freedom, again
from Eq. (7-5) is then:
(7-8)
with constraint forces,
(7-9)
As with frequency response, note that the effect of enforced motion is to modify the loads on the f-set, and
the s-set forces of constraint.
User Interface and Specification of Enforced Motion
Enforced acceleration or enforced velocity usage in transient analysis via SPC/SPCD specification requires
integration to compute the corresponding enforced velocities and/or displacements. This integration
involves the use of initial conditions. The user can specify initial displacements for enforced DOFs in the
case of enforced velocity usage and initial displacements as well as initial velocities for enforced DOFs in the
case of enforced acceleration usage. The initial displacement and velocity values are specified via
corresponding factors in the US0 and VS0 fields on the TLOAD1  and TLOAD2  Bulk Data entries. MffMfs
MsfMssu··f
u··s BffBfs
BsfBssu·f
u·s KffKfs
KsfKssuf
us&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+Pft
Pstqst +
     
=
usu·su··s0 = = =
Mff u··fBff u·fKff uf+ + Pft =
qst Pst –= Msf u··fBsf u·fKsf uf+ +   +
usu·su··s0
Mff u··fBff u·fKff uf+ + Pft = Msf u··sBsf u·sKfsus+ +   –
qst Pst – Msf   Mss u··f
u··s+ = Bsf   Bssu·f
u·sKsf   Kssuf
us+ +&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Direct Enforced Motion in Dynamic Analysis312
Main Index
It should be noted here that the initial conditions for the enforced DOFs mentioned here are distinct from,
and may be used in conjunction with, the initial conditions for independent DOFs that may be specified by
a TIC Bulk Data entry.
Enforced motion in early versions of MSC Nastran used a nonzero value in the TYPE field (field 5) on the
TLOAD1 and TLOAD2 entries to specify whether an enforced displacement, velocity, or acceleration were
to be applied using the large mass method. Although these integer values are still allowed, the field has now
been generalized to permit character input, and a similar TYPE field has been included in field 8 of the
RLOAD1 and RLOAD2 entries to support enforced motion in frequency response analysis. The new TYPE
field for these dynamic loading/enforced motion entries now reads as follows:
The character fields may be shortened to as little as a single character on input, if desired.
In order to allow maximum input flexibility and to support existing input data files which had used the large
mass method, the decision regarding whether to use the older, large mass method, or the newer direct
enforced motion will be made based on a search for SPC/SPC1/SPCD data as follows: If the TYPE field on
the TLOAD1/2 entries indicates an enforced motion, the EXCITEID field will first be assumed to point to
SPC-type data. If not present, MSC Nastran will then assume the excitation is enforced motion using large
masses and will then look for DAREA and various static loading data, just as in the case of applied loads.
RLOAD1 and RLOAD2 entries will only look for SPC-type data in the case of enforced motion. For all
entries (TLOAD1/2, RLOAD1/2), if the TYPE field indicates an applied load, the program will search only
for static loading data.
With direct enforced motion, data is supplied via the SPC/SPC1/SPCD Bulk Data entries. (Note that
components specified in SPCD data must be also be referenced on SPC or SPC1 entries.) Enforced motion
could be defined solely with SPC data (without the use of SPCD’s), but such usage is discouraged in favor of
SPC/SPC1 data in conjunction with SPCD’s. In this way, SPCD entries are selected via the EXCITEID field
in the dynamic load data, while the SPC/SPC1 sets are used to identify the constrained displacement set in
Case Control. With SPC data alone, enforced motion is applied solely via Case Control. The entries
referenced by the EXCITEID field on the TLOAD1/2 or RLOAD1/2 entries do not have to exist. This
method of specifying enforced motion is less elegant and somewhat more difficult to interpret.
Residual Vector (Modal Augmentation)
When enforced motion is employed in modal dynamic response analysis, the use of Modal Augmentation
vectors is highly recommended in order to improve solution accuracy. Without these vectors, the obtained
results may be unacceptable. Qualitatively, the enforced motion shapes, or “modes”, may not necessarily be
represented by the component modes of the structure, leading to a truncation of the enforced motion shapes Value Excitation Function
0, or LOAD Applied load (Default)
1, or DISP Enforced displacement using large mass or SPC/ SPCD data
2, or VELO Enforced velocity using large mass or SPC/SPCD data
3, or ACCE Enforced acceleration using large mass or SPC/SPCD data&lt;/p&gt;
&lt;p&gt;313 CHAPTER 7
Enforced Motion
Main Index
during projection to the modal space. These shapes can be regained by the use of Modal Augmentation
Vectors, and can be triggered simply enough by specifying PARAM, RESVEC ,YES in the Bulk Data Section
also see Residual Vector  (Ch. 13). The necessary static loads are automatically derived by MSC Nastran from
the enforced motion data, and no additional loads specification is necessary.
Diagnostic Messages
Some of the diagnostic messages resulting from a dynamic response analysis execution:
A user information message indicates the types of excitation specified (applied loads, enforced
displacement, enforced velocity, or enforced acceleration using either SPC-type data or large masses,
or a combination thereof).
A user warning message is issued if any of the individual dynamic loading data results in a null
loading condition.
The execution is terminated with a user fatal error if the total excitation is null in a frequency
response analysis, thereby implying a null solution. Such a fatal error has always occurred in
transient response analysis.
Procedure for Using the Enhanced Enforced Motion Feature
In summary, the procedure for applying enforced motion in a dynamic analysis:
1.Specifies the appropriate type of enforced motion to be applied via the TYPE field in
RLOAD1/ RLOAD2 (field 8) or TLOAD1/ TLOAD2 (field 5) Bulk Data entry, as appropriate.
2.Defines the desired enforced motion using the SPCD Bulk Data entry. The set IDs of these SPCD
data must match the IDs appearing in the EXCITEID fields of the corresponding dynamic load data
in step 1.
3.Ensures that the components referenced in the SPCD Bulk Data entry above are also specified in the
SPC/SPC1 Bulk Data and this SPC/SPC1 data is also selected in Case Control Section.
4.Ensures PARAM,RESVEC is set to YES in the Bulk Data Section if a modal dynamic solution
approach is used.
The following simple examples illustrate these steps for a frequency and transient response analysis,
respectively.
Direct Enforced Motion Usage in Frequency Response Analysis
.
.
.
SOL 108
CEND
TITLE = SPECIFICATION OF ENFORCED DISPLACEMENT
$ THE FOLLOWING REQUEST SELECTS SPC1 ENTRY 1000
SPC = 1000
$ THE FOLLOWING REQUEST SELECTS RLOAD1 ENTRY 100
DLOAD = 100
.
BEGIN BULK
$ THE FOLLOWING SPC1 ENTRY IS SELECTED&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Direct Enforced Motion in Dynamic Analysis314
Main Index
$ VIA CASE CONTROL
SPC1,1000,1,70,80,90
$ THE TYPE FIELD IN THE FOLLOWING RLOAD1 ENTRY
$ SPECIFIES ENFORCED DISPLACEMENT.  ACCORDINGLY,
$ EXCITEID ID 200 HERE REFERS TO SPCD DATA.
$RLOAD1,SID,EXCITEID,DELAY,DPHASE,TC,TD,TYPE
RLOAD1,100,200, , , 300, ,DISP
$ THE FOLLOWING SPCD ENTRY IS SELECTED BY THE
$ RLOAD1 DATA ABOVE
$ NOTE THAT GRID POINT 80 - COMPONENT 1 SPECIFIED
$ HERE ALSO APPEARS IN THE SELECTED SPC1 DATA.
$ NOTE ALSO THAT THE VALUE OF 1.1 SPECIFIED HERE
$ REPRESENTS DISPLACEMENT
$SPCD,SID,G,C,VALUE
SPCD,200,80,1,1.1
.
.
.
Direct Enforced Motion Usage in Transient Response Analysis
.
.
.
SOL 109
CEND
TITLE = SPECIFICATION OF ENFORCED ACCELERATION
$ THE FOLLOWING REQUEST SELECTS SPC1 ENTRY 1000
SPC = 1000
$ THE FOLLOWING REQUEST SELECTS TLOAD1 ENTRY 100
DLOAD = 100
.
.
.
BEGIN BULK
$ THE FOLLOWING SPC1 ENTRY IS SELECTED
$ VIA CASE CONTROL
SPC1,1000,3,75,85
$ THE TYPE FIELD IN THE FOLLOWING TLOAD1 ENTRY
$ SPECIFIES ENFORCED ACCELERATION.  ACCORDINGLY,
$ EXCITIED ID 300 HERE REFERS TO SPCD DATA.
$TLOAD1,SID,EXCITIED,DELAY,TYPE,TID
TLOAD1,100,300, ,ACCE, 500
$ THE FOLLOWING SPCD ENTRY IS SELECTED BY THE
$ TLOAD1 DATA ABOVE.
$ NOTE THAT GRID POINT 85 - COMPONENT 3 SPECIFIED
$ HERE ALSO APPEARS IN THE SELECTED SPC1 DATA.
$ NOTE ALSO THAT THE VALUE OF 2.5 SPECIFIED HERE
$ REPRESENTS ACCELERATION
SPCD,300,85,3,2.5
.
.
.
Example
The following example illustrates the application of enforced motion in frequency response. See
MSC_DOC_DIR/tpl6/dynamics/bd07enf.dat. The tower ( Figure 7-1) is subjected to a 1G (9.81m/sec2)&lt;/p&gt;
&lt;p&gt;315 CHAPTER 7
Enforced Motion
Main Index
enforced acceleration applied to the base of the tower.  An extra grid point ties the four bottom grid points
together using an RBE2 element.
The selected portion of the input file is shown in Listing 7-1 and illustrates how this enforced motion is
applied.  In this case, the ACCE field (field 8) on the RLOAD2,101 entry indicates that the enforced motion
type is acceleration. Field 3 on the RLOAD2 entry points to the SPCD,101 entry with an enforced motion
of 9.81 m/sec2 in the x-direction of grid point 1. The degree-of-freedom with enforced motion specified
must also be constrained, once again x-direction of grid point 1. This is accomplished by the SPC1,30 entry.
Notice that the SPCD/SPC1 combination is similar to the static enforced displacement procedure.
Figure 7-1  Tower for Enforced Motion.
Listing 7-1  Partial Input for Enforced Motion
$
$   FILE bd07enf.dat&lt;br&gt;
$
INIT MASTER(S)
SOL 111
DIAG 8
CEND
1547&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Direct Enforced Motion in Dynamic Analysis316
Main Index
SET 99=1,547
DISPLACEMENT(SORT1,PHASE) = 99
SPCFORCE(SORT1,PHASE) = 99
ACCELERATION(SORT1,PHASE) = 99
DLOAD = 101
FREQUENCY = 3
METHOD = 1
SDAMPING = 2
SPC=30
BEGIN BULK
param,post,0
param,resvec,yes
EIGRL          1                      10       0                    MASS
$
TABDMP1        2    CRIT                                                +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;        0.    0.05      1.    0.05ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$
TABLED2        1      0.                                                +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;        0.      1.      1.      1.ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$
RLOAD2,101,101,,,1,,ACCE
$
SPC1,30,123456,1
$
SPCD,101,1,1,9.81
freq4   3       10.     35.     .05     5
freq1   3       10.     1.      25
$
RBE2          82       1     123      22      43     392     101
$
&amp;hellip;&amp;hellip;rest of input
ENDDATA
A 5% critical damping ratio and a frequency combination of FREQ1 and FREQ4 are used for this analysis.
As with all modal approaches, the residual vector (PARAM,RESVEC,YES) improves the quality of the
results. A partial output is shown in Listing 7-2 where grid point 1 is the enforced motion point and grid point
547 is at the top of the tower.  Note that the acceleration at grid point 1 in the x-direction is 9.81 m/sec2,
which is what one would expect, since that is the actual enforced acceleration value.
Listing 7-2  Partial Output from Enforced Motion&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY =  1.000000E+01
                                                                                    C O M P L E X   A C C E L E R A T I O N   
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;V E C T O R
(MAGNITUDE/PHASE)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.               TYPE                         T1                           T2                          T3                           
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;R1                          R2                          R3
0                1                    G                 9.810000E+00          0.0                          0.0                       &lt;br&gt;
0.0                         0.0                      0.0
0.0                            0.0                         0.0                        &lt;br&gt;
0.0                        0.0                       0.0
0            547                    G                 3.791660E+01          8.261231E-02        2.580789E+00         7.377076E-
03       1.751959E+00     1.085166E-01
343.6485                  326.0110                338.0020             &lt;br&gt;
348.9515               337.9252             338.4973&lt;/p&gt;
&lt;p&gt;317 CHAPTER 7
Enforced Motion
Main Index
Enforced Motion with Loads
Three distinct methods are employed i n MSC Nastran for enforcing motion with loads: the Large Mass/
Spring approach, the Inertial Loads method, and the Lagrange Multiplier (LMT) method).
Large Mass/Spring Method
The Large Mass/Spring approach is actually a modeling technique in which the user places an element with
a large mass or stiffness at the points of known acceleration or displacement. In effect, this large element acts
as a constraint on the connected point. The user then supplies a corresponding large force via RLOADi or
TLOADi inputs to produce the desired motion. If the added element is sufficiently stiff or heavy, the reaction
forces from the actual structure will not affect the input motions. Applications of both large mass and large
spring techniques are discussed below.
Using a large mass to enforce boundary motions is a standard practice in MSC Nastran. It works well on a
simply supported structure when a single grid point is excited by a well defined acceleration input. A typical
example is the earthquake analysis of a tall building where a single base input is assumed. However, the
method may be abused when other types of boundary conditions are attempted.
Some additional considerations for the analyst are listed below:
1.If enforced motion is applied to a redundant set of boundary points, a danger exists that the large
masses (or springs) may create fictitious forces and stresses in the structure. This occurs when the
enforced displacements inputs are not precisely synchronized. Also, in a modal formulation, the extra
masses will cause fictitious low frequency modes to occur. The recommended procedure is to connect
the redundant points with RBE (rigid) elements to prevent their independent motions. The Lagrange
Multiplier method is much better, but will not correct for errors in the loading functions and is hard
to use.
2.Small errors in the loading history may cause large errors in the structural response. When using
enforced accelerations in a transient solution, a small bias in the inputs (from instrumentation or
processing) may cause a large spurious drift where the structure displaces a large amount as a rigid
body. Solutions to remove the drift are as follows:
•Supply a corrective load function, obtained from an initial run, to cancel the measured drift;
•Add dampers and springs in parallel with mass and tuned to filter the input signal; or
•Use the modal method and drop the zero -frequency modes. (See item 4 below.)
An example of a mechanical filter  is shown in the sketch below. A large mass, M0, is attached to
the base of a structure to allow enforced accelerations. For control of the spurious displacements
and velocities, attach a scalar spring, K, and damper element,  B, between the mass and ground
for each direction.  If the first modal frequency is f1 then set  for a filter frequency
approximately one tenth of the first vibration mode frequency, f1.  Set the damping coefficient
to a value near critical to eliminate spurious oscillations.K 0.4 Mf12=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enforced Motion with Loads318
Main Index
3.In nonlinear transient solutions, large springs can affect the error tests and convergence logic. The
internally calculated error ratios are dimensionless numbers obtained by dividing the errors by an
average force or total energy. The forces and energy created by the large mass/spring  approach will
dominate these values, resulting in underestimates of the errors and false convergence. The solution
is to decrease the error allowables on the NLSTEP or TSTEPNL B ulk Data inputs.
4.Using these methods in a modal formulation requires some attention. For output of total
displacements, the user should retain the zero or low frequency modes that the large masses produce
(i.e., set the parameter LFREQ  = – .01). Note that if the low frequency modes are dropped from the
dynamic solution, the output will be the correct relative motion.
Large springs  for enforced displacements are not recommended for the modal formulations. They will
generate high frequency modes that are usually missing from the system. The resulting dynamic
solution is not valid since the large springs are not included in the modal stiffness matrix.
5.Numerical conditioning of the matrix solution  may be affected by the method used to connect the
large mass or spring. Numerical roundoff of the results may occur. MPCs, RBEi’s, and ASET
operations all use a matrix elimination procedure that may couple many degrees -of-freedom. If a large
mass or spring is not retained in the solution set, its matrix coefficient will be distributed to other
solution points. Then, matrix conditioning for decomposition operations becomes worse, when the
large terms dominate the significant finite element coupling terms. On the other hand, if the
degrees -of-freedom with the large terms remain in the solution set, they remain on the diagonal of
the matrix and the matrix decomposition is unaffected.
In summary, the large mass method  is recommended for cases with known accelerations at a single point. It
works well with the modal formulation, providing good stress and forces near the mass, and is easy to Structure
Seismic Mass
B K FilterM0&lt;/p&gt;
&lt;p&gt;319 CHAPTER 7
Enforced Motion
Main Index
understand and use. In many cases, the structure is actually excited by the motions of a large, massive, base
(for instance, the geological strata) which can actually be used as a value for the mass.
The large spring method is recommended for cases in which displacements are known at one point and a
direct formulation is used.  The primary advantage is its simplicity. However, the inertial loads approach or
Lagrange Multiplier technique, described below, are more general and have better reliability.
The Inertial Loads Approach
By changing to a moving coordinate system, the reference accelerations may be converted to inertial loads.&lt;br&gt;
If the dynamic problem involves a free body connected to a single rigid base, the GRAV and dynamic load
inputs may be used to supply forces proportional to the base acceleration. The solution will be defined by
the displacements measured relative to the fixed base.
Approach
The basic approach is shown in the sketch below:
We assume that the motions of the rigid base are known and the structure is fixed only to the base. Define
the displacement vector, u, as a sum of the known base motion, u0 and the relative displacements, u by the
equation
{u} = {u} + [D]{ u0} (7-10)
where [D] is the rigid body transformation matrix that includes the effects of coordinate systems, offsets, and
multiple directions. If the structure is a free body and aerodynamic effects are neglected, the base motions
should not cause any static or viscous forces and
(7-11)
where [K] is the stiffness matrix and [B] is the damping matrix. These properties allow us to remove the
reference motions from the solution as shown:
The equilibrium equation for the whole system is
(7-12)Structure
Baseuu
u0
KD 0=
and BD 0=
Mu·· Bu· Ku + + P =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enforced Motion with Loads320
Main Index
Substituting Eqs. (7-10) and (7-11) into Eq. (7-12), we obtain
(7-13)
The solution matrices have not changed, but the solution, u, must be zero at the base attachment points.
The right-hand term in Eq. (7-13) may be calculated in MSC Nastran using one of several options. One
option is the response spectra analysis described in Shock and Response Spectrum Analysis . Another is a recent
MSC Nastran implementation that now allows time -dependent gravity loads. By definition, the GRAV input
generates load vectors of the form
(7-14)
where g is the gravity vector. Then if g were time dependent, it could be used to replace u0 in Eq. (7-13) if
(7-15)
Input Data
The inertial loads method is available for all dynamic response solutions. The method is valid for both direct
and modal formulations and is automatic in nonlinear and superelement models. Briefly, the necessary input
data is as follows:
1.GRAV &amp;ndash; Bulk Data defining an acceleration vector. Several may be included to define different
functions of time for the different directions.
2.SPC &amp;ndash; remember to fix the base attachments.
3.TLOADi or RLOADi Bulk Data for the dynamic load definition. Reference to the EXCITEID to
the GRAV SIDs.
Other necessary inputs are the conventional DLOAD and TABLEDi data to help define the time functions.
Recom mendations
The following comments describe the benefits and drawbacks to the method:
1.The solution will avoid the problem of rigid body drift that occurs in the other methods when small
errors are present in the input accelerations.
2.By eliminating large constant terms, the stress and force calculations may be numerically more
precise.
3.The method is compatible with superelement and nonlinear solution sequences.
4.No special sets or SUPORT data is necessary.
5.The main drawback is that the output accelerations are also relative and will not correlate to measured
accelerations.
Lagrange Multiplier Technique
The Lagrange Multiplier Technique (LMT) is a special option for processing constraints in matrix solutions.
It can be used for all constraints and reduction methods such as SPC, MPC, and rigid elements. LMT can Mu·· Bu· Ku + + P MDu··0 – =
Pg MDg =
gt u··0t –=&lt;/p&gt;
&lt;p&gt;321 CHAPTER 7
Enforced Motion
Main Index
also be used for enforced motion analysis in dynamic analysis. Unlike the approximate large mass approach,
the LMT is an exact method. The LMT requires adding extra degrees -of-freedom to the matrix solution that
are used as force variables for the constraint functions. Coefficients are added to the matrices for the
equations that couple the constrained displacement variables to the points at which enforced motion are
applied.
The LMT produces indefinite system matrices that require special resequencing of variables for numerical
stability by either the user or by a special solver. The sparse matrix includes an automatic row and column
interchange capability that allows reliable and efficient solution of indefinite matrices without the need for
the user to sequence variables for numerical stability. This solver is available in the transient and frequency
response solver modules.
Compare Condensation and Augmentation Solution Methods
A small model is used here to contrast the conventional method of constraint elimination and the LMT
method of constraint augmentation. Consider the statics model shown:
Given this model, static equations of motion are as follows:
[K] { u} = {P} + { q} (7-16)
u1 = Y1 (7-17)
{q} contains the unknown constraint forces required to cause the enforced motion and react to the applied
force. Y1 is the known enforced displacement, and P2 is the known applied force.
In the LMT method, the constraint equations are included in the system equations. The displacement
constraint can be written in matrix form after q1 is moved to the left side,
(7-18)ku1
u2enforced motion Y1 applied
force P2 appliedm1
m2
010q1–
u1
u2Y1=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enforced Motion with Loads322
Main Index
This row and a corresponding column are added to the system matrix to produce
(7-19)
In the equation [K] {u} = {P} , the known vector quantities are now all on the right side, and the unknown
vector quantities on the left side. This equation can be solved directly without the need for partitioning or
constraint elimination. In dynamic analysis, enforced motion can be input on velocity and acceleration
variables directly by similar techniques. The system has a unique solution even though there are null terms
on the diagonal of [K]. These null terms are an indication of an indefinite matrix.
For a conventional modal solution, the unconstrained equation for eigensolution is
(7-20)
When the constraint reduction process is used, the first row and column are eliminated. The resulting
equation for the eigenvalue  is then
k/m (7-21)
Alternatively, using the LMT process, the system is augmented with the constraint variables, with the
resulting determinant
(7-22)
When this determinant is evaluated, the only non -null product results from the (12)(21)(33) terms, resulting
in the same expression, k/m.
Three counter -intuitive consequences are as follows:
1.mdoes not enter into the determinant at all, even though it is present in the matrix. In a constraint
reduction process, by contrast, any mass term that appears in the matrix used for eigensolution affects
the eigenvalues.
2.Although the matrix has three rows and columns and two mass terms on its diagonal, only one value
of  is defined. One might expect that this system would have two or three values for , but it does
not. Other values of  beyond this single value are neither zero nor infinity nor any other value. They
are simply undefined.
3.The results from a condensation solution and an augmentation solution are identical. This is a general
rule.K010
1kk–
0k–k,     PY1
0
P2
,     uq1–
u1
u2
= = =
km1– k–
k– km2–u1
u20 =
0 1 0
1 km1– k–
0 k– km2–0=&lt;/p&gt;
&lt;p&gt;323 CHAPTER 7
Enforced Motion
Main Index
The resulting eigenvector is
(7-23)
Where cis the constrained eigenvector for the displacements and r is the reaction force. Note the scale factor
of the whole eigenvector may be affected by r if the normalization method is MAX. For a dynamic solution
using a modal formulation, the matrices are transformed using the modes above. In the stiffness, mass, and
damping matrices, the constraint coefficients have no effect. However, if Y1 is an enforced displacement, the
generalized modal forces are
(7-24)
The result of applying an enforced displacement on the LMT coordinates, Y1, will be a modal force in the
opposite of the direction of motion. The results of a modal solution will be relative to Y1. See below for a
solution that provides total displacements.
Matrix Theory for Dynamic Response
Notation
The notation of the conventional solutions is described in Constraint and Set Notation  in the MSC Nastran Quick
Reference Guide . It is maintained with the following changes. The Lagrange Multiplier T echnique requires
the definition of enforced motion variables. Their DOFs are placed in the u1, u2, and u3 sets. These sets are
members of the USET table but are not used in the conventional solution method. They are defined on
USETi Bulk Data entries. They are regarded as members of the b -set, and have the following meanings:
New Unique Sets for Enforced Motion
The Unique Sets
Almost all of the letters of the alphabet are already in use to describe sets in the conventional solutions.
Therefore, sets with integers for names are added to the present set names which use letters of the alphabet
instead.
Direct Solutions in the Frequency and Time Domains
The statement of the frequency response problem is
(7-25)u1 Enforced displacement set
u2 Enforced velocity set
u3 Enforced acceleration setr–
c1
c2 k
0
1.0
= =
PcTPgrTY1– P2k–Y1= =
Addud Pd =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Enforced Motion with Loads324
Main Index
where:
(7-26)
[K], [B], and [M] are the stiffness, damping, and mass matrices, respectively, and  is the excitation
frequency. If static or dynamic reduction is not used, most of the constraints are placed in the stiffness matrix.&lt;br&gt;
The advantage of this placement is that the constraints are not multiplied by . This allows the solution of
the equations at an excitation frequency near to zero. The remaining constraints are associated with enforced
motion variables. These constraints are placed in the stiffness, damping, or mass matrix depending on
whether the enforced motion is the displacement, velocity, or acceleration type, respectively. If static or
dynamic reduction is performed, all m - and s -set constraints are eliminated along with the o -set. The u3-set
is then the only constraint set in the d -set.
The DOFs listed on USET entries are input points for enforced motion. Data conventionally used to define
dynamic loads applied to these points is interpreted to be time - or frequency -varying enforced motions. The
value of the SETNAME entry on the USET entries determines the type of input. A value of u1 indicates an
enforced displacement type. A value of u2 indicates an enforced velocity type, and a value of u3 indicates an
enforced acceleration type. These dynamic quasi -loads are transferred to the enforced motion variables by the
transformation matrix  as follows:
(7-27)
is the load vector output by the FRLG module. In this context it may contain both applied forces and
enforced motions.  has a unit term in each row at the column corresponding to the -set point where
enforced motion is applied.  The enforced motions are removed from the displacement variables by the
transformation matrix ,
(7-28)
where  is an identity matrix except for the rows associated with enforced motion terms, where it has
a zero row. The -set and -set components are merged to form .
The stiffness and constraint components are separated into  and , respectively, where
. This is done in the GMA subDMAP to ensure that the constraints are not
multiplied by the damping factor iG.
The equations for transient response analysis  are similar to those for frequency response analysis. The
subDMAPs for the two types of analysis closely parallel each other.
A new set of partitions not actually used in the DMAP implementation is introduced here. This set aids in
understanding the effects of the enforced motion variables. LetAdd KiB2M – + dd =
T4p
P4 T4pPp =
Pp
T4p ui
Tppx
Pp TppxPp =
Tppx
p u4Pp
Kaag Raa
Kaad KaagRaa + =&lt;/p&gt;
&lt;h1&gt;325 CHAPTER 7
Enforced Motion
Main Index
(7-29)
and
(7-30)
The 3 -set contains the constraint force and displacement variables associated with enforced motion.&lt;br&gt;
is the vector of constraint forces and  the vector of constraint displacements. Both are partitions of the
vector and  is their complement.   is the vector of enforced displacements,&lt;br&gt;
additional forces placed on the enforced motion points, and  their complement. The enforced motions
of any LMT variables contained in  are zero by definition.  contains both displacement and
constraint force unknown variables, while  contains both known input displacements and applied
forces.
Consider the case of enforced displacement.   then has the partitions
(7-31)
is a subset of the constraint matrix . By inspection, , an identity matrix, and
is null. The form of the equation of motion is then
(7-32)
For this case  and  have no terms for the -set variables. Their partitions are not shown.
Evaluating the first row of this equation, we obtainudq3
u3
uc&lt;/h1&gt;&lt;h1&gt;PdY3
P3
Pc&lt;/h1&gt;&lt;p&gt;q3
u3
ud uc Y3 P3
Pc
Pc uc
Pc
K
K0 R33R3c
K33K3c
Sym. Kcc=
R33 R4g R33 I33 =
R3c
Mddu··d Bddu·d0I330
I33K33K3c
0Kc3Kccq3
u3
uc&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+Y3
P3
Pc
=
Mdd Bdd u3&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Enforced Motion with Loads326
Main Index
(7-33)
Note that  is the force of constraint with a sign change.
Enforced Accelerations
Now consider the case of enforced acceleration . The equation of motion is then
(7-34)
Again, from the first row,
The input quantity  is an acceleration vector because the first partition of  is equated to an
acceleration vector. That is, the type of the matrix where the constraint equations are placed determines the
type of motion of . The enforced motion variables may be placed in any or all of the matrices. Mixed
types of enforced motion are therefore supported.
Note that in this case,  is the force of constraint.
Modal Equations in the Frequency and Time Domains
All constraint equations are initially placed in the stiffness matrix to allow the solution of the eigenvalue
problem when rigid body modes  are present. The system eigensolution is obtained from the equation
(7-35)
where  is a natural frequency,  is the corresponding eigenvector, and  is the number of
eigenvectors calculated. After the equations are reduced to modal variables, the constraints for enforced
motion are moved to the damping or mass matrix for enforced velocity or enforced acceleration, respectively,
using the same user interface as the direct solutions.
Each static constraint mode is computed by fixing all constraint DOFs except one and applying a unit motion
to it. The motion of the physical variables is the superposition of the motion of the flexible modes and the
constraint modes.
Let , where  is defined in Eq. (7-29).  is the transformation between the
modal and physical dynamic variables.  , the unknown variable vector for modal analysis, has the
componentsu3 Y3 =
q3
0I330
I33M33M3c
0Mc3Mccq··3
u··3
u··c
Bddu·d Kddud + +Y··
3
P3
Pc&lt;/h1&gt;&lt;p&gt;u··3 Y··
3 =
Y··
3 Pd
Y3
q··3
Kaa2Maa2– az 0=
 az z
ud Tdhuh = ud Tdh
uh&lt;/p&gt;
&lt;h1&gt;327 CHAPTER 7
Enforced Motion
Main Index
(7-36)
is the vector of generalized displacements for the flexible modes.  and  are the unknown
constraint force variables and displacement variables for the constraint modes. The corresponding known
variables are
(7-37)
is the modal force vector.  and  are the known enforced motion variables and applied
forces of the enforced motion points.
is obtained from the equation
(7-38)
where  is defined in Eq. (7-30).
The equation relating  and  is used to replace  in Eq. (7-25). The resulting equation is
pre-multiplied by  to form the reduced basis equations of motion as follows:
(7-39)
When the multiplication of Eq. (7-39) is carried out, the components of the modal force vector expressed in
the partitions of Eq. (7-37) become:
(7-40)
(7-41)
(7-42)
The modal forces  have components from all three partitions of .   is identically .&lt;br&gt;
includes loads applied directly to 3 -set points , as well as the constraint forces needed to uz
q3
u3
uh =
uz q3 u3
PhPz
Y3
P3&lt;/h1&gt;&lt;p&gt;Pz Y3 P3
Ph
Ph TdhTPd =
Pd
ud uh ud
TdhT
TdhTZddTdhuh TdhTPd Ph = =
Pz q3zTY33zTP3czTPc + + =
u3 u3 Y3 = =
P3 q33TY3 P3 uc3TPc + + =
Pz Pd u3 u3
P3 P3&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Large Mass Method - Direct328
Main Index
maintain the motion of the unknown input point variables  at the prescribed input motion . (In
this implementation the  forces are moved to .)
If there are enforced motion terms, the rows and columns of the constraint terms,  and , are
moved to the corresponding stiffness, damping or mass matrices. The load vector  has enforced motion
inputs transferred to the LMT variables by the same technique used in the direct solutions. Note that the
presence of enforced motion variables results in nondiagonal h-set matrices, requires the use of the coupled
solution algorithms for frequency response and transient analysis. The matrices are sparse, however, with
off-diagonal terms occurring only in the columns associated with enforced motion so that the effect on
solution cost is small.
Large Mass Method - Direct
If a very large mass , which is several orders of magnitude larger than the mass of the entire structure, is
connected to a degree -of-freedom and a dynamic load  is applied to the same degree -of-freedom, then the
acceleration of the degree -of-freedom, to a close approximation, is as follows:
(7-43)
In other words, the load that produces a desired acceleration  is approximately
(7-44)
The accuracy of this approximation increases as  is made larger in comparison to the mass of the structure.
The only limit for the size of  is numeric overflow in the computer. MSC recommends that the value of
be approximately  times the mass of the entire structure for an enforced translational
degree -of-freedom and  times the mass moment of inertia of the entire structure for a rotational DOF .
The factor  is a safe limit that should produce approximately six digits of numerical accuracy.
The large mass method is implemented in direct transient and frequency response analysis by placing large
masses  on all enforced degrees -of-freedom and supplying applied dynamic loads specified by Eq. (7-44);
that is, the function  is input on entries normally used for the input of loads, and the scale factor  can
be input on DAREA  or DLOAD  Bulk Data entries, whichever is more convenient. CMASSi  or CONMi&lt;br&gt;
entries should be used to input the large masses.
Equation (7-44) is not directly helpful if enforced displacement or enforced velocity is specified rather than
enforced acceleration. However, Eq. (7-44) can be made serviceable in frequency response analysis by noting
thatu3 Y3
P3 Y3
u3 q3
Pd
mo
p
u·· 1
mo&amp;mdash;&amp;mdash;-p =
u··
p mou·· =
mo
mo
mo106
106
106
mo
u·· mo&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P18</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_018/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_018/</guid>
      <description>
        
        
        &lt;p&gt;329 CHAPTER 7
Enforced Motion
Main Index
(7-45)
so that
(7-46)
The added factor (  or ) can be carried by the function tabulated on the TABLEDi entry used to
specify the frequency dependence of the dynamic load.
In the case of transient analysis, provision is made on the TLOAD1 and TLOAD2 entries for you to indicate
whether an enforced displacement, velocity, or acceleration is supplied (TYPE = 1, 2, or 3). MSC Nastran
then automatically differentiates a specified velocity once or a specified displacement twice to obtain an
acceleration. The remaining required user actions are the same as for enforced acceleration.
In summary, the user actions for direct frequency and direct transient response are
Remove any constraints from the enforced degrees -of-freedom.
Apply large masses  with CMASSi  or CONMi  Bulk Data entries to the DOFs where the
motion is enforced. The magnitude of  should be approximately  times the entire mass of
the structure (or approximately  times the entire mass moment of inertia of the structure if the
component of enforced motion is a rotation).
In the case of direct frequency response, apply a dynamic load computed according to Eq. (7-46) to
each enforced degree -of-freedom.
In the case of direct transient response,
•Indicate in field 5 of the TLOAD1  and TLOAD2  entries whether the enforced motion is a
displacement, velocity, or acceleration.
•Apply a dynamic load to each enforced degree -of-freedom equal to , , or ,
depending on whether the enforced motion is a displacement, velocity, or acceleration.
Be careful when using PARAM,WTMASS .  The WTMASS parameter multiplies the large mass value, which
changes the effective enforced acceleration to
(7-47)
Enforced velocity and enforced displacement are changed likewise.
You may well ask whether a stiff spring may be used instead of a large mass.  In that case the applied load is
(7-48)
where  is the stiffness of the stiff spring and u is the enforced displacement. The large stiffness method
certainly works, but the large mass method is preferred because it is easier to estimate a good value for the u··iu·2u– = =
p mou··imou·2mou – = = =
i2–
mo
mo106
106
moumou· mou··
u·· p
moWTMASS &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
p kou =
ko&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Large Mass Method - Modal330
Main Index
large mass than to estimate a good value for the stiff spring. In addition and more importantly, the large mass
method is far superior when modal methods are used. If very stiff springs are used for modal analysis rather
than very large masses, the vibration modes corresponding to the very stiff springs have very high frequencies
and in all likelihood, are not included among the modes used in the response analysis. This is the main reason
that large masses should be used instead of stiff springs.
The stiff spring method is advantageous in the case of enforced displacement because it avoids the roundoff
error that occurs while differentiating the displacement to obtain acceleration in the large mass method. The
stiff spring method also avoids the problem of rigid -body drift when applying enforced motion on statically
determinate support points. (Rigid -body drift means that the displacement increases continuously with time,
which is often caused by the accumulation of small numerical errors when integrating the equations of
motion.)
Large Mass Method  - Modal
The steps described in the previous section must also be followed when a modal method of response analysis
is used. Also, if the enforced degrees of freedom are not sufficient to suppress all rigid -body motions, which
may be the case for an airplane in flight, additional DOFs that describe the remaining rigid -body motions
can also be entered on the SUPORT  entry. Use of the SUPORT entry is discussed in Real Eigenvalue Analysis&lt;br&gt;
(Ch. 3). Note that the use of the SUPORT entry is optional.
The rigid -body mode(s) can be removed from consideration either by not computing them or by using
PARAM,LFREQ ,r where r is a small positive number (0.001 Hz, for example).  If this is done, the
displacements, velocities, and accelerations obtained are relative to the overall motion of the structure and are
not absolute response quantities.  Stresses and element forces are the same as when the rigid -body modes are
included because the rigid -body modes do not contribute to them. Rigid -body modes can be discarded to
remove rigid -body drift .
Rigid -body modes occur when the structure is unconstrained and large masses are applied at the DOFs
which, if constrained, result in a statically determinate structure. Redundant constrained DOFs, which result
in a statically indeterminate structure, present a different situation when the constraints are removed and large
masses are applied at those redundant DOFs. In that case, very low -frequency modes occur but they are not
all rigid-body modes; some are modes that represent the motion of one large mass relative to the others. These
very low -frequency, nonrigid -body modes do contribute to element forces and stresses, and they must be
retained in the solution. In some cases, their frequencies are not necessarily small; they may be only an order
or two in magnitude less than the frequency of the first flexible mode. If PARAM,LFREQ,r is used to remove
the true rigid -body modes, then r must be set below the frequency of the first relative motion mode.
Consider the two -dimensional clamped bar in Figure 7-2. Assume that each end of the bar is subjected to the
same enforced acceleration time history in the y -direction. One way to model the bar is to use two large
masses (one at each end), which are unconstrained in the y -direction. This model provides two very
low-frequency modes: one that is a rigid -body mode and one that is not. The second mode contributes to
element forces and stresses, and removing its contribution leads to an error because with two such large
masses, one mass can drift over time relative to the other mass. A better way to model the case of identical
inputs at multiple locations is to use one large mass connected to the end points by an RBE2  element. This
model provides only one rigid -body mode, which can be safely discarded if only the answers relative to the
structure are desired.&lt;/p&gt;
&lt;p&gt;331 CHAPTER 7
Enforced Motion
Main Index
Figure 7-2  Clamped -Clamped Bar Undergoing Enforced Acceleration
User Interface for the Large Mass Method
There is no special user interface for the large mass method other than to specify a large mass at excitation
DOFs and to specify the large force.  For transient response, the type of enforced motion (displacement,
velocity, or acceleration) must be specified on the TLOAD1  entries. The remainder of the input is identical to
that of frequency response ( Frequency Response Analysis ) or transient response ( Transient Response Analysis )
analysis.Basic Model
Two Large Masses at Each End
One Large Mass and One RBE2 Elementy
xu··t u··t
pt pt
ptRBE2 RBE2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface for the Large Mass Method332
Main Index
The force applied at a point is the product of terms from the DLOAD, DAREA, and TABLEDi entries.  The
scaling of the large force is arbitrary; it can be on any one or more of these entries.  These entries follow:
DLOAD  Format:
DAREA  Format:
TABLED1  Format:
TABLED2  Format:
TABLED3  Format:
TABLED4  Format:
The TABLED4 entry defines a power series and is convenient in frequency response for enforced constant
velocity or displacement.
Frequency Response
If a DLOAD entry is used to scale RLOAD1  input, the applied force magnitude in terms of MSC Nastran input
is
(7-49)1 2 3 4 5 6 7 8 9 10
DLOAD SID S S1  L1 S2 L2 -etc.-
DAREA SID P1 C1 A1 P2 C2 A2
TABLED1 TID
x1 y1 x2 y2 x3 y3 -etc.- ENDT
TABLED2 TID X1
x1 y1 x2 y2 x3 y3 -etc.-
TABLED3 TID X1 X2
x1 y1 x2 y2 x3 y3 -etc.-
TABLED4 TID X1 X2 X3 X4
A0 A1 A2 A3 A4  A5 -etc.-
Pif S SiAiCifiDif+   
i=&lt;/p&gt;
&lt;p&gt;333 CHAPTER 7
Enforced Motion
Main Index
where  and  are input on the DLOAD Bulk Data entry,  is input on the DAREA entry, and&lt;br&gt;
and  are input on the TABLEDi entries. Note that the “i ” non -subscript term in the expression
is .
If a DLOAD entry is used to scale RLOAD2 input, the applied force magnitude in terms of MSC Nastran
input is
(7-50)
where  and  are input on the DLOAD Bulk Data entry,  is input on the DAREA entry, and&lt;br&gt;
is input on the TABLEDi entry.
Specification of the large force value depends upon whether acceleration, velocity, or displacement is
enforced.
Enforced Acceleration
Enforced acceleration is the easiest to apply since the required force is directly proportional to the desired
acceleration times the large mass:
(7-51)
Enforced Velocity
Enforced velocity requires a conversion factor
(7-52)
For constant velocity , it may be easiest to use the RLOAD1 and TABLED4 entries because the
imaginary term  of Eq. (7-49) and the frequency -dependent term  can be specified directly.
Enforced Displacement
Enforced displacement also requires a conversion factor
(7-53)
For constant displacement , it may be easiest to use the TABLED4 entry because the
frequency-dependent term  can be specified directly.S SiAiCif
Dif
iDif 1–
Pif S SiAiBif 
i=
S SiAiBif
p mou·· =
p imou· i2fmou· = =
u·
iDf 2f
p2mou – 2f –2mou = =
u
2f2–&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples334
Main Index
Transient Response
For transient response, the type of enforced motion (displacement, velocity, or acceleration) is specified with
the TYPE field (field 5) on the TLOAD1 and TLOAD2 Bulk Data entries.
TLOAD1  Format
TLOAD2  Format&lt;/p&gt;
&lt;p&gt;MSC.Nastran converts enforced displacements and velocities into accelerations by differentiating once for velocity and twice for displacement.  Note that for enforced acceleration, you can specify either force (TYPE = 0 or blank) or acceleration (TYPE = 3); they are the same for the large mass method.
You still need to use the large mass when specifying any type of enforced motion in transient response
analysis.
Examples
This section provides several examples showing the input and output.  These examples are:
These examples are described in the sections that follow.
Two-DOF Model
Consider the two -DOF model first introduced in Real Eigenvalue Analysis  and shown below in Figure 7-3.  For
this example, apply a constant magnitude base acceleration of  over the frequency range of 2 to
10 Hz and run modal frequency response with 5% critical damping in all modes.  The acceleration input is 1 2 3 4 5 6 7 8 9 10
TLOAD1 SID DAREA DELAY TYPE TID
TLOAD2 SID DAREA DELAY TYPE T1 T2 F P
C B
TYPE 0 (or blank) =Applied force (default)
TYPE 1 =Enforced displacement
TYPE 2 =Enforced velocity
TYPE 3 =Enforced acceleration
Model Analysis Type Enforced Motion
bd07two Frequency Response Constant Acceleration
bd07bar1 T ransient Response Ramp, Acceleration
bd07bar2 T ransient Response Ramp, Displacement
bd07bar3 T ransient Response Ramp, Displacement,
Discard Rigid -Body Mode
1.0 m/sec2&lt;/p&gt;
&lt;p&gt;335 CHAPTER 7
Enforced Motion
Main Index
applied to the large mass (grid point 3).  A partial input file for this model is shown in Listing 7-3. See
MSC_DOC_DIR/tpl6/dynamics/bd07two.dat.
Figure 7-3  Two-DOF Model with Large Mass
Listing 7-3  Input File for Enforced Constant Acceleration
$  FILE bd07two.dat
$
$  TWO-DOF SYSTEM
$  CHAPTER 7, ENFORCED MOTION
$
TIME 5
SOL 111
CEND
TITLE = TWO-DOF SYSTEM
SUBTITLE = MODAL FREQUENCY RESPONSE
LABEL =  ENFORCED CONSTANT ACCELERATION MAGNITUDE
$
$  SPECIFY MODAL EXTRACTION
METHOD = 10
$
$  SPECIFY DYNAMIC INPUT
DLOAD = 999
FREQ = 888
SDAMPING = 777
$
$  SELECT OUTPUT
DISPLACEMENT(PHASE,PLOT) = ALL
ACCELERATION(PHASE,PLOT) = ALL
$
$  XYPLOTS
$Large
MassGrid Point 1
Grid Point 2
Grid Point 3y
xm10.1 kg =
m210.0 kg =
m3107 kg =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples336
Main Index
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;$
$
$  LARGE MASS AT BASE GRID POINT
CONM2   999     3               1.0E7
$
$  LOAD DEFINITION  (INCLUDES SCALE FACTORS FOR ENFORCED ACCELERATION)
$DLOAD  SID     S       S1      RLOAD1
DLOAD   999     1.0E7   1.0     998
$RLOAD1 SID     DAREA                   TC
RLOAD1  998     997                     901
$DAREA  SID     P1      C1      A1
DAREA   997     3       2       1.0
$TABLED4 TID    X1      X2      X3      X4                              +TAB4
TABLED4  901    0.      1.      0.      100.                            +TAB901
$+TAB4   A0     A1      A2      A3      A4      A5
+TAB901  1.0    ENDT
$
$ MODAL EXTRACTION
$EIGRL  SID     V1      V2      ND      MSGLVL
EIGRL   10      - 1.     30.             0
$
$  FREQUENCY RANGE 2-10 HZ
$FREQ1  SID     F1      DF      NDF
FREQ1   888     2.      0.05    160
$
$  MODAL DAMPING OF 5% CRITICAL
$TABDMP1 TID    TYPE
$+TAB1  F1      G1      F2      G2      ETC
TABDMP1 777     CRIT                                                    +TABD7
+TABD7  0.      0.05    100.    0.05    ENDT
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
The large mass value is chosen as 1.0E7 kilograms and is input via the CONM2 entry. The scale factor for
the load (1.0E7) is input on the DLOAD Bulk Data entry. The factor of 1.0E7 is approximately six orders
of magnitude greater than the overall structural mass (10.1 kg). The TABLED4 entry defines the constant
acceleration input. (One of the other TABLEDi entries can also be used, but the TABLED4 entry is chosen
to show how to use it for enforced constant velocity and displacement later in this example.)
Figure 7-4 shows the X -Y plots resulting from the input point (grid point 3) and an output point (grid point
1).  The plots show acceleration and displacement magnitudes. Note that the acceleration input is not
precisely ; there is a very slight variation between 0.9999 and 1.0000 due to the large mass
approximation.1.0 m/sec2&lt;/p&gt;
&lt;p&gt;337 CHAPTER 7
Enforced Motion
Main Index
Figure 7-4  Displacements and Accelerations for the Two-DOF Model&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples338
Main Index
Figure 7-5  Displa cements and Accelerations for the Two-DOF Model (continued)
This model was analyzed with several values of large mass. Table 7-1 shows the results. Note that the model
with the  mass ratio is the model discussed earlier. Peak frequency response results are compared for each
model, and the natural frequencies are compared to those of the constrained model in Real Eigenvalue Analysis .
The table shows that a mass ratio of  is a good value to use for this model.
106
106&lt;/p&gt;
&lt;p&gt;339 CHAPTER 7
Enforced Motion
Main Index
This model can also be changed to apply constant velocity or constant displacement at its base. Listing 7-4 is
an abridged input file for the model, showing the Bulk Data entries required for enforced constant
acceleration, enforced constant velocity, and enforced constant displacement. Note that only one of these is
usually applied to any model, but all three are shown here for comparison purposes. See
Install_dir/mscxxxx/tpl6/dynamics/bd07twocm.dat.
Listing 7-4  Bulk Data Entries for Enforced Constant Motion
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;$
$
$  ENTRIES FOR ENFORCED MOTION
$
$  LARGE MASS AT BASE GRID POINT
CONM2   999     3               1.0E7
$
$  LOAD DEFINITION (INCLUDES SCALE FACTORS FOR ENFORCED ACCELERATION)
$
$DLOAD  SID     S       S1      RLOAD1
DLOAD   999     1.0E7   1.0     998
$DAREA  SID     P1      C1      A1
DAREA   997     3       2       1.0
$
$ UNIQUE ENTRIES FOR ENFORCED CONSTANT ACCELERATION MAGNITUDE
$
$RLOAD1 SID     DAREA                   TCTable 7-1  Models with Different Large Mass Ratios
Ratio of Large
Mass to StructureNatural Frequencies *
(Hz)
*Resonant frequencies for the constrained model are 4.7876 and 5.2909 Hz.Response Peaks (m/sec2)
10210-9
4.8011
5.302552.0552 6.5531 1.0335 0.9524
10410-10
4.7877
5.291052.2823 6.7641 1.0003 0.9995
106 0.0
4.7876
5.290952.2836 6.7661 1.0000 0.9999
108 0.0
4.7876
5.290952.2836 6.7662 1.0000 1.0000X··
1maxX··
2maxX··
3maxX··
3min&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples340
Main Index
$RLOAD1  998     997                     901
$TABLED4 TID    X1      X2      X3      X4                              +TAB4
$+TAB4   A0     A1      A2      A3      A4      A5
TABLED4  901    0.      1.      0.      100.                            +TAB901
+TAB901  1.0    ENDT
$
$ UNIQUE ENTRIES FOR ENFORCED CONSTANT VELOCITY MAGNITUDE
$
$
$RLOAD1 SID     DAREA                           TD
$RLOAD1  998     997                             902
$TABLED4 TID    X1      X2      X3      X4                              +TAB4
TABLED4 902     0.      1.      0.      100.                            +TAB902
$+TAB4  A0      A1      A2      A3      A4      A5
+TAB902 0.0     6.283185ENDT
$
$ UNIQUE ENTRIES FOR ENFORCED CONSTANT DISPLACEMENT MAGNITUDE
$
$
$RLOAD1 SID     DAREA                   TC
RLOAD1  998     997                     903
$TABLED4 TID    X1      X2      X3      X4                              +TAB4
TABLED4 903     0.      1.      0.      100.                            +TAB903
$+TAB4  A0      A1      A2      A3      A4      A5
+TAB903 0.0     0.0     -39.4784ENDT
Each input utilizes the TABLED4  entry.  The TABLED4 entry uses the algorithm
(7-54)
where  is input to the table,  is returned, and  is the degree of the power series. When ,  is
used for ; when ,  is used for . This condition has the effect of placing bounds on the
TABLED4 entry; note that there is no extrapolation outside of the table boundaries.  There are N+1 entries
to this table.
Constant acceleration is the easiest to apply since the force is proportional to the mass for all frequencies. The
power series for this case becomes
(7-55)
where:
Therefore, these terms define a constant (1.0 in this case).=1.0
=0.0
=1.0Y AixX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;i
i0=N
=
x Y N xX3 X3
x xX4 X4 x
A0A1xX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+
A0
X1
X2&lt;/p&gt;
&lt;h1&gt;341 CHAPTER 7
Enforced Motion
Main Index
Constant velocity involves a scale factor that is directly proportional to circular frequency ( ). The power
series for this case becomes
(7-56)
where:
Note that a phase change of 90 degrees is also required; this change is input using the TD field (field 7) of
the RLOAD1 entry.
Constant displacement involves a scale factor that is proportional to the circular frequency squared&lt;br&gt;
with a sign change. The power series for this case becomes
(7-57)
where:
Table 7-2 summarizes the coefficients for the power series.=0.0&lt;/h1&gt;&lt;p&gt;=0.0
=1.0
A0 =0.0
A1 =0.0
A2 = -(2= -39.4784
X1 =0.0
X2 =1.0
Table 7-2  Coefficients for the Power Series
Type of Excitation A0 A1 A2
Enforced u 0.0 0.0 -(2
Enforced 0.0 2 –
Enforced 1.0 – –2f
A0A1xX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+
A0
A1 2 6.283185 =
X1
X2
2f2
A0A1xX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;A2xX1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;+
u·
u··&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples342
Main Index
Cantilever Beam Model
Consider the cantilever beam first introduced in Frequency Response Analysis  and shown in Figure 7-6. In this
case the planar model is analyzed for bending; therefore, only three DOFs per grid point are considered:  T1
(x-translation), T2 (y-translation), and R3 (z-rotation). An acceleration ramp function in the y-direction is
enforced at the base (grid point 1) by applying a large mass and a force. T1 and R3 are constrained at grid
point 1 since the enforced motion is in only the T2-direction. Modal transient response analysis (SOL 112)
is run with 5% critical damping used for all modes. Modes up to 3000 Hz are computed with the Lanczos
method.  Figure 7-7 shows the idealized ramp function and the MSC Nastran implementation. The excitation
is not cut off abruptly; instead it is cut off over two time steps. A time step of 0.001 second is used, and the
analysis is run for 1.0 second.  Listing 7-5 shows the abridged input file. See
Install_dir\mscxxxx\tpl6\dynamics\bd07bar1.dat .
Figure 7-6  Beam Model with Large MassLarge Mass
1.0E9 kgy
x
Grid Point 1&lt;/p&gt;
&lt;p&gt;343 CHAPTER 7
Enforced Motion
Main Index
Figure 7-7  Idealized Ramp Function Versus MSC Nastran Ramp Function
Listing 7-5  Abridged Input File for Enforced Acceleration
$  FILE bd07bar1.dat
$
$  CANTILEVER BEAM MODEL
$  CHAPTER 7, ENFORCED MOTION
$
SOL 112
TIME 10
CEND
TITLE =  CANTILEVER BEAM
SUBTITLE =  MODAL TRANSIENT RESPONSE
LABEL = ENFORCED ACCELERATION
$
SPC = 21
DLOAD = 22
TSTEP = 27
SDAMPING = 25
$
METHOD = 10
$
$  PHYSICAL OUTPUT REQUEST
SET 11 = 1,11Idealized Input0.15
0 0.05 Time (sec)
0.15
0.05
0.052Time (sec)MSC Nastran InputY·· (m/sec2)
Y·· (m/sec2)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples344
Main Index
DISPLACEMENT(PLOT) = 11
ACCELERATION(PLOT) = 11
$
$  XYPLOTS
$
&amp;hellip; X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
$  LARGE MASS OF 1.0E9
$CONM2  EID     G       CID     M
CONM2   15      1               1.0E9
$
$  CONSTRAIN MASS IN 1,6 DIRECTIONS
SPC     21      1       16
$
$ DYNAMIC LOADING
$DLOAD  SID     S       S1      L1
DLOAD   22      1.0E9   0.102   23
$TLOAD1 SID     DAREA   DELAY   TYPE    TID
TLOAD1  23      24              0       25
$DAREA  SID     P1      C1      A1
DAREA   24      1       2       0.15
$TABLED1 TID                                                            +TABL1
$+TABL1 X1      Y1      X2      Y2      ETC.
TABLED1 25                                                              +TABL1
+TABL1  0.0     0.0     0.05    1.0     0.052   0.0     0.1     0.0     +TABL2
+TABL2  ENDT
$
$  CONVERT WEIGHT TO MASS:  MASS = (1/G)*WEIGHT
$  G = 9.81 m/sec**2  &amp;ndash;&amp;gt; WTMASS = 1/G = 0.102
PARAM   WTMASS  0.102
$
$EIGRL  SID     V1      V2              MSGLVL
EIGRL   10      -1.     3000.           0
$
$TSTEP  SID     N1      DT1     NO1
TSTEP   27      1000    0.001   1
$
$  MODAL DAMPING OF 5% IN ALL MODES
A large mass of 1.0E9 kg is placed at grid point 1. This grid point is constrained in the T1- and R3-directions
but is free in the T2-direction. The load is scaled to give a peak input acceleration of . This
scaling is performed by applying a scale factor of 1.0E9 in the S field (field 3) of the DLOAD  entry, a scale
factor of 0.102 in the S1 field (field 4) of the DLOAD entry, and a factor of 0.15 in the A1 field (field 5) of
the DAREA  entry. The applied load is scaled by 0.102 because the large mass is also scaled by 0.102 due to
the PARAM,WTMASS  entry (see Eq. (7-47)). The time variation is specified with the TABLED1  entry. The
TLOAD1  entry specifies the type of loading (field 5) as 0 (applied force); this gives the same answers if the
type is specified as 3 (enforced acceleration).
Figure 7-8 shows the displacement and acceleration response at grid points 1 (base) and 11 (tip). Note that at
the end of the acceleration pulse the base has a constant velocity, and therefore, a linearly increasing
displacement.0.15 m/sec2&lt;/p&gt;
&lt;p&gt;345 CHAPTER 7
Enforced Motion
Main Index
Figure 7-8  Response for Enforced Acceleration
Next, consider the same model with a 0.015 meter displacement imposed instead of an acceleration. The
same ramp time history function is used (with a peak enforced displacement of 0.015 meter) so that the only
change to the input file is to change the excitation type from 0 (applied force) to 1 (enforced displacement
on field 5 of the TLOAD1 entry) and the amplitude in the DAREA entry from 0.15 to 0.015. See
MSC_DOC_DIR/tpl6/dynamics/bd07bar2.dat. Figure 7-9 shows the idealized input displacement time
history.  Figure 7-10 shows the displacement and acceleration response at grid points 1 and 11.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples346
Main Index
Figure 7-9  Input Displacement Time History
Figure 7-10  Response f or Enforced Displacement (With the Rigid-Body Mode)
Now, consider a change to the enforced displacement run. In this case, remove the rigid-body mode&amp;rsquo;s
contribution either by not computing the rigid-body mode (by setting V1 to a small positive value, such as
0.01 Hz) or by neglecting the rigid-body mode in the transient response (by setting PARAM,LFREQ  to a
small positive number, such as 0.01 Hz). See MSC_DOC_DIR/tpl6/dynamics/bd07bar3.dat. Figure 7-11
shows the resulting displacement and acceleration responses at grid points 1 and 11. Note that the responses Idealized Input0.15
0 0.05 Time (sec)Y(m)&lt;/p&gt;
&lt;p&gt;347 CHAPTER 7
Enforced Motion
Main Index
are relative to the structure and are not absolute. The relative displacement of grid point 1 should be zero,
and it is very close to zero (i.e., 10-10) as a result of the sufficiently large mass.
Figure 7-11  Response for Enforced Displacement (Without the Rigid -Body Mode)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples348
Main Index&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P19</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_019/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_019/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s Guide
Chapter 8: Random Analysis
8Random Analysis
Random Analysis with Coupled Excitations
Composites and Random Response Enhancements&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations350
Main Index
Random Analysis with Coupled Excitations
In MSC Nastran, random response analysis is treated as a data reduction procedure that is applied to the
results of a frequency response analysis. First, the frequency response analysis is performed for sinusoidal
loading conditions, , for each separate subcase , at a sequence of frequencies . Normal data
reduction procedures are then applied to the output of the frequency response analysis module, resulting in
a set of output quantities , corresponding to an output  and subcase . The calculations of power
spectral densities and autocorrelation functions for the output quantities are performed in the random
analysis module.
Each loading condition subcase represents a unique random load source, which may be applied to many grid
points.  Typically, these loads are chosen to be unit loads such as unit “g” loads or unit pressures. Since the
input is unity, the output response is also known as T ransfer Function. The probabilistic magnitude of each
load source is defined by spectral density functions on RANDPS input data.  If the load subcases are
correlated, the coupling spectral density is also defined on one or more RANDPS functions.  An example of
coupled spectral density would be the forces on four wheels of a vehicle traveling over a rough road.
Figure 8-1: Flow Diagram for Random Analysis Module is a simplified flow diagram for the random analysis
module.  The inputs to the module are the frequency responses, , of quantities  to loading
conditions  at frequencies , and the auto - and cross -spectral densities of the loading conditions&lt;br&gt;
and .  The response quantities, , may be displacements, velocities, accelerations, internal forces, or
stresses.  The power spectral densities  of the response quantities are calculated by different procedures
depending on whether the loading conditions are correlated or uncorrelated.  The spectral densities due to
all sources, considered independent, will be combined into one set of outputs.Pa a i
ujai j a
Hjai uj
Pa iSa
SabSj&lt;/p&gt;
&lt;p&gt;351 CHAPTER 8
Random Analysis
Main Index
Figure 8-1  Flow Diagram for Random Analysis ModuleEnter
Combined
Loading
?
Compute Autocorrelation
FunctionsCross
Spectral
Density
?
ExitCompute rms
valueYes No
Yes
No
Yes
NoAutocorrelation?SjSja=SjHjaHjbSab
b
a= SjaHja2Sa=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations352
Main Index
Theory
The application of these frequency response techniques to the analysis of random processes requires that the
system be linear and that the excitation be stationary with respect to time.  The theory includes a few
important theorems that will be reviewed. An important quantity in random analysis theory is the
autocorrelation function , of a physical variable, , which is defined by
(8-1)
Note that  is the time average value of , which is an important quantity in the analysis of structural
failure.  The one -sided power spectral density  of  is defined by
(8-2)
It may be shown (using the theory of Fourier integrals) that the autocorrelation function and the power
spectral density are Fourier transforms  of each other.  Thus, we define the autocorrelation function in terms
of frequency response functions
(8-3)
from the mean -square theorem, the rms (root mean squared) magnitude, , is
(8-4)
The expected value of the number of zero crossing with positive slope per unit time, or apparent frequency,
is a quantity of interest for fatigue analysis.  This mean frequency, , can be found from the power spectral
density;
(8-5)
The mean frequency, , is thus the root mean square frequency, where the power spectral density is used
as a weighing function.Rj uj
Rj T1
T&amp;mdash;ujtujt–td
0T
=lim
Rj0 uj2
Sjuj
Sj T2
T&amp;mdash;eit–ujttd
0T
2
=lim
Rj1
2&amp;mdash;&amp;mdash;Sj cosd
0
=
uj
uj2Rj01
2&amp;mdash;&amp;mdash;Sjd
0
= =
N0
N0222Sjd
0

Sjd
0
&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
N0&lt;/p&gt;
&lt;p&gt;353 CHAPTER 8
Random Analysis
Main Index
The transfer function  theorem states that, if  is the frequency response of any physical variable, ,
due to an excitation source, , which may be a point force, a loading condition or some other form of
excitation, i.e., if
(8-6)
where  and  are the Fourier transforms of  and ,  then the power spectral density of
the response , is related to the power spectral density of the source, , by
(8-7)
Eq. (8-7) is an important result because it allows the statistical properties (e.g., the Auto-correlation function)
of the response of a system to random excitation to be evaluated via the techniques of frequency response.&lt;br&gt;
Another useful result is that, if sources , , , etc., are statistically independent, i.e., if the
cross-correlation function between any pair of sources
(8-8)
is null, then the power spectral density of the total response is equal to the sum of the power spectral densities
of the responses due to individual sources. Thus
(8-9)
If the sources are statistically correlated, the degree of correlation can be expressed by a cross -spectral density,
, and the spectral density of the response may be evaluated from
(8-10)
where  is the complex conjugate of .
Cross-Power Spectral Density and Cross-Correlation Functions
Theory
As shown in Eq. (8-8), for a pair of response quantities,  and , the cross-correlation function
between them is defined asHja uj
Qa
uj HjaQa =
uj Qa ujQa
Sj Sa
Sj Hja2Sa =
Q1Q2Q3
Rab T1
T&amp;mdash;qatqbt–d
0T
=lim
Sj Sja
aHja2Sa
a= =
Sab
SjHjaHjbSab
b
a=
HjbHjb
uat ubt&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations354
Main Index
(8-11)
where  and  can be displacement, velocity or single-point constraint force responses at the same
or different grid points; or stress, strain, and force components in the same or different elements. The cross-
correlation functions have the following relation
(8-12)
The cross-power spectral density (cross-PSD) of  and  is defined as Eq. (8-13).
(8-13)
and  is related to  by the relation
(8-14)
It should be mentioned that the cross-PSD  is a complex-valued function of angular frequency .
The following relations hold for the cross-PSDs
(8-15)
where  is the complex conjugate of . If we denote  by its real and imaginary parts
as
then from Eq. (8-15), we can see that  is an even function and  is an odd function of ,
i.e.,
(8-16)Rab1
T&amp;mdash;
Tlim uatubt–td
0T
=
uat ubt
Rab– Rba =
uat ubt
Sab2
T&amp;mdash;uateit–td
0T

    
uateittd
0T

    
Tlim=
2 Rabei–d
– +
=
Rab Sab
Rab1
4&amp;mdash;&amp;mdash; Sabeid
– +
=
Sab 
Sab&lt;em&gt; Sab– Sba = =
Sab&lt;/em&gt; Sab Sab
SabSabR = iSabI +
SabR SabI 
SabR– SabR =&lt;/p&gt;
&lt;h1&gt;355 CHAPTER 8
Random Analysis
Main Index
(8-17)
Substituting Eqs. (8-16) and (8-17) into Eq. (8-14), we have
(8-18)
If the system is subject to multiple sources of excitation, the cross-PSD of responses  and  is
related to the PSDs of excitation sources by the frequency response functions as
(8-19)
where  is the frequency response function of  corresponding to the excitation source ,
the complex conjugate of , and  the cross-PSD of excitation sources when
. If the two different excitation sources  and  are not correlated, we have .
The aforementioned equations of cross-PSD s and cross-correlation functions become the ones for auto-PSDs&lt;br&gt;
and auto-correlation functions  when .
The calculation of the cross-correlation function from Eq. (8-18) is carried out by numerical integration based
on the trapezoidal approximation.
Numerical Integration Using Log-Log Approximation
Theory
The Root Mean Square (RMS) of a random response quantity  is defined as
(8-20)
where is the PSDF of  and  the angular frequency.
In numerical calculation, the integral in Eq. (8-20) is computed for a specified frequency range
(8-21)SabI– S–abI =
Rab1
2&amp;mdash;&amp;mdash;SabR cos SabI sin –  d
0
=
uat ubt
Sab HajHbk&lt;em&gt;Sjk
k
j=
Haj uat Qjt
Hbk&lt;/em&gt; Hbk Sjk
jk QjQkSjk0
uat ubt =
ujt
uj1
2&amp;mdash;&amp;mdash;Sjd
0
1
2&amp;mdash;&lt;/h1&gt;&lt;p&gt;Sj ujt
Sjd
0
Sjd
ii1+

i1=N1–
=&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations356
Main Index
where  ( i = 1, 2, …, N ) are a set of selected frequencies.
In a Log-Log scaled coordinate system, denote
where log( .) is the logarithmic function to the base 10. The linear interpolation in a sub-domain
in this logarithmic coordinate system yields the following relation
(8-22)
From Eq. (8-22), the approximation of  takes the form as
(8-23)
with
(8-24)
The integral in sub-domain  is calculated as follows
(8-25)
is defined as
(8-26)
where
(8-27)
Using the Log-Log interpolation for the approximation, we havei
Y logSj   and   X log = =
ii1+ 
YYi–Yi1+Yi–
Xi1+Xi–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;XXi– =
Sj
SjSji
i&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;ii1+ =
Sji1+Sji   log
i1+i  log&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
ii1+ 
Sjd
ii1+
iSjilni1+i          1–=
Sji
1+i&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-i1+1+i1+–  1–
&lt;/h1&gt;&lt;h1&gt;N0
N0 r j
uj&amp;mdash;&amp;mdash;- =
r j 1
23&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2Sjd
ii1+

i1=N1–
1
2&amp;mdash;&lt;/h1&gt;&lt;h1&gt;357 CHAPTER 8
Random Analysis
Main Index
(8-28)
This logarithmic approach yields more accurate results if the PSDF curve is a straight line in an integration
sub-domain in a Log-Log  scaled coordinate system. When the PSDF curve is close to a straight line in a Log-
Log scaled coordinate system, it can be expected that the Log-Log approximation would produce a better
result with fewer frequency points as compared to the trapezoidal approximation of the PSDF using a linear
coordinate system.
Inputs
Parameter, RMSINT , Log-Log selects the Log-Log approach for calculating RMS, N0 and CRMS.
Cumulative Root Mean Square (CRMS)
Theory
The cumulative RMS  function  of a random response quantity  at a set of selected N frequency
points is defined as
(8-29)
Inputs
The RANDOM (Case)  Case Control command must be used to select the RANDPS /RANDT1  Bulk Data entries
to use.  Random case control can directly reference a single RANDPS/RANDT1 set identification number
(SID) directly or can refer multiple SIDs specified on the SET command if its identification number is in
turn referenced on a RANDOM command. For example;
where 101, 103, 107, and 110 refer to multiple RANDPS/RANDT1 SIDs. It should be noted for this type
of usage the SET id must be unique with respect to all RANDPS/RANDT1 SIDs; e.g., 1000 is not an SID
on any RANDPS/RANDT1 entry.
CRMS function can be output in both the print and punch files. The option of CRMS is selected in Case
Control commands, ACCELERATION (Case) , DISPLACEMENT , FORCE, MPCFORCES, OLOAD,
SPCFORCES, STRAIN, STRESS  (Case)  and VELOCITY.SET 1000 = 101   103   107   110
RANDOM = 10002Sjd
ii1+
i3Sjilni1+i  3–=
Sji
3+i&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-i1+3+i3+–  3–
&lt;/h1&gt;&lt;p&gt;uj ujt
uji1
2&amp;mdash;&amp;mdash;Sjd
1i
1
2&amp;mdash;
= i12N =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations358
Main Index
Output
PSDF , AUTO, RMS, N0, and CRMS output in Both Print and Punch Files.
These output requests can be achieved by selecting the RPRINT and RPUNCH options in Case Control
commands, ACCELERATION (Case) , DISPLACEMENT, FORCE, MPCFORCES, OLOAD, SPCFORCES,
STRAIN, STRESS  (Case)  and VELOCITY.
Exercise caution when using the RPRINT  and RPUNCH  options. For real-world problems, an enormous
amount of output may be generated using the RPRINT option. T o turn this off, use the NORPRINT option.
The default is RPRINT.
Example 1: Cantilevered Plate - Subjected to Base Input in 3 Directions
Problem Definition: Plate Dimension 10 inch x 1 Inch, Thickness = 0.1 inch.&lt;br&gt;
Material: E = 1.E07, Poison’s Ratio = 0.25, Density = 0.1 lbs/inch3.
Damping = 0.04% (Critical)
Boundary Condition: Fixed at one shorter edge.
Random Input:
PSD Input X, Y Direction PSD Input Z Direction
Frequency G^2/Hz (X/Y) Frequency G^2/Hz (Z)
10.00 0.180 10.00 0.150
15.00 0.180 34.90 0.150
15.10 0.120 35.00 0.250
25.00 0.120 55.00 0.250
25.10 0.220 55.10 0.150
110.00 0.220 310.00 0.150
110.10 0.120 310.10 0.075
1000.00 0.120 1000.00 0.075&lt;/p&gt;
&lt;p&gt;359 CHAPTER 8
Random Analysis
Main Index
Input:
See Listing 8-1 for a partial input file, the complete input file is :
install_dir/mscxxxx /tpl6/ dynamics/ random -xyz.dat
Listing 8-1  PLATE with PSDF Output
SOL 111 $ Modal Frequency Response
CEND
$
TITLE = CANTILEVERED PLATE Subjected to 3 simulataneous Random Input
$
echo=None
set 907=105,111
Set 908 = 1,5
$
METHOD = 219
SPC = 666
RANDOM = 99
FREQ = 604
SDAMP = 111
ACCELERATION(plot,rprint, psdf)=907
STRESS(Plot, rprint, psdf) = 908
SUBCASE   11 $ Excitation in x direction
DLOAD = 101
SUBCASE   12 $ Excitation in y direction
DLOAD = 102
SUBCASE   13 $ Excitation in z direction
DLOAD = 103
$
OUTPUT(xyplot)
xmin  = 10.
xmax  = 1000.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations360
Main Index
xgrid = yes
ygrid = yes
xlog  = yes
ylog  = yes
$
Xtitle= accel psdf Node 111 (T3)
xypeak,xyplot accel psdf / 111(t3)
$
$  For stress and force component, refer to appendix A item-code
$  in Quick Reference Guide.  Use complex item code.
$
xtitle= Stress psdf Elem. 1 Sx
xypeal,xyplot stress psdf /1(3)
BEGIN BULK
$
$        201   202   203   204   205   206   207   208   209   210   211
$        /&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;*
$ Y      /|     |     |     |     |     |     |     |     |     |     |
$ ^      /|     |     |     |     |     |     |     |     |     |     |
$ |      /|  1  |  2  |  3  |  4  |  5  |  6  |  7  |  8  |  9  |  10 |
$ |      /|     |     |     |     |     |     |     |     |     |     |
$ |      /|     |     |     |     |     |     |     |     |     |     |
$ +&amp;mdash;&amp;gt;X /&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;&lt;em&gt;&amp;mdash;&amp;ndash;&lt;/em&gt;&amp;mdash;&amp;ndash;*
$        101   102   103   104   105   106   107   108   109   110   111
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.0
$
PARAM   AUTOSPC YES                                                          &lt;br&gt;
PARAM   WTMASS  .00259&lt;br&gt;
$
PARAM   RMSINT  LOGLOG
$
SPC1,666,123456,101,201
$
EIGRL   219     -.1     2000.
$
TABDMP1 111     CRIT
0.      .04     99999.  0.04    Endt
$
$  All DOF on SPCD must also be declared in selected SPC set(see SPC 666)
$
$ Define Unit input in X direction
$
$ Since PSDF input in G^2/Hz, we must define Unit G (386.4 inch/sec^2)
$
RLOAD1,101,131, , , 11, ,ACCE
SPCD,131,101,1,386.4
SPCD,131,201,1,386.4
$
$ Define Unit input in Y direction
$
RLOAD1,102,132, , , 11, ,ACCE
SPCD,132,101,2,386.4
SPCD,132,201,2,386.4
$
$ Define Unit input in Z direction
$
RLOAD1,103,133, , , 11, ,ACCE
SPCD,133,101,3,386.4&lt;/p&gt;
&lt;p&gt;361 CHAPTER 8
Random Analysis
Main Index
SPCD,133,201,3,386.4
$
TABLED1,11
+,0.0,1.0,2000.0,1.0,endt
$
$ Select all psdf input break points
$
FREQ, 604, 15.0,  15.1,   25.0, 25.1, 110.0, 110.1
FREQ, 604, 34.9,  35.0,   55.0, 55.1, 310.0, 310.1
$
$ Select more output frequencies - equally spaced based on log scale.
$
FREQ2,604,10.,1000.,50
$
$ Select modal frequencies to capture expected peak at modal frequencies.
$
FREQ4,604,10.,1000.,.1,3
$
$ Define Random Input for all 3 direction using same ID.  All RANDPS entry
$ with same ID will be added together.
$
RANDPS,99, 11, 11, 1.0, 0.0, 11
RANDPS,99, 12, 12, 1.0, 0.0, 12
RANDPS,99, 13, 13, 1.0, 0.0, 13
$
TABRND1, 11, Log, Log
+, 10.0, 0.18, 15.0,  0.18, 15.1,  0.12, 25.0,   0.12
+, 25.1, 0.22, 110.0, 0.22, 110.1, 0.12, 1000.0, 0.12
+, Endt
$
TABRND1, 12, Log, Log
+, 10.0, 0.18, 15.0,  0.18, 15.1,  0.12, 25.0,   0.12
+, 25.1, 0.22, 110.0, 0.22, 110.1, 0.12, 1000.0, 0.12
+, Endt
$
TABRND1, 13, Log, Log
+, 10.0, 0.15, 34.9,  0.15, 35.0,  0.25, 55.0,   0.25
+, 55.1, 0.15, 310.0, 0.15, 310.1, .075, 1000.0, .075
+, Endt
$
Typical Printed Output:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations362
Main Index
POINT-ID =       105
A C C E L E R A T I O N    V E C T O R
( POWER SPECTRAL DENSITY FUNCTION )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1.000000E+01     G      2.687507E+04   2.689527E+04   2.426265E+04   2.120942E-03   7.021265E+00   6.942450E-04
1.096478E+01     G      2.687511E+04   2.689941E+04   2.469965E+04   3.224830E-03   1.061186E+01   1.003899E-03
1.202264E+01     G      2.687514E+04   2.690436E+04   2.525660E+04   4.960394E-03   1.620609E+01   1.451786E-03
1.318257E+01     G      2.687521E+04   2.691035E+04   2.597651E+04   7.742561E-03   2.507842E+01   2.099709E-03
1.445440E+01     G      2.687526E+04   2.691752E+04   2.692406E+04   1.231372E-02   3.947413E+01   3.037153E-03
1.500000E+01     G      2.687528E+04   2.692080E+04   2.739068E+04   1.493719E-02   4.765870E+01   3.523486E-03
…
…
7.585776E+02     G      1.875131E+04   8.608298E+03   5.369716E+03   6.176474E+01   1.771618E+02   5.640190E+02
8.317637E+02     G      1.888297E+04   9.738106E+03   4.871404E+03   6.839265E+01   1.015533E+03   5.069272E+02
9.120108E+02     G      1.904800E+04   1.111841E+04   5.791567E+03   9.793225E+01   4.436593E+03   4.546082E+02
9.536902E+02     G      1.914198E+04   1.193009E+04   7.372608E+03   1.359111E+02   1.017060E+04   4.294507E+02
9.733126E+02     G      1.918815E+04   1.234163E+04   8.699032E+03   1.666866E+02   1.579330E+04   4.178163E+02
1.000000E+03     G      1.925294E+04   1.293666E+04   1.161850E+04   2.342402E+02   3.087324E+04   4.020715E+02
POINT-ID =        28
A C C E L E R A T I O N    V E C T O R
( POWER SPECTRAL DENSITY FUNCTION )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1.000000E+01     G      5.453022E-18   1.056328E-17   3.099549E+02   5.773942E-01   1.416458E+02   6.138918E-19
1.015469E+01     G      5.800392E-18   1.123618E-17   3.296992E+02   6.139689E-01   1.506693E+02   6.529981E-19
1.031177E+01     G      6.169956E-18   1.195208E-17   3.507051E+02   6.528609E-01   1.602694E+02   6.946032E-19
1.047129E+01     G      6.563146E-18   1.271375E-17   3.730536E+02   6.942172E-01   1.704832E+02   7.388679E-19
1.063326E+01     G      6.981471E-18   1.352410E-17   3.968308E+02   7.381930E-01   1.813499E+02   7.859621E-19
1.079775E+01     G      7.426557E-18   1.438629E-17   4.221290E+02   7.849557E-01   1.929119E+02   8.360691E-19
1.096478E+01     G      7.900112E-18   1.530364E-17   4.490453E+02   8.346807E-01   2.052135E+02   8.893813E-19
&amp;hellip;
&amp;hellip;
9.261187E+02     G      9.289492E-14   1.807436E-13   2.098790E+08   6.027814E+02   5.506023E+05   1.036910E-14
9.404448E+02     G      9.372058E-14   1.824654E-13   1.759028E+08   3.949018E+02   6.941084E+05   1.045697E-14
9.549926E+02     G      9.456252E-14   1.842211E-13   1.505420E+08   2.619290E+02   8.747291E+05   1.054565E-14
9.697653E+02     G      9.542219E-14   1.860153E-13   1.310669E+08   1.819211E+02   1.074708E+06   1.063531E-14
9.847666E+02     G      9.630063E-14   1.878519E-13   1.157493E+08   1.403549E+02   1.285253E+06   1.072605E-14
1.000000E+03     G      9.719865E-14   1.897341E-13   1.034542E+08   1.277149E+02   1.502181E+06   1.081792E-14&lt;/p&gt;
&lt;p&gt;363 CHAPTER 8
Random Analysis
Main Index&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                        A C C E L E R A T I O N    V E C T O R
                                                 ( ROOT MEAN SQUARE )

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
       105      G      4.496616E+03   5.020162E+03   6.371774E+03   2.940515E+02   2.655310E+03   1.715237E+03
       111      G      4.606414E+03   1.628293E+04   1.115256E+04   4.965731E+01   6.367835E+03   2.439676E+03
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;…
…
A C C E L E R A T I O N    V E C T O R
( NUMBER OF ZERO CROSSINGS )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
       105      G      5.598356E+02   4.084951E+02   3.535132E+02   6.539027E+02   5.911788E+02   3.902388E+02
       111      G      5.601279E+02   3.423357E+02   3.342666E+02   8.198106E+02   5.421155E+02   4.417164E+02
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ELEMENT-ID =       1
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )
( POWER SPECTRAL DENSITY FUNCTION )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                FIBER                                  - STRESSES IN ELEMENT  COORDINATE SYSTEM -
FREQUENCY      DISTANCE                 NORMAL-X                         NORMAL-Y                        SHEAR-XY
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1.000000E+01 -5.000000E-02             1.342324E+04                     1.358092E+02                    1.628790E-01
5.000000E-02             1.342324E+04                     1.358092E+02                    1.628790E-01
1.096478E+01 -5.000000E-02             1.399410E+04                     1.414498E+02                    1.629220E-01
5.000000E-02             1.399410E+04                     1.414498E+02                    1.629220E-01
1.202264E+01 -5.000000E-02             1.473256E+04                     1.487424E+02                    1.629737E-01
5.000000E-02             1.473256E+04                     1.487424E+02                    1.629737E-01
1.318257E+01 -5.000000E-02             1.570457E+04                     1.583351E+02                    1.630361E-01
5.000000E-02             1.570457E+04                     1.583351E+02                    1.630361E-01
…
…
9.120108E+02 -5.000000E-02             2.387684E-01                     1.323565E-02                    1.282505E-02
5.000000E-02             2.387684E-01                     1.323565E-02                    1.282505E-02
9.536902E+02 -5.000000E-02             6.290167E-01                     3.275067E-02                    1.407314E-02
5.000000E-02             6.290167E-01                     3.275067E-02                    1.407314E-02
9.733126E+02 -5.000000E-02             1.064134E+00                     5.111575E-02                    1.467233E-02
5.000000E-02             1.064134E+00                     5.111575E-02                    1.467233E-02
1.000000E+03 -5.000000E-02             2.290897E+00                     9.822020E-02                    1.550554E-02
5.000000E-02             2.290897E+00                     9.822020E-02                    1.550554E-02
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )
( ROOT MEAN SQUARE )
ELEMENT       FIBER                                     - STRESSES IN ELEMENT  COORDINATE SYSTEM -
ID.        DISTANCE                  NORMAL-X                          NORMAL-Y                         SHEAR-XY
1   -5.000000E-02              2.436790E+03                      2.411689E+02                     1.719076E+01
5.000000E-02              2.436790E+03                      2.411689E+02                     1.719076E+01
5   -5.000000E-02              1.110793E+03                      1.885808E+00                     1.456949E+01
5.000000E-02              1.110793E+03                      1.885808E+00                     1.456949E+01
…
…
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )
( NUMBER OF ZERO CROSSINGS )
ELEMENT       FIBER                                     - STRESSES IN ELEMENT  COORDINATE SYSTEM -
ID.        DISTANCE                  NORMAL-X                          NORMAL-Y                         SHEAR-XY
1   -5.000000E-02              4.962503E+01                      5.812841E+01                     3.034584E+02
5.000000E-02              4.962503E+01                      5.812841E+01                     3.034584E+02
5   -5.000000E-02              7.719165E+01                      3.581298E+02                     3.069451E+02
5.000000E-02              7.719165E+01                      3.581298E+02                     3.069451E+02&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations364
Main Index
Figure 8-2  Power Spectral Density, Acceleration, Node 111(Tz)
Example 2: Plate - subjected to Pressure and point load with Cross-Spectrum Input
Problem Definition: Plate Dimension 5 inch x 2 Inch, Thickness = 0.1 inch.&lt;br&gt;
Material: E = 3.E07, Poison’s Ratio = 0.3, Density = 0.282 lbs/inch3.
Damping = 0.03% (Critical)
Boundary Condition: Fixed at one shorter edge.
Random Input:
Auto-Spectra - Pressure
Load Auto-Spectra - Corner ForceCross-Spectrum of Pressure and Corner
Load
Frequency PSI^2/Hz Frequency lb^2/Hz Frequency Real PartImaginary
Part
10.0 0.10 10.0 0.50 10.0 -0.099619 0.007816
20.0 0.10 20.0 0.50 20.0 -0.099619 0.043579
30.0 1.00 30.0 2.50 100.0 -0.498097 0.043579
100.0 1.00 100.0 2.50 500.0 0.070711 -0.070711
500.0 0.10 500.0 2.50 1000.0 0.000001 -0.000001
1000.0 0.10 1000.0 1.00E-06 - - -&lt;/p&gt;
&lt;p&gt;365 CHAPTER 8
Random Analysis
Main Index
Figure 8-3  FEM Model
Loading:
Input&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations366
Main Index
Cross-Spectrum PSD (coupled PSD) usually have Real and Imaginary components. T wo RANDPS and
TABRND1 entries are required for complex spectrum input. In the first RANDPS entry, set the real (X)
component to non-zero and imaginary (Y) component to zero. The TID on this RANDPS points to table
TABRND1 with real component of cross-psd input. In the second RANDPS entry, set the real (X)
component to zero and imaginary (y) component to non-zero with TID points to TABRND1 table with
imaginary component of cross-psd input (see Listing 8-2). The complete file is in
MSC_DOC_DIR /tpl6/ dynamics/random_freq.dat. For uncoupled PSD input, only one RANDPS entry is
required. See the MSC Nastran Quick Reference Guide  for more information.
Listing 8-2  PLATE with Cross-PSD
SOL 111
$
CEND
$
TITLE = Plate subjected to pressure and concentrated load.
ECHO = NONE
$
Random = 101
line   = 99999
$
set 5 = 28
SDAMPING = 1
METHOD = 1
FREQUENCY = 1
SPC = 1
ACCELERATION(plot,rprint,psdf)=5
SUBCASE 1
SUBTITLE=Applied Pressure
DLOAD = 11
SUBCASE 2
SUBTITLE=Applied Load at Tip
DLOAD = 12
Output (XYOUT)
xgrid = yes
ygrid = yes
xlog = no
ylog = no
xtitle = Time (sec)
ytitle = Acceleration Auto Corrolation Node 55(Tz)
xyplot xyprint acce auto / 55(T3)
Xlog = yes
Ylog = yes
Xmin = 10.
Xmax = 1000.
$
xtitle = Freq (Hz)
Ytitle = Acceleration PSDF Node 28(Tz)
XYplot Xyprint ACCE PSDF / 28(T3)
$
BEGIN BULK
PARAM    POST    0
PARAM    WTMASS .002589
PARAM    GRDPNT  0
PARAM,NOCOMPS,-1
PARAM   PRTMAXIM YES
FREQ2    1      10.     1000.    300
FREQ4    1      10.     1000.   .1       3&lt;/p&gt;
&lt;p&gt;367 CHAPTER 8
Random Analysis
Main Index
$
$ Capture all break points frequencies of input PSD profile
$
Freq, 1, 20., 30., 100., 500., 1000.
TABDMP1  1       CRIT
.1      .03     2000.   .03      ENDT
EIGRL    1      -.1     2000.            0
$
$ Unit Pressure Load (Subcase 1)
$
RLOAD1   11      4                       1
$
$ Unit Pressure
$
PLOAD4   4       1      -1.                              THRU    40
$
$ Unit Point Load (Subcase 2)
RLOAD1   12      5                       1
$
$ Unit Nodal Force
$
FORCE    5       11      0      1.       0.      0.     1.
$
$ Constant Load Table
$
TABLED1  1
0.     1.      1000.   1.       ENDT
$
$ Random Input
$
$ Auto Pressure Load
RANDPS,101,1,1,1.,0.,200022
$
$ Auto Point Load
RANDPS,101,2,2,1.,0.,300022
$
$ Cross – Real Part between Pressure and Point Load
RANDPS,101,1,2,1.,0.,400011
$
$ Cross – Imaginary Part between Pressure and Point Load
RANDPS,101,1,2,0.,1.,500011
$
$ PSD auto-press
$
TABRND1,  200022,log,log,,,,,,+
+, 10.00, 0.100, 20.00, 0.100, 30.00, 1.000, 100.0, 1.000,
+, 500.0, 0.100, 1000., 0.100, endt
$
$ PSD auto-force
$
TABRND1,  300022,log,log,,,,,,+
+, 10.00, 0.500, 20.00, 0.500, 30.00, 2.500, 100.0, 2.500,
+, 500.0, 2.500, 1000.,1.00-6, endt
$
$ Cross PSD - Real part
$
TABRND1,  400011,linear,linear,,,,,,+
+, 10.0, -0.09962, 20.0,-0.09962, 100.,-0.49810, 500., 0.07071,
+, 1000.,   1.0-6, endt
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations368
Main Index
$ Cross PSD - Imaginary part
$
TABRND1,  500011,linear,linear,,,,,,+
+, 10.0, 0.00782, 20.0, 0.04358, 100., 0.04358, 500.,-0.07071,
+, 1000.,  1.0-6, endt
$
$ Autocorrelation Function Time Lag
$
Randt1, 101,  2000, 0., 0.10
$
SPC1     1       12345   1       12      23      34      45
$
Typical Printed Output
POINT-ID =        28
A C C E L E R A T I O N    V E C T O R
( POWER SPECTRAL DENSITY FUNCTION )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1.000000E+01     G      5.453022E-18   1.056328E-17   3.099549E+02   5.773942E-01   1.416458E+02   6.138918E-19
1.015469E+01     G      5.800392E-18   1.123618E-17   3.296992E+02   6.139689E-01   1.506693E+02   6.529981E-19
1.031177E+01     G      6.169956E-18   1.195208E-17   3.507051E+02   6.528609E-01   1.602694E+02   6.946032E-19
1.047129E+01     G      6.563146E-18   1.271375E-17   3.730536E+02   6.942172E-01   1.704832E+02   7.388679E-19
1.063326E+01     G      6.981471E-18   1.352410E-17   3.968308E+02   7.381930E-01   1.813499E+02   7.859621E-19
1.079775E+01     G      7.426557E-18   1.438629E-17   4.221290E+02   7.849557E-01   1.929119E+02   8.360691E-19
1.096478E+01     G      7.900112E-18   1.530364E-17   4.490453E+02   8.346807E-01   2.052135E+02   8.893813E-19
&amp;hellip;
&amp;hellip;
9.261187E+02     G      9.289492E-14   1.807436E-13   2.098790E+08   6.027814E+02   5.506023E+05   1.036910E-14
9.404448E+02     G      9.372058E-14   1.824654E-13   1.759028E+08   3.949018E+02   6.941084E+05   1.045697E-14
9.549926E+02     G      9.456252E-14   1.842211E-13   1.505420E+08   2.619290E+02   8.747291E+05   1.054565E-14
9.697653E+02     G      9.542219E-14   1.860153E-13   1.310669E+08   1.819211E+02   1.074708E+06   1.063531E-14
9.847666E+02     G      9.630063E-14   1.878519E-13   1.157493E+08   1.403549E+02   1.285253E+06   1.072605E-14
1.000000E+03     G      9.719865E-14   1.897341E-13   1.034542E+08   1.277149E+02   1.502181E+06   1.081792E-14&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P2</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_002/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_002/</guid>
      <description>
        
        
        &lt;p&gt;9 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
more than one natural frequency, the subscript may indicate a frequency number. For an SDOF system, the
circular natural frequency  is given by
(1-5)
The circular natural frequency  is specified in units of radians per unit time.
Natural Frequency
The natural frequency fn is defined by
(1-6)
The natural frequency is often specified in terms of cycles per unit time, commonly cycles per second (cps),
which is more commonly known as Hertz  (Hz). This characteristic indicates the number of sine or cosine
response waves that occur in a given time period (typically one second).
The reciprocal of the natural frequency is termed the period of response   given by
(1-7)
The period of the response defines the length of time needed to complete one full cycle of response.
In the solution of Eq. (1-4),  and  are the integration constants. These constants are determined by
considering the initial conditions  in the system. Since the initial displacement of the system  and
the initial velocity of the system  are known,  and  are evaluated by substituting their values
into the solution of the equation for displacement and its first derivative (velocity), resulting in
(1-8)
These initial value constants are substituted into the solution, resulting in
(1-9)
Eq. (1-9) is the solution for the free vibration of an undamped SDOF system as a function of its initial
displacement and velocity.  Graphically, the response of an undamped SDOF system is a sinusoidal wave
whose position in time is determined by its initial displacement and velocity as shown in Figure 1-2.nk
m&amp;mdash;- =
fnn
2&amp;mdash;&amp;mdash; =
Tn
Tn1
fn&amp;mdash;-2
n&amp;mdash;&amp;mdash; = =
A B
ut0=
u·t0= A B
B ut0= = and Au·t0=
n&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
utu·0
n&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;nt sin u0nt cos + =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equations of Motion10
Main Index
Figure 1-2  SDOF System &amp;ndash; Undamped Free Vibrations
If damping is included, the damped free vibration problem is solved. If viscous damping is assumed, the
equation of motion becomes
(1-10)
Damping Types
The solution form in this case is more involved because the amount of damping determines the form of the
solution.  The three possible cases for positive values of are
Critically damped
Overdamped
Underdamped
Critical damping  occurs when the value of damping is equal to a term called critical damping . The
critical damping is defined as
(1-11)
For the critically damped case, the solution becomes
(1-12)
Under this condition, the system returns to rest following an exponential decay curve with no oscillation.
A system is overdamped  when  and no oscillatory motion occurs as the structure returns to its
undisplaced position.
Time  tAmplitude u(t)
mu··tbu·tkut + + 0=
b
bcr
bcr2km 2mn= =
ut ABt+ebt– 2m=
bbcr&lt;/p&gt;
&lt;p&gt;11 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
The most common damping case is the underdamped  case where .  In this case, the solution has the
form
(1-13)
Again,  and  are the constants of integration based on the initial conditions of the system. The new term
represents the damped circular natural frequency  of the system. This term is related to the undamped
circular natural frequency by the following expression:
(1-14)
The term  is called the damping ratio  and is defined by
(1-15)
The damping ratio is commonly used to specify the amount of damping as a percentage of the critical
damping.
In the underdamped case, the amplitude of the vibration reduces from one cycle to the next following an
exponentially decaying envelope. This behavior is shown in Figure 1-3. The amplitude change from one cycle
to the next is a direct function of the damping. Vibration is more quickly dissipated in systems with more
damping.
Figure 1-3  Damped Oscillation, Free Vibration
The damping discussion may indicate that all structures with damping require damped free vibration
analysis. In fact, most structures have critical damping values in the 0 to 10% range, with values of 1 to 5%
as the typical range. If you assume 10% critical damping, Eq. (1-14) indicates that the damped and undamped
natural frequencies are nearly identical. This result is significant because it avoids the computation of damped bbcr
ut ebt– 2mAdt sin Bdt cos +  =
A B
d
dn12– =

b
bcr&amp;mdash;&amp;mdash;- =
Time tAmplitude u(t)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equations of Motion12
Main Index
natural frequencies, which can involve a considerable computational effort for most practical problems.
Therefore, solutions for undamped natural frequencies are most commonly used to determine the dynamic
characteristics of the system (see Real Eigenvalue Analysis ). However, this does not imply that damping is
neglected in dynamic response analysis. Damping can be included in other phases of the analysis as presented
later for frequency and transient response (see Frequency Response Analysis  and Transient Response Analysis ).
Forced Vibration Analysis
Forced vibration analysis  considers the effect of an applied load on the response of the system. Forced
vibrations analyses can be damped or undamped. Since most structures exhibit damping, damped forced
vibration problems are the most common analysis types.
The type of dynamic loading determines the mathematical solution approach.  From a numerical viewpoint,
the simplest loading is simple harmonic (sinusoidal) loading. In the undamped form, the equation of motion
becomes
(1-16)
In this equation the circular frequency of the applied loading is denoted by . This loading frequency is
entirely independent of the structural natural frequency , although similar notation is used.
This equation of motion is solved to obtain
(1-17)
where:
Again,  and  are the constants of integration based on the initial conditions. The third term in Eq. (1-17)
is the steady -state solution. This portion of the solution is a function of the applied loading and the ratio of
the frequency of the applied loading to the natural frequency of the structure.
The numerator and denominator of the third term demonstrate the importance of the relationship of the
structural characteristics to the response. The numerator  is the static displacement of the system. In
other words, if the amplitude of the sinusoidal loading is applied as a static load, the resulting static
displacement  is . In addition, to obtain the steady state solution, the static displacement is scaled by
the denominator.A=
B=mu··tkut + pt sin =

n
utAnt sin Bnt cos + =pk
12–n2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;t sin +
Initial Condition
SolutionSteady -State
Solution
u·t0=
n&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;pk
12–n2 n&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; –
ut0=
A B
pk
upk&lt;/p&gt;
&lt;p&gt;13 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
The denominator of the steady -state solution contains the ratio between the applied loading frequency and
the natural frequency of the structure.
Dynamic Amplification Factor for No Damping
The term
(1-18)
is called the dynamic amplification (load) factor . This term scales the static response to create an amplitude
for the steady state component of response.  The response occurs at the same frequency as the loading and
in phase with the load (i.e., the peak displacement occurs at the time of peak loading). As the applied loading
frequency becomes approximately equal to the structural natural frequency, the ratio  approaches
unity and the denominator goes to zero. Numerically, this condition results in an infinite (or undefined)
dynamic amplification factor. Physically, as this condition is reached, the dynamic response is strongly
amplified relative to the static response.  This condition is known as resonance . The resonant buildup of
response is shown in Figure 1-4.1
12–n2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
n&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equations of Motion14
Main Index
Figure 1-4  Harmonic Forced Response with No Damping
It is important to remember that resonant response is a function of the natural frequency and the loading
frequency.  Resonant response can damage and even destroy structures. The dynamic analyst is typically
assigned the responsibility to ensure that a resonance condition is controlled or does not occur.
Solving the same basic harmonically loaded system with damping makes the numerical solution more
complicated but limits resonant behavior. With damping, the equation of motion becomes
(1-19)
In this case, the effect of the initial conditions decays rapidly and may be ignored in the solution. The solution
for the steady -state response is
Time tAmplitude u(t)
mu··tbu·tkut + + pt sin =&lt;/p&gt;
&lt;p&gt;15 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
(1-20)
The numerator of the above solution contains a term that represents the phasing of the displacement response
with respect to the applied loading.  In the presence of damping, the peak loading and peak response do not
occur at the same time.  Instead, the loading and response are separated by an interval of time measured in
terms of a phase angle  as shown below:
(1-21)
The phase angle  is called the phase lead , which describes the amount that the response leads the applied
force.
Dynamic Amplification Factor with Damping
The dynamic amplification factor  for the damped case is
(1-22)
The interrelationship among the natural frequency, the applied load frequency, and the phase angle can be
used to identify important dynamic characteristics. If  is much less than 1, the dynamic amplification
factor approaches 1 and a static solution is represented with the displacement response in phase with the
loading. If  is much greater than 1, the dynamic amplification factor approaches zero, yielding very
little displacement response.  In this case, the structure does not respond to the loading because the loading
is changing too fast for the structure to respond.  In addition, any measurable displacement response will be
180 degrees out of phase with the loading (i.e., the displacement response will have the opposite sign from
the force).  Finally if , resonance  occurs.  In this case, the magnification factor is , and
the phase angle is 270 degrees. The dynamic amplification factor and phase lead are shown in Figure 1-5 and
are plotted as functions of forcing frequency.ut pkt+ sin
12n2 – 22n2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =

 tan1–2n
12–n2 &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- –=

Note:   Some texts define  as the phase lag, or the amount that the response lags the applied force.  To
convert from phase lag to phase lead, change the sign of  in Eq. (1-20) and Eq. (1-21).

1
12n2 – 22n2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
n
n
n 1= 12&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Analysis Process16
Main Index
Figure 1-5  Harmonic Forced Response with Damping
In contrast to harmonic loadings, the more general forms of loading (impulses and general transient loading)
require a numerical approach to solving the equations of motion. This technique, known as numerical
integration, is applied to dynamic solutions either with or without damping. Numerical integration is
described in Transient Response Analysis .
Dynamic Analysis Process
Before conducting a dynamic analysis, it is important to define the goal of the analysis prior to the
formulation of the finite element model. Consider the dynamic analysis process to be represented by the steps
in Figure 1-6. The analyst must evaluate the finite element model in terms of the type of dynamic loading to
be applied to the structure. This dynamic load is known as the dynamic environment. The dynamic
environment governs the solution approach (i.e., normal modes, transient response, frequency response, etc.). 360
1801
n
Forcing Frequency Amplification Factor Phase Lead  (Degrees)&lt;/p&gt;
&lt;p&gt;17 CHAPTER 1
Fundamentals of Dynamic Analysis
Main Index
This environment also indicates the dominant behavior that must be included in the analysis (i.e., contact,
large displacements, etc.). Proper assessment of the dynamic environment leads to the creation of a more
refined finite element model and more meaningful results.
Figure 1-6  Overview of Dynamic Analysis Process
An overall system design is formulated by considering the dynamic environment. As part of the evaluation
process, a finite element model is created. This model should take into account the characteristics of the
system design; and just as importantly, the nature of the dynamic loading (type and frequency); and any
interacting media (fluids, adjacent structures, etc.). At this point, the first step in many dynamic analyses is
a modal analysis to determine the structure’s natural frequencies and mode shapes (see Real Eigenvalue Analysis ).
In many cases the natural frequencies and mode shapes of a structure provide enough information to make
design decisions. For example, in designing the supporting structure for a rotating fan, the design
requirements may require that the natural frequency of the supporting structure have a natural frequency
either less than 85% or greater than 110% of the operating speed of the fan. Specific knowledge of quantities
such as displacements and stresses are not required to evaluate the design.
Forced response is the next step in the dynamic evaluation process. The solution process reflects the nature
of the applied dynamic loading. A structure can be subjected to a number of different dynamic loads with
each dictating a particular solution approach. The results of a forced-response analysis are evaluated in terms No
Yes
YesNoFinite Element
ModelDynamic
Environment
Modal
Analysis?Results
Satisfactory?
Results
Satisfactory?Forced -Response
Analysis
EndYes
No&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Analysis Types18
Main Index
of the system design. Necessary modifications are made to the system design. These changes are then applied
to the model and analysis parameters to perform another iteration on the design. The process is repeated until
an acceptable design is determined, which completes the design process.
The primary steps in performing a dynamic analysis are summarized as follows:
1.Define the dynamic environment (loading).
2.Formulate the proper finite element model.
3.Select and apply the appropriate analysis approach(es) to determine the behavior of the structure.
4.Evaluate the results.
Dynamic Analysis Types
This guide describes the types of dynamic analysis that can be performed with MSC Nastran. The basic types
are:
Real eigenvalue analysis (undamped free vibrations).
Linear frequency response analysis (steady -state response of linear structures to loads that vary as a
function of frequency).
Linear transient response analysis (response of linear structures to loads that vary as a function of
time).
Real eigenvalue analysis is used to determine the basic dynamic characteristics of a structure. The results of
an eigenvalue analysis indicate the frequencies and shapes at which a structure naturally tends to vibrate.&lt;br&gt;
Although the results of an eigenvalue analysis are not based on a specific loading, they can be used to predict
the effects of applying various dynamic loads. Real eigenvalue analysis is described in Real Eigenvalue Analysis .
Frequency response analysis is an efficient method for finding the steady -state response to sinusoidal
excitation. In frequency response analysis, the loading is a sine wave for which the frequency, amplitude, and
phase are specified. Frequency response analysis is limited to linear elastic structures. Frequency response
analysis is described in Frequency Response Analysis .
T ransient response analysis is the most general method of computing the response to time -varying loads. The
loading in a transient analysis can be of an arbitrary nature, but is explicitly defined (i.e., known) at every
point in time. The time -varying (transient) loading can also include nonlinear effects that are a function of
displacement or velocity. T ransient response analysis is most commonly applied to structures with linear
elastic behavior. T ransient response analysis is described in Transient Response Analysis .
Additional MSC Nastran advanced dynamic analysis capabilities, such as damping, direct enforced motion,
random response analysis, response spectrum analysis and coupled fluid structure analysis can be used in
conjunction with the above analyses. More advanced dynamic analysis capabilities like design sensitivity,
design optimization, aeroelastic, rotor dynamics, control system and nonlinear transient also build on these
capabilities.
In practice, very few engineers use all of the dynamic analysis types in their work.  Therefore, it may not be
important for you to become familiar with all of the types. Each type can be considered independently,
although there may be many aspects common to many of the analyses.&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s
Guide
Chapter 2: Finite Element Input Data
2Finite Element Input Data
Overview
Strategies for Dynamic Analysis
Plan the Analysis
Mass Input
Coupled Mass Matrix Terms
Mass Effects in Moving Coordinate Systems
Damping Input
Units in Dynamic Analysis&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview20
Main Index
Overview
When conducting an MSC Nastran dynamic analysis, the formulation of the model depends upon the
desired results and the type of dynamic loading. For example, if stresses are of interest, a finer finite element
mesh is required than if only the system level displacement patterns are needed. Many of the modeling
considerations involved in a static analysis are similarly applied in dynamic analysis. A dynamic analysis,
however, requires additional input data which is used to define the dynamic character of the structure.
In static analysis the stiffness properties are defined by element and material properties. These same properties
are also required for dynamic analysis along with the addition of mass and damping. Mass Input  describes mass
input and Damping Input  describes damping input.
Correct specification of units is very important for dynamic analysis. Incorrect specification of units is
probably more difficult to diagnose in dynamic analysis then in static analysis. Because MSC Nastran has no
built-in set of units, you must ensure their consistency (and accuracy). Units in Dynamic Analysis  describes the
common variables and units for dynamic analysis.
In general, the practice of building MSC Nastran models for dynamic analysis is similar to building statics or
normal modes models. However, in dynamics the higher costs of running detailed large order models usually
results in a different approach. For instance, a direct frequency response analysis may require solutions at
more than 100 frequencies. Each frequency will require an asymmetric matrix solution using complex
variables, which will take four to ten times longer to solve then a single static solution. If memory is sufficient,
the running time could be larger by a factor 400 to 1000. If the required memory (four times more then in
a static analyses) is insufficient, the solution will spill, and even longer run times will result. In addition, the
database and scratch file space requirements will be much larger and the size of the output data becomes very
large. The result is that many users who simply take fine mesh static models directly into a dynamic analysis
find the solution time and required resources to be excessive.
Strategies for Dynamic Analysis
The two major approaches to avoid the problems described above are to use the matrix reduction  methods
available in MSC Nastran or to simply build another dynamic model  with fewer grid points and elements.&lt;br&gt;
The matrix reduction methods use sophisticated approximations to reduce the cost of the dynamic solutions.
However, they add complexity to the system. Instead of making decisions about the element mesh size, the
user must consider the frequency band and loading characteristics of the actual structure.
Although building a separate dynamic model will require extra work, it has several advantages. The
requirements for precise stress results for statics are usually not as important for dynamics, thereby allowing
the use of larger elements. The requirements for accurate dynamic results are not as dependent on small
elements since loads tend to be distributed over wider areas by the inertial and damping effects. The actual
accuracy criteria for dynamic models is related to wavelength size relative to the mesh size. Also, in a smaller
dynamic model the job of interpreting outputs with plotters and other methods becomes much easier.
It should also be noted that the process of changing finite element meshes is becoming easier with modern
geometry -based modeling systems and automated mesh generation.&lt;/p&gt;
&lt;p&gt;21 CHAPTER 2
Finite Element Input Data
Main Index
Plan the Analysis
The following steps are recommended before starting a dynamic analysis:
1.Estimate the frequency range of the structure. The first mode frequency can usually be estimated by
a simple equivalent beam calculation. A normal modes analysis is highly recommended for dynamics
regardless of the approach.
2.Consider the type and frequency content of the loads.   Localized high frequency sources such as brake
squeal require different approaches from low frequency distributed loads such as wind forces on a
bridge.
3.Use expected wavelengths to estimate required mesh size. A wavelength can be estimated from the
frequency and sound speed. Six elements per wave for approximately 10% accuracy is a general
rule-of-thumb. Also, this method may be used to evaluate the quality of the calculated eigenvectors.
4.Always use SETs for output requests  as a general practice. The use of Case Control requests such as
STRESS = ALL for a large transient analysis could possibly exceed the size limits of your
postprocessor.
5.Estimate the computer resources (CPU time, database size, output requirements) for large problems
before production runs are made. A good method is to run the model with only a few time steps or
frequencies, and examine the major time and size messages in the F04 output file. The actual costs
can then be extrapolated with reasonable accuracy.
Mass Input
Basic Definitions of Mass
The mass matrix in MSC Nastran may contain much more information than simple structural mass and
inertia terms. In fact, it may contain control system terms, fluid compressibility, or electromagnetic
capacitance.  One basic definition is that any term which contributes to the generalized kinetic energy must
create a coefficient in the mass matrix. Another definition is that any generalized force, F, proportional to an
acceleration term  produces a mass term M, i.e.,
(2-1)
where each component of the acceleration vector  represents a generalized degree -of-freedom.
The mass matrix is required for nearly all dynamic solution sequences.  It is also used for generating gravity
and centrifugal loads for static solutions.  Inertia relief solutions require the mass matrix to balance the
unbalanced forces on a free body.  All solutions may calculate the total mass and center of gravity (CG)
information for printout.
Note that mass is not required for heat transfer dynamics.
Mass input is one of the major entries in a dynamic analysis. Mass can be represented in a number of ways
in MSC Nastran.  The mass matrix is automatically computed when mass density or nonstructural mass is u··
F Mu·· =
u··&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Input22
Main Index
specified for any of the standard finite elements (CBAR, CQUAD4, etc.) in MSC Nastran, when
concentrated mass elements are entered, and/or when full or partial mass matrices are entered.
Lumped and Coupled Mass
Mass is formulated as either lumped mass  or coupled mass . Lumped mass matrices contain uncoupled,
translational components of mass. Coupled mass matrices contain translational components of mass with
coupling between the components. The CBAR, CBEAM, and CBEND elements contain rotational masses
in their coupled formulations, although torsional inertias are not considered for the CBAR element. Coupled
mass can be more accurate than lumped mass. However, lumped mass is more efficient and is preferred for
its computational speed in dynamic analysis.
The mass matrix formulation is a user -selectable option in MSC Nastran. The default mass formulation is
lumped mass for most MSC Nastran finite elements. The coupled mass matrix formulation is selected using
PARAM, COUPMASS ,1 in the Bulk Data. Table 2-1 shows the mass options available for each element type.
Table 2-1  Element Mass Types
Element Type Lumped Mass Coupled Mass*
CBAR X X
CBEAM X X
CBEND X
CBUSH X
CFAST X
CONEAX X
CONMi X X
CONROD X X
CRAC2D X X
CRAC3D X X
CHEXA X X
CMASSi X
CPENTA X X
CQUAD4 X X
CQUAD8 X X
CQUADR X X
CROD X X
CSHEAR X
CTETRA X X
CTRIA3 X X&lt;/p&gt;
&lt;p&gt;23 CHAPTER 2
Finite Element Input Data
Main Index
The MSC Nastran coupled mass  formulation is a modified approach to the classical consistent mass&lt;br&gt;
formulation found in most finite element texts. The MSC Nastran lumped mass is identical to the classical
lumped mass approach. The various formulations of mass matrices can be compared using the CROD&lt;br&gt;
element. Assume the following properties:
CROD Element Stiffness Matrix
The CROD element’s stiffness matrix [K] is given by:
(2-2)
The zero entries in the matrix create independent (uncoupled) translational and rotational behavior for the
CROD element, although for most other elements these degrees -of-freedom are coupled.
CROD Lumped Mass Matrix
The CROD element classical lumped mass  matrix is the same as the MSC Nastran lumped mass matrix.&lt;br&gt;
This lumped mass matrix isCTRIA6 X X
CTRIAR X X
CTRIAX6 X X
CTUBE X X
&lt;em&gt;Couple mass is selected by PARAM,COUPMASS,1.Table 2-1  Element Mass Types  (continued)
Element Type Lumped Mass Coupled Mass&lt;/em&gt;
L= Length
A= Area
J= Torsional Constant
E= Young’s Modulus
G= Shear Modulus
= Mass Density
= Polar Moment of Inertia I
1-4 = Degrees -of-Freedom
IL2 (Torsion)
1 (Translation)4 (Torsion)
3 (Translation)
KAE
L&amp;mdash;&amp;mdash;-0AE–
L&amp;mdash;&amp;mdash;&amp;mdash;-0
0GJ
L&amp;mdash;&amp;mdash;-0GJ–
L&amp;mdash;&amp;mdash;&amp;mdash;-
AE–
L&amp;mdash;&amp;mdash;&amp;mdash;-0AE
L&amp;mdash;&amp;mdash;-0
0GJ–
L&amp;mdash;&amp;mdash;&amp;mdash;-0GJ
0&amp;mdash;&amp;mdash;-=1
2
3
41 2 34&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Input24
Main Index
(2-3)
The lumped mass matrix is formed by distributing one -half of the total rod mass to each of the translational
degrees -of-freedom. These degrees -of-freedom are uncoupled and there are no torsional mass terms
calculated.
The CROD element classical consistent mass  matrix is
(2-4)
This classical mass matrix is similar in form to the stiffness matrix because it has both translational and
rotational masses. T ranslational masses may be coupled to other translational masses, and rotational masses
may be coupled to other rotational masses. However, translational masses may not be coupled to rotational
masses.
CROD Coupled Mass Matrix
The CROD element MSC Nastran coupled mass  matrix is
(2-5)
The axial terms in the CROD element coupled mass matrix represent the average of lumped mass and
classical consistent mass. This average is found to yield the best results for the CROD element as described
below. The mass matrix terms in the directions transverse to the element axes are lumped mass, even when MAL1
2&amp;mdash; 0 0 0
0 0 0 0
0 0 1
2&amp;mdash; 0
0 0 0 0=
MAL1
3&amp;mdash; 0 1
6&amp;mdash; 0
0 I
3A&amp;mdash;&amp;mdash;- 0 I
6A&amp;mdash;&amp;mdash;-
1
6&amp;mdash; 0 1
3&amp;mdash; 0
0 I
6A&amp;mdash;&amp;mdash;- 0 I
3A&amp;mdash;&amp;mdash;-=
MAL5
12&amp;mdash;&amp;mdash; 0 1
12&amp;mdash;&amp;mdash; 0
0 0 0 0
1
12&amp;mdash;&amp;mdash; 0 5
12&amp;mdash;&amp;mdash; 0
0 0 0 0=&lt;/p&gt;
&lt;p&gt;25 CHAPTER 2
Finite Element Input Data
Main Index
the coupled mass option is selected. Note that the torsional inertia is not included in the CROD element
mass matrix.
Lumped Mass Versus Coupled Mass Example
The difference in the axial mass formulations can be demonstrated by considering a fixed -free rod modeled
with a single CROD element ( Figure 2-1).  The exact quarter -wave natural frequency for the first axial mode is&lt;/p&gt;
&lt;p&gt;Using the lumped mass  formulation for the CROD element, the first frequency is predicted to be
which underestimates the frequency by 10%. Using a classical consistent mass  approach, the predicted
frequency
is overestimated by 10%. Using the coupled mass  formulation in MSC Nastran, the frequency
is underestimate d by 1.4%. The purpose of this example is to demonstrate the possible effects of the different
mass formulations on the results of a simple problem. Remember that not all dynamics problems have such
a dramatic difference. Also, as the model’s mesh becomes finer, the difference in mass formulations becomes
negligible.1.5708E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
1.414E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
1.732E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
1.549E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Input26
Main Index
Figure 2-1  Comparison of Mass Formulations for a ROD
CBAR, CBEAM Lumped Mass
By default, the CBAR element lumped mass matrix is identical to the CROD element lumped mass matrix.
The CBEAM element lumped mass matrix is identical to that of the CROD and CBAR mass matrices with
the exception that torsional inertia is included. The CBAR can also include torsional inertia if BARMASS
(398)=1. T orsional inertia can be removed for the CBAR and CBEAM by setting SYSTEM (414)=1.
CBAR, CBEAM Coupled Mass
The CBAR element coupled mass matrix is identical to the classical consistent mass formulation except for
two terms:  (1) the mass in the axial direction is the average of the lumped and classical consistent masses, as
explained for the CROD element; and (2) there is no torsional inertia. The CBEAM element coupled mass
matrix is also identical to the classical consistent mass formulation except for two terms: (1) the mass in the
axial direction is the lumped mass; and (2) the torsional inertia is the lumped inertia.
Mass Units
Another important aspect of defining mass is the units  of measure associated with the mass definition. MSC
Nastran assumes that consistent units are used in all contexts. You must be careful to specify structural
dimensions, loads, material properties, and physical properties in a consistent set of units.MSC Nastran Lumped Mass :
Classical Consistent Mass :
MSC Nastran Coupled Mass :Theoretical Natural Frequency :
n2E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 1.414E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = =
n3E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 1.732E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = =
n125E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 1.549E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = =ut
1
Single Element Model
2l
n
2&amp;mdash;E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 1.5708E
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = =&lt;/p&gt;
&lt;p&gt;27 CHAPTER 2
Finite Element Input Data
Main Index
All mass entries should be entered in mass consistent units. Weight units may be input instead of mass units,
if this is more convenient. However, you must convert the weight to mass by dividing the weight by the
acceleration of gravity defined in consistent units:
m = (1/g)w (2-6)
where:
The parameter
PARAM, WTMASS,factor
performs this conversion. The value of the factor should be entered as 1/g. The default value for the factor is
1.0. Hence, the default value for WTMASS assumes that mass (and mass density) is entered, instead of
weight (and weight density).
When using English units if the weight density  of steel is entered as  RHO = 0.3 lb/in3, using
PARAM,WTMASS,0.002588 converts the weight density to mass density for the acceleration of gravity
g = 386.4 in/sec2. The mass density , therefore, becomes 7.765E-4lbf - sec2/in4. If the weight density of steel
is entered as RHO = 80000 N/m3 when using metric units, then using PARAM,WTMASS,0.102 converts
the weight density to mass density for the acceleration of gravity g = 9.8 m/s2. The mass  density, therefore,
becomes 8160 kg/m3.
PARAM,WTMASS  is used once per run, and it multiplies all weight/mass input (including CMASSi ,
CONMi , and nonstructural mass input).  Therefore, do not mix input type; use all mass (and mass density)
input or all weight (or weight density) input.  PARAM,WTMASS does not affect direct input matrices
M2GG  or M2PP  (see Direct Matrix Input Dynamics ).  If M2GG (Case)  is used, then PARAM, CM1, CM2 can be
used to scale all weight/mass input (except for M2GG and M2PP); and PARAM, CM1, CM2 can be used to
scale M2GG; there is no parameter scaling for M2PP .
Mass Data Input Options
MSC Nastran provides the following means to specify the mass properties of the finite element model:
1.The density (mass per unit volume) of the structural materials, which comprises the finite element
(field RHO on the MATi Bulk Data entries).
2.Nonstructural mass per unit length of line elements or mass per unit area of surface elements (field
NSM on the property Bulk Data entry). Examples of this feature are coatings and thermal insulating
materials.m=mass or mass density
g=acceleration of gravity
w=weight or weight density&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Input28
Main Index
3.Concentrated mass and inertia terms at a grid point via a CONM2 Bulk Data entry. The provisions
of the CONM2 entry are the mass, the offset of the center of mass from the grid point, and the
moments and products of inertia about the center of mass. As an option, the center of mass may be
measured from the origin of the basic coordinate system rather than as an offset from the grid point.
4.A full 6×6 symmetric matrix of mass coefficients at a grid point via the CONM1 Bulk Data entry.
5.Mass coupling between any two degrees -of-freedom via the CMASSi (i = 1,2,3,4) Bulk Data entries.
The form of the relationship is
(2-7)
where f1 and f2 are the inertia forces acting at degrees -of-freedom 1 and 2, respectively, and M is the
mass coefficient, specified on the CMASSi entry (or on the PMASS entry if i = 2 or 4). In most
applications, the second degree -of-freedom is not specified. In this case, the entry generates the inertia
force , and M is added to the mass matrix in the diagonal position corresponding to u1.
An important application of the CMASSi entry occurs in the recommended method for specifying
enforced motion at grid points (see Enforced Motion with Loads ).
6.Transfer functions  defined on the TF Bulk Data entry may contribute terms to the mass matrix.
Mass Density
The most common method to enter mass is using the RHO field on the MATi  entry.  This field is assumed
to be defined in terms of mass density (mass/unit volume). T o determine the total mass of the element, the
mass density is multiplied by the element volume (determined from the geometry and physical properties).
For a MAT1  entry, a mass density for steel of 7.76E-4 lbf-sec2/in4 is entered as follows:
Nonstructural Mass
An additional way to input mass is to use nonstructural mass, which is mass  not associated with the geometric
cross-sectional properties of an element.  Examples of nonstructural mass are insulation, roofing material, and
special coating materials. Nonstructural mass is input as mass/length for line elements and mass/area for
elements with two -dimensional geometry.  Nonstructural mass is defined on the element property entry. Such
as the NSM field on the PBAR entry for example.
Concentrated Mass and Inertia
Grid point masses can be entered using the CONM1 , CONM2 , and CMASSi entries. The CONM1 entry allows
input of a fully coupled 6 x 6 mass matrix. You define half of the terms, and symmetry is assumed. The
CONM2 entry defines mass and mass moments of inertia for a rigid body. The CMASSi entries define scalar
masses.1 2 3 4 5 6 7 8 9 10
$MAT1 MID E G NU RHO A TREF GE
MAT1 2 30.0E6 0.3 7.76E -4f1
f2 MM–
M– Mu··1
u··2–=
f1Mu··1–=&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P20</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_020/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_020/</guid>
      <description>
        
        
        &lt;p&gt;369 CHAPTER 8
Random Analysis
Main Index
A C C E L E R A T I O N    V E C T O R
( ROOT MEAN SQUARE )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
        28      G      5.976811E-05   8.319094E-05   6.028776E+05   1.329319E+05   3.110180E+05   2.005465E-05

                                        A C C E L E R A T I O N    V E C T O R
                                             ( NUMBER OF ZERO CROSSINGS )

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
        28      G      1.737170E+02   1.738071E+02   5.728496E+02   5.317244E+02   2.119516E+02   1.736413E+02
                                                                                                                                
                          X Y - O U T P U T  S U M M A R Y  ( A U T O  O R  P S D F )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;PLOT  CURVE FRAME    CURVE ID./      RMS       NO. POSITIVE  XMIN FOR  XMAX FOR  YMIN FOR   X FOR    YMAX FOR    X FOR
TYPE   TYPE   NO.  PANEL  : GRID ID  VALUE      CROSSINGS    ALL DATA  ALL DATA  ALL DATA    YMIN    ALL DATA    YMAX&lt;/p&gt;
&lt;p&gt;AUTO ACCE       1      55( 5)   1.464592E+06 3.549814E+02 0.000E+00  1.000E-01 -1.630E+12 3.150E-03 2.145E+12  0.000E+00
P R I N T E D   D A T A   F O R   T H I S   C U R V E   F O L L O W S&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  ACCELERATION    CURVE   ID =       55     COMPONENT =  5     WHOLE FRAME                                      
                        PRINT NUMBER          X-VALUE              Y-VALUE              CARD NUMBER
                              1             0.000000E+00         2.145029E+12
                              2             5.000000E-05         2.131748E+12
                              3             1.000000E-04         2.092620E+12
                              4             1.500000E-04         2.029721E+12
                              5             2.000000E-04         1.946369E+12
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;hellip;
&amp;hellip;
1996             9.975000E-02        -3.013784E+10
1997             9.980001E-02        -3.508981E+10
1998             9.985001E-02        -3.997675E+10
1999             9.990001E-02        -4.479540E+10
2000             9.995001E-02        -4.954452E+10
2001             1.000000E-01        -5.421790E+10
X Y - O U T P U T  S U M M A R Y  ( A U T O  O R  P S D F )
PLOT  CURVE FRAME    CURVE ID./      RMS       NO. POSITIVE  XMIN FOR  XMAX FOR  YMIN FOR   X FOR    YMAX FOR    X FOR
TYPE   TYPE   NO.  PANEL  : GRID ID  VALUE      CROSSINGS    ALL DATA  ALL DATA  ALL DATA    YMIN    ALL DATA    YMAX&lt;/p&gt;
&lt;p&gt;PSDF ACCE       2      28( 5)   6.028776E+05 5.728496E+02 1.000E+01  1.000E+03  3.100E+02 1.000E+01 1.529E+10 1.332E+02
P R I N T E D   D A T A   F O R   T H I S   C U R V E   F O L L O W S&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  ACCELERATION    CURVE   ID =       28     COMPONENT =  5     WHOLE FRAME                                      
                        PRINT NUMBER          X-VALUE              Y-VALUE              CARD NUMBER
                              1             1.000000E+01         3.099549E+02
                              2             1.015469E+01         3.296992E+02
                              3             1.031177E+01         3.507051E+02
                              4             1.047129E+01         3.730536E+02
                              5             1.063326E+01         3.968308E+02
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;hellip;
&amp;hellip;
309             9.404448E+02         1.759028E+08
310             9.549926E+02         1.505420E+08
311             9.697653E+02         1.310669E+08
312             9.847666E+02         1.157493E+08
313             1.000000E+03         1.034542E+08&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Random Analysis with Coupled Excitations370
Main Index
Figure 8-4  Autocorrelation, Acceleration of Grid 55 (Tz)
Figure 8-5  Power Spectral Density, Acceleration of Grid 28 (Tz)&lt;/p&gt;
&lt;p&gt;371 CHAPTER 8
Random Analysis
Main Index
Composites and Random Response Enhancements
Introduction
Three functionalities are added to composites and random response analysis. They are listed as follows.
1.Export composite element ply strength ratio (SR) to Nastran HDF5 database (NH5RDB) for
frequency response analyses
2.Option to export random analysis results, PSDF (Power Spectral Density Functions), exclusively to
NH5RDB and/or OP2 file
3.Compute composite element ply failure indices (FI) from ply RMS (Root Mean Square) stresses
Benefits
In previous versions, the strength ratio results have been exported to NH5RDB for results with SORT1
format, but they were absent from NH5RDB for SORT2 format, particularly with random analysis. In this
release, users can access strength ratios by importing NH5RDB to Patran and HDF5 viewer.
For a long time, Nastran users were forced to use massive files (NH5RDB and OP2) when doing random
analysis with a large model, particularly with a model containing a large number of composite elements.
Non-random results represent the frequency response results, which may not be of interest in a random
analysis. Among all random response results, such as PSDF , Auto-correlation functions (ATOC), Root mean
squares (RMS), Zero-crossings (N0), and Cumulative RMS (CRMS), PSDF is the response used most often.
With the option for a PSDF-only database, the user has more flexibility in reducing the size of the NH5RDB
and OP2 files.
In random analysis, composite ply failure indices, computed from each SUBCASE, represent the failure
indices of stress frequency response functions for that single SUBCASE. They do not represent the failure
indices from random excitations, which may come from multiple SUBCASE&amp;rsquo;s. Failure indices, computed
from ply RMS stresses, provide a perspective in evaluating the failure indices with the random context. Note
that these failure indices are not true RMS of ply failure indices, which may contain quadratic terms of stress
components. This is because the overall RMS failure index may not be the same as the failure index
computed from individual RMS of ply stress components.
Failure Indices with Random Context
MSC Nastran computes composite ply failure indices for both real and complex stresses [ 1.]. The failure
theories include Hill (HILL), Hoffman (HOFF), Tsai-Wu (TSAI) and Maximum Strain (STRN) [ 1.]. The
Hashin failure theory was added in the MSC Nastran 2019 release [ 2.].
Since all RMS stresses are non-negative values, the formulations of failure indices from various failure
theories are modified to account for the worst-case scenario. The Table 8-1 (from [ 3.]) shows how the
conventional formulations [ 1.] are adapted for the RMS stresses.&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Composites and Random Response Enhancements372
Main Index
For the Hashin failure theories [ 2.], the same rule of the worst-case scenario applies. The sigma-RMS
formulations of Hashin failure criteria are shown in Table 8-2Table 8-1  Failure Theories for Laminate Composites, Formulations and Remarks
Failure Theory Formula
Hill
(HILL)
with X1 = MIN(X1,Xc),
Y = MIN(Y,Yc)
X2 = Xc
Remark:  For the Hill theory, the allowable tensile and compressible stresses are typically
the same, in other cases the critical value is taken.
Hoffman
(HOFFMAN)
Remark:  Orthotropic material, general type, allowed tensile and compressive stresses
may differ.
Tsai-Wu
(TSAI)
Remark: Orthotropic material, general type, allowed tensile and compressive stresses
may differ.
Maximum
Strain
(STRN)
Remark:  Maximal strain criteriaFI12
X12&amp;mdash;&amp;mdash;&amp;mdash;12
X22&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;22
Y2&amp;mdash;&amp;mdash;&amp;ndash;122
S2&amp;mdash;&amp;mdash;&amp;mdash;- + + + =
FI1
Xt&amp;mdash;&amp;ndash;1
Xc&amp;mdash;&amp;mdash;–11
Yt&amp;mdash;-1
Yc&amp;mdash;&amp;ndash;–212
XtXc&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;12
XtXc&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;22
YtYc&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;122
S2&amp;mdash;&amp;mdash;&amp;mdash;- + + + + + =
FI1
Xt&amp;mdash;&amp;ndash;1
Xc&amp;mdash;&amp;mdash;–11
Yt&amp;mdash;-1
Yc&amp;mdash;&amp;ndash;–212
XtXc&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;22
YtYc&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2F1212+ + + + =
FIMAX1
X&amp;mdash;&amp;ndash;2
Y&amp;mdash;&amp;ndash;12
S&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  ifSTRN , 1=
MAX1E1
X&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;2E2
Y&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;12G12
S&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;   elsewithXtXc=,
withYtYc=,,
&lt;/h1&gt;&lt;h1&gt;373 CHAPTER 8
Random Analysis
Main Index
Table 8-2  Hashin Failure Theories for Laminate Composites, Formulations and Remarks
Hashin Failure
Criteria Formula
Hashin Failure
CriterionT ension fiber mode:
Compression fiber mode:
Tensile matrix mode:
Compression matrix mode:
FI = MAX(FI1, FI2, FI3, FI4)
Remark: Four failure modesFI112
XT&amp;mdash;&amp;mdash;&amp;ndash;
2122132+
S122&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + =
FI211
XC&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/h1&gt;&lt;p&gt;FI322
YT&amp;mdash;&amp;mdash;&amp;ndash;
222
S23&amp;mdash;&amp;mdash;&amp;ndash;
2122132+
S122&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + + =
FI4YC
2S23&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
2
1–22
YC&amp;mdash;&amp;mdash;&amp;ndash;
22
2S23&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
2122132+
S122&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + + =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Composites and Random Response Enhancements374
Main Index
Hashin Fabric
Failure CriterionT ension/ compression fiber 1 modes:
T ension/ compression fiber 2 modes:
Tension, compression thickness modes:
FI = MAX(FI1, FI2, FI3)
Remark: Six failure modes
Hashin Tape
Failure CriterionTension/ compression fiber modes:
Tensin matrix mode:
Compression mixture failure mode:
FI = MAX(FI1, FI2, FI3)
Remark: Four failure modesTable 8-2  Hashin Failure Theories for Laminate Composites, Formulations and Remarks  (continued)
Hashin Failure
Criteria Formula
FI111
X&amp;mdash;&amp;mdash;&amp;ndash;212
S12&amp;mdash;&amp;mdash;&amp;ndash;
213
S13&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;= X MINXTXC =
FI222
Y&amp;mdash;&amp;mdash;&amp;ndash;212
S12&amp;mdash;&amp;mdash;&amp;ndash;
223
S23&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;= Y MINYTYC =
FI312
S12&amp;mdash;&amp;mdash;&amp;ndash;
213
S13&amp;mdash;&amp;mdash;&amp;ndash;
223
S23&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;=
FI111
X&amp;mdash;&amp;mdash;&amp;ndash;212
S12&amp;mdash;&amp;mdash;&amp;ndash;
213
S13&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;= X MINXTXC =
FI222
YT&amp;mdash;&amp;mdash;&amp;ndash;
212
S12&amp;mdash;&amp;mdash;&amp;ndash;
213
S13&amp;mdash;&amp;mdash;&amp;ndash;
223
S23&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;=
FI3YC
2S23&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
2
1–22
YC&amp;mdash;&amp;mdash;&amp;ndash;
22
2S23&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
212
S12&amp;mdash;&amp;mdash;&amp;ndash;
213
S13&amp;mdash;&amp;mdash;&amp;ndash;
212
S12&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;ul&gt;
&lt;li&gt;+
23
S23&amp;mdash;&amp;mdash;&amp;ndash;
2
A111
S1&amp;mdash;&amp;mdash;&amp;ndash;
2&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;+=&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;375 CHAPTER 8
Random Analysis
Main Index
A new Case Control command, RANDOUT, is created for the PSDF-only NH5RDB and/or OP2. If used,
RANDOUT must be placed above all SUBCASE&amp;rsquo;s in order to override all existing case-selective Case
Control commands, such as DISP , VELO, ACCEL, STRESS, STRAIN, FORCE, SPCF , MPCF and so on.
User Interface
Control for exclusive random result, PSDF , output, to NH5RDB and/or OP2
Examples:
RANDOUT= YES
RANDOUT (PSDF, HDF5) = YES
RANDOUT= NO
Remarks:
1.Case Control command, RANDOUT, is used to exclude all non-random results as well as random
results other than PSDF, from HDF5 or OP2 database to reduce the file size for large models with
random analysis.
2.If used, RANDOUT must be placed above all SUBCASE&amp;rsquo;s. It overrides all Case Control commands,
such as DISP, VELO, ACCEL, STRESS, STRAIN, FORCE, and so on, which may have some
request on random results.RANDOUT Control for EXCLUSIVE Random Result, PSDF, Output to HDF5 and/or OP2
Describer Meaning
PSDF Requests only PSDF result output to HDF5 and/or OP2 (Default).
BOTH Both HDF5 and OP2 will only output random result, PSDF (Default).
HDF5 HDF5 will only output random result, PSDF . OP2 will output all results.
OP2 OP2 will only output random results. HDF5 will output all results.
NO No request on exclusive random result, PSDF , output to HDF5 and/or OP2
YES Requests to exclusively output random result, PSDF , to HDF5 and/or OP2.RANDOUTPSDFBOTH
HDF5
OP2

     
YES
NO=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Composites and Random Response Enhancements376
Main Index
Guidelines and Limitations
Case Control command, STRESS(PSDF), is required to output composite ply failure indices with random
context.
Examples
The examples presented here are shown for the three new functionalities.
Example 1: Composite ply strength ratios in NH5RDB database
Test case: MSC_DOC_DIR\etl\nh5rdb: nh5_pmultrand.dat
This job runs SOL 111 with random response analysis. MSC Nastran 2022.3 Release version did not export
the strength ratio results to NH5RDB, as MSC Nastran 2022.4 does, as shown in the following figure.&lt;/p&gt;
&lt;p&gt;377 CHAPTER 8
Random Analysis
Main Index
Example 2: PSDF-only results in NH5RDB and OP2 files
Test cases: MSC_DOC_DIR\tpl\pcompdyn\randout_op2_01.dat  and randout_op2_01o.dat
Case Control command, RANDOUT, and solution result requests in randout-op2-01.dat :&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Composites and Random Response Enhancements378
Main Index
Nastran solution results, PSDF, data-blocks are shown stored in OP2 file, excluding all other results
(randout-op2-01o.dat ).
PSDF random response results stored in NH5RDB file are shown as&lt;/p&gt;
&lt;p&gt;379 CHAPTER 8
Random Analysis
Main Index
Without Case Control command, RANDOUT, NH5RDB stores all results, including both frequency
response (Complex-valued) and PSDF (Real-valued) results, as shown in the picture.
Example 3: Composite ply failure indices with random context
Test cases: MSC_DOC_DIR\tpl\ pcompdyn\rand_cmp_fi_01.dat, rand_cmp_fi_02.dat,
rand_cmp_fi_03.dat
To compute the composite ply failure indices from ply random RMS stresses, Case Control command,
STRESS(PSDF), must be requested, along with all the requirements on failure theories and material
constants, such as allowable stresses or strains. The failure indices can be saved in NH5RDB and/or OP2
files. A sample of F06 output is shown as follows.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Composites and Random Response Enhancements380
Main Index
References
1.MSC Nastran Reference Guide: Chapter 4 Material Properties, Nonuniform Material and
Composite Properties for Shells.
2.MSC Nastran 2019 Feature Pack 1: Release Guide
3.Actran User&amp;rsquo;s Guide, Vol. 1&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s Guide
Chapter 9: Response Spectrum Analysis
9Response Spectrum Analysis
Shock and Response Spectrum Analysis
Response Spectrum Examples&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis382
Main Index
Shock and Response Spectrum Analysis
Shock spectra analysis and response spectrum analysis are methods used by many engineers to estimate the
maximum dynamic response of a structure.  Most applications involve complicated time -dependent loads or
accelerations that excite the base of a structure, such as an earthquake ground motion on a building or an
explosive shock on a small component in a ship.  (Note that the only difference between shock and response
spectra is whether output displacements are measured in a fixed frame of reference or relative to the base
motion.)
The advantage of these methods over a conventional transient analysis  is economy and simplicity.  The only
major calculation step is obtaining a sufficient number of normal modes to represent the entire frequency
range of the input excitation and resulting response.  The disadvantage of the method is that the accuracy
may be questionable and the requirement of special input data in the MSC Nastran solution sequences.  In
many cases, a direct transient analysis with the actual excitation load will be more accurate, easier to use, and
faster.
The procedure involves two stages.  First the applied loads or base excitations are converted in a direct
transient solution (SOL 109) into a spectrum table consisting of peak response magnitudes for a set of single
degree -of-freedom oscillators.  Each oscillator is a scalar spring/mass/damper having a different natural
frequency and damping ratio.  This stage is optional since the shock spectrum data is frequently given in the
contractual design specifications or, in the case of earthquakes, is available through governmental agencies.
The second stage of the analysis consists of a modal analysis of the structure, data recovery, and the response
calculation that combines the modal properties of the analysis model with the spectrum data of the applied
loads.  This stage is performed in a modal analysis solution sequence (SOL 103).  If a database was saved from
the first stage, a restart will provide the spectrum data automatically.  Otherwise, the spectrum data must be
supplied in a direct tabular input (response versus natural frequency for several damping ratios).
Theoretical Background
Starting with a modal transient analysis, the general approximation for a response quantity, , is
(9-1)
where and  are the modal outputs and generalized displacements.  The actual modal equations are
(9-2)
where  is the vector of loading functions.  For loading due to base accelerations, the equivalent inertial loads
are
(9-3)
where the columns of  represent vectors of rigid body motions of the whole structure and the
accelerations correspond to the base motions.  Substituting Eq. (9-3) into Eq. (9-2) and combining terms we uk
uktikit
i=

··
igii·
ii2i+ + iTPt =
P
Pt MaaDaru··rt –=
Dar&lt;/p&gt;
&lt;p&gt;383 CHAPTER 9
Response Spectrum Analysis
Main Index
can separate the modal quantities from the transient solutions.  First we will develop the transient response
functions.  We begin by calculating the responses
(9-4)
where  is a response function in direction , and is a function of the variables , , and .  The peak
values of , obtained over a range of frequencies and damping factors is called the response spectrum for
the excitation, .
Next, from the normal mode analysis, we define the participation factors , for mode  and direction ,
as
(9-5)
Then, from Eq. (9-1), the actual transient response at a physical point is
(9-6)
The peak magnitudes of  in Eq. (9-6) are usually dominated by the peak values of  occurring at the
natural frequencies.  In spectrum analysis the peak values of  are approximated by combining functions
of the peak values, , in the approximation
(9-7)
Various methods of modal summation are available for combining the peak responses over the modes and, if
more than one excitation direction is specified, over the directions as well. The excitation direction
summation method is always selected by PARAM, OPTION  in the MSC Nastran Quick Reference Guide  but the
modal summation method may be selected either by PARAM, OPTION, if PARAM,CQC is less than 1, or
by PARAM,CQC if its value is set to 1 or 2. (The PARAM,OPTION,ABS method is the default.) Any of
the user parameters OPTION, CQC and CLOSE may be set in any subcase, allowing summation by several
conventions in a single run. Also see SCRSPEC  in the MSC Nastran Quick Reference Guide .
ABS Option
Equations (9-6) and (9-7) define the ABS (Absolute Value) option.  This method assumes the worst case
scenario in which all of the modal peak values for every point on the structure are assumed to occur at the
same time and in the same phase.  Clearly in the case of a sudden impact, this is not very probable because
only a few cycles of each mode will occur.  However, in the case of a long term vibration, such as an
earthquake when the peaks occur many times and the phase differences are arbitrary, this method is
acceptable.x··rgx·r2xr+ + u··rt =
xrr g t
xr
u··r
iri r
iriTMaaDar –=
ukt ikirxri,gi,t
r
i=
ukxt
uk
xrii,gi maxxrii,gi,t =
uktikirxrii,gi
r
i&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis384
Main Index
A second way of viewing the problem is to assume that the modal magnitudes and phases will combine in a
probabalistic fashion.  If the input loads are behaving randomly, the probable (RMS) peak values are
(9-8)
where the average peak modal magnitude,  is
(9-9)
SRSS Method
This approach is known as the SRSS (square root of sum -squared) method.   Note that the results in each
direction are summed in vector fashion for each mode first, followed by an SRSS calculation for all modes at
each selected output quantity .  It is assumed that the modal responses are uncorrelated and the peak value
for each mode will occur at a different time.  These results are optimistic and represent a lower bound on the
dynamic peak values.
The SRSS method may underestimate the actual peaks since the result is actually a probable peak value for
the period of time used in the spectrum analysis.  The method is normally augmented with a safety factor of
1.5 to 2.0 on the critical outputs.
NRL Method
As a compromise between the two methods above, the NRL (Naval Research Laboratories) method was
developed.  Here, the peak response is calculated from the equation
(9-10)
where the j -th mode is the mode that produces the largest magnitude in the product .  The peak modal
magnitudes, , are calculated with Eq. (9-9).
The rationale for the method is that the peak response will be dominated by one mode and the SRSS average
for the remaining modes could be added directly.  The results will fall somewhere between the ABS and SRSS
methods.
Modes that are close in frequency may have their peak response occur at about the same time (and with the
same phase).  For this reason, the SRSS and NRL methods contain a provision to sum modal responses via
the ABS method for modes that have closely spaced natural frequencies.  Close natural frequencies are defined
by frequencies that meet the following inequality:
(9-11)ukiki2
i
i
iirxri,gii  2
r=
uk
ukjkjiki2
ij+
jkj
jkj
fi1+CLOSEfi &lt;/p&gt;
&lt;h1&gt;385 CHAPTER 9
Response Spectrum Analysis
Main Index
The value for CLOSE is set by PARAM, CLOSE  (the default is 1.0).
CQC Method
The previously presented methods are fundamentally sound when the modes are well separated. However,
when the modes are close together, the SRSS method can yield poor results and the NRL method depends
on an arbitrary definition of close.
The CQC (Complete Quadratic Combination) method of peak modal response calculation uses principles
employed in random vibration as proposed by Kiureghian and involves the calculation of cross-modal or
covariance coefficients for pairs of modes.
The peak response for N modes using the CQC method is given by:
(9-12)
Where:
The cross-modal coefficient is approximated by:
(9-13)
Where:
There are some characteristics of the CQC method that are worthy of mention. For i=j,  always has a value
of 1.0 and for a damping ratio of 0, all cross-modal coefficients for will be zero. Hence when no
damping is specified, the CQC method yields the same result as the SRSS method.
For a pair of modes with well separated frequencies, the frequency ratio r diminishes and becomes
insignificant; i.e. the contribution of one mode on the other is negligible when the modes are well separated. =response of mode i
=response of mode
=cross-modal coefficient
=damping ratio for mode i
=damping ratio for mode j&lt;/h1&gt;&lt;p&gt;frequency ratio d RipijRj
j1=N

i1=N
=
Ri
Rj jij
pij
pij8ij12/irj+r32
1r2–24ijr1r2+4i2j2+r2+ +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
i
j
r j
i&amp;mdash;&amp;ndash;ji
pij
ij
ij&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis386
Main Index
For a pair of modes with close frequencies,  approaches 1.0 and the contribution of one mode on the
other becomes significant.
The CQC method is only used for combination of responses across modes and is activated by defining
PARAM,CQC,1 or 2 in any subcase. Both PARAM,CQC,1 and PARAM,CQC,2 use an identical method
to calculate the peak modal responses, but using PARAM,CQC,2 it is possible to obtain matrix output of the
CQC coefficients . The default value of PARAM,CQC,-1 deactivates the CQC method and allows
comparisons of modal combination methods to be made in the same run.
Multiple Excitation Directions
For multiple excitation directions, the CQC method cannot be used to combine the directional responses as
there is no corresponding frequency ratio r for the calculation of the cross-modal coefficients. However, the
CQC method is used in combination with PARAM, OPTION  where the value defined for OPTION will be
used to combine the response across the directions.
It is also possible to specify that the CQC method be used to combine the modal responses for only certain
modes in the ensemble of modes used in the calculation, the remaining modal responses being combined
using the method defined by PARAM,OPTION. In order to use this technique, a DTI,CQC,1 entry is
required in the bulk data. The DTI,CQC,1 entry defines a list of mode numbers that will be combined using
the CQC method. For example, if in an analysis where 10 modes have been used in the response calculation,
it is required that only modes 3,4,5 and 7 are to be combined using the CQC method and modes 1,2,6,8,9
and 10 will be combined using the SRSS method, the following entries will allow this:
PARAM,CQC,1
PARAM,OPTION,SRSS
DTI,CQC,1,3,4,5,7
Note that the 1 on the DTI entry immediately following CQC is not a mode number but the record number
for the table created by DTI.
Directional Output
If it is required to obtain the combined responses both per direction and for all excitation directions, specify
PARAM, DIROUT ,YES and additional directional output will be produced. This allows the response to be
assessed on a per-direction basis as well as the total combined response.
Newmark Combinations
If a combination rule such as proposed by Newmark is required, specify PARAM, NEWMARK , YES in the input
file. If a value other than 40% is desired, use PARAM, PERCENT  to define the required percentage for the
combination rule; by default, the rule uses 100-40-40. Newmark combinations require 3 and only 3
excitation directions and a check is made that this is respected. If fewer or greater than 3 excitations are
present, the NEWMARK parameter is ignored. Output for NEWMARK combinations is provided per
excitation direction and for the combined values. The TIME value of the output is used to indicate the
excitation direction, so direction 1 is labelled TIME=1.0, direction 2 is labelled TIME=2.0 and direction 3
is labelled TIME=3.0. The combined responses are labelled TIME=4.0.ij&lt;/p&gt;
&lt;p&gt;387 CHAPTER 9
Response Spectrum Analysis
Main Index
Generating Response Spectra Curves
A response spectrum is generated as follows:
1.Assume that there is a series of small, single degree -of-freedom (SDOF) oscillators each attached to
the same location at the connection to the base structure.  (In the examples in the introduction to
this section, the base structures are the building and the spacecraft).  These oscillators each have a
different resonant frequency, and all have the same modal damping ratio (2%, for example).
2.Apply a transient excitation to the base structure.  Use the base structure’s damping when computing
the base structure’s transient response at the location of the SDOF oscillators.
3.Use the base structure transient response as input to each SDOF oscillator.  Compute the magnitude
of peak response of each SDOF oscillator, and plot the peak response versus oscillator resonant
frequency.&lt;br&gt;
4.Change the modal damping ratio for the oscillators (to 5%, for example) and repeat Steps 2 and 3
for the range of expected damping.
The response spectrum, therefore, depicts the maximum response magnitude of an SDOF system as a
function of resonant frequency and damping.  Figure 9-1 depicts the generation of a spectrum.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis388
Main Index
Figure 9-1  Response Spectrum Generation
Note that the peak response for one oscillator does not necessarily occur at the same time as the peak response
for another oscillator.  Note, too, that there is no phase information since only the magnitude of peak
response is computed.
Several values of peak response are computed for the oscillators.  These include the following response
variable.
Relative velocity and absolute acceleration are approximately related to the relative displacement by
(9-14)(a)(b)(c)
Peak
Response
Resonant Frequency
T ransient excitation (a) is applied to a base structure (b), from which transient response (c) is
computed for each floor.  This response is applied to a series of oscillators (d), for which the
peak response is plotted (e).  Steps (d) and (e) are repeated for different damping values to
form response spectra as shown below.
Resonant Frequency (f)
(d)
= 5% critical damping
= 2% critical damping
= 0% critical damping
Peak
Response(e)
Series of OscillatorsTransient
Response
Base
Structure Transient
Excitationf1  f2  f3 . . . fmax
f1  f2  f3 . . . fmax
fn
X·
rXr
X··2Xr&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P21</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_021/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_021/</guid>
      <description>
        
        
        &lt;p&gt;389 CHAPTER 9
Response Spectrum Analysis
Main Index
Design spectra are most often defined in terms of , , and .
Note that for very low oscillator frequencies ( ),
(9-15)
where  is the motion of the base of the oscillator.
Similarly, for very high oscillator frequencies ( ),
(9-16)
The approximate relationships between , , and , shown in Eq. (9-14), are not valid at very low or
very high oscillator frequencies or for large values of damping.
It is assumed in this process that the mass of each oscillator is very small relative to the base structure, so the
oscillator’s response does not influence the response of the base structure.
Peak Response Calculation
Response spectra are applied to a structure for subsequent analysis.  Note that the structure in this case is not
the base structure for which the spectra were computed but, rather, a smaller structure such as a piece of
equipment.
Response spectrum analysis approximates the peak structural response (typically stresses and displacements,
though not limited to those quantities).  Approximations are made by assuming:
1.Only the peak response is computed for the oscillators (see the preceding section).&lt;br&gt;
2.There is no phase information or sign computed; only the magnitude of peak response is computed.
3.The oscillator mass is small relative to the base structure’s mass.
4.The displacements, velocities, and accelerations are related by the approximate relationships in Eq.
(9-14).
5.The peak modal responses are combined to form the overall response via various combination
methods (see below).
The spectra themselves are often approximate.  For example, design spectra have been developed for seismic
analysis, and these have conservatisms built into them by the fact that safety factors are incorporated by either
increasing the spectra values and/or by decreasing the damping values.
These approximations make response spectrum analysis a tool that is useful for design and efficiency.  The
effects of these approximations are further described in the remainder of this section.XrX·
r X··
 0
X 0
XrUb
Ub

X Ub
Xr0
XrX··
r X··&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis390
Main Index
Modeling and Analysis Considerations
Response spectrum application is a postprocessing function of normal modes analysis.  It is run in the normal
modes solution sequences, so the modeling and analysis considerations that apply for normal modes analysis
also apply for response spectrum application.  The additional considerations also need to be followed:
1.The structure is run as an unrestrained model in the direction(s) of the load spectrum application.
2.A large mass, on the order of  to  times the mass of the structure, must be used at the
structure’s base grid points where the input occurs.  One way to do this is to use RBEs or MPCs to
connect the base points to a separate grid point, and apply the large mass to that separate grid point.&lt;br&gt;
This separate grid point is where the spectrum is applied.
3.A SUPORT  Bulk Data entry is required at the spectrum input location.  See SUPORT Entry  (Ch. 3) for an
explanation.
4.The modes must be mass normalized (which is the default).
The spectra that MSC Nastran can apply are absolute acceleration, relative displacement, and relative velocity
spectra.  You specify A, D, or V for acceleration displacement or velocity, respectively, to specify the spectrum
type.
Use all modes within the frequency range specified by the spectrum, but do not use modes outside of the
spectrum range.  Usually, spectra to apply are considered to have zero values outside of their range of
definition; for example, an absolute acceleration spectrum defined from 0 to 30 Hz is assumed to be zero
beyond 30 Hz.  However, MSC Nastran extrapolates spectral values for modes beyond the spectral range,
which may lead to unexpected answers.  You can limit the number of modes used in the spectrum application
by limiting the number of computed modes (via the EIGRL or EIGR entry) or by using PARAM, HFREQ,
HFREQFL ,f (where f is the highest frequency of structural mode to use) or PARAM, LFREQ, LFREQFL ,f (where f
is the lowest frequency of structural mode to use).
Consider the entire response spectrum process—generation and application—as a two -step process.  Step 1
is generation of the response spectra and Step 2 is the application of the response spectra.  For a given input,
transient applied to the base structure (Step 1), the same stresses occur (Step 2) regardless of whether
acceleration or displacement spectra were computed in Step 1.  However, displacements and accelerations are
different, because answers computed by using the absolute acceleration spectrum contain the rigid body
contribution, whereas answers computed by using the relative displacement spectrum do not contain the
rigid body contribution.  Displacement and acceleration responses can be made equal regardless of which
spectra was used by using PARAM, LFREQ, LFREQFL ,0.01 (or some other small number) to remove the rigid
body mode contribution from the answers.
Stresses and other element quantities are unaffected by the contribution of any rigid body modes.  The same
situation applies to relative velocity spectra as to relative displacement spectra.  However, because the
relationships in Eq. (9-14) are approximate, all answers (including stresses) will be slightly different depending
on whether displacement, velocity, or acceleration spectra were used.
Dynamic Response Predictions
Once a spectrum is computed, it can be used for the dynamic response analysis of an MSC Nastran model
of the component.  For example, the spectrum generated for a floor in a building that is subjected to an 103106&lt;/p&gt;
&lt;p&gt;391 CHAPTER 9
Response Spectrum Analysis
Main Index
earthquake can then be applied to a complex model of a piece of equipment attached to that floor.  The peak
response of each mode of the equipment model is obtained from the spectrum, and these peak responses are
combined to create the overall response.
Because response spectrum generation involves transient response, similar modeling and analysis
considerations apply.  In addition, the time step (field 4 on the TSTEP  Bulk Data entry, DT) should not be
changed during the run, because MSC Nastran uses only the initial DT specification for the entire response
spectrum generation run and therefore wrong answers could occur.
The time step, DT , and time duration,  (where  is the number of time increments), must take
into account the loading, the base structure, and the frequency range of the spectra generation.  The time
step must take into account the frequency content of the applied excitation, the frequencies of the base
structure, and the highest frequency for which spectra are to be generated.  There must be enough time steps
per cycle of response for both the base structure and the highest frequency oscillator in order to accurately
predict the peak response; 5 to 10 steps per cycle represents a typical value.  In addition, the time duration
of the loading, the frequencies of the base structure, and the lowest oscillator frequency must be considered
when defining the time duration.  There must be a long enough time duration of response both for the base
structure and the lowest frequency oscillator in order to accurately predict the peak response.  For short
duration loadings, the peak response often occurs well after the load has peaked.
Initial conditions (specified via the TIC3 Bulk Data entry) are not used in response spectrum generation.&lt;br&gt;
Initial conditions are used in the calculation of the transient response of the base structure, but the calculation
of the peak oscillator responses (i.e., the response spectrum calculation) ignores any initial conditions.
User Interface for Response Spectra Generation
Response spectra are generated in the transient response solution sequences (SOL 109 for direct and
SOL 112 for modal).  T ransient response input is required to apply the transient excitation to the base
structure.  Additional input required to generate response spectra are described in Table 9-1 and Table 9-2.
The XYPLOT  and XYPUNCH  commands are included in the OUTPUT(XYPLOT) section.  Further details about
the OUTPUT(XYPLOT) Section are described in Results Processing .
Examples of these commands include:
$  Plot absolute acceleration spectra for grid point 85, T3 component
XYPLOT     ACCE     SPECTRAL     1     /85(T3RM)
$  Punch relative displacement spectra for grid point 3, T1 component
XYPUNCH    DISP     SPECTRAL     1     /3(T1IP)
Relative and absolute spectra are denoted by IP and RM, respectively, in the parentheses of the curve request.Table 9-1  Case Control Input for Response Spectrum Generation
Case Control Command Description
XYPLOT SPECTRAL Compute spectra.
XYPUNCH SPECTRAL Punch spectra for subsequent use.DTN N&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Shock and Response Spectrum Analysis392
Main Index
There are two FREQi entries: one to specify oscillator frequencies (i.e., frequencies for which spectra will be
computed) and the other to specify oscillator damping.  (Note that damping for the base structure is specified
in another manner, such as with the TABDMP1 entry used for modal transient response analysis.) For a more
detailed description see the DTI,SPECSEL  in the MSC Nastran Quick Reference Guide  and the examples
described in this chapter.
User Interface for Spectrum Application
Response spectrum application is done in the normal modes solution sequences (SOL 103 , for example).  In
addition to the input for computing normal modes, input is required for applying the spectra, as shown in
Table 9-3 and Table 9-4.Table 9-2  Bulk Data Input for Response Spectrum Generation
Bulk Data Entry Description
PARAM, RSPECTRA ,0 Requests calculation of spectra.
DTI,SPSEL ,0
DTI,SPSEL ,1Header for DTI.
Selects oscillator frequencies, oscillator damping
values, and grid points at which spectra will be
computed.
FREQi Specifies oscillator damping values.
FREQi Specifies oscillator frequencies.
Table 9-3  Input for Response Spectrum Application
Case Control Command Description
METHOD  (Case) Selects eigenvalue extraction method.
SDAMPING (Case) Selects the TABDMP1 Bulk Data entry.
DLOAD (Case) Selects the DLOAD Bulk Data entry.
Table 9-4  Input for Response Spectrum Application
Case Control Command Description
PARAM, SCRSPEC ,0 Requests response spectrum application.
EIGR or EIGRL Eigenvalue extraction method.
TABDMP1 Specifies damping for the structure.
DLOAD (Case) Defines spectrum multipliers.
DTI,SPECSEL ,0 Header for DTI.
DTI,SPECSEL ,1 Specifies type of spectrum (A, V, or D) and selects damping.&lt;/p&gt;
&lt;p&gt;393 CHAPTER 9
Response Spectrum Analysis
Main Index
All input listed in the table is required with the exception of PARAM,OPTION and PARAM,CLOSE.
Response Spectrum Examples
This section provides an example of response spectra generation and an example of response spectrum
application.  The base structure for which response spectra are computed is a model of a chimney, excited by
an earthquake time history.  The spectra are calculated at base and tip of the chimney. The resulting spectra
at base is applied to base of chimney and results are compared with transient analysis.
Response Spectrum Generation
The grid points at the base of the chimney are tied to a separate grid point (9999) via RBE2 entries.&lt;br&gt;
Earthquake excitation is applied to this grid point, in the x direction (T1).  The absolute acceleration
response spectrum is computed for grid point 9999(base) and 2593(tip).  SOL 112, modal transient
response, is used to compute the spectrum.  Damping of 2% critical is used for the building and damping of
2% critical is used for the generated response spectrum. Listing 9-1 shows a portion of the input file for this
model. See .MSC_DOC_DIR/doc/dynamics/create-shock.dat  for a complete model.A = absolute acceleration spectrum.
V = relative velocity spectrum.
D = relative displacement spectrum.
TABLED1 Specifies input spectrum values.
SUPORT Specifies input spectrum grid points.
CONM2 ,CMASS1 , etc. Defines large mass used for the input spectrum.
PARAM, OPTION ,a Specifies modal combination method (a =ABS [default], SRSS, or
NRL).
PARAM, CLOSE ,r Specifies closeness parameter for modal combinations (the default is
1.0).Table 9-4  Input for Response Spectrum Application  (continued)
Case Control Command Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples394
Main Index
Figure 9-2  Chimney Model (24 inch radius, 700 inch long and 0.25 inch thick)
Listing 9-1  Abridged Input File for Response Spectrum Generation
sol 112
$c
cend
echo=none
line=99999
Subcase 11
subtitle = Transient Analysis
method = 99
spc = 77
dload = 66
sdamp = 88
tstep = 123
set 55 = 9999, 2593
acce(plot) = all
disp(plot) = 55
velo(plot) = 55
force(plot) = all
stress(plot) = all&lt;/p&gt;
&lt;p&gt;395 CHAPTER 9
Response Spectrum Analysis
Main Index
output(xyout)
xaxis = yes
xgrid = yes
yaxis = yes
ygrid = yes
xmax = 15.0
xtitle = Acceleration T.H. at base
xyplot,acce,resp/9999(t1)
xtitle = Acceleration T.H. at tip
xyplot,acce,resp/2593(t1)
xlog = yes
xmax = 100.
xmin = 1.
ylog = yes
$ ymin = 100.
xtitle = Shock Spectrum at Base - Damping = 0.02
xyplot,xyprint,xypunch acce,spectral/9999(t1rm)
xtitle = Shock Spectrum at Tip - Damping = 0.02
xyplot,xyprint,acce,spectral/2593(t1rm)
$
begin bulk
$
param,wtmass,.002589
param,grdpnt,0
param,rspectra,0
param,rsprint,1
param,post,0
$
dti,spsel,0
dti,spsel,1,91, 92, 9999,2593
$
$  set 91 selects damping of oscilator and set 92 selects the
$  frequencies at which spectra will be calcuated.
$
freq,  91, .02
freq2, 92, 1.0, 40.0, 200
freq4, 92, 1.0, 40.0, 0.2, 5
$
eigrl, 99, , 40.0,
tstep, 123, 3000, 0.005, 1
$
spc1,77,23456,9999
conm2,  9999, 9999, , 1.e8
suport, 9999, 1
Tload1, 66, 44, , acce, 99
darea, 44, 9999, 1, 1.e8
$
tabdmp1, 88, crit
+, 0.0, 0.02, 10000., 0.02, endt
$
$
$ Direct Text Input for Bulk Data
$ Elements and Element Properties for region : pshell.11
PSHELL   11      1      .25      1               1
$
$ Material Record : alum
$ Description of Material : Date: 07-May-10           Time: 11:46:54
MAT1     1      1.+7            .25     .1
$ Multipoint Constraints of the Entire Model
RBE2     9999    9999    123456  1       2       3       4       5&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples396
Main Index
6       7       8       9       10      11      12      13
14      15      16      17      18      19      20      21
22      23      24      25      26      27      28      29
30      31      32      33      34      35      36
$$
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
$
$  &amp;hellip; rest of model &amp;hellip;
$
ENDDATA
The XYPUNCH ACCE SPECTRAL command in the Case Control Section punches the response spectrum
(which will be used later, in the response spectrum application).  In the Bulk Data Section,
PARAM,RSPECTRA,0 requests calculation of the spectrum.  The DTI,SPSEL entry references the FREQ
entries; one of the FREQ entries defines the oscillator damping and the other FREQ entry defines the
frequency range over which to compute the spectra.  The DTI,SPSEL entry also defines grid points at which
to compute spectra; spectra are computed for grid points 9999, 2593 - though only the one for grid point
9999 is punched for subsequent use.  Note that the SUPORT entry for Grid 9999 is used for DOF 1 since
Response Spectrum is applied at grid 9999 in X-direction only.
Note that a 2% damped spectrum was computed because that is the spectrum that will be applied to a
component model.  In practice, however, spectra are often generated for multiple damping values (for
example, 0%, 2%, and 5% damping).
The plotted absolute acceleration response spectra for grid points 9999 and 2593 are shown in Figure 9-3.
.
Figure 9-3  Absolute Acceleration Response Spectrum Plots for Grid 9999 (base) and 2593 (tip)
A portion of the printed output file is shown in Listing 9-2.  A portion of the absolute acceleration spectrum
output for grid point 9999 is shown.  Spectra for the other grid points are also contained in the output file,
as are displacement and velocity spectra.  The printed format for each spectrum is similar to that of frequency
response analysis, with the absolute spectrum output in the real location and the relative spectrum output in&lt;/p&gt;
&lt;p&gt;397 CHAPTER 9
Response Spectrum Analysis
Main Index
the imaginary location.  Because relative acceleration spectra are not calculated, those components are zero.&lt;br&gt;
The punched spectrum for grid point 9999 is shown in Listing 9-3; this output is contained in the punch file.
Listing 9-2  Printed Output (Abridged)
Listing 9-3  Punched Response Spectrum      TRANSIENT ANALYSIS                                                                                                         &lt;br&gt;
FRACTION OF CRITICAL DAMPING =  .02        ABSOLUTE IN REAL LOCATION,  RELATIVE IN IMAG. LOCATION                          &lt;br&gt;
POINT-ID =      9999
C O M P L E X   A C C E L E R A T I O N   V E C T O R
(REAL/IMAGINARY)
FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
1.000000E+00     G      2.539913E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.018615E+00     G      2.624984E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.037578E+00     G      2.648515E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.056893E+00     G      2.622424E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.076567E+00     G      2.911194E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.096608E+00     G      3.119053E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
1.117022E+00     G      3.222946E+02   0.0            0.0            0.0            0.0            0.0
0.0            0.0            0.0            0.0            0.0            0.0
$SUBCASE       1                                                               1
$ACCE          3    9999       3       1                                       2
$   2.000000E-02
TABLED1        2
1.0   253.991 1.01862 262.498 1.03758 264.852 1.05689 262.242
1.07657 291.119 1.09661 311.905 1.11702 322.295 1.13782 321.107
1.159   307.908 1.18057 283.899 1.20255 250.723 1.22494 210.996
1.24774 194.307 1.27097 197.562 1.29463 201.576 1.31873 206.812
1.34328 213.406 1.36828 242.229 1.39375 267.792 1.4197  276.681
1.44613 281.898 1.47305 272.642 1.50047 279.163 1.5284  292.666
1.55685 306.362 1.58583 320.748 1.61535 334.938 1.64543 349.981
1.67606 367.169 1.70726 447.014 1.73904 504.022 1.77141 526.362
1.80439 506.608 1.83798 456.479 1.87219 468.317 1.90704 476.508
1.94254 480.528 1.97871 480.239 2.01554 475.988 2.05306 478.137
2.09128 525.215 2.13021 522.18  2.16986 474.84  2.21026 449.432
2.2514  445.012 2.29331 440.6   2.33601 436.617 2.37949 433.057
2.42379 429.622 2.46891 425.95  2.51487 421.863 2.56168 417.533
2.60937 413.535 2.65794 410.717 2.70742 409.838 2.75782 411.399
2.80916 415.659 2.85201 420.869 2.86146 421.976 2.91472 428.647
2.96898 433.677 3.02425 434.769 3.08055 429.637 3.1379  416.123
3.19631 392.679 3.20851 387.077 3.25581 361.06  3.31642 323.823
3.37816 289.818 3.44104 270.674 3.5051  277.729 3.56502 304.895
3.57035 307.97  3.63681 348.876 3.70452 387.358 3.77348 413.504
3.84372 419.772 3.91527 406.071 3.92152 404.055 3.98816 373.676
4.0624  344.687 4.13803 352.075 4.21506 344.042 4.27802 340.393
4.29352 337.824 4.37345 328.908 4.45486 347.942 4.53779 367.092
…
…
18.7775 136.436 19.1271 145.079 19.2869 145.384 19.4831 144.983
19.8458 144.574 20.1562 141.552 20.2152 142.177 20.5916 142.894
20.9749 140.99  21.3653 138.117 21.4299 137.696 21.7631 137.808
22.1682 139.547 22.3958 138.58  22.5809 136.465 23.0012 135.937
23.4294 136.448 23.5729 135.595 23.8656 134.205 24.3098 134.426
24.6354 134.988 24.7177 136.433 24.7624 137.428 24.9116 139.976
25.2233 140.917 25.6929 134.666 25.7159 134.267 25.9545 132.335
26.1712 130.443 26.6584 134.375 26.875  135.894 27.1546 134.85
27.6601 135.962 27.8074 137.239 28.0256 138.53  28.175  138.816
28.6995 135.818 28.8944 135.455 29.1988 134.562 29.2338 134.38
29.778  131.056 30.3323 131.266 30.897  134.551 31.1396 135.406
31.2354 135.552 31.4721 135.882 32.058  135.389 32.4431 135.517
32.5062 135.801 32.6548 136.609 33.2627 137.431 33.8819 131.144
33.9869 129.982 34.2535 127.792 34.5126 126.866 34.6247 126.865
35.1398 127.605 35.1551 127.591 35.6875 124.677 35.8095 123.267
36.118  121.428 36.4761 117.9   37.0766 116.832 37.1551 116.854
37.3675 116.918 37.8468 116.975 38.5513 115.289 38.9318 115.698
38.9528 115.704 39.0442 115.692 39.269  115.296 39.7298 112.701
40.     110.989ENDT&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples398
Main Index
Response Spectrum Application
The response spectra computed at base in first example will be applied at the base of the structure and results
are compared with transient analysis.  A portion of the input file is shown in Listing 9-4. See
.MSC_DOC_DIR/doc/dynamics/apply-shock.dat for the complete file.
Listing 9-4  Abridged Input File for Response Spectrum Application
$ Response Spectra Application
$
sol 103
$c
cend
echo=none
line=99999
subcase 1
subtitle = Shock Spectrum Analysis
spc = 77
method = 99
dload = 701
sdamp = 88
param,option,srss
accel(plot) = all
stress      = all
force(plot) = all
$
begin bulk
$
param,wtmass,.002589
param,grdpnt,0
param,post,-1
param, scrspec, 0
$
eigrl, 99, , 40.0,
$
$ Multipoint Constraints of the Entire Model
RBE2     9999    9999    123456  1       2       3       4       5
6       7       8       9       10      11      12      13
14      15      16      17      18      19      20      21
22      23      24      25      26      27      28      29
30      31      32      33      34      35      36
$
spc1,77,23456,9999
conm2,  9999, 9999, , 1.e8
suport, 9999, 1
$
Dload, 701, 1.0, 1.0, 71
$
Dti, Specsel, 71, , A, 2, 0.02
$
$
tabdmp1, 88, crit
+, 0.0, 0.02, 10000., 0.02, endt
$Note:   Only PARAM,POST,-1 (op2) option is supported for post-processing results.&lt;/p&gt;
&lt;p&gt;399 CHAPTER 9
Response Spectrum Analysis
Main Index
$  Shock Spectrum at base - Punch file created in Example 1.
$
$SUBCASE       1                                                               1
$ACCE          3    9999       3       1                                       2
$   2.000000E-02
TABLED1        2
1.0   253.991 1.01862 262.498 1.03758 264.852 1.05689 262.242
1.07657 291.119 1.09661 311.905 1.11702 322.295 1.13782 321.107
1.159   307.908 1.18057 283.899 1.20255 250.723 1.22494 210.996
1.24774 194.307 1.27097 197.562 1.29463 201.576 1.31873 206.812
1.34328 213.406 1.36828 242.229 1.39375 267.792 1.4197  276.681$
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
$
$  &amp;hellip;  rest of model  &amp;hellip;
$
ENDDATA
Response spectrum application is invoked via PARAM,SCRSPEC,0.  The DTI,SPECSEL entry specifies
that the input spectrum is acceleration (denoted by the A in field 5).  The TABDMP1 entry defines the
modal damping (every mode has 2% critical damping).  The TABLED1 entry defines the input spectrum;
this is the punch file that was generated from the spectrum generation run.
Discussion of Results
Listing 9-5 shows a portion of the resulting printed output.  The eigenvalue summary shows the computed
natural frequencies; note the rigid body mode, which occurred because the chimney was not constrained in
the x direction (there was a SUPORT for that DOF).  Matrix FN is the list of natural frequencies of the
modes used for analysis with response spectrum input (20 in this case—the rigid body mode is not included
because our spectrum started at 1.0 Hz).  Matrix PSIT lists the modal participation factors in transposed
form, with one column for each mode and one row for each input point (one in this case).  Note that the
some of the modes (e.g. mode 2, 4, 5, 6 etc) cannot be readily excited by base motion in X direction, since
its response to the load is orders of magnitude less than the second (first elastic) mode.  Matrix UHVR occurs
once for every analysis subcase with response spectrum input, and it lists the peak modal response.  The first
column is displacement, the second is velocity, and the third is acceleration.  There is one row for each mode
used in the response spectrum analysis (20 in this case).  A portion of the resulting maximum accelerations,
forces and stresses—quantities selected for output via Case Control—are also shown in Listing 9-5.  These
quantities are computed using the SRSS method.
Listing 9-5  Printed Output (Abridged)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples400
Main Index
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        0.0                 0.0                 0.0                 1.000000E+00        0.0
2         2        5.017444E+02        2.239965E+01        3.565015E+00        1.000000E+00        5.017444E+02
3         3        5.017527E+02        2.239984E+01        3.565045E+00        1.000000E+00        5.017527E+02
4         4        4.760230E+03        6.899442E+01        1.098080E+01        1.000000E+00        4.760230E+03
5         5        4.760230E+03        6.899442E+01        1.098080E+01        1.000000E+00        4.760230E+03
6         6        6.720657E+03        8.197961E+01        1.304746E+01        1.000000E+00        6.720657E+03
7         7        6.720657E+03        8.197961E+01        1.304746E+01        1.000000E+00        6.720657E+03
&amp;hellip;
&amp;hellip;
17        17        4.155331E+04        2.038463E+02        3.244314E+01        1.000000E+00        4.155331E+04
18        18        5.150000E+04        2.269361E+02        3.611800E+01        1.000000E+00        5.150000E+04
19        19        5.150000E+04        2.269361E+02        3.611800E+01        1.000000E+00        5.150000E+04
20        20        6.018289E+04        2.453220E+02        3.904421E+01        1.000000E+00        6.018289E+04
21        21        6.018289E+04        2.453220E+02        3.904421E+01        1.000000E+00        6.018289E+04
MATRIX FN       (GINO NAME 101 ) IS A DB  PREC           1 COLUMN X          21 ROW RECTANG  MATRIX.
COLUMN        1      ROWS        2 THRU       21     &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
ROW
2)   3.5650D+00  3.5650D+00  1.0981D+01  1.0981D+01  1.3047D+01  1.3047D+01  2.1430D+01  2.1430D+01  2.2396D+01  2.2396D+01
12)   3.0897D+01  3.0897D+01  3.1140D+01  3.1140D+01  3.2443D+01  3.2443D+01  3.6118D+01  3.6118D+01  3.9044D+01  3.9044D+01
THE NUMBER OF NON-ZERO TERMS IN THE DENSEST COLUMN =      20
THE DENSITY OF THIS MATRIX IS  95.24 PERCENT.
PSIT                                                                                                            &lt;br&gt;
POINT           VALUE     POINT           VALUE     POINT           VALUE     POINT           VALUE     POINT           VALUE&lt;/p&gt;
&lt;p&gt;COLUMN           1
9999 T1 -5.08829E+02
COLUMN           2
9999 T1  4.13628E-06
COLUMN           3
9999 T1  2.07668E+00
COLUMN           4
9999 T1 -1.29937E-10
COLUMN           5
9999 T1  8.55402E-11
&amp;hellip;
&amp;hellip;
COLUMN          18
9999 T1  2.22644E-12
COLUMN          19
9999 T1 -4.85724E-12
COLUMN          20
9999 T1  3.55792E-13
COLUMN          21
9999 T1 -7.24552E-13&lt;/p&gt;
&lt;p&gt;401 CHAPTER 9
Response Spectrum Analysis
Main Index
Following fringe plots shows the comparison between transient analysis and shock spectrum analysis in
Figure 9-4 and Figure 9-5.  The maximum (envelope) response across all time steps is plotted using MSC Patran
tool, MSC.Explore. Left side of the plot shows the maximum response from transient analysis and right side
shows the response computed using shock spectrum analysis.
MATRIX UHVR     (GINO NAME 101 ) IS A REAL               3 COLUMN X          21 ROW RECTANG  MATRIX.
COLUMN        1      ROWS        2 THRU       21     &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
ROW
2)   2.5135E-06  1.2620E+00  5.3064E-12 -3.4933E-12  1.4455E-12 -3.2655E-13  2.8290E-10  8.8593E-03  1.8225E-13 -2.2641E-13
12)   2.5064E-14 -2.8510E-14  5.5913E-14 -3.4243E-14  8.9867E-15 -2.8723E-14  5.2496E-15 -1.1452E-14  6.8395E-16 -1.3928E-15
COLUMN        2      ROWS        2 THRU       21     &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
ROW
2)   5.6301E-05  2.8268E+01  3.6612E-10 -2.4102E-10  1.1850E-10 -2.6770E-11  3.8092E-08  1.1929E+00  2.5645E-11 -3.1860E-11
12)   4.8658E-12 -5.5346E-12  1.0940E-11 -6.6998E-12  1.8319E-12 -5.8552E-12  1.1913E-12 -2.5990E-12  1.6779E-13 -3.4169E-13
COLUMN        3      ROWS        2 THRU       21     &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
ROW
2)   1.2611E-03  6.3320E+02  2.5260E-08 -1.6629E-08  9.7146E-09 -2.1946E-09  5.1290E-06  1.6062E+02  3.6087E-09 -4.4832E-09
12)   9.4460E-10 -1.0745E-09  2.1404E-09 -1.3109E-09  3.7343E-10 -1.1936E-09  2.7035E-10 -5.8980E-10  4.1162E-11 -8.3825E-11
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )
ELEMENT      FIBER               STRESSES IN ELEMENT COORD SYSTEM             PRINCIPAL STRESSES (ZERO SHEAR)              &lt;br&gt;
ID.       DISTANCE           NORMAL-X       NORMAL-Y      SHEAR-XY       ANGLE         MAJOR           MINOR        VON MISES
1   -1.250000E-01      1.484016E+03   1.375312E+02   6.375009E+00     0.2713    1.484047E+03    1.375010E+02   1.420297E+03
1.250000E-01      1.526726E+03   1.457677E+02   5.816203E+00     0.2413    1.526751E+03    1.457432E+02   1.459347E+03
2   -1.250000E-01      1.438925E+03   1.333524E+02   1.893104E+01     0.8306    1.439199E+03    1.330779E+02   1.377490E+03
1.250000E-01      1.480337E+03   1.413386E+02   1.727163E+01     0.7389    1.480560E+03    1.411158E+02   1.415288E+03
3   -1.250000E-01      1.350112E+03   1.251217E+02   3.091186E+01     1.4446    1.350892E+03    1.243421E+02   1.293212E+03
1.250000E-01      1.388968E+03   1.326150E+02   2.820226E+01     1.2853    1.389601E+03    1.319822E+02   1.328536E+03
4   -1.250000E-01      1.220277E+03   1.130892E+02   4.195344E+01     2.1669    1.221865E+03    1.115018E+02   1.170105E+03
1.250000E-01      1.255396E+03   1.198619E+02   3.827598E+01     1.9284    1.256685E+03    1.185732E+02   1.201794E+03
&amp;hellip;
&amp;hellip;
2589   -1.250000E-01      2.738482E-01   2.450364E+00   7.298062E-01    73.0767    2.672420E+00    5.179233E-02   2.646904E+00
1.250000E-01      2.116490E-01   2.492312E+00   7.265424E-01    73.7487    2.704097E+00   -1.363183E-04   2.704165E+00
2590   -1.250000E-01      3.029849E-01   2.711076E+00   5.377296E-01    77.9672    2.825696E+00    1.883649E-01   2.736380E+00
1.250000E-01      2.341678E-01   2.757487E+00   5.353248E-01    78.5042    2.866359E+00    1.252956E-01   2.805810E+00
2591   -1.250000E-01      3.229155E-01   2.889412E+00   3.293143E-01    82.8035    2.930994E+00    2.813340E-01   2.800944E+00
1.250000E-01      2.495715E-01   2.938877E+00   3.278416E-01    83.1490    2.978266E+00    2.101827E-01   2.878934E+00
2592   -1.250000E-01      3.330345E-01   2.979956E+00   1.108930E-01    87.6052    2.984594E+00    3.283968E-01   2.834698E+00
1.250000E-01      2.573921E-01   3.030970E+00   1.103970E-01    87.7243    3.035357E+00    2.530049E-01   2.917095E+00&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples402
Main Index
Figure 9-4  Maximum Acceleration (near top of the chimney)
Figure 9-5  Maximum von-Mises Stress (near base of chimney)&lt;/p&gt;
&lt;p&gt;403 CHAPTER 9
Response Spectrum Analysis
Main Index
Example: Structure subjected to multiple spectra
The input is usually defined as response spectrum curves.  It is not unusual to have an excitation defined in
terms of a set of response spectrum curves.  Each curve of the set is associated with a value of damping (%
critical damping).  Based on modal damping defined by TABDMP1 table (selected by SDAMP= in case
control section), Nastran will interpolate the excitation input value at each modal frequency from the
Spectrum Input curves.  In addition, the input could be in one direction only or any two or all three
directions simultaneously.
.Given Spectrum input in (x, y and z) direction
Input spectrum could be Acceleration, Velocity or Displacement.
Table 9-5  Input in X-Direction
2% Damping 5% Damping 7% Damping
Freq Accel(G) Freq Accel(G) Freq Accel(G)
10.0 2.0 12.0 1.5 5.0 1.0
20.0 2.0 15.0 1.5 25.0 1.0
100.0 8.0 90.0 4.0 110.0 3.0
900.0 8.0 1200.0 4.0 850.0 3.0
1100.0 1.0 1300.0 0.7 1200.0 0.5
2000.0 1.0 2500.0 0.7 3000.0 0.5
Table 9-6  Input in Y-Direction
1% Damping 4% Damping 8% Damping
Freq Accel(G) Freq Accel(G) Freq Accel(G)
10.0 1.0 12.0 0.8 5.0 0.4
20.0 1.0 15.0 0.8 25.0 0.4
100.0 6.0 90.0 5.0 110.0 3.0
900.0 6.0 1200.0 5.0 850.0 3.0
1100.0 1.5 1300.0 0.9 1200.0 0.5
2000.0 1.5 2500.0 0.9 3000.0 0.5&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples404
Main Index
Model
$
$                  Cantilevered Beam Made of Plates Model
$
$             201 202  203  204  205  206  207  208  209  210  211
$  Y          &lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-*
$  ^         /|    |    |    |    |    |    |    |    |    |    |
$  |     99 * | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 |
$  |         |    |    |    |    |    |    |    |    |    |    |
$  +&amp;mdash;&amp;gt;X     &lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-*
$             101 102  103  104  105  106  107  108  109  110  111
$
The spectrum is applied at grid 99.
The spectrum are input in Nastran using DTI, SPECSEL entry.
First entry is always
DTI, SPECSEL, 0
Let’s define actual spectrum input.  This is done using pair of DTI, SPECSEL and TABLED1 Bulk Data
entry.  Let’s give numerical IDs to spectrum curve.
Define set ID (or Record ID) of 71 for X direction Input Curves
And set ID (or Record ID) of 72 for Y direction Input CurvesTable 9-7  Input to Z-Direction
1% Damping 3% Damping 7% Damping
Freq Accel(G) Freq Accel(G) Freq Accel(G)
10.0 1.5 12.0 1.0 5.0 0.6
20.0 1.5 15.0 1.0 25.0 0.6
100.0 7.0 90.0 5.0 110.0 3.5
900.0 7.0 1200.0 5.0 850.0 3.5
1100.0 1.8 1300.0 1.4 1200.0 0.7
2000.0 1.8 2500.0 1.4 3000.0 0.7
X direction, 2 % damping Table ID 101
X direction, 5 % damping Table ID 102
X direction, 7 % damping Table ID 103
Y direction, 1 % damping 201
Y direction, 4 % damping 202
Y direction, 8 % damping 203&lt;/p&gt;
&lt;p&gt;405 CHAPTER 9
Response Spectrum Analysis
Main Index
And finally, set ID (or Record ID) of 73 for Z direction Input Curves
Nastran Input
X Direction:
DTI, SPECSEL, 71, , A, 101, 0.02, 102, 0.05
+, 103, 0.07
Tabled1, 101
+, 10.0, 2.0, 20.0, 2.0, 100.0, 8.0, 900.0, 8.0
+, 1100.0, 1.0, 2000.0, 1.0, endt
Tabled1, 102
+, 12.0, 1.5, 15.0, 1.5, 90.0, 4.0, 1200.0, 4.0
+, 1300.0, 0.7, 2500., 0.7, endt
Tabled1, 103
+, 5.0, 1.0, 25.0, 1.0, 110.0, 3.0, 850.0, 3.0
+, 1200.0, 0.5, 3000.0, 0.5, endt
And so on for SPECSEL 72 and corresponding Tabled1 201, 202 and 203
…….……  for SPECSEL 73 and corresponding T abled1 301, 302 and 303
Current Nastran implementation support only Large Mass Method.
The Large Mass Method is same as Large Mass Method for Base Excitation in Frequency Response Analysis
or T ransient Analysis.
Assigned Large Mass at point of application (grid)
Use SUPORT entry to define all DOF subjected to Response Spectrum Input.
If weight unit is used for density, make sure we use conversion factor (1/G) using Param,Wtmass,
Conv_Factor to convert Weight to Mass unit.
Param, Wtmass, .002589  (1/386.4).
Conm2,199,99,,1.e8
Suport,99,123
Consider three cases:
Subcase 1: Spectrum input in direction Y only.
Subcase 2: Spectrum input in direction X and Z
Subcase 3: Spectrum input in direction X, Y and Z
Use DLOAD to define the Spectrum Input.  Note Factor of 386.4 since spectrum input curves are defined
in G units.Z direction, 1 % damping 301
Z direction, 3 % damping 302
Z direction, 7 % damping 303
Note:   Each SPECSEL may have different number of Tabled1 for different damping values.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples406
Main Index
Format for DLOAD:
DLOAD, SID, Factor, S1, L1, S2, L2, S3, L3
Note that on Dload and Si, Li entries the DLOAD entry in response spectrum analysis is used to select DTI
entry with name SPECSEL.  The DLOAD entry MUST CONTAIN ‘r’ pair of Si, Li entries where ‘r’ is
number of DOF listed on SUPORT entry.  In addition, the Li, Si pairs (i=1,2,…,6) correspond to the
components(in ascending order) entered on the SUPORT entry.  For example, for SUPORT ,99,236 then
L1,S1 correspond to DOF 2, L2,S2 correspond to DOF 3 and S3,L3 correspond to DOF 6.
For subcase 1 (input in Y direction only) we will have:
DLOAD, 701, 386.4, 0.0, 71, 1.0, 72, 0.0, 73
The SID 701 will be selected by DLOAD=701 in Case Control Section under subcase 1
For subcase 2 (input in direction X + Z)
DLOAD, 702, 386.4, 1.0, 71, 0.0, 72, 1.0, 73
And for subcase 3 (Input in X + Y + Z)
DLOAD, 703, 386.4, 1.0, 71, 1.0, 72, 1.0, 73
Also eigenvalue extraction method and number of modes etc need to be specified.  ONLY MASS
Normalization is valid in Response Spectrum Analysis.
EIGRL, 66, 0., 5000.
Specify Modal Damping (selected by SDAMP=88 in case control)
TABDMP1, 88, Crit
+, 0.0, .03, 100.0, .05, 1500., 0.05, 2000., .02
+, 5000., 0.02, Endt
Some parameters are needed to complete the analysis.
Param,SCRSPEC,0  Tells MSC Nastran to perform shock spectrum analysis.
Param, Option will select the method of combining modal responses.
There are three different options available:
Param, Option, ABS  (add absolute modal response)
Param, Option, SRSS (add using Square Root of Sum of the Square)
Param Option, NRL (add based on NAVSEA-0908-LP-000-3010 Specification)
With Param, (SRSS and NRL),  another parameter may be defined. Param,CLOSE, value
(value&amp;gt;1. 0 - Default 1.0)
PARAM, CLOSE, 1.05
With NRL/SRSS option, close natural frequencies will be summed by the ABS convention, where close
frequencies meet the inequality F(i+1) &amp;lt; CLOSE * Fi and then combined with other modal response in
accordance with the param,option.
Param,Option and Param,Close may be set differently in any subcase, allowing summation by different
method in a single run.&lt;/p&gt;
&lt;p&gt;407 CHAPTER 9
Response Spectrum Analysis
Main Index
Putting it all together, Listing 9-6 shows the complete input file. See
MSC_DOC_DIR/doc/dynamics/shock3xyz.dat for a copy.
Listing 9-6  Multiple Spectra Example
$ Nastran Input Data Deck
ID Mohan, Barbela
TIME 100
$&lt;br&gt;
$  Must be SOL 103
$  =================
$
SOL 103 $ Modal Frequency Response
$
CEND
$
TITLE = CANTILEVERED BEAM MADE OF PLATES
$
echo = unsort
$
stress       = all
force        = all
acceleration = all
disp = all
$
spc    = 77
METHOD = 66
SDAMP  = 88
param,scrspec,0
SUBCASE  1
subtitle = Excitation in Y Direction : Option : SRSS
Param,Option,SRSS
DLOAD    = 701
SUBCASE  2
subtitle = Excitation in X + Z Direction : Option : ABS
Param, Option, ABS
DLOAD    = 702
SUBCASE  3
subtitle = Combined X+Y+Z Direction : Option : NRL
Param,Option,NRL
Param,Close,0.1
DLOAD    = 703
BEGIN BULK
$
$                  Cantilevered Beam Made of Plates Model
$
$             201 202  203  204  205  206  207  208  209  210  211
$  Y          &lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-*
$  ^         /|    |    |    |    |    |    |    |    |    |    |
$  |     99 * | 11 | 12 | 13 | 14 | 15 | 16 | 17 | 18 | 19 | 20 |
$  |         |    |    |    |    |    |    |    |    |    |    |
$  +&amp;mdash;&amp;gt;X     &lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-&lt;em&gt;&amp;mdash;-&lt;/em&gt;&amp;mdash;-*
$             101 102  103  104  105  106  107  108  109  110  111
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples408
Main Index
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.0
$
param,wtmass,.002588
param,autospc,yes
param,grdpnt,0
param,post,-1
$
$ param,scrspec,0 – Selected in case control above all subcases
$ param,option,srss -  Selected in case control under each subcase
$
$  Must assign large mass at point of excitation and must have a suport
$  entry with all excitation direction DOF.
$
CONM2,199,99,,1.e8
SUPORT,99,123
SPC1,77,456,99
EIGRL, 66, -.1, 5000.
$
$
DLOAD, 701, 386.4, 0.0, 71, 1.0, 72, 0.0, 73
DLOAD, 702, 386.4, 1.0, 71, 0.0, 72, 1.0, 73
DLOAD, 703, 386.4, 1.0, 71, 1.0, 72, 1.0, 73
$
$
$  Input Spectrum in direction X
$
DTI, SPECSEL, 71, A, 101, 0.02, 102, 0.05
+, 103, 0.07
Tabled1, 101
+, 10.0, 2.0, 20.0, 2.0, 100.0, 8.0, 900.0, 8.0
+, 1100.0, 1.0, 2000.0, 1.0, endt
Tabled1, 102
+, 12.0, 1.5, 15.0, 1.5, 90.0, 4.0, 1200.0, 4.0
+, 1300.0, 0.7, 2500.,0 0.7, endt
Tabled1, 103
+, 5.0, 1.0, 25.0, 1.0, 110.0, 3.0, 850.0, 3.0
+, 1200.0, 0.5, 3000.0, 0.5, endt
$
$  Input Spectrum in direction Y
$
DTI, SPECSEL, 72, , A, 201, 0.01, 202, 0.04
+, 203, 0.07
Tabled1, 201
+, 10.0, 1.0, 20.0, 1.0, 100.0, 6.0, 900.0, 6.0
+, 1100.0, 1.5, 2000.0, 1.5, endt
Tabled1, 202
+, 12.0, 0.8, 15.0, 0.8, 90.0, 5.0, 1200.0, 5.0
+, 1300.0, 0.9, 2500.0, 0.9, endt
Tabled1, 203
+, 5.0, 0.4, 25.0, 0.4, 110.0, 3.0, 850.0, 3.0
+, 1200.0, 0.5, 3000.0, 0.5, endt
$
$  Input Spectrum in direction Z
$
DTI, SPECSEL, 73, , A, 301, 0.01, 302, 0.03
+, 303, 0.07
Tabled1, 301
+, 10.0, 1.5, 20.0, 1.5, 100.0, 7.0, 900.0, 7.0
+, 1100.0, 1.8, 2000.0, 1.8, endt&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P22</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_022/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_022/</guid>
      <description>
        
        
        &lt;p&gt;409 CHAPTER 9
Response Spectrum Analysis
Main Index
Tabled1, 302
+, 12.0, 1.0, 15.0, 1.0, 90.0, 5.0, 1200.0, 5.0
+, 1300.0, 1.4, 2500.0, 1.4, endt
Tabled1, 303
+, 5.0, 0.6, 25.0, 0.6, 110.0, 3.5, 850.0, 3.5
+, 1200.0, 0.7, 3000.0, 0.7, endt
$
$  Select Modal Damping
$
TABDMP1, 88, Crit
+, 0.0, .03, 100.0, .05, 1500., 0.05, 2000., .02
+, 5000., 0.02, Endt
$
GRID    101             0.      0.      0.                                   &lt;br&gt;
GRID    102             1.      0.      0.                                   &lt;br&gt;
GRID    103             2.      0.      0.                                   &lt;br&gt;
GRID    104             3.      0.      0.                                   &lt;br&gt;
GRID    105             4.      0.      0.                                   &lt;br&gt;
GRID    106             5.      0.      0.                                   &lt;br&gt;
GRID    107             6.      0.      0.                                   &lt;br&gt;
GRID    108             7.      0.      0.                                   &lt;br&gt;
GRID    109             8.      0.      0.                                   &lt;br&gt;
GRID    110             9.      0.      0.                                   &lt;br&gt;
GRID    111             10.     0.      0.                                   &lt;br&gt;
GRID    201             0.      1.      0.                                   &lt;br&gt;
GRID    202             1.      1.      0.                                   &lt;br&gt;
GRID    203             2.      1.      0.                                   &lt;br&gt;
GRID    204             3.      1.      0.                                   &lt;br&gt;
GRID    205             4.      1.      0.                                   &lt;br&gt;
GRID    206             5.      1.      0.                                   &lt;br&gt;
GRID    207             6.      1.      0.                                   &lt;br&gt;
GRID    208             7.      1.      0.                                   &lt;br&gt;
GRID    209             8.      1.      0.                                   &lt;br&gt;
GRID    210             9.      1.      0.                                   &lt;br&gt;
GRID    211             10.     1.      0.                                   &lt;br&gt;
$
CQUAD4  1       1       101     102     202     201                          &lt;br&gt;
CQUAD4  2       1       102     103     203     202                          &lt;br&gt;
CQUAD4  3       1       103     104     204     203                          &lt;br&gt;
CQUAD4  4       1       104     105     205     204                          &lt;br&gt;
CQUAD4  5       1       105     106     206     205                          &lt;br&gt;
CQUAD4  6       1       106     107     207     206                          &lt;br&gt;
CQUAD4  7       1       107     108     208     207                          &lt;br&gt;
CQUAD4  8       1       108     109     209     208                          &lt;br&gt;
CQUAD4  9       1       109     110     210     209                          &lt;br&gt;
CQUAD4  10      1       110     111     211     210                          &lt;br&gt;
$
Grid, 99, , 0.0, 0.5, 0.0
rbar, 77, 99, 101, 123456
rbar, 78, 99, 201, 123456
$
pshell  1       1       .1      1
mat1    1       10.e6           .3      0.1     1.e-6   0.
$
enddata&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Response Spectrum Examples410
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide
Chapter 10: Restarts In Dynamic Analysis
10 Restarts  In Dynamic Analysis
Overview
Examples
Remarks&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview412
Main Index
Overview
A restart is a logical way of continuing from a previous run without having to start from the beginning.
Restarts  (Ch. 14) in the  gives the overview of restarts.
In dynamic analysis, the calculation of normal modes is, in general, the most expensive operation.  Therefore,
a common application of restart is the performance of a transient or frequency response analysis by restarting
from the normal modes calculation, which was saved in the database from a previous run.  This restart process
avoids the recalculation of the normal modes.
Executive Control Section
This section is the same as your normal run with the exception of perhaps the “SOL x” command.  For
example, if you are performing a normal modes analysis in run1.dat, then the “SOL x” command in run1.dat
should reference “SOL 103”.  In run2.dat, if you are performing a modal transient restart from run1.dat, then
the “SOL x” statement in this case should then reference “SOL 112”.
Case Control Section
The automatic restart logic compares the modifications made to the Case Control and Bulk Data Sections in
determining which operations need to be processed upon restart.  Therefore, you must be very careful with
the changes that you make in your restart run.  Adhering to the following rules will avoid unnecessary
reprocessing of previously completed operations.
You must include all “solution -type” related Case Control commands, which are unchanged as
compared to the cold start run, in your restart run.  In other words, do not make unnecessary
LOAD, SPC, MPC, or METHOD command changes or remove them from the Case Control
Section unless these are actual changes.  This process is clarified later with the example problems.
Output requests can be modified.  A typical example can be a request of the eigenvector printout
which was not requested in the cold start run.
Bulk Data Section
As mentioned in the previous section, the automatic restart logic compares the changes made in the Bulk
Data Section and determines the path that it follows.  A copy of the Bulk Data is stored for each version.  The
restart run must not contain any Bulk Data entry that was included in the previous runs and saved in the
database.  The Bulk Data Section in the current restart run should contain only new entries, changed entries,
and/or the deletion of old entries from the database.  This philosophy is slightly different than the one used
in the Case Control Section.
For conventional dynamic analysis (i.e., non -superelement), restarts involving model changes (e.g., changing
the thickness of a plate) are not very efficient.  Therefore, the savings is probably minimal, if any.  However,
in the case of additional output requests or a restart from a modes run to a response run, the savings can be
substantial.  This type of restart is covered extensively in Examples .  For superelement analysis, even restarts
involving model changes can be beneficial as long as these changes are localized.&lt;/p&gt;
&lt;p&gt;413 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
Examples
The examples perform a typical series of runs starting from a normal modes run and restarting into transient
and frequency response analyses.  Table 10-1 summarizes this series of nine runs along with a brief description.&lt;br&gt;
Listings of the ten runs are also included ( Listing 10-1 through Listing 10-10). See
Install_dir//mscxxxx/tpl6/dynamics/bd10bar1.dat through bd10bar10.dat. The way the runs are setup they
must all be copied to your local directory to run correctly.
Table 10-1  Typical Series of Restart Runs
Run
Sequence
NumberName of
Input FileSolution
Sequence
Number Description of RunsVersion
CreatedVersion
Deleted
1 bd10bar1.d
at103 Perform a normal modes cold start
analysis and save the database.1 None
2 bd10bar2.d
at103 Restart from run number 1 and request
eigenvector output.2 None
3 bd10bar3.d
at103 The first two modes of the structure are
very close to one of the forcing
frequencies.  The structure is modified in
order to stay away from resonance.  This
run restarts from run number 2 to delete
the old PBAR entry and replace it with
the modified PBAR entry.  The modes are
recalculated, and the eigenvector output is
requested in this run.3 2
4 bd10bar4.d
atN/A This run deletes the data blocks in the
database previously occupied by
Version 1.  This space can then be reused
by future restarts.  Note that the statement
DBCLEAN does not reduce the database
size.  It merely removes some of its
contents so that this space can be reused.&lt;br&gt;
A new version is not created as a result of
this run.  This is an optional run especially
if disk space is of no concern to you.None 1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples414
Main Index
5 bd10bar5.d
at112 This is a transient restart run from the
modes saved in Version 3.  The applied
load is a unit step function.  The modes
calculated in run number 3 are also saved
at the end of this run.  Since the
calculation of the modes is the most
expensive operation in a dynamic analysis,
it is probably a good idea to save Version
3 once you have confidence in the results.&lt;br&gt;
This way you can always restart from this
version.  Partial output is shown at the top
of Figure 10-1.  A 1% critical damping
value is applied to the structure.4 None
6 bd10bar6.d
at112 This is another transient restart run using
the solution from run number 5.  The
purpose of this run is to request additional
output.  Partial output is shown.5 4Table 10-1  Typical Series of Restart Runs  (continued)
Run
Sequence
NumberName of
Input FileSolution
Sequence
Number Description of RunsVersion
CreatedVersion
Deleted&lt;/p&gt;
&lt;p&gt;415 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
Remarks
If the results for run number 1 are not going to be used for any future purposes, then you may consider
making run number 3 as a cold start run instead of a restart run.  Model changes do not save you much time,
if any, in a non -superelement analysis.  By making run 3 a cold start run, you reduce the total amount of disk
space required.  In this case, run number 4 is not necessary since you are starting with a new database.&lt;br&gt;
However, if you want to keep both physical models in the database, then run number 3 should be a restart
run as shown in this example.  An application of this can be a parametric study of two different
configurations.  This type of restart allows you to make efficient data recovery or response analysis from two
different physical models.  However, this type of restart is not used often in a non -superelement analysis
since, in general, it is not very efficient.  However, in a superelement analysis (see Superelement Analysis&lt;br&gt;
(Ch. 21)), this type of restart can still be very efficient since the changes can be localized to a small region.
Listing 10-1  Input File for Normal Modes Run7 bd10bar7.d
at112 This is another restart run from Version 6
with a different load condition (triangular
pulse).  Partial output is shown in
Figure 10-2.  In this case, you can just as
easily restart from Version 3.6 None
8 bd10bar8.d
at111 This is a frequency response restart run.&lt;br&gt;
Note that this restart is from Version 3
using a read-only restart saved in the
database from the modes run. A new
database called bd10bar8 is created.
Partial output is shown in Figure 10-3.  A
2% critical damping value is applied to
the structure.None None
9 bd10bar9.d
atN/A This is a database directory printout run.&lt;br&gt;
As shown in Figure 10-3, there are six
versions in the database.  Run numbers 4,
8 and 9 did not create any new versions.
Versions 3, 5 and 6 are restartable.  This is
an optional run.None None
10 bd10bar10.
dat112 This is a restart run from Version 5 with
an extension of the time steps without
having to recompute output the earlier
times, partial output is shown at the
bottom of Figure 10-1. Note times start at
.6.7 5Table 10-1  Typical Series of Restart Runs  (continued)
Run
Sequence
NumberName of
Input FileSolution
Sequence
Number Description of RunsVersion
CreatedVersion
Deleted&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Remarks416
Main Index
$  FILE - bd10bar1.dat
$
$  NORMAL MODES RUN
$
ID CANT BEAM
SOL 103
CEND
TITLE =  CANTILEVER BEAM - NORMAL MODES - COLD START RUN
SPC = 1
METHOD = 10
$
BEGIN BULK
$
CBAR    1       1       1       2       0.      1.      0.           &lt;br&gt;
CBAR    2       1       2       3       0.      1.      0.           &lt;br&gt;
CBAR    3       1       3       4       0.      1.      0.           &lt;br&gt;
CBAR    4       1       4       5       0.      1.      0.           &lt;br&gt;
CBAR    5       1       5       6       0.      1.      0.           &lt;br&gt;
CBAR    6       1       6       7       0.      1.      0.           &lt;br&gt;
CBAR    7       1       7       8       0.      1.      0.           &lt;br&gt;
CBAR    8       1       8       9       0.      1.      0.           &lt;br&gt;
CBAR    9       1       9       10      0.      1.      0.           &lt;br&gt;
CBAR    10      1       10      11      0.      1.      0.           &lt;br&gt;
EIGRL   10      - 0.1    50.                                          &lt;br&gt;
GRID    1               0.0     0.      0.                           &lt;br&gt;
GRID    2               0.3     0.      0.                           &lt;br&gt;
GRID    3               0.6     0.      0.                           &lt;br&gt;
GRID    4               0.9     0.      0.                           &lt;br&gt;
GRID    5               1.2     0.      0.                           &lt;br&gt;
GRID    6               1.5     0.      0.                           &lt;br&gt;
GRID    7               1.8     0.      0.                           &lt;br&gt;
GRID    8               2.1     0.      0.                           &lt;br&gt;
GRID    9               2.4     0.      0.                           &lt;br&gt;
GRID    10              2.7     0.      0.                           &lt;br&gt;
GRID    11              3.0     0.      0.                           &lt;br&gt;
MAT1    1       7.1+10           .33     2.65+4
PARAM   AUTOSPC YES                                                  &lt;br&gt;
PARAM   WTMASS  .102
PBAR    1       1       6.158-4  3.-8    3.-8    6.-8   2.414
SPC1    1       123456  1                                            &lt;br&gt;
$
ENDDATA
Listing 10-2  Input File for Requesting Eigenvectors
$  FILE - bd10bar2.dat
$
$  NORMAL MODES RUN
$  REQUEST EIGENVECTOR PRINTOUTS FROM PREVIOUS RUN
$
RESTART VERSION=1,KEEP
ASSIGN MASTER=’bd10bar1.MASTER’
$
ID CANT BEAM
SOL 103
TIME 10
CEND
TITLE =  EIGENVECTORS DATA RECOVERY RESTART RUN
SPC = 1
METHOD = 10&lt;/p&gt;
&lt;p&gt;417 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
DISP = ALL  $  PRINT EIGENVECTORS
$
BEGIN BULK
$
ENDDATA
Listing 10-3  Input File for Modifying a Bar Element
$
$  FILE - bd10bar3.dat
$
$  NORMAL MODES RUN
$  MODIFY PBAR
$
RESTART
ASSIGN MASTER=&amp;lsquo;bd10bar1.MASTER&amp;rsquo;
$
ID CANT BEAM
SOL 103
CEND
TITLE =  CANTILEVER BEAM - NORMAL MODES - RESTART RUN
SPC = 1
METHOD = 10
DISP = ALL
$
BEGIN BULK
$
$  DELETE OLD PBAR ENTRY
$
/DELETE PBAR
$ NOT NEEDED IF JUST UPDATING AN ENTRY
$
$  ADD NEW PBAR ENTRY
$
PBAR,1,1,6.158-4,2.9-8,3.1-8,6.-8,2.414
$
ENDDATA
Listing 10-4  Input File for Cleaning a Database
$  FILE -  bd10bar4.dat
$
assign master=’bd10bar1.MASTER’
dbclean version=1
endjob
Listing 10-5  Input File for Transient Response
$  FILE - bd10bar5.dat
$
$  THIS IS A TRANSIENT RESTART RUN FROM THE MODES
$  CALCULATED BY THE RUN “bd10bar3.dat”
$
RESTART VERSION=3,KEEP
ASSIGN MASTER=’bd10bar1.MASTER’
ID CANT BEAM
SOL 112
CEND
TITLE    =  TRANSIENT RESTART - UNIT STEP FUNCTION INPUT&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Remarks418
Main Index
SUBTITLE =  REQUEST DISPLACEMENT TIME HISTORY AT GRID POINT 11
SPC = 1
METHOD = 10
SET 1 = 11
DISP = 1
SUBCASE 1
SDAMP   = 100
TSTEP   = 100
DLOAD   = 100
$
BEGIN BULK
$
$   ADDITIONAL ENTRIES FOR DYNAMIC LOADS
$   FOR UNIT STEP FUNCTION
$
$         SID     DAREA   DELAY   TYPE    TID
TLOAD1    100     101                     102
$
DAREA,101,11,3,1.0
$
TABLED1,102,,,,,,,,+TBL1
+TBL1,0.0,0.0,.001,1.0,10.0,1.0,ENDT
$
$   TRANSIENT TIME STEPS
$
$         SID     N(1)    DT(1)   NO(1)
TSTEP     100     600    .001      5
$
$   MODAL DAMPING TABLE
$
TABDMP1,100,CRIT,,,,,,,+TDAMP                                        &lt;br&gt;
+TDAMP,0.,.01,200.,.01,ENDT
$
ENDDATA
Listing 10-6  Input File for an Additional Output Request
$  FILE - bd10bar6.dat
$
$  THIS IS ANOTHER TRANSIENT RESTART RUN.  THE PURPOSE
$  OF THIS RUN IS TO REQUEST ADDITIONAL OUTPUT.
$
RESTART
ASSIGN MASTER=’bd10bar1.MASTER’
ID CANT BEAM
SOL 112
CEND
TITLE    = T R A N S I E N T     R E S T A R T
SUBTITLE = U N I T    S T E P    F U N C T I O N    I N P U T
SPC = 1
METHOD = 10
SET 1 = 11
SET 2 = 10
ACCE  = 2
SUBCASE 1
SDAMP   = 100
TSTEP   = 100
DLOAD   = 100
$
$&lt;/p&gt;
&lt;p&gt;419 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
$  PLOT RESULTS
$
$&amp;hellip;X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$
ENDDATA
Listing 10-7  Input File for an Additional Transient Load
$  FILE - bd10bar7.dat
$
$  THIS IS ANOTHER TRANSIENT RESTART RUN USING
$  A DIFFERENT LOAD CONDITION.  NOTE THAT SINCE
$  THERE ARE NO MODEL CHANGES, THE SAME MODES
$  WERE USED FROM THE DATABASE FOR THE RESPONSE
$  CALCULATIONS.
$
RESTART KEEP
ASSIGN MASTER=’bd10bar1.MASTER’
ID CANT BEAM
SOL 112
CEND
$
$  NOTE THAT TITLE CHANGES HAVE NO EFFECT
$  ON SOLUTION PROCESS, THEY ONLY CHANGE THE
$  PRINTOUT TITLE
$
TITLE    = T R A N S I E N T     R E S T A R T
SUBTITLE = TRIANGLE PULSE - 1.0 AT T=0 AND 0.0  AFTER .2 SEC
SPC = 1
METHOD = 10
SET 1 = 11
DISP = 1
SUBCASE 1
SDAMP   = 100
TSTEP   = 100
DLOAD   = 300
$
$  PLOT RESULTS
$
$&amp;hellip;X-Y plot commands &amp;hellip;
$
BEGIN BULK
$
$         SID     DAREA   DELAY   TYPE    TID
TLOAD1    300     301                     302
$
DAREA,301,11,3,1.0
$
TABLED1,302,,,,,,,,+TBL3                                             &lt;br&gt;
+TBL3,0.0,0.0,.001,1.0,.20,0.0,10.0,0.0,+TBL4
+TBL4,ENDT
$
ENDDATA
Listing 10-8  Input File for Frequency Response Analysis
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Remarks420
Main Index
$  FILE - bd10bar8.dat
$
$  THIS IS READ ONLY RESTART RUN TO PERFORM FREQUENCY RESPONSE
$  FROM THE MODES RUN
$
RESTART version=3 logical=bd10bar8
ASSIGN bd10bar8=&amp;lsquo;bd10bar1.MASTER&amp;rsquo;
ID CANT BEAM
SOL 111
CEND
TITLE =  CANTILEVER BEAM - FREQUENCY RESPONSE RESTART
SPC = 1
METHOD = 10
SET 1 = 11
DISP(PHASE) = 1
SUBCASE 1
$
$   A TWO PERCENT CRITICAL DAMPING IS APPLIED TO THIS RUN
$   AS OPPOSED TO ONE PERCENT CRITICAL DAMPING IN THE
$   TRANSIENT ANALYSIS.
$
SDAMP   = 1000
DLOAD   = 1000
FREQ    = 1000
$
$  PLOT RESULTS
$
OUTPUT(XYOUT)
XTGRID LINES=YES
YTGRID LINES=YES
XBGRID LINES = YES
YBGRID LINES = YES
XGRID = YES
YGRID = YES
XLOG = YES
YBLOG = YES
$XMIN  = 1.0
$XMAX  = 100.
YTTITLE =       D I S P / M A G   ( M )
YBTITLE =     D I S P / P H A S E   ( D E G )
XTITLE =                      F R E Q U E N C I E S   ( H Z )
XYPLOT DISP /11(T3RM,T3IP)
$
BEGIN BULK
$
$   ADDITIONAL ENTRIES FOR FREQUENCY RESPONSE
$
$         SID     DAREA   M       N       TC      TD
$
RLOAD1    1000    1001                    1002
$
DAREA,1001,11,3,0.1
$
TABLED1,1002
,0.,1.,200.,1.,ENDT
$
$    FORCING FREQUENCIES
$
$    RESONANT FREQUENCIES
$&lt;/p&gt;
&lt;p&gt;421 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
FREQ,1000,2.03174,2.100632,12.59101,13.01795
FREQ,1000,34.90217,36.08563
$&lt;br&gt;
$    SPREAD THROUGHOUT FREQUENCY RANGE OF INTEREST
$    WITH BIASED BETWEEN HALF POWER POINTS
$
FREQ,1000,1.437,1.556,1.675,1.794,1.913
FREQ,1000,2.046,2.059,2.073,2.087
FREQ,1000,2.224,2.347,2.47,2.593,2.716
FREQ,1000,8.903,9.641,10.378,11.116,11.853
FREQ,1000,12.676,12.762,12.847,12.933
FREQ,1000,13.781,14.543,15.306,16.068,16.831
FREQ,1000,24.680,26.724,28.769,30.813,32.858
FREQ,1000,35.139,35.376,35.612,35.849
FREQ,1000,41.189,46.292,51.395,56.499,61.602
$
FREQ1,1000,0.,.5,200
$
$    DAMPING
$
TABDMP1,1000,CRIT,,,,,,,+DAMP
+DAMP,0.,.02,200.,.02,ENDT
$
ENDDATA
Listing 10-9  Input File to Print the Database Dictionary
$  FILE -  bd10bar9.dat
$
assign master=’bd10bar1.MASTER’
dbdir
endjob
Listing 10-10  Input File to Extend Time Steps
$
$  FILE - bd10bar10.dat
$
$  THIS IS ANOTHER TRANSIENT RESTART RUN.  THE PURPOSE
$  OF THIS RUN IS TO REQUEST ADDITIONAL OUTPUT.
$
RESTART Version=5
ASSIGN MASTER=&amp;lsquo;bd10bar1.MASTER&amp;rsquo;
ID CANT BEAM
SOL 112
CEND
TITLE    = T R A N S I E N T     R E S T A R T
SUBTITLE = E X T E N D   T S T E P  U S I N G  S T I M E
SPC = 1
METHOD = 10
SET 1 = 11
SET 2 = 10
ACCE  = 2
SUBCASE 1
SDAMP   = 100
TSTEP   = 700
DLOAD   = 100
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Remarks422
Main Index
$
$  PLOT RESULTS
$
OUTPUT(XYPLOT)
XAXIS = YES
YAXIS = YES
XGRID = YES
YGRID = YES
XTITLE =    T   I   M   E       ( S E C )
YTITLE =    Z    D I S P    O F    G R I D     11  (M)
XYPLOT DISP /11(T3)
YTITLE =  Z  ACCELERATION   OF  GRID  10  ( M / SEC**2 )
XYPLOT ACCE /10(T3)
$
BEGIN BULK
$
PARAM,STIME,.6
TSTEP,700,700,.001,5
$
ENDDATA&lt;/p&gt;
&lt;p&gt;423 CHAPTER 10
Restarts In Dynamic Analysis
Main Index
Figure 10-1  Partial Output from Transient Analysis with Unit Step Function Input (bd10bar5 and bd10bar10)
Figure 10-2  Partial Output from Transient Analysis with a Triangular Pulse (bd10bar9) POINT-ID =        11
D I S P L A C E M E N T   V E C T O R&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   TIME       TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0.0              G      0.0            0.0            0.0            0.0            0.0            0.0
5.000000E-03     G      1.194303E-16   3.936567E-17   2.504727E-05   0.0           -6.120401E-05   4.001821E-16
1.000000E-02     G      2.737714E-16   6.817522E-17   8.184779E-05   0.0           -1.331090E-04   8.292225E-16&lt;/p&gt;
&lt;p&gt;2.300000E-01     G     -3.588051E-14  -1.043014E-14   7.835704E-03   0.0           -3.673377E-03  -1.088909E-13
2.350000E-01     G     -3.580078E-14  -1.044822E-14   7.866833E-03   0.0           -3.710257E-03  -1.086752E-13
2.400000E-01     G     -3.609918E-14  -1.051499E-14   7.883687E-03   0.0           -3.728710E-03  -1.095553E-13
2.450000E-01     G     -3.662778E-14  -1.059462E-14   7.889598E-03   0.0           -3.744088E-03  -1.111338E-13
2.500000E-01     G     -3.699655E-14  -1.062077E-14   7.889201E-03   0.0           -3.778521E-03  -1.121871E-13
2.550000E-01     G     -3.697565E-14  -1.058640E-14   7.877129E-03   0.0           -3.814069E-03  -1.120912E-13
5.950000E-01     G     -1.870177E-14  -4.673678E-15   4.031476E-03   0.0           -2.030503E-03  -5.616841E-14
6.000000E-01     G     -1.959096E-14  -4.961804E-15   4.248531E-03   0.0           -2.099409E-03  -5.888898E-14
SUBCASE 1                           &lt;br&gt;
X Y - O U T P U T  S U M M A R Y  ( R E S P O N S E )
SUBCASE  CURVE FRAME    CURVE ID./       XMIN-FRAME/    XMAX-FRAME/    YMIN-FRAME/      X FOR        YMAX-FRAME/      X FOR
ID     TYPE   NO.  PANEL  : GRID ID     ALL DATA       ALL DATA       ALL DATA       YMIN           ALL DATA       YMAX
1  DISP      1       11(  5)      6.000000E-01   1.300000E+00   6.125921E-04   9.450001E-01   7.731026E-03   7.200000E-01
6.000000E-01   1.300000E+00   6.125921E-04   9.450001E-01   7.731026E-03   7.200000E-01
1  ACCE      2       10(  5)      6.000000E-01   1.300000E+00  -7.251530E-01   7.300000E-01   6.462884E-01   9.200000E-01
6.000000E-01   1.300000E+00  -7.251530E-01   7.300000E-01   6.462884E-01   9.200000E-01
POINT-ID =        11
D I S P L A C E M E N T   V E C T O R&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   TIME       TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0.0              G      0.0            0.0            0.0            0.0            0.0            0.0
5.000000E-03     G      1.187877E-16   3.927214E-17   2.489746E-05   0.0           -6.077061E-05   3.977257E-16
1.000000E-02     G      2.680967E-16   6.663936E-17   8.054515E-05   0.0           -1.304303E-04   8.105531E-16
1.650000E-01     G     -1.905787E-14  -5.570934E-15   4.101126E-03   0.0           -1.843881E-03  -5.796270E-14
1.700000E-01     G     -1.956794E-14  -5.692628E-15   4.179738E-03   0.0           -1.906047E-03  -5.953207E-14
1.750000E-01     G     -1.976381E-14  -5.703682E-15   4.256193E-03   0.0           -2.003543E-03  -6.003546E-14
1.800000E-01     G     -1.997031E-14  -5.702407E-15   4.310292E-03   0.0           -2.079599E-03  -6.055504E-14
1.850000E-01     G     -2.037484E-14  -5.747392E-15   4.327041E-03   0.0           -2.091791E-03  -6.172204E-14
1.900000E-01     G     -2.075757E-14  -5.765805E-15   4.314581E-03   0.0           -2.086080E-03  -6.278964E-14
1.950000E-01     G     -2.070708E-14  -5.747701E-15   4.273104E-03   0.0           -2.050172E-03  -6.267379E-14
5.950000E-01     G     -1.196185E-14  -3.004771E-15   2.607365E-03   0.0           -1.203624E-03  -3.601540E-14
6.000000E-01     G     -1.261992E-14  -3.250992E-15   2.775512E-03   0.0           -1.249155E-03  -3.805073E-14&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                          X Y - O U T P U T  S U M M A R Y  ( R E S P O N S E )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SUBCASE  CURVE FRAME    CURVE ID./       XMIN-FRAME/    XMAX-FRAME/    YMIN-FRAME/      X FOR        YMAX-FRAME/      X FOR
ID     TYPE   NO.  PANEL  : GRID ID     ALL DATA       ALL DATA       ALL DATA       YMIN           ALL DATA       YMAX
1  DISP      1       11(  5)      0.000000E+00   6.000000E-01  -4.039584E-03   4.200000E-01   4.327041E-03   1.850000E-01
0.000000E+00   6.000000E-01  -4.039584E-03   4.200000E-01   4.327041E-03   1.850000E-01&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Remarks424
Main Index
Figure 10-3  Partial Output from Frequency Response Analysis (bd10bar8)
Figure 10-4  Partial Output from a Database Directory Run (bd10bar9)POINT-ID =        11
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(MAGNITUDE/PHASE)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0.0              G      1.906914E-15   5.344224E-16   4.089051E-04   0.0            2.044525E-04   5.763767E-15
180.0000       180.0000         0.0            0.0          180.0000       180.0000
5.000000E-01     G      2.017782E-15   5.676515E-16   4.327695E-04   0.0            2.154499E-04   6.100925E-15
179.4355       179.4089       359.4349         0.0          179.4725       179.4328
2.073000E+00     G      3.901148E-14   8.436090E-15   8.402392E-03   0.0            3.875251E-03   1.167835E-13
123.5868        98.5582       303.5746         0.0          123.7787       122.7733
2.087000E+00     G      4.417046E-14   9.296475E-15   9.514233E-03   0.0            4.382797E-03   1.323076E-13
108.1114        89.8882       288.0990         0.0          108.3053       107.5244
2.100632E+00     G      4.612975E-14   9.812769E-15   9.936970E-03   0.0            4.572159E-03   1.383304E-13
90.0803        76.7938       270.0676         0.0           90.2761        89.6427
2.224000E+00     G      1.434210E-14   3.595956E-15   3.091593E-03   0.0            1.406759E-03   4.331211E-14
19.3916        17.3197       199.3766         0.0           19.6055        19.3040
2.347000E+00     G      7.249022E-15   1.926738E-15   1.563781E-03   0.0            7.030737E-04   2.195193E-14
10.2994         9.4297       190.2818         0.0           10.5329        10.2551
9.950000E+01     G      4.810872E-18   4.064172E-19   4.350609E-07   0.0            6.019894E-07   5.027250E-18
181.2857       293.2593       187.6541         0.0          144.7264       333.6623
1.000000E+02     G      4.755274E-18   4.680135E-19   4.165692E-07   0.0            6.826717E-07   5.581692E-18
181.2771       302.8268       188.1974         0.0          148.2450       335.0572&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                          X Y - O U T P U T  S U M M A R Y  ( R E S P O N S E )
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SUBCASE  CURVE FRAME    CURVE ID./       XMIN-FRAME/    XMAX-FRAME/    YMIN-FRAME/      X FOR        YMAX-FRAME/      X FOR
ID     TYPE   NO.  PANEL  : GRID ID     ALL DATA       ALL DATA       ALL DATA       YMIN           ALL DATA       YMAX
1  DISP      1       11(  5,&amp;ndash;)   1.000000E-01   1.000000E+02   2.536850E-07   6.250000E+01   9.936970E-03   2.100632E+00
0.000000E+00   1.000000E+02   2.536850E-07   6.250000E+01   9.936970E-03   2.100632E+00
1  DISP      1       11(&amp;ndash;, 11)   1.000000E-01   1.000000E+02   1.815511E+02   5.500000E+00   3.594349E+02   5.000000E-01
0.000000E+00   1.000000E+02   0.000000E+00   0.000000E+00   3.594349E+02   5.000000E-01
N A S T R A N    F I L E    A N D    S Y S T E M    P A R A M E T E R    E C H O                                        &lt;br&gt;
P R O J E C T   V E R S I O N   D I R E C T O R Y   P R I N T
PROJECT_ID                                  ASSIGNED INT. VALUE    VERSION_ID    CREATION TIME
&amp;mdash;&amp;mdash;&amp;mdash;-                                  &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-    &amp;mdash;&amp;mdash;&amp;mdash;-    &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
&amp;quot; B L A N K &amp;quot;                                            1         **       1     5/28/10   14:14.35
**       2     5/28/10   14:14.47
3     5/28/10   14:14.57
**       4     5/28/10   14:15.16
5     5/28/10   14:15.26
6     5/28/10   14:15.34&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Analysis User’s Guide
Chapter 11: Coupled Fluid-Structure Analysis
11Coupled Fluid-Structure
Analysis
Overview
Modeling
Basic Fluid Equations
Axisymmetric Hydroelastic Analysis
Virtual Fluid Mass
Coupled and Uncoupled Acoustic Analysis
Weakly Coupled Acoustics
Frequency Dependent Analysis with ACTRAN Trimmed Material and/or Acoustic
Pressure Load Matrices
Poro-Elastic Material (PEM)
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics
Nastran PEM Solution Enhancements
Exterior Acoustics
BW Method of Fluid-Structure Analysis
Direct Input of Interface [A] Matrix
Acoustic Modal Participation Factors
Acoustic XY Plots, Random, and Restarts
Acoustic Source Change&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 426
Main Index
Rigid Porous Absorber
Equivalent Radiated Power (ERP)
Peakout support for ERP
Normal Velocity
Vibration Intensity
ACLOAD and PEM Interpolation
Real Coupled Modes
Acceleration Method 1
External Superelements with CMS from Real Coupled Modes
Compute Element Sensitivity based on Frequency Response Function and Element
Matrix
Output Particle Acceleration on Wetted Surface&lt;/p&gt;
&lt;p&gt;427 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Overview
Four major methods are available in MSC Nastran to model fluid effects.  These methods are described
below.
Axisymmetric Hydroelastic Analysis
Small motions of compressible or incompressible fluids coupled to a structure may be analyzed with this
option.  The fluid is modeled with axisymmetric hydroelastic elements (CFLUIDi), which may be connected
to an arbitrary structure modeled with an axisymmetric wetted surface.  Each fluid point (RINGFL) on a
cross section defines the scalar pressure, which is expanded to a Fourier series around the circumference.
Normal modes, complex modes and frequency response solutions are available for the coupled fluid -structure
problems. All solutions may include gravity effects (i.e., sloshing) on a free surface.  This capability was
developed specifically to analyze liquid -fueled booster rockets but may also be useful for problems involving
other types of axisymmetric storage tanks.
Virtual Fluid Mass
Small motions of incompressible fluids may be coupled directly to the structure with this option.  Fluids may
be coupled to the interior and exterior surfaces (with infinite fluid boundaries).  There is no explicit fluid
model; only the wetted structural elements (ELIST) have to be defined.  Although free surfaces are allowed,
no gravity effects are included directly.  Since the fluid is represented by a coupled mass matrix attached
directly to the structural points, this capability is allowed in all dynamic solution sequences.  This capability
may be used to model a wide variety of fluid -structure interaction problems.  Some examples are fuel tanks,
nuclear fluid containers, drilling platforms, and underwater devices.
Coupled and Uncoupled Acoustics
You may analyze the dynamics of compressible fluids contained within arbitrarily shaped structures with the
coupled fluid -structure method.  You would model a three-dimensional fluid with conventional solid
elements (CHEXA, etc.) using acoustic property and material data.  Each grid point in the fluid defines the
pressure at its location as its degree of freedom.  The fluid is automatically connected to the structure via the
geometry and ACMODL Bulk Data inputs.  You can connect acoustic absorber elements (CHACAB) to the
structural surfaces to simulate soundproofing material.  In addition, the CAABSF element is now available.&lt;br&gt;
This element acts as a thin layer of acoustic absorbing material along the fluid -structure interface. Acoustics
has introduced several features, which are parallel to those available for structural analysis, such as direct
damping, modal damping and the ability to control the modes in a response analysis through the use of
parameter.  You can define panels to provide integrated response data.  Effects of gravity, large motions, and
static pressures are ignored.  Complex eigenvalues, frequency response, and transient response are the
available solution sequences.  Design sensitivity and optimization processes may reference the acoustic
outputs as responses with appropriate design constraints.  Applications for the coupled fluid-structure option
are automotive and truck interiors, aircraft cabins, and acoustic devices, such as loudspeakers and
microphones.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview428
Main Index
Several methods are available in MSC Nastran for the analysis of normal modes of compressible fluids
bounded by rigid containers and/or free surfaces.  One method is the “acoustic cavity” capability, which uses
two-dimensional slot elements and axisymmetric ring elements to define the fluid region.  This method was
specifically developed for the acoustic analysis of solid rocket motor cavities.  A better method is to use the
three -dimensional fluid elements for the “coupled acoustics” described above and provide the appropriate
boundary conditions.
External Acoustics
With exterior acoustic problems, the acoustic domain is unbounded. The analysis studies the sound pressure
in the vicinity of the vibrating body or far away from the body. A further important result is the acoustic
power radiated from the vibrating structure. A typical example is the determination of the radiated acoustic
power of an engine.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P23</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_023/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_023/</guid>
      <description>
        
        
        &lt;p&gt;429 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Modeling
The fluid may be modeled with existing three-dimensional elements: CHEXA, CPENTA, and CTETRA.
These elements can assume the properties of irrotational and compressible fluids suitable for acoustic analysis
or other types of analyses governed by the three-dimensional wave equation. In addition, two elements are
available for acoustic analysis, the barrier and absorber. The absorber and barrier elements may be used to
analyze acoustic noise control devices.
The interface between the fluid and the structure may be modeled so that the grid points of the fluid are
coincident with those of the structure. This is called a matching mesh . If not, then it is called a non matching
mesh . In either case and by default, coupling for the stiffness and mass is automatically computed. If coupling
is not desired, then insert ASCOUP =NO on the FLSTCNT Case Control command.
Coupled fluid-structural analysis is available in the dynamic solution sequences using the Direct Method
(SOLs 107 through 109 and 200 with ANALYSIS = DFREQ), and the Modal Method (SOLs 110 through
112 and 200 with ANALYSIS = MFREQ and ANALYSIS =MTRAN). It should be noted that in SOLutions
110 through 112 and 200, the normal modes are computed separately for fluid and structure parts of the
model; in other words, the uncoupled modes of the fluid and structure are used in the SDAMPING Case
Control command and the parameters G and W3 are applied to the structural portion of the model and the
SDAMPING(FLUID) Case Control command and the parameters GFL and W3FL are applied to the fluid
portion of the model. Design Sensitivities may be computed in SOL 200.
In SOLs 103 and 106 (PARAM,NMLOOP), normal modes are computed separately for the fluid and
structure portions of the model and then put together in the eigenvalue table and displacement printouts in
the .f06 file output. Note that while the fluid and structure eigenvalues and eigenvectors are printed together,
they are really independent of each other and not true combined eigenvalues. The combined normal modes
computed in SOL 103 may not be used in a restart into SOLs 110, 111, 112, or 200.
Fluid Model Definition
Fluid grid points are defined on the GRID Bulk Data entry by specifying a value of -1 for CD in field 7.
Fluid elements are defined on the CHEXA, CPENTA, and CTETRA Bulk Data entries. Also, on the
referenced PSOLID entry, the character value PFLUID must be specified for FCTN in field 8 and MID,
field 3, must reference a MAT10 material entry. The MAT10 entry defines the bulk modulus and the mass
density properties of the fluid.  If a PSOLlD entry defines fluid elements (FCTN = PFLUID), then lSOP ,
field 7, is defaulted to 1 (FULL), resulting in a full integration scheme.
Panel
It is sometimes useful to find the contribution of a set of grid points to the noise level in an acoustic cavity.
For example, in an automobile the entire roof assembly contributes significantly to the noise level inside the
passenger cabin; as such it is necessary to compute and minimize the contribution of this “panel”. A “panel”
may be defined with the PANEL  entry, which references a set of structural grid points listed on a SET1 Bulk
Data entry.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling430
Main Index
Acoustic Absorber
The acoustic absorber element is simulated by an assembly consisting of a mass attached to a spring and
damper which are in parallel. The element and its properties are defined by the CHACAB  and PACABS
entries, respectively. The element consists of 8 to 16 structural grid points defining two surfaces.
The PACABS entry references three TABLEDi entries which define the resistance, Y1; reactance, Y2; and the
confidence level, Y3 of the material. These properties are a function of frequency and are measured in the
Standing Wave T ube Test (ASTM Standard). This data is used to calculate the value of the mass, spring, and
damper used in the structural model that will emulate the behavior of the absorber material.
The last field on the PACABS entry defines the cutoff frequency which determines the extent of the data used
in the least square fit operations. This is needed because finite element analysis is not applicable to acoustic
analysis in the high frequency range. In fact, it is recommended that this methodology be restricted to
frequencies with wavelengths much larger than the absorber thickness. Nevertheless, the user may override
this cutoff frequency so that the experimental results of short wavelengths are used in the calculations.
Frequency Dependent Acoustic Absorber
The acoustic absorber element CAABSF  is an element connecting 1 to 4 fluid grids at the fluid-structure
interface. Its frequency dependent impedance is specified on the PAABSF entry.
Acoustic Barrier
The acoustic barrier element is synthesized with two masses sandwiching a spring. The element and its
properties are defined by the CHACBR  and PACBAR  entries, respectively. The element consists of 8 to 16
structural grid points defining two surfaces.
The PACBAR entry defines the mass-per-unit area of the backing and the septum, and the resonant
frequency of the barrier. The resonant frequency of the sandwich is defined as the frequency with the lowest
value of transmission loss (ASTM test). This frequency will be used to calculate the value of the spring used
in the structural model that will emulate the behavior of the barrier material.
Loading
Loads on fluid elements are, in most cases, analogous to enforced displacements on structural elements. The
types of loading available for fluid elements are:
1.Constant, frequency-dependent, or time-dependent enforced pressure at the grid points.
2.An acoustic source characterized by a volumetric flow rate and corresponding to a power spectral
density function.
Enforced Pressures
The Large Mass approach is used to define an enforced pressure. This is not recommended for enforcing
motion on more than one point.&lt;/p&gt;
&lt;p&gt;431 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Acoustic Source
An acoustic source is assumed to be a pulsating sphere in infinite space and is defined on the ACSRCE Bulk
Data entry. The ACSRCE entry is selected by the DLOAD Case Control command and contains the
material properties of the source and references a DAREA and TABLEDi entry. The TABLEDi entry defines
the power-versus-frequency curve characterizing the acoustic source. The ACSRCE  entry may also define a
delay time and phase angle which is useful whenever multiple sources are present.
Single-Point Constraints
Single-point constraints of the fluid (P = 0.0) may be enforced using the SPC entry or the PS field on the
GRID entry. However, only one degree of freedom per grid point may be constrained. This type of boundary
condition occurs at free  surfaces.
Fluid-Structure Interface
The fluid-structure interface is determined automatically by the program.
A matching interface is defined by entering IDENT in the INTER field of the ACMODL Bulk Data entry.
This also requires that coincident grid points be defined for the structure and fluid elements at the interface.
The wetted structural elements are determined by comparing grid point locations corresponding to structural
elements that are within a tolerance specified by NORMAL on the ACMODL entry. If no structural
elements are found, a warning message will be issued.
A nonmatching interface is defined by entering DIFF in the INTER field and either CP or BW in the
METHOD field on the ACMODL Bulk Data entry. For large complex models, it is recommended initially,
that the ACMODL not be used. “BW” requires an acoustic license.
Normal Modes Analysis
Since the fluid portion of the model may resonate within a different frequency range than the structural
portion, it is possible to specify a different eigenvalue extraction method for each in the residual structure
only.  In modal analysis (SOLs 110 through 112 and 200), this is achieved by the specification of a keyword
on the METHOD Case Control command. The METHOD(FLUID)  command references the ElGR or
ElGRL entry to be used for the fluid portion; METHOD(STRUCTURE)  references the same entries for the
structural portion. Either one or both may be specified in the Case Control Section. The default is
STRUCTURE.
Superelement Analysis
Fluid-structure models may be defined using superelements with the following restrictions:
1.Superelement can be used in conjunction with residual structures in fluid-structure interaction
analysis / acoustic analysis, with the following restrictions:
a.If the superelement contains both structural and fluid degrees-of-freedom (dof), then the residual
structure can only have either structural dof or fluid dof - it cannot have both.
b.Similarly, if the residual structure has both structural and fluid dof, then the superelement should
only have either structural dof or fluid dof - it cannot have both.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modeling432
Main Index
2.The grid points at the fluid-structure interface may be assigned to the residual structure only.
This requires the specification of q-set points using the SEQSETi and ElGR or ElGRL Bulk Data entries and
the METHOD Case Control command.
Case Control, Output, and Plotting
If eigenvalue analysis is desired, METHOD(STRUCT) and METHOD(FLUID) are required in case
control.
Fluid-structure superelement and frequency selection can be accomplished by the FLSFSEL command.
Fluid-structure symmetry, coupling, and force selection can be accomplished by the FLSTCNT command.
Fluid-structure mode participation output requests can be accomplished by the FLSPOUT command.
The DISPLACEMENT or PRESSURE  Case Control command is used to request:
1.Pressure and peak sound pressure levels at the fluid points.
2.RMS sound pressure level is requested by the ACOUT=RMS on the FLSTCNT command. This
output is available in Modal and Direct Frequency Response analysis only (SOLs 111, 108, and 200).
3.Sound pressure level in dB and dBA  — a peak reference pressure must be specified by the PREFDB
on the FLSTCNT command. The dB level is defined as dB = 20 log(P/PREFDB) (for air PREFDB
= Pascal).
In SOLutions 110, 111, 112, and 200, the SVECTOR, SDISPLACEMENT , SVELOCITY,
SACCELERATION Case Control commands result in separate output for the fluid and structural portion
of the model. The first output is for the structural grid points and the second for the fluid grid points.
Particle velocity is requested with the FORCE Case Control command.&lt;/p&gt;
&lt;p&gt;433 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Basic Fluid Equations
This section collects up the various acoustic equations used in MSC Nastran.
In MSC Nastran, the current acoustic equations are based on small motion theory with negligible convective
momentum terms and locally linear pressure-density relationship. Thus Euler’s equation is:
and the Continuity equation is
with the compressibility  defined as
Take the second time derivative of continuity to get
and operate on Euler’s equation with the del operator to get
or
integrate this equation over the fluid volume and multiply by a virtual pressure  to get the integral
This represents the virtual work expression for acoustic pressure. Integrating the second term by parts using
Green’s theorem and the identities:u··
f1
f&amp;mdash;-p –=
puf –=

 c2f=
u··
f1
&amp;mdash;p··–=
u··
f1
f&amp;mdash;-–=p
1
&amp;mdash;p··1
f&amp;mdash;-–p 0=
p
1
&amp;mdash;p··1
f&amp;mdash;-–p Vpd
V0=
=+
p=
p=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Basic Fluid Equations434
Main Index
we get
The trick is to factor out the  operator from each integral. The first term in the above equation, however,
contains  which prevents a simple factoring out of p. Thus no simple variational statement is directly
possible. Because of this, it is standard practice at this point to apply the Galerkin method. This is equivalent
to assuming that  but not  is subject to variation. This allows us to simply factor out the p from the
integral containing . Doing this and also defining  as the acceleration of the fluid in the direction of
the outward fluid normal, we obtain for the integral:
and the variational statement becomes
Let the fluid pressure p at any point be defined as
and
where  is the row matrix of pressure shape functions and {p} is a vector of nodal pressures.  The
expression for  can be expressed as:pp =
pp2p =p
1
&amp;mdash;p··pVd
V1
2f&amp;mdash;&amp;mdash;&amp;ndash;p
V+ pdV1
f&amp;mdash;-p
S– dSp 0=
p··
p p··
p·· u··nof
1
&amp;mdash;pp··1
2f&amp;mdash;&amp;mdash;&amp;ndash;p + p Vd
V= u··nofpSd
S+
 0=
p Nfp =
p·· Nfp·· =
Nf

 p1
&amp;mdash;NfNfVp·· d
V=
p1
2f&amp;mdash;&amp;mdash;&amp;ndash;NfNfVp d +
p Nfu··nofSd
S+&lt;/p&gt;
&lt;p&gt;435 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
If  is the fluid outward normal at the fluid-structure and  is the structure boundary normal pointing
into the fluid, then  and the surface integral can be written as
where  is the normal acceleration of the structure.
If  is the direction cosine matrix for  and  is the matrix of shape functions for the structure, we
can define
where  is the matrix of nodal accelerations at the boundary and  is the row matrix of shape
functions for the structural normal.
We may then compute  and define the following integrals:
and arrive at the relationship
(11-1)
MSC Nastran allows for the effect of acoustic source density, which represents a term Q on the right-hand
side of the continuity equation.  When included into the virtual work expression, this will yield an acoustic
load  on the right -hand side of equation (11-1).  Also, MSC Nastran allows for frequency dependent
wall impedance  at the structure-fluid . Thus, equation (11-1) becomes:n0 n
n0 n–=
p Nfu··n0fSd
Sp Nfu··nsSd
S–=
u··ns
C n Ns
u··nsCNsu··s =
Nsu··s =
u··s Ns
p Nfu··nsSd
S– p NfNsSu··s d
S–=

Mf1
&amp;mdash;NfNfVd
V=
Kf1
f&amp;mdash;-NfNfVd
V=
AT NfNsSd
S=
Mfp·· Kfp ATu··s – + 0=
Pf
z pu·f= Bfp·&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Basic Fluid Equations436
Main Index
The fluid pressure on the structure boundary causes surface tractions on the structure represented by the
standard relationship
But, the traction  is related to the fluid pressure by the relation
or
The structure equations can now be written as:
The fluid and structure equations can now be combined as
(11-2)
This is the fluid structure equation solved in MSC Nastran. Note that this equation is nonsymmetric. By
default, MSC Nastran solves a symmetric version of this equation developed by Everstine as follows:
Let the velocity potential q be defined as
and note the following:Mfp·· Bfp· Kfp ATu··s – + + Pf =
Fs NsTSd
S=

 pC –=
Fs NsTCpSd
S–=
NsNfSp d
S–=
Ap –=
Msu··s Bsu·s Ksus + + Ps = Ap –
Ms0
A–TMfu··s
p·· Bs0
0Bfu·s
p· KsA
0Kfus
p+ +Ps
Pf=
p q·=&lt;/p&gt;
&lt;p&gt;437 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
and define G as
(11-3)
Substitute  for  in the structure equation and for the fluid equation replace the vector terms with their
derivative equivalents. Then multiplying the fluid equation by -1 and integrating with respect to time and
recombing, we get the symmetric equation
(11-4)
The output from the solution is, however, expressed in terms of  and .
In the frequency domain, we assume a harmonic function of the form  as a solution. Then the
load integral becomes . The pressure is recovered from the relationship
.u··sdu·s
dt&amp;mdash;&amp;mdash;&amp;ndash; =
p··dp·
dt&amp;mdash;&amp;mdash;=
p· dp
dt&amp;mdash;&amp;mdash;=
pdq
dt&amp;mdash;&amp;mdash;=
G Pfd
0t
–=
q· p
Ms0
0Mf–u··s
q··BsA
ATBf–u·s
q· Ks0
0Kf–us
q+ +Ps
G=
usp
q Q0eit=
G0eitdG0ieit =
p iq =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis438
Main Index
Axisymmetric Hydroelastic Analysis
MSC Nastran’s axisymmetric hydroelastic capability allows the user to solve a variety of fluid problems with
small motion, compressibility, and gravity effects.  A complete derivation of the MSC Nastran model and an
explanation of the assumptions are given in The NASTRAN Theoretical Manual, Section 16.1.  The input
data and the solution logic have many similarities to those for a structural model.  The standard normal
modes analysis, transient analysis, complex eigenvalue analysis, and frequency response solutions are available
with minor restrictions.  The differences between a fluid model and an ordinary structural model are due to
the physical properties of a fluid.  The characteristics of an axisymmetric fluid model are summarized as
follows:
1.The independent degrees -of-freedom for a fluid are the Fourier coefficients  of the pressure function
(i.e., harmonic pressure) at fluid points in a cylindrical or spherical coordinate system.  The locations
of these points are on the r -z plane.
2.Much like the structural model, the fluid data will produce “stiffness” and “mass” matrices.  Because
they now relate pressures and flow instead of displacement and force, their physical meaning is quite
different.  The user may not apply loads, constraints, sequencing, or omitted coordinates directly on
the fluid points involved.  Instead, the user supplies information related to the boundaries and MSC
Nastran internally generates the correct constraints, sequencing, and matrix terms.  Indirect methods,
however, are available to the user for utilizing the internally generated points as normal grid or scalar
points.  See Hydroelastic Data Processing  for the identification code.
3.When a physical structure is to be connected to the fluid, the user supplies a list of fluid points on a
plane and a related list of special structural grid points on the circles corresponding to the fluid parts.&lt;br&gt;
Unsymmetric matrix terms define the actual physical relations.  A special provision is included in
MSC Nastran in the event that the structure has planes of symmetry.  The user may, if so desired,
define only a section of the boundary and solve the problem with symmetric or antisymmetric
constraints.  The fluid -structure interface will take the missing sections of structural boundary into
account.
4.Because of the special nature of fluid problems, some user convenience options are absent.  The fluid
elements and harmonic pressures are not available in the structural plots.  Plotting the harmonic
pressures versus frequency or time may not be directly requested.  Because mass matrix terms are
automatically generated if compressibility or free surface effects are present, the weight and C.G.
calculations with fluid elements present may not be correct and should be avoided.  Also, the inertia
relief rigid format uses the mass matrix to produce internal loads, and if fluids are included, these
special fluid terms in the mass matrix may produce erroneous results.
5.The general acoustic capability in MSC Nastran, described in Coupled and Uncoupled Acoustic Analysis ,
shares the same small -motion pressure formulation and also produces asymmetric matrices.  For more
generality, the acoustic fluid model is defined by three -dimensional HEXA and PENTA elements and
the structural boundary is defined with conventional GRID points.  Although it lacks an option for
gravity waves on the free surface, it can replace the axisymmetric hydroelastic modeling for most
problems.
In spite of the numerous differences between a structural model and a fluid model, the similarities allow the
user to formulate a problem with a minimum of data preparation and obtain efficient solutions to large -order
problems.  The similarities of the fluid model to the structural model are as follows:&lt;/p&gt;
&lt;p&gt;439 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
1.The fluid is described by points in space and finite element connections.  The locations of the
axisymmetric fluid points are described by rings (RINGFL) about a polar axis and defined by their
r-z coordinates.  The rings are connected by elements (CFLUIDi) which have the properties of
density and bulk modulus of compressibility.  Each fluid ring produces, internally, a series of scalar
points pn and pn* (i.e., harmonic pressures), describing the pressure function, P(), in the equation
where the set of harmonics 0, n and n* are selected by the user. If the user desires the output of
pressure at specific points on the circular ring, he may specify them as pressure points (PRESPT) by
giving a point number and an angle on a specified fluid ring. The output data will have the values of
pressure at the angle  given in the above equation. The output of free surface displacements normal
to the surface (FREEPT) are also available at specified angles, . The Case Control command
AXISYM = FLUID is necessary when any harmonic fluid degrees -of-freedom are included. This
command may not be used when F = NONE on the AXIF Bulk Data entry (no harmonics specified).
2.The input file may include all existing options except the axisymmetric structural element data. All
existing Case Control options may be included with some additional fluid Case Control requests. All
structural element and constraint data may be used but not connected to RlNGFL, PRESPT , or
FREEPT fluid points. The structure -fluid boundary is defined with the aid of special grid points
(GRIDB) that may be used for any purpose that a structural grid point is currently used.
3.The output data options for the structural part of a hydroelastic model are unchanged from the
existing options.  The output values of the fluid will be produced in the same form as the
displacement vectors but with format modifications for the harmonic data.
•Pressures and free surface displacements, and their velocities and accelerations, may be printed
with the same request (the Case Control command PRESSURE  = SET is equivalent to DlSP =
SET) as structural displacements, velocities, and accelerations.
•Structural plots are restricted to GRID and GRIDB points and any elements connected to them.
•X-Y plot and Random Analysis capabilities are available for FREEPT and PRESPT points if they
are treated as scalar points.
•The RINGFL point identification numbers may not be used in any plot request; instead, the
special internally generated points used for harmonics may be requested in the X -Y plots and
random analysis.  (See Hydroelastic Data Processing  for the identification number code.)
•No element stress or force data is produced for the fluid elements.
•As in the case of the axisymmetric conical shell problem, the Case Control command HARMONICS
(Case)  = N is used to select output data up to the Nth harmonic.
Input Data
Several special Bulk Data entries are required for fluid analysis problems.  These entries are compatible with
structural entries.  A brief description of the uses for each Bulk Data entry follows:
AXIFP P0pnn cos
n1=N
pn* n 0N100 sin
n1=N
+ + =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis440
Main Index
AXIF controls the formulation of the axisymmetric fluid problem.  It is a required entry if any of the
subsequent fluid -related entries are present.  The data references a fluid -related coordinate system to define
the axis of symmetry.  The gravity parameter is included on this entry rather than on the GRAV entry because
the direction of gravity must be parallel to the axis of symmetry.  The values of density and elastic bulk
modulus are conveniences in the event that these properties are constant throughout the fluid.  A list of
harmonics and the request for the nonsymmetric (sine) coefficients are included on this entry to allow the
user to select any of the harmonics without producing extra matrix terms for the missing harmonics.  A
change in this list, however, will require a RESTART at the beginning of the problem.
RINGFL
The geometry of the fluid model about the axis of symmetry is defined with RINGFL entries.  The RINGFL
data entries serve somewhat the same function for the fluid as the GRID entries serve in the structural model.&lt;br&gt;
In fact, each RINGFL entry will produce, internally, a special grid point for each of the various harmonics
selected on the AXIF data entry.  They may not, however, be connected directly to structural elements (see
the GRIDB and BDYLlST entries).  No constraints may be applied directly to RINGFL fluid points.
CFLUIDi
CFLUIDi defines a volume of fluid bounded by the referenced RlNGFL points.  The volume is called an
element and logically serves the same purpose as a structural finite element.  The physical properties (density
and bulk modulus) of the fluid element may be defined on this entry if they are variables with respect to the
geometry.  If a property is not defined, the default value on the AXlF entry is assumed.  T wo connected circles
(RINGFL) must be used to define fluid elements adjacent to the axis of symmetry.  A choice of three or four
points is available in the remainder of the fluid.
GRIDB
GRIDB provides the same functions as the GRID entry for the definition of structural grid points.  It will be
attached to a particular RINGFL fluid point.  The particular purpose for this entry is to force the user to
place structural boundary points in exactly the same locations as the fluid points on the boundary.  The
format of GRIDB is identical to the format of GRID except that one additional field is used to identify the
RINGFL point.  The GRDSET entry, however, is not used for GRIDB data, and no superelement
partitioning is allowed.
GRIDB entries may be used without a fluid model.  This is convenient in case the user wishes to solve the
structural problem first and to add the fluid effects later without converting GRID entries to GRIDB entries.&lt;br&gt;
The referenced RINGFL point must still be included in a boundary list (BDYLIST; see below),
and the AXIF entry must always be present when GRIDB entries are used.  (The fluid effects are eliminated
by specifying no harmonics.)
FREEPT , PRESPT
FREEPT and PRESPT are used to define points on a free surface for displacement output and points in the
fluid for pressure output.  No constraints may be applied to these points.  Scalar elements and direct matrix
input data may be connected to these points, but the physical meaning of the elements will be different from
in the structural sense.
FSLIST , BDYFORC&lt;/p&gt;
&lt;p&gt;441 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
FSLIST and BDYLIST define the boundaries of the fluid with a complete freedom of choice.  The FSLIST
entry defines a list of fluid points which lie on a free surface.  The BDYLIST data make up a list of fluid
points to which structural GRIDB points are connected.  Points on the boundary of the fluid for which
BDYLlST or FSLIST data are not defined are assumed to be rigidly restrained from motion in a direction
normal to the surface.
With both of these lists, the sequence of the listed points determines the nature of the boundary.  The
following directions will aid the user in producing a list:
1.Draw the z -axis upward and the r-axis to the right.  Plot the locations of the fluid points on the
right-hand side of z.
2.If one imagines himself traveling along the free surface or boundary with the fluid on his right side,
the sequence of points encountered is used for the list.  If the surface or boundary touches the axis,
the word AXIS is placed in the list.  AXIS may be used only for the first and/or last point in the list.
3.The free surface must be consistent with static equilibrium.  With no gravity field, any free surface
consistent with axial symmetry is allowed.  With gravity, the free surface must be a plane
perpendicular to the z -axis of the fluid coordinate system.
4.Multiple free surface lists and boundary lists are allowed.  A fluid point may be included in any
number of lists.
Figure 11-1 illustrates a typical application of the free surface and structural boun dary lists.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis442
Main Index
Figure 11-1  Examples of Boundary Lists
FLSYM
FLSYM allows the user an option to model a portion of the structure with planes of symmetry containing
the polar axis of the fluid. The first plane of symmetry is assumed at  = 0.0 and the second plane of
symmetry is assumed at  = 360/M where M is an integer specified on the entry. Also specified are the types
of symmetry for each plane, symmetric (S) or antisymmetric (A). The user must also supply the relevant
constraint data for the structure. The solution is performed correctly only for those harmonic coefficients that
are compatible with the symmetry conditions, as illustrated in the following example for quarter symmetry,
M=4.FLUIDStructure
Boundary
List #2Free Surface ListAxis of
Symmetry
Structure
Boundary
List #1
FSLIST:  36, 37, 38, 39, 40
BDYLIST #1:  AXIS, 22, 23, 29, 36
BDYLIST #2:  40, 35, 28, 21, 14, 7, 6, 5, 4, 3, 2, 1, AXIS1 2 3 4 5 6222936
2337 38 3940
35
28
21
14
7&lt;/p&gt;
&lt;p&gt;443 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
DMIAX&lt;br&gt;
DMIAX is used for special purposes such as the specification of surface friction effects.  DMIAX is equivalent
to DMIG except harmonic numbers are specified for the degrees -of-freedom.  A matrix may be defined with
either DMIG or DMlAX entries, but not with both.
Solution Sequences
Restrictions
The characteristics of the fluid analysis problems which cause restrictions on the type of solution are as
follows:
1.The fluid -structure interface is mathematically described by a set of asymmetric matrices.  Since most
solution sequences are restricted to the use of symmetric matrices, the fluid -structure boundary is
ignored.  Thus, for any of these solution sequences, MSC Nastran solves the problem for a fluid in a
rigid container with an optional free surface and an uncoupled elastic structure with no fluid present.
2.No means are provided for the direct input of applied loads on the fluid.  The only direct means of
exciting the fluid is through the structure -fluid boundary.  The fluid problem may be formulated in
any solution sequence.  However, only some will provide nontrivial solutions.
The suggested solution sequences for the axisymmetric fluid and the restrictions on each are described as
follows:
SOL 103 or 200 – Normal Modes Analysis
The modes of a fluid in a rigid container may be extracted with a conventional solution request.  Free surface
effects with or without gravity may be accounted for.  Any structure data in the section will be treated as a
disjoint problem.  (The structure may also produce normal modes.) Normalization of the eigenvectors using
the POINT option will cause a fatal error.
SOL 107 – Direct Complex Eigenvalue Analysis
If no damping or direct input matrices are added, the resulting complex roots will be purely imaginary
numbers whose values are the natural frequencies of the system.  The mode shape of the combination may
be normalized to the maximum quantity (harmonic pressure or structural displacement) or to a specified
structural point displacement.
SOL 108 or 200 – Direct Frequency and Random ResponseSeries Plane 1Plane 2
S A
Cosine S
A0,2,4,
none1,3,5,
none
Sine
(*)S
Anone
1,3,5,none
2,4,6,&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis444
Main Index
This solution may be used directly if the loads are applied only to the structural points.  The use of overall
structural damping (parameter g) is not recommended since the fluid matrices will be affected incorrectly.
SOL 109 – Direct T ransient Response
T ransient analysis may be performed directly on the fluid -structure system if the following rules apply:
1.Applied loads and initial conditions are given only to the structural points.
2.All quantities are measured relative to static equilibrium.  The initial values of the pressures are
assumed to be in equilibrium.
3.Overall structural damping (parameters  and ) must not be used.
SOLs 110, 111, 112, and 200 – Modal Formulation
Although these solution sequences may be used in a fluid dynamics problem, their practicality is limited.  The
modal coordinates used to formulate the dynamic matrices will be the normal modes of both the fluid and
the structure solved as uncoupled systems.  Even though the range of natural frequencies would be typically
very different for the fluid than for the structure, the program will select both sets of modes from a given fixed
frequency range.  The safest method with the present system is the extraction of all modes for both systems
with the T ridiagonalization Method.  This procedure, however, results in a dynamic system with large full
matrices.  The Direct Formulation is more efficient in such cases.  At present, the capability for fluid-structure
boundary coupling is not provided with the modal formulation.  However, the capability may be provided
by means of an alter using the same logic as in the direct formulations.
Hydroelastic Data Processing
The fluid -related Bulk Data entries are converted by the program into equivalent grid point, scalar point,
element connection, and constraint data entry images.  Each specified harmonic, , of the Fourier series
solution produces a complete set of special grid point and connection entry images.  In order to retain unique
identification numbers, the user identification numbers are encoded by the algorithm below:
RlNGFL Points
where:
CFLUIDi Connection Entries
where  is defined above for each harmonic .= cosine series
= sine series3g
N
Grid point ID User ring ID 1,000,000IN + =
INN1+
INN12+
Element ID User ring ID 1,000IN + =
INN&lt;/p&gt;
&lt;p&gt;445 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
For example, if the user requested all harmonics from zero to two, including the sine series, each RINGFL
entry will produce five special grid entries internally.  If the user’s identification number (in Field 2 of the
RINGFL Bulk Data entry) were 37, the internally generated grid points would have the following
identification numbers:
These equivalent grid points are resequenced automatically by MSC Nastran to be adjacent to the original
RlNGFL identification number.  A RINGFL point may not be resequenced by the user.
The output from matrix printout, table printout, and error messages will have the fluid point labeled in this
form.  If the user wishes, he may use these numbers as scalar points for Random Analysis, X -Y plotting, or
for any other purpose.
In addition to the multiple sets of points and connection entries, the program may also generate constraint
sets.  For example, if a free surface (FSLIST) is specified in a zero -gravity field, the pressures are constrained
to zero.  For this case, the internally generated set of single -point constraints are internally combined with
any user -defined structural constraints and will always be automatically selected.
If pressures at points in the fluid (PRESPT) or gravity -dependent normal displacements on the free surface
(FREEPT) are requested, the program will convert them to scalar points and create a set of multipoint
constraints with the scalar points as dependent variables.  The constraint set will be internally combined with
any user -defined sets and will be selected automatically.
The PRESPT and FREEPT scalar points may be used as normal scalar points for purposes such as plotting
versus frequency or time.  Although the FREEPT values are displacements, scalar elements connected to
them will have a different meaning than in the structural sense.
Sample Hydroelastic Model
Listing 11-1 contains a list of the input data for a sample hydroelastic problem. See
Install_dir//msc/mscxxxx /tpl6/ dynamics/bd11d107d2.dat. Figure 11-1 describes the problem and lists the
parameters.  The relatively small number of grid points were chosen for purposes of simplicity and not
accuracy.  The symbols for the fields in the hydroelastic data entries are placed above each group.  Structural
data entries are included in their standard forms.  The explanations for the data are given in the following
notes:
1.The AXISYM = FLUID entry is necessary to control the constraint set selections and the output
formats for a fluid problem.  It must appear above the subcase level.Harmonic ID
0 1,000,037
1* 1,500,037
1 2,000,037
2* 2,500,037
2 3,000,037&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis446
Main Index
2.DISPLACEMENT and PRESSURE Case Control commands are pseudonyms.  DISP = ALL
produces all structure displacements, all free surface displacements, and all fluid pressure values in the
output.  The HARMONICS control is a limit on the harmonic data and has the same function as in
an axisymmetrical conical shell problem.
3.The AXIF entry defines the existence of a hydroelastic problem.  It is used to define overall parameters
and control the harmonic degrees -of-freedom.
4.The RINGFL entries included define the five points on the fluid cross section.
5.The CFLUIDi entries are used to define the volume of the fluid as finite elements connected by the
RINGFL points.  Since parameters p and B are missing, the default values on the AXIF entry are used.
6.The FSLIST entry is used to define the free surface at z = 10.0.  The density factor  is placed on the
entry in this case.  If blank, the default value on the AXIF entry is used.
7.The fluid -structure boundary is defined on the BDYLIST entry.  The AXIF default density is used.
8.The GRIDB entries define the structure points on the fluid boundary.  Points 3 through 6 are
connected to fluid number 2 ring.  The rotation in the r direction (“4” in field 8) is constrained.
9.The fact that one -quarter symmetry was used for the structure requires the use of the FLSYM entry.&lt;br&gt;
Symmetric -antisymmetric boundaries indicate that only the cosine terms for the odd harmonics
interact with the structure.  If symmetric -symmetric boundary conditions were chosen on FLSYM,
only the even harmonics of the cosine series would interact with the structure.
10. The PRESPT entries define locations of pressure points in the fluid for pressure output.
11. The FREEPT entries define locations on the free surface for displacement output.
Listing 11-1  Sample Hydroelastic Problem
$ FLUID MASS DEMO
SOL 107
TIME 2
CEND&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TITLE = SAMPLE HYDROELASTlC PROBLEM
SUBTITLE = EIGENVALUE ANALYSIS WITH FLEXIBLE BOUNDARY
AXISYM = FLUID
SPC = 3
CMETHOD = 1
OUTPUT&lt;/li&gt;
&lt;li&gt;PRESS = ALL
HARMONICS = ALL
ELFORCE = ALL
BEGIN BULK
BULK DATA FIELD&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;447 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
3. $AXIF,CID,G,DRHO,DB,NOSYM
AXIF,2,32.2,0.03,,NO
$,N1,N2
1,3
CORD2C,2,,0.,0.,0.,0.,0.,1.0
1.0,0.,0.
4. $RINGFL,IDF,Xl,X2,X3,IDF,X1,X2,X3
RINGFL,1,4.0,,10.0,2,8.0,,10.0
RINGFL,7,4.0,,5.0,8,8.0,,5.0
RINGFL,13,4.0,,0.0
5. $CFLUID,EID,IDF1,IDF2,IDF3,IDF4,RHO,B
CFLUID2,101,1,7
CLFUID2,102,7,13
CFLUID3,103,7,8,13
CFLUID4,104,1,2,7,8
6. $FSLIST,RHO,IDF1,IDF2,IDF3
FSLIST,0.03,AXIS,1,2
7. $BDYLIST,RHO,IDF1,IDF2,IDF3
BDYLIST,,2,8,13Listing 11-1  Sample Hydroelastic Problem  (continued)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis448
Main Index
8. $GRIDB,ID,,,PHI,,CD,PS,IDF
GRIDB,3,,,0.0,,2,4,2
GRIDB,4,,,30.0,,2,4,2
GRIDB,5,,,60.0,,2,4,2
GRIDB,6,,,90.0,,2,4,2
GRIDB,9,,,0.0,,2,,8
GRIDB,10,,,30.0,,2,,8
GRIDB,11,,,60.0,,2,,8
GRIDB,12,,,90.0,,2,,8
GRIDB,14,,,0.0,,2,,13
GRIDB,15,,,30.0,,2,,13
GRIDB,16,,,60.0,,2,,13
GRIDB,17,,,90.0,,2,,13
CQUAD4,10,11,3,9,10,4
CQUAD4,11,11,4,10,11,5
CQUAD4,12,11,5,11,12,6
CQUAD4,13,11,9,14,15,10
CQUAD4,14,11,10,15,16,11
CQUAD4,15,11,11,16,17,12
PSHELL,11,12,0.5
MAT1,12,10.6+6,,0.3,0.05
SPC1,3,246,3,9,14
SPC1,3,135,6,12,17
SPC1,3,135,14,15,16
9. $FLSYM,M,S1,S2
FLSYM,4,S,AListing 11-1  Sample Hydroelastic Problem  (continued)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P24</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_024/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_024/</guid>
      <description>
        
        
        &lt;p&gt;449 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
10. $PRESPT,IDF,,IDP,PHI,IDP,PHI,IDP,PHI
PRESPT,7,,27,30.,28,60.
PRESPT,8,,30,30.,31,60.
PRESPT,13,,33,30.,34,60.
11. $FREEPT,IDF,,IDP,PHI,IDP,PHI,IDP,PHI
FREEPT,1,,40,15.,41,30.,42,45.
FREEPT,1,,43,60.,44,75.
FREEPT,2,,45,15.,46,30.,47,45.
FREEPT,2,,48,60.,49,75.
EIGC,1,INV,MAX
0.,0.,0.,5.,3.,2,2
ENDDATAListing 11-1  Sample Hydroelastic Problem  (continued)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Axisymmetric Hydroelastic Analysis450
Main Index
Figure 11-2  Sample Hydroelastic Problem7 8 910 11 126 5 4 3 2 1
17 16 15 141317
16
15
14 9 310 411 512 6
SymmetricAnti-
symmetric
Free Surface
Fluid
Points
Structure
Points
Fixedr4.0 4.0
5.0
5.0
Fluid: Density p = 0.03
Bulk Modulus B = 1
Gravity g = 32.2Structure: Thickness t = 0.5
Density r = 0.05&lt;/p&gt;
&lt;p&gt;451 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Virtual Fluid Mass
A virtual fluid volume produces a mass matrix which represents the fluid coupled to a boundary consisting
of structural elements and other effects, such as free surfaces, planes of symmetry, and infinite fluids.  The
incompressible fluid produces a mass matrix defined with full coupling between accelerations and pressures
on the flexible structural interfaces.  For each requested volume, the boundaries may be combinations of the
following:
1.Structural finite element faces, with one or two wetted sides.
2.Free surfaces with zero pressure, but no sloshing effects.
3.Planes of symmetry with symmetric or antisymmetric motion.
4.Infinite boundaries, by default, on nonclosed volumes.
The virtual mass method is well suited for the following problem types:
1.An infinite fluid surrounding part of a structure.
2.A fluid with a free surface contained within a flexible structure.
3.Multiple fluid volumes with combinations of the options above such as a half of a ship floating in
water with several internal tanks, each with free surfaces and symmetric boundaries.
Note that compressibility and surface gravity effects are neglected.  It is assumed that the important frequency
range for the structural modes is above the gravity sloshing frequencies and below the compressible acoustic
frequencies.  It is further assumed that the density within a volume is constant and no viscous (rotational
flow) or aerodynamic (high velocity) effects are present.  In other words, a ship traveling at a high rate
through a thick oil patch would require some extra modeling effort.
User Interface
The user interface for a virtual fluid mass analysis is simple and straightforward.  The sketch below illustrates
some of the features.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Virtual Fluid Mass452
Main Index
Figure 11-3  Virtual Mass Terminology
1.The fluid/structure interface is defined with ELIST Bulk Data, which specify a set of wetted TRIA3
and QUAD4 elements that define the structural portion of the fluid boundary.
2.Each fluid volume is defined on an MFLUID  Bulk Data input, which defines the fluid density, the
ELISTs, and other boundaries.
3.A set of MFLUID volumes are requested in the case control request MFLUID  = SID.
4.If pressure outputs are desired they will be printed if the case control request MPRES (Case)  = is used
to define a set of elements.  The elements must also be active in an ELIST/MFLUID volume.
An example set of input data for a small problem is shown below :
Case Control
MFLUID = 25
MPRES= ALL
etc.
Bulk Data
1      ,2      ,3      ,4      ,5      ,6      ,7      ,8      ,9      ,10
$MFLUID, SID   , CID   , ZFS   , RHO   , ELIST1, ELIST2, PLANE1, PLANE2
MFLUID , 25 , 0 , 115.4, .0246, 255 , , S
$ELIST , ELID  ,E1     , E2    , E3    , etc.
ELIST , 255 , 1 , THRU , 25
ETC&amp;hellip;Fluid
Volume 2Fluid
Volume 1Free Surfaces
Element
List #2Element
List #1
StructureZ
XY&lt;/p&gt;
&lt;p&gt;453 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
In the input above we have defined a fluid volume with a free surface normal to the basic z direction.  The
xz plane (PLANE1) is a plane of symmetry and the density is 0.0246.  ELIST set 255 defines the positive
faces of elements in the range 1 through 25 (missing numbers are allowed) as the structural/fluid boundary.
The connected elements may be wetted on one or both sides by the same volume.  For instance a baffle plate
extends partially into a tank and have two sides in the same fluid volume.  If a plate completely separates the
two parts of the tank, it is recommended that a separate volume be used for each side.  Each side of an element
should be listed on a separate ELIST .
Special terms are calculated if enclosed fluid volumes do not have a free surface or a plane of anti -symmetry.&lt;br&gt;
Otherwise, the incompressible fluid would produce a spurious low frequency mode with a mode shape
corresponding to the volume change.  This mode will not affect the structural response, but it is eliminated.&lt;br&gt;
Because the free surface allows the fluid volume to expand, it does not have these problems.
A free surface  is defined as an x -y plane in any local rectangular coordinate system.  The user simply specifies
a value of z as the upper limit of the fluid volume.  Different fluid volumes may have different levels and
orientation.  It is not required that the surface coincide with the element properties since partially wetted
elements are allowed.
The virtual mass fluid option may be used in all MSC Nastran dynamics solutions  except SOLs 115 and 118 ,
including the following special approaches:
Superelements – (Residual Only )
Nonlinear Analysis – (SOL’s 129 and 400)
Optimization – (does not create sensitivity matrices.)
Theoretical Summary
The following is a brief overview of the virtual mass approach.  For more information, refer to the standard
references on boundary elements.
The Helmholtz method used by MSC Nastran solves Laplace’s Equation by distributing a set of sources over
the outer boundary, each producing a simple solution to the differential equation.  By matching the assumed
known boundary motions to the effective motion caused by the sources, we can solve a linear matrix equation
for the magnitude of the sources.  The values of the sources determine the effective pressures and, thereby,
the forces on the grid points.  Combining all of these steps into a matrix equation results in a virtual mass
matrix as derived below.
If  is the value of a point source of fluid (units are volume flow rate per area) located at location , and
is assumed acting over an area , the vector velocity  at any other point  is
(11-5)
where  is the unit vector in the direction from point  to point .  Note that the gradient of the vector
is the potential function which satisfies Laplace’s Equation on a term by term basis.jrj
Aju·iri
u·ijeij
rirj–2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-Ajd
Aj
j=
eijj i
u·i&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Virtual Fluid Mass454
Main Index
The other set of necessary equations are the pressures, , at any point, , in terms of the density, , sources
and geometry, namely
(11-6)
The results of integrating Eqs. (11-5) and (11-6) over the finite element surfaces are collected respectively in
two matrices,  and  where
(11-7)
and
(11-8)
where  are the forces at the grid points.  The matrix  is obtained by integrating Eq. (11-6).  An
additional area integration is necessary to convert the pressures to forces.  A mass matrix may now be defined
using Eqs. (11-7) and (11-8) as
(11-9)
where the virtual fluid mass matrix,  is
(11-10)
Singularities for Enclosed Volumes
Note that if  is singular or nearly singular, the mass matrix will cause problems with the coupled solution.&lt;br&gt;
The singularity is active when a set of nonzero sources can produce zero velocities on the structural surfaces.&lt;br&gt;
This occurs when the fluid is completely enclosed by the structure and with planes of only symmetric motion.&lt;br&gt;
Large pressures could occur within the fluid volume from an infinitesimal volume change on the
incompressible fluid.
An alternate calculation is performed when the  matrix is potentially singular.  See Remark 8 on the
MFUID Bulk Data description for the specific instances. An additional source, , is added near the center
of each MFLUID volume.  The expanded versions of Eqs. (11-7) and (11-8) are
(11-11)
(11-12)pii 
pi·
jeij
rirj–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-Ajd
Aj
j=

u· =
F· =
F 
F Mfu·· =
Mf
Mf1–=


s2
u·2s2+ =
F·2s2+ =&lt;/p&gt;
&lt;h1&gt;455 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
An additional equation provides that the sum of the squares of the ordinary sources in the vector,  is
minimized and a set of Lagrange multipliers,  are used to enforce Eq. (11-11) as constraints. The function,
, to be minimized is defined as
(11-13)
Taking the derivatives of  with respect to , , and , we obtain three sets of equations. Combining
them, we obtain the following matrix equation:
(11-14)
The vector  may be eliminated by solving the second row partition and substituting into the first row
partition of the matrix, with the result:
(11-15)
Equation (11-15) may be solved for  and , which are then used to obtain pressure.  To obtain the
pressure, we substitute for  in Eq. (11-12) to obtain the matrix equation
(11-16)
Equations (11-15) and (11-16) may then be combined into a single matrix defining the fluid, namely
(11-17)
where:
(11-18)
Note that the size of the matrix equation is only one term larger than the nonconstrained case. Although it
will be well behaved for the enclosed volume case, the overall incompressible constraint is lost.
Other methods to avoid the singular matrix are as follows:1

U
U1
2&amp;mdash;TTu·2s2– –  + =
U 1s2
02
TI–0
2T00

s2 u·
0
0&lt;/h1&gt;&lt;p&gt;
T2
2T0
s2 u·
0=
 s2

pT2·
s·2=
F Mfu·· =
MfT2T2
2T01–
I
0=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Virtual Fluid Mass456
Main Index
1.Put one or more small holes in the boundary by removing an element ID in an unimportant area from
the ELIST.  The fluid will then leak out to an infinite domain of fluid.
2.Define a free surface near the top of the container and modify the ELIST to remove elements above
the surface.
3.Constrain the structure to eliminate any net change to the enclosed volume.  In other words generate
an MPC equation such that
(11-19)
where  is a boundary grid point and  and  are the effective area and normal vector, respectively.  (This
is not an easy task.)
Fortunately, there are no problems in which free surfaces or planes of symmetry with antisymmetric motion
are present since the pressure must be zero on these boundaries.
Using Phantom Structural Boundaries
In many cases an ELIST boundary is desired where no CQUAD4 or CTRIA3 elements exist. Examples
occur:
When grid points connected by other element types, such as CHEXA, CSHEAR, CBEAMs,  form
the boundary.
When only a small hole connects two separate fluid volumes (since poor numerical conditioning
(less roundoff) is expected with a single MFLUID).
If the fluid contains two free surfaces due to entrapped air at a different pressure.
If the fluid volume is a complex labyrinth, such as a boiler made with many tubes.
The phantom boundary may be constructed from CTRIA3 and CQUAD4 elements which have zero or
nearly zero stiffness in the normal direction.  The PSHELL bending  thickness is used for this purpose.  The
membrane stiffness is optional.  If no other structural elements are present, a small stiffness is desired for both
directions to avoid automatic constraints.
Note that this method will couple only the fluid displacements in the normal direction. Edge/corner effects
and tangential motions will be approximate.
Gravity Effects
The free surfaces produced by the Virtual Fluid Mass option are simple planes of antisymmetric motion with
a null pressure assumed at the location of the free surface plane.  Effects such as fluid sloshing due to gravity
waves are assumed to be uncoupled from the higher frequency structural modes.
An approximation to the gravity effects for fluids with finite boundaries may be modeled using a phantom
boundary instead of a free surface.  Spread grid points and plate elements over the surface and constrain the
in-plane motions and rotations to zero.  Give the plates a small membrane thickness and no bending material
property.  Add scalar springs (CELASi) in the direction normal to the plane with stiffnesses, Ki, calculated
fromAini
iui 0=
i Aiui&lt;/p&gt;
&lt;p&gt;457 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
(11-20)
where Ai is the area under the point,  is the density, and g is the gravitational constant.  Note that these
springs will affect the rigid body motion of the whole system and this method should be used with caution.&lt;br&gt;
Another drawback is that the extra gravity boundary may result in a completely enclosed fluid volume.
Exam ples
The legal and illegal types of fluid boundaries are illustrated in Figure 11-4.  The categories are GOOD = legal
configuration, BAD = illegal boundary, and MAYBE = conditionally legal, which could be permitted if a
phantom boundary is used.KiAig =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Virtual Fluid Mass458
Main Index
Figure 11-4  Fluid CombinationsFsGOOD BAD MAYBE
AirAir
FsAirFs Fs
FsFs
Fluid Fluid
FsAir
FluidHoleInfinite
Fluid
Free
Surfaces
Internal
OnlyPB = Phantom
Boundary Between 2
FluidsAiFluid Fluid Fluid
PB
Fluid
FsFluid
PB
Fluid
FluidPB Fluid
Fluid Fluid&lt;/p&gt;
&lt;p&gt;459 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Coupled and Uncoupled Acoustic Analysis
Acoustic analysis in MSC Nastran is used to determine vibrations in structural cavities filled with fluid or air.&lt;br&gt;
The boundaries of the cavities may be defined as rigid, open, damped, or flexible as defined by constraints
and finite elements.  Typical applications are automobile or aircraft interiors, musical instruments,
loudspeaker boxes, and solid rocket motors.  Any type of problem that involves small, linear motions of the
fluid and structure may be a candidate.  The analyst may obtain natural frequencies and damping factors
along with mode shapes for both the structure and the coupled fluid.  Other solution sequences may be used
to obtain results for forced response in the frequency or time domain.
The analyst starts with the geometry of the the acoustic cavity boundary.  The interior fluid volume is
modeled in three dimensions with conventional MSC Nastran solid finite elements connected to a special
set of GRID points.  Boundary motions are included if the structure lies on the boundary, or fixed if no
structural elements are connected (by default).  The structural interface simply requires that finite elements
lay on the exterior fluid boundaries.  Note that coupled interactions between the fluid and structural model
are generated internally using the geometry definitions of the elements of the two models and require very
little user intervention.
Other types of boundaries that are available are free surfaces, acoustic barriers, and acoustic absorbers.  The
free boundary is modeled by simply constraining the fluid pressure degrees -of-freedom to zero.  The barrier
and absorber elements provide a spring/mass/damper system between the fluid and the structure.
Limitations
Very few limitations are placed on the analyst.  Small motion theory prohibits the use of the models in high
velocity flows (more than Mach 0.5) such as mufflers and jet engines.  Exterior fluids may be modeled with
extra effort by extending the fluid model out to a large distance and by providing a damped and/or
constrained exterior.  Surface sloshing effects caused by gravity such as those in fuel tanks can be modeled
with additional effort by simulating the gravity effects on the free surface with scalar springs.
Building the Models
The following steps are recommended for avoiding difficulties later.
1.Define the geometry and select the mesh sizes.
The first step in the modeling process is to estimate the overall FE mesh size and the level of detail
needed in the geometric approximations.  A set of three -dimensional elements and special fluid
GRID points (with CD = –1) are used to define the fluid while normal structural elements and points
define the container.  A rule of thumb for fluids is that six -elements -per-wave are acceptable for the
highest frequencies exciting the fluid.  For acoustics this usually translates into a corresponding coarse
mesh.  For incompressible fluids, the only waves occur due to gravity effects on the free surface.  For
heavy liquids, the mass effects are usually more important than with air, and the fluid FE mesh should
be modeled to match the structural mesh.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis460
Main Index
It is generally easier to build the three -dimensional fluid mesh first and then use the outer faces to
model the structure (which is usually modeled with plates).  Unfortunately, most engineers start with
the structure that has been used for another analysis and encounter difficulties when they attempt to
construct a three -dimensional FE model within the enclosure.  In most cases, the fluid model will
have a different number of points on opposite faces and the engineer cannot construct a simple,
matching mesh without having leftover points and lines.  In this case, he should proceed with a simple
fluid model and let MSC Nastran control the mismatched connections.
Although MSC Nastran is more efficient when the structural GRID points coincide with the fluid
boundaries, it will process misaligned meshes when the fluid faces are larger than the adjacent
structural elements.  The basic model interface definitions are defined on the ACMODL  Bulk Data
entry.  The user may define the sets of points on the interface and a tolerance to define the distance
allowed between a fluid surface element and a connected structural point.  This tolerance will be
important when several points are close together and only one is wetted by the fluid.
2.Building the Fluid Finite Element Model
Each GRID point that defines the fluid mesh will have one degree -of-freedom defining the pressure
at a point at a fixed location.  The fluid itself is modeled with existing three-dimensional connection
data (CHEXA, CPENTA, and CTETRA Bulk Data).  The existence of a fluid is defined on the
property data (Field 8 of the PSOLID Bulk Data) which also references the ID of the fluid material
properties (on a MAT10 Bulk Data entry).
User-input fluid coefficients are density, bulk modulus, and/or compressible wave speed.
Incompressible fluids are approximated by using a large bulk modulus or wave speed.  (A typical value
for incompressible fluid would be a wave length of 10 times the size of the structure.)  The integration
options on the PSOLID data should be full Gaussian Integration with no shear reduction scheme.
The higher -order elements (with midside nodes) will generally give better results than the basic linear
elements.  The CHEXA, CPENTA and CTETRA elements can be connected together without the
problems that occur in structural elements.  However, mixing high -order and low -order elements is
not recommended.
At this stage in the modeling process, it is advisable to set up the loading and desired output points
on the fluid.  Acoustic sources such as a small loudspeaker may be specified directly by scalar loading
functions (ACSRCE, SLOAD, DAREA, and/or RLOAD Bulk Data) without the need to model the
structural details.  The output displacement printout will actually be the scalar pressure values.
Guidelines on building the models are different for the fluid elements than for normal MSC structural
elements.  The lack of shear locking allows larger aspect ratios and more distorted shapes for
individual elements.  Unlike structures, the fluid CHEXA elements have no particular accuracy
advantages over the CTETRA and CPENTA elements.  However, in theory, fluid finite element
accuracies will be more sensitive to sharp corners and abrupt openings.  In these cases, a model should
be refined using smaller elements around the discontinuity.
3.Automatic Boundaries&lt;/p&gt;
&lt;p&gt;461 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Fluid boundaries may be fixed, flexible, or free. With no applied loads, the outer surfaces of the fluid
elements define a fixed, rigid boundary condition, approximating a normal pressure gradient of zero.&lt;br&gt;
However, if structural finite elements are attached, they will generate flow into the fluid and affect
the pressures.  The pressure degrees-of -freedom may be treated exactly like displacement DOFs, i.e.,
constraints may be necessary to fix the pressure of an open boundary to zero.  Also, they may be
constrained with SPC or MPC Bulk Data for various other reasons, such as symmetry.
If no structure is connected and the problem involves only fluid, then the effects of the boundary
flexibility may be ignored and the problem is greatly simplified.  A stand -alone fluid model may be
analyzed by any of the standard MSC Nastran solution sequences.  For instance, the natural
frequencies or resonances may be obtained from SOL 103 using symmetric real methods at greatly
reduced costs.
The user controls the structural interfaces with the ACMODL Bulk Data and the locations of the
boundary GRID points.  The input defaults are recommended that automatically prompt MSC
Nastran to search all elements for potential interfaces.  If only a set of fluid or structural points are
desired to be connected, the searching process can be restricted to user -selected points defined on a
SET1 Bulk Data entry.  When identical meshes are used, an MSC Nastran branch is also provided
to generate area factors more efficiently and accurately.
Problems may occur when plate elements are wetted on both sides by the fluid and a single structural
point must be connected to both sides.  The recommended method for this case is to use separate
fluid points for each side of the panel with no physical separation.  (The thickness is ignored.)  No
provision is made for other special cases such as flow through holes in the plates.  No surface friction,
surface tension, gravity, or other indirect boundary effects are calculated for the simple fluid -structure
interface.  Damping effects due to acoustic surface materials are described in the next section.
4.Absorbers , Barriers , and Panels
The acoustic absorber and barrier are used for advanced analysis when special boundary effects are
needed to model soundproofing materials on the structural surface or baffles within the fluid.
The absorber elements (CHACAB and PACABS Bulk Data ) are used to attenuate the reflections of
the acoustic waves when they encounter the structural boundary.  They are connected between the
structure and an additional set of displacement GRID points which serve as the actual fluid interface.&lt;br&gt;
They provide a simple tuned circuit with a mass on the point, and a spring and damper in parallel
connected to the structure.
The recommended procedure to implement the CHACAB elements is to move all of the fluid
boundary points a small distance away from the surface to avoid the automatic connections.  An
additional set of GRID points corresponding 1:1 with the structural points are placed on the new
fluid boundary to replace the structural points.  These absorber points are constrained to allow only
normal displacements and connected to the structure with CHACAB elements.  Note that the
damping factors are important in complex eigenvalue and frequency response analysis but will be
ignored in real eigenvalue analysis.
The barrier elements CHACBR are similar except that they provide masses on both sets of points and
have no damping matrix.  They may be used without structural elements to simulate heavy acoustic
baffling panels that have little stiffness in the frequency of interest.  Either side may be connected to
fluid boundaries or one side may be constrained.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis462
Main Index
The PANEL Bulk Data entry is a convenient method for combining sets of structural elements for
output purposes.
Setting Up MSC Nastran
A number of solution control parameters and commands may be used to guide the acoustic solutions.  These
are as follows:
Executive and Case Control
The solution sequences that currently support the 3 -D acoustic boundaries are SOLs 107 through
112.  These include both modal and direct formulations for transient and frequency response, as
well as complex eigenvalue analysis.  Superelement controls and restarts are automatic in these
solutions and no special data is needed for the acoustics.
The Case Control data should be set up as a normal dynamics solution.  A CMETHOD = request is
necessary to obtain coupled eigenvalues.  DLOAD and FREQ requests are necessary to analyze
forced response in the frequency domain.  DLOAD, IC, and TSTEP requests are necessary for
transient analysis.  The main concern here is to avoid costly runs caused by an excessive number of
time steps or frequencies.  Be aware that the asymmetric dynamic solution matrices with complex
terms used in this system may run several times longer per solution point than a corresponding
structural model.
Estimating Job Costs
Although the fluid GRID points will only add one degree -of-freedom per point to the model a
three -dimensional mesh in the fluid can be several times the size of the basic structural matrix.&lt;br&gt;
Furthermore the boundary coupling terms are asymmetric and probably damped causing more
numerical processing.  As a rough estimate, each matrix solve step will be 4X to 10X the cost of a
structural static solution. In direct frequency analysis each frequency requires a matrix
decomposition.  The complex eigenvalues will require approximately 2 to 5 solves.  The transient
solutions are dominated by vector operations which are several times faster per time step.  However,
most transient problems require many time steps for adequate accuracy.
Run Strategies
For large models, the superelement (SE) reduction methods are recommended to reduce the size of
the solution matrices.  The interior points of the fluid and the non -boundary structure grid points
may each be defined as a separate Tip SEs, which are reduced to a smaller solution size, while the
boundary points remain in the residual SE.  The residual SE may also contain generalized modal
displacements in place of the interior of both fluid and structural points by using the modal
synthesis method.
For moderately large problems, the ASET/OMIT method of reduction is available for both the fluid
and structural degrees -of-freedom.  However, the accuracy is highly dependent on the analyst’s
choice of retained degrees -of-freedom.  For instance, if all interior fluid points were omitted, the
internal acoustic waves would not be sinusoidal and the waves would instantly travel from end to
end.  The most effective application would be a highly refined structural model connected to a
coarser 3 -D fluid model.  Removing most of the extraneous structural DOF (i.e., rotations,
tangential motion, and nonwetted points) could reduce the costs significantly.&lt;/p&gt;
&lt;p&gt;463 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
The recommended first analysis for the coupled problem is the Direct Complex Eigenvalue Solution
Sequence (SOL 107).  This solution will indicate the overall dynamic behavior dominated by the lowest
frequency natural modes and resonant frequencies.  The following are recommendations:
1.The EIGC input to control complex eigensolutions is substantially different from the real mode
EIGR d ata.  Read and understand the input definitions.  Avoid the default values.
2.The frequency range definitions are specified in units of Radians per Second.  Multiply the
frequencies of cycle per second by 2 .
3.Do not use damping on the initial runs.  The results will be easier to debug and the job will run faster.
4.Beware that an additional mode with zero frequency occurs in closed containers.  This mode causes
problems with both INVP and LANC methods.  Avoid it by specifying a lower frequency range
nearly as large as the lowest nonzero mode.  An alternative is to add a CELAS spring connected
between a fluid point and ground.
•The HESS method should be used only with some form of matrix reduction for typical problems.&lt;br&gt;
See the comments above regarding the use of ASET/OMIT an Superelement partitioning.
Running the Jobs
Several diagnostics will be generated automatically by MSC Nastran.  Examples are shown in the following
pages.
The following special output is produced by the program when acoustic boundaries are encountered.  The
first shows the automatic connections found by matching GRID locations:
The following message is a sample of a case when the boundaries do not match:                    *******************************************************
*                                                     *
*                MATCHING GRID TABLE                  *
*                                                     *
*******************************************************
*                   USER GRID IDS.                    *
*      ACOUSTIC GRIDS     *      STRUCTURAL GRIDS     *
*                         *                           *
*******************************************************
*                         *                           *
*                1        *              1001         *
*                         *                           *
*                2        *              1002         *
*                         *                           *
*                3        *              1003         *
*                         *                           *
*                4        *              1004         *
*                         *                           *
*                5        *              1005         *
*                         *                           *
*               11        *              1011         *
*                         *                           *
ETC
*******************************************************&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis464
Main Index
and:
The following message indicates the error factors in area for free body motions.  Nonzero numbers indicate
a hole in the model as indicated by the T2 value.
Restarts
The only major reasons to restart a fluid/structure interaction job are to use superelement processing
and/or to change the output requests.  In typical jobs the cost in the solution phase is more than
50% of the run, and a restart for a model or load change is not worth the cost of saving a large
database.
If the uncoupled structural model is large compared to the size of the actual coupled surface, it may be defined
as one or more Tip superelements and run as a separate initial job.  The interior points in the fluid may also
be treated in this manner.  Many acoustic analysis runs can then be restarted each from a copy of the initial
database without recalculating the large matrices.
Print and plot output requests may need many changes after the initial runs are made.  An output -only restart
can be very cost efficient on a large job. Note that most graphical displays do not display complex numbers
on model views (i.e., contour plots or deformed shapes).  Printed output of selected grid point or element
sets may be necessary and is recommended.
Diagnosing Problems
Most of the problems in starting to use acoustics are expected to occur in the definition of the area factors
which define the fluid/structure boundary.  Some restrictions are necessary to control errors in the case of
overlapping fluid and structural FE meshes, and in most cases the user will be warned of discrepancies.  Some
recommended techniques are as follows:
Carefully check the special diagnostic outputs shown above.  Holes in the boundaries will cause
nonzero resultant area factors.
Run tests without the boundary coupling to estimate the frequencies. *** USER WARNING MESSAGE 6151, ACOUSTIC COUPLING
MATRIX WILL NOT BE CREATED FOR FACE =      42      82      83      43   &lt;br&gt;
OF ELEMENT ID =      42 ,BECAUSE ITS FLUID GRID POINTS DO NOT HAVE CORRESPONDING
STRUCTURAL GRID POINTS.
USER ACTION: IF COUPLING IS DESIRED, THEN CHECK GRID POINT DATA.            &lt;br&gt;
*                 &lt;br&gt;
*                   &lt;br&gt;
*                                     &lt;br&gt;
*                        &lt;br&gt;
ETC&amp;hellip;.ETC.
^^^ DMAP INFORMATION MESSAGE 9055 (SEMG) -  THE FL./STR. INTERFACE CHECK IS FORCES AND MOMENTS RESULTING FROM
A UNIT INCREASE IN PRESSURE, OR CHANGES IN THE FLUID PRESSURE RESULTING FROM RIGID BODY MOTIONS OF THE
STRUCTURE. THESE VALUES ARE DIRECTLY PROPORTIONAL TO THE OPEN SURFACE OF THE FLUID.
FL./STR. INTERFACE CHECK
T1             T2             T3             R1             R2             R3
1   2.3554080E-18 -8.4260993E-02 -1.4653091E-28  6.0271138E-10  2.6100844E-19  1.8405548E-10&lt;/p&gt;
&lt;p&gt;465 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Temporarily switch to an alternate eigenvalue method and/or a smaller range to ensure modes are
correct.
If a model is large, try subdividing it into smaller sections that can be checked more conveniently.
Try changing the fluid density to a large number (e.g., water) and run with free structural
boundaries.  The fluid should not restrain the free -body motions and these modal frequencies
should remain at zero.
Advanced Methods
Many of the other MSC Nastran features should be available for acoustic analysis.  Some potential advanced
modeling and solution features that will be useful are as follows:
Modal formulation with superelements :  The use of Component Mode Synthesis  is recommended
for reducing the size of the matrices and the solution costs.  The degrees -of-freedom of the interior
fluid points will be replaced by the modes of the fluid with rigid container boundaries.  The
uncoupled structural points may be replaced by modal coordinates defined by a structure in a
vacuum.
Virtual Fluids :  The MFLUID Bulk Data input may be used to represent incompressible fluids
attached to the structure.  This may be used to approximate the low frequency effects of an infinite
exterior fluid.
Decoupled Response Solutions :  In most acoustic problems with a load -carrying structure, the
structural modes are not affected by the small mass of the air.  In turn, the high stiffness of the
structure is effectively rigid for the purposes of computing acoustic modes in the air.  Forced
vibration problems may then be analyzed as two decoupled symmetric solutions:
•Constrain the entire structural model and perform a forced response analysis on the air (use
SLOAD inputs to define the volume inputs from a known source) and save the resulting
boundary pressures.
•Restart the job with the fluid points constrained and a DMAP alter to add the pressure forces to
the frequency - or time -dependent load vectors.  The resulting structural model will respond to
the pressures from the first run.
Random and Response Spectrum Methods:   The MSC Nastran random analysis options will also be
useful for acoustic analysis.  This capability requires a set of unit forced responses in the frequency
domain (SOLs 108 and 111) and spectral densities of the forcing functions (RANDPS inputs).  It
will calculate the combination spectral densities and autocorrelations of selected output quantities.&lt;br&gt;
In acoustic problems, it could be used for problems having several correlated sources such as an
automobile interior.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis466
Main Index
Figure 11-5  Example of Two -Dimensional Automotive Model With Absorbers
Figure 11-6  Acoustic Suspension Loudspeaker&lt;/p&gt;
&lt;p&gt;467 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Test Problem Description
A simple test problem illustrates the fundamentals of acoustic analysis for enclosed containers with flexible
walls.  The physical problem represents an initial attempt at design and analysis of an enclosure for an
acoustic suspension loudspeaker system.  The objective was to calculate the resonant frequencies and
responses of the system without the mass and impedance of the speaker coil and magnet components.
Physical Description
The structure consists of a simple rectangular box with wood walls as shown by the plate model in Figure 11-6.&lt;br&gt;
A single cutout is provided for the speaker and a thin polyethylene cone was modeled with triangular shells.&lt;br&gt;
The physical properties of the model are listed below.  Note the use of the MKS system of units, which
illustrates the flexibility of MSC Nastran.
Executive and Case Control
The Executive and Case Control inputs are used for selecting the type of solution, loads, boundaries, and
outputs.  Several different runs using the same model were made to check results and investigate the effects
of structural coupling.  The configuration shown below was a Direct Complex Modal solution using the
Lanczos method to extract eigenvalues.  An SPC request was used to constrain the structure and an output
set was defined to limit the printed displacements.  All other data was normal, recommended control and
label input.
Bulk Data
The key data of note in the Bulk Data Section are as follows:
1.The ACMODL input uses the minimum form which connects fluid and structural points at identical
locations.
2.Several eigenvalue methods were used.  It is recommended that complex roots always be checked by
another method.
3.The speaker cone consisted of a light, thin plastic material.  The virtual mass of the exterior air was
estimated and added as nonstructural mass on the PSHELL input.
Results from MSC Nastran
Three runs (out of many) are described below.  They illustrate a recommended sequence for the analysis
process.Width: 0.5 M Depth: 0.4 M
Height: 0.6 M Hole Diam. 0.345 M
Box E Modulus: 11.61E9 Box Density: 562 Kg/M&lt;strong&gt;3
Wall thickness: 0.015 M
Air Wave speed: 344 M/Sec Air Density: 1.11KG/M&lt;/strong&gt;3
Cone E Modulus: 3.4E9 Cone Density: 450.0
Cone thickness: 0.1E-3 M Cone Depth: 0.04 M&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis468
Main Index
Run 1:  Real Eigenvalue Analysis
Before the coupled structure is analyzed, it is important to understand the behavior of the structural and fluid
models separately.  Fortunately they can be included in the same data file and the Real Eigenvalue Solution
Sequence (SOL 103) may by used.  The results for the uncoupled speaker box and the acoustic modes are
shown below.  Note that the natural frequencies for both systems occur in the same range, which indicates
that the enclosure modes will interact with the acoustic cavity resonances.  Results for the acoustics were
checked by one -dimensional wave solutions.  Results for the box were checked against calculated natural
frequencies of simply -supported plates.
-etc.-
Run 2:  Complex Eigenvalue Analysis, Coupled Modes.
The coupled natural frequencies must be obtained from an unsymmetrical matrix equation which requires a
Complex Eigenvalue method even in the undamped case.  The CLAN method is recommended for most
large-order non -superelement jobs.  The only changes from the Real Modes job was the addition of an
ACMODL input and the changes in eigenvalue method.Mode No. Frequency, Hz Type
1 0.0 Air- Constant Pressure (fictitious)
2 292 Air- 1st z (up/down)
3 297 Box- u(y) Back panel
4 351 Air- 1st x (Left/Right)
5 359 Box- u(x) Sides in -Phase
6 379 Box- u(x) Sides out -of-phase
7 450 Box- u(z) Top/bottom
8 453 Air- 1st y (Fore/Aft)
Mode No. Frequency Type of Dominant Motion
1 0.0 Air- Constant Pressure
2 291 Air- u(z)
3 295 Coupled - u(y) - back panel
4 336 Coupled - u(x) - sides
5 371 Coupled - u(y) - cone
6 373 Coupled - u(x) - sides
7 445 Coupled - u(z) - top/bottom
8 453 Coupled - u(y) - cone&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P25</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_025/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_025/</guid>
      <description>
        
        
        &lt;p&gt;469 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Results above are interpreted by examining the frequency shifts from the uncoupled system.  The modes with
u(y) fore -aft motion are most likely to be excited by the speaker.  Modes 1, 2, 3, 4, 6, and 7 are close to their
uncoupled equivalent.  Modes 5 and 8 are new combinations of higher modes.  The results were confirmed
by several methods:
1.The job was rerun using the INV method on the EIGC Bulk Data and produced nearly identical
results.
2.A printout of the interface area matrix was obtained and verified by hand calculations.
3.The natural symmetry of the geometry produced symmetric and antisymmetric results relative to the
natural structural planes of symmetry (except for roots with close frequencies).
Run 3:  Complex Eigenvalue Analysis, Modal Formulation
A more efficient method for solving a coupled matrix problem is to reduce the size of the matrices by using
modal coordinates.  In this case, both the structural displacements and fluid pressures are replaced in the
matrix solution by generalized coordinates representing the uncoupled real modes.  For the modal cases
below the real modes (25 total) below 800 Hz. were used.  In the coupled cases 13 modes were obtained
below 500 Hz.  All results compared to within 1%.
On a Sun SPARCstation 1+ the CPU time comparisons are:
The conclusion is that the modal method (SOL 110) will reduce the costs with very little effect on accuracy.&lt;br&gt;
The user is cautioned to use a liberal number of real modes (twice the number of coupled modes) to represent
the system.
ACOUSTIC TEST PROBLEM DATA FILES
ID SPEAK39F,DNH
SOL 107
DIAG 8,12 $ PRINTS MATRIX TRAILERS AND ROOT-TRACKING MESSAGES.
CEND
TITLE=SPEAKER BOX -WITH CONE, SIMPLE CORNER SUPPORTS
SUBTITLE = COUPLED BOUNDARY, NON-MATCHING ELEMENTS
ECHO= UNSORT
SEALL=ALL
SPC=20
$ USES MKS SYSTEM
CMETHOD = 7  $LANCZOS
SET 20= 3,13,23,43,82,83,84,91,93,95,103,113,123,
131,135,153,163,171,173,175,183,Type Solution Solution Size CPU Time (Seconds)
Uncoupled Modes 538 110.2
Direct, No Modes 538 586.3
Struct. Modes Only 114 143.2
All Modes 25 106.9&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis470
Main Index
1013,1023,1043,1082,1083,1084,1091,1095,1113,
1131,1135,1163,1173,1183,1193
DISP= 20  $ FOR MINIMUM PRINTOUT
$ DISP(PLOT)=ALL  $ FOR MSC/XL CONTOUR PLOTS
$
BEGIN BULK
$
$ DEFINE FLUID/STRUCTURE INTERFACE: COINCIDENT POINTS
ACMODL,IDENT
$
PARAM,POST,0
PARAM,COUPMASS,1
$
$ BOX PROPERTIES - WOOD
MAT1,11,11.61+9,,0.3,562.0
PSHELL,1000,11,.015,11,,11
$
$ SPEAKER CONE
MAT1,3,3.4+9,,0.3,450.0
PSHELL,10,3,0.1-3,3,,,0.223
$
$ PROPERTIES OF AIR
MAT10,100,131.94+3,1.115
PSOLID,100,100,,2,,1,PFLUID
$
$ EIGEN METHODS
EIGR,20,MGIV,1.0,600.0
EIGC,7, CLAN,,,,,,,+CLAN
+CLAN,0.0,10.0,0.0,1600.0,100.0,,20
$ USE INVERSE POWER TO CHECK LOW ROOTS
EIGC,107,INV,MAX,,,,,,+EC1
+EC1,0.0,100.0,0.0,1800.0,100.0,12,9
$
$ FIX BOX AT BOTTOM CORNERS
SPC1,20,123,1001,1005,1031,1035
$ COORDINATE SYSTEM AT CENTER OF HOLE
CORD1C,83,283,113,85
$
$
$FLUID GRID POINTS
$ NOTE VALUE OF -1 IN FIELD 7 INDICATES 1 DOF.
GRID,1,, -.25, -.2, -.3,-1
GRID,2,,-.125, -.2, -.3,-1
GRID,3,,  0.0, -.2, -.3,-1
GRID,4,, .125, -.2, -.3,-1&lt;/p&gt;
&lt;h2&gt;471 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
GRID,5,,  .25, -.2, -.3,-1
GRID,11,, -.25, -.0667, -.3,-1
GRID,12,,-.125, -.0667, -.3,-1
GRID,13,,  0.0, -.0667, -.3,-1
GRID,14,, .125, -.0667, -.3,-1
GRID,15,,  .25, -.0667, -.3,-1
GRID,21,, -.25, 0.0667, -.3,-1
GRID,22,,-.125, 0.0667, -.3,-1
GRID,23,,  0.0, 0.0667, -.3,-1
GRID,24,, .125, 0.0667, -.3,-1
.25, -.2, 0.,-1&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;25--2-0-1&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#25--2-0-1&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;ETC&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;etc&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#etc&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;$ STRUCTURE GRIDS
GRID,1001,, -.25, -.2, -.3
GRID,1002,,-.125, -.2, -.3
GRID,1003,,  0.0, -.2, -.3
GRID,1004,, .125, -.2, -.3
GRID,1005,,  .25, -.2, -.3
GRID,1011,, -.25, -.0667, -.3
GRID,1012,,-.125, -.0667, -.3,,6
GRID,1013,,  0.0, -.0667, -.3,,6&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;grid1013--00--0667--36&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#grid1013--00--0667--36&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;ETC.&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;etc-1&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#etc-1&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;$ OPTIONAL ASET DATA TO USE WITH HESS METHOD
$ASET1,1,1,THRU,195
$ASET1,123,1003,1012,1014,1022,1024,1033
$ASET1,123,1163,1172,1174,1182,1184,1193
$ASET1,123,1042,1043,1044,1081,1082,1083,1084
$ASET1,123,1065,1122,1123,1124
$ASET1,123,1072,1074,1112,1113,1114,1152,1154
$ASET1,123,1051,1061,1131,1141
$ASET1,123,1055,1065,1135,1145
$
$
$SOLID ELEMENTS FOR AIR
CHEXA   1       100     1       2       12      11      41      42      +001
+001    52      51
CHEXA   2       100     2       3       13      12      42      43      +011
+011    53      52
CHEXA   3       100     3       4       14      13      43      44      +021
+021    54      53
CHEXA   4       100     4       5       15      14      44      45      +031&lt;/p&gt;
&lt;h2&gt;MSC Nastran Dynamic Analysis User’s Guide
Coupled and Uncoupled Acoustic Analysis472
Main Index
+031    55      54
CHEXA   11      100     11      12      22      21      51      52      +041
+041    62      61
CHEXA   12      100     12      13      23      22      52      53      +051
+051    63      62
CHEXA   13      100     13      14      24      23      53      54      +061
+061    64      63
CHEXA   14      100     14      15      25      24      54      55      +071
+071    65      64
CHEXA   21      100     21      22      32      31      61      62   &lt;br&gt;
+081
+081    72      71&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;081----72------71&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#081----72------71&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;ETC&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;etc-2&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#etc-2&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;$STRUCTURAL ELEMENTS
CQUAD4  1001    1000    1001    1002    1012    1011
CQUAD4  1002    1000    1002    1003    1013    1012
CQUAD4  1003    1000    1003    1004    1014    1013
CQUAD4  1004    1000    1004    1005    1015    1014
CQUAD4  1011    1000    1011    1012    1022    1021
CQUAD4  1012    1000    1012    1013    1023    1022
CQUAD4  1013    1000    1013    1014    1024    1023
CQUAD4  1014    1000    1014    1015    1025    1024&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;cquad4--1014----1000----1014----1015----1025----1024&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#cquad4--1014----1000----1014----1015----1025----1024&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;ETC&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;etc-3&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#etc-3&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;$
$SIMPLE CONE
$
CTRIA3, 5042,10,1042,1043,1083
CTRIA3, 5043,10,1043,1044,1083
CTRIA3, 5044,10,1044,1084,1083
CTRIA3, 5084,10,1084,1124,1083
CTRIA3, 5124,10,1124,1123,1083
CTRIA3, 5123,10,1123,1122,1083
CTRIA3, 5122,10,1122,1082,1083
CTRIA3, 5082,10,1082,1042,1083
ENDDATA&lt;/p&gt;
&lt;h1&gt;473 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Weakly Coupled Acoustics
Introduction
With MD Nastran 2010, fluid/structure interaction, FSI, analysis is supported for both interior and exterior
acoustic. Semi-infinite elements, e.g. CACINF3/CACINF4, are utilized to model the outward space from
the edge of traditional finite acoustic elements. For modal frequency analysis, the convergence for FSI model
with both interior and exterior acoustic modeling is slow due to the fact that the semi-infinite elements are
not included for fluid modes extraction. The two step approach has been demonstrated to improve the
computational performance of acoustic simulations. The two steps are
Step 1: FSI with interior acoustic only in modal formulation and, then,
Step 2: Exterior acoustic only job with loading derived from the results of Job 1 in direct formulation.
The two jobs approach is commonly known as weakly coupled acoustic analysis. It is now possible to
combine the two run approach into a single run and to improve the convergence performance.
Benefits
Unlike the two step approach, the required user input to activate weakly coupled acoustic is kept to a
minimum. And, for some FSI deck with both interior and exterior acoustic model, the run time is expected
to be reduced significantly. However, this performance improvement is not universal for all FSI jobs.
Theory
Typical symmetrical FSI equations, see Reference Manual, in its matrix form is as follows,
(11-21)
where  Ai, Mfi, Bfi, Kfi, qi and Gi are the coupling, ‘mass’, ‘damping’, ‘stiffness’, pressure and source matrices
for interior acoustic  Ae, Mfe, Bfe, Kfe, qe and Gi are the coupling, ‘mass’, ‘damping’, and ‘stiffness’, pressure
and source matrices for exterior acoustic Ms, Bs, Ks, us and Ps are the ‘mass’, ‘damping’, ‘stiffness’,
displacement and load matrices for structure
With the assumption that the interaction between the structure and exterior acoustic is negligible, Equation&lt;br&gt;
can be solved in stages. The first stage involves the first two rows of Equation , as shown in Equation (11-22).
(11-22)–2Ms00
A–itMfi0
A–et0MfeiBs00
0Bfi0
00BfeKsAiAe
0Kfi0
00Kfe+ +
       us
qi
qePs
Gi
Ge&lt;/h1&gt;&lt;p&gt;–2Ms0
A–itMfiiBs0
0BfiKsAi
0Kfi+ +
    us
qiPs
Gi=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Weakly Coupled Acoustics474
Main Index
With Us available, exterior acoustic model, the third row of Equation , becomes
(11-23)
Note that
Equation (11-22) can be solved with either direct or modal formulation .
Equation (11-23) is solved with direct formulation due to the inclusion of semi-infinite elements.
Input
The only user input to activate weakly couple acoustic algorithm is ‘PARAM,ACOWEAK,YES’. Note that
weakly coupled acoustic algorithm is applicable to FSI decks with following conditions  exterior acoustic
model and semi-infinite elements, e.g. CACINF3/CACINF4.  SOL 111 or 200 with ANALYSIS=MFREQ
Output
There is no new output for FSI decks using weakly couples acoustic algorithm. All current acoustic related
output requests are supported; including AFPLRESULTS.
Guidelines and Limitations
1.Interior acoustic model and exterior acoustic model should not contact each other directly. If an
interior acoustic model comes in contact with exterior acoustic model, it is considered as part of
exterior acoustic model.
2.Weakly coupled acoustic algorithm can handle the cases with no interior acoustic model.
3.In current implementation, ‘PARAM,ACOWEAK,YES’ is applicable only for SOL 111 and SOL
200 with ANALYSIS=MFREQ.
Test Cases
Following test cases are available in TPL lib.
acoweak1 , acoweak2  and acoweak3  2– MfeiBfeKfeqe + + GeAet2us–
   =&lt;/p&gt;
&lt;h1&gt;475 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Frequency Dependent Analysis with ACTRAN Trimmed
Material and/or Acoustic Pressure Load Matrices
Introduction
ACTRAN has a function to calculate the property of trimmed material in porous medium and the pressure
load due to external acoustic excitation based on free field acoustic analysis. This function can incorporate&lt;br&gt;
the matrices exported by ACTRAN as the trimmed material property and acoustic pressure load property
into MSC Nastran  frequency response analysis. Both properties are imported as the frequency dependent
matrices in fluid-structure coupling problem. The matrices of trimmed material are merged into Nastran
system matrices , and its effect can be observed in  the results of frequency response s such as&lt;br&gt;
DISPLACEMENT, VELOCITY , and ACCELERATION and participation factor s via PFMODE,
PFPANEL , and PFGRID.
Benefits
The capability is to utilize the trimmed material properties and/or define the excitation forces due to acoustic
pressure loads calculated by ACTRAN. The  effect of trimmed material properties are shown in the results of
frequency response analysis such as DISPLACEMENT, VELOCITY , and ACCELERATION and the
frequency participation factor analysis  by PFMODE, PFPANEL , and PFGRID for fluid-structure coupling
problem.
Theory
This function computes  the frequency response with ACTRAN trimmed material properties. The matrices
ACTRAN exports have  the property of frequency dependent trimmed materials. The equation of the
ACTRAN matrices is as follows :
where,  s is structural domain, f is fluid domain , and   is angular velocity (frequency). All terms of Zi are
computed by ACTRAN at the user defined frequencies . On the other hand, Nastran symmetries  system can
be written as,ZjiZssiZzfi –
sym.Zffi=
2Ms0
0Mf–– iBsAsf
symBf–Ks0
0Kf–+ +
     us
qfPs
Gf–&lt;/h1&gt;&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Frequency Dependent Analysis with ACTRAN Trimmed Material and/or Acoustic Pressure Load Matrices476
Main Index
The coupling  term  Asf may be conflicted with -Zsf (i); then we need to eliminate the terms of Asf on the
duplicated surface ; it is called as  here. As a result, the next equation is applied to frequency response
analysis with frequency dependency.
The panel groups defined by PANEL or AKUSMOD are used for panel contribution analysis . And , coupling
matrices for each panel is re-constructed based on  matrix. Linear interpolation  techniques
are applied if ACTRAN matrices don ’t exist for the specific forcing frequency. For the acoustic pressure load
from ACTRAN, the next equation is applied.
where, Pa () is the frequency dependent acoustic pressure load vector from ACTRAN.
Input
The case control entries and bulk data entries are introduced to support ACTRAN trimmed material and
acoustic pressure load matrices. These case control and bulk data entries can be applied in SOL111 and
SOL108  only.
The Case Control entry is:
Select ACTRAN trimmed material matrices.
Format:
ACTRIM = name1, name2, … namen
Examples:
ACTRIM = FLOOR_F, FLOOR_R, DASH
SET 10 = FR_LH, RR_LH
ACTRIM = 10ACTRIM (Case) ACTRAN Trimmed Material Matrices for SOL 108/111
sfA
2Ms0
0Mf–– iBsi
&amp;mdash;-Zss – Asf+i
&amp;mdash;-Zsf +
sym Bf–i
&amp;mdash;-Zff –Ks0
0Kf–+ +
       
us
qfPs
Gf–&lt;/h1&gt;&lt;h1&gt;) (i sf sf ZiA 
2Ms0
0Mf–– iBsAsf
symBf–Ks0
0Kf–+ +
     us
qfPsPa +
Gf–    &lt;/h1&gt;&lt;p&gt;477 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Remarks:
1.This entry must be above subcase level or in the first subcase.
2.If the ACTRIM Case Control command selects ACTRIM bulk data entries, Nastran will add the
selected ACTRAN matrices to fluid-structure coupling problem in all subcases.
3.ACTRIM is supported in frequency response analysis for fluid-structure coupling problem and the
frequency dependent  algorithm  will be adopted automatically .
4.PARAM, ACSYM, YES should be set for ACTRIM (default).
5.The effect of ACTRIM will be considered in standard frequency response analysis and participation
factor analysis by PFMODE, PFPANEL and PFGRID.
The new Bulk Data entries are:
Format:
Example(s):Describer Meaning
namei Name of the ACTRAN trimmed material matrices that is input on the ACTRIM
bulk data entry, or name list.
ACTRIM ACTRAN Trimmed Material Matrices for SOL 108/111
Defines ACTRAN trimmed material matrices.
1 2 3 4 5 6 7 8 9 10
ACTRIM NAME UNIT1 UNIT2 SCLR SCLI
ACTRIM FLOOR 31 32 2.0 0.5
Describer Meaning
NAME Name of the ACTRAN trimmed material matrices. See Remark 1. (One to eight
alphanumeric characters, the first of which is alphabetic)
UNIT1 Fortran unit number of mapped data from ACTRAN. See Remark 2. (Integer &amp;gt; 0)
UNIT2 Fortran unit number of property matrices from ACTRAN. See Remark 2. (Integer &amp;gt; 0)
SCLR The real part of complex scale factor to be multiplied to ACTRAN matrices. (Real; D efault
= 1.0)
SCLI The imaginary part of complex scale factor to be multiplied to ACTRAN matrices. (Real;
Default = 0.0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Frequency Dependent Analysis with ACTRAN Trimmed Material and/or Acoustic Pressure Load Matrices478
Main Index
Remarks:
1.ACTRAN trimmed material matrices defined by this entry will be used for frequency response
analysis i f it is selected via the Case Control ACTRIM = NAME .
2.The following type of ASSIGN should be specified in the FMS section with the vacant unit number
(see ASSIGN statements). The unit number cannot be selected doubly.
ASSIGN INPUTT2= ’ACTRAN_trimmed.f70’ UNIT=31
ASSIGN INPUTT4= ’ACTRAN_trimmed.op4 ’ UNIT=32
3.Refer the ACTRAN manual for the details of exportation of the trimmed material matrix data for
Nastran.
Remarks:
1.ACTRAN trimmed material matrices defined by this entry will be used for frequency response
analysis i f it is selected via the Case Control ACTRIM = NAME .
2.The following type of ASSIGN should be specified in the FMS section with the vacant unit number
(see ASSIGN statements). The unit number cannot be selected twice .
3.ASSIGN INPUTT2= ’ACTRAN_trimmed.f70 ’ UNIT=31
4.ASSIGN INPUTT4= ’ACTRAN_trimmed.op4 ’ UNIT=32
5.Refer the ACTRAN manual for the details of exportation of the trimmed material matrix data for
Nastran.
Format:
Example(s):ACLOAD ACTRAN Acoustic Pressure Load Matrices for SOL 108/111
Defines ACTRAN acoustic pressure load matrices.
1 2 3 4 5 6 7 8 9 10
ACLOAD SID UNIT1 UNIT2 SCLR SCLI LSQID
ACLOAD 101 41 42 1.5
Field Contests
SID Set identification number. See Remark 1. (Integer &amp;gt; 0)
UNIT1 Fortran unit number of mapped data from ACTRAN. See Remark 2. (Integer &amp;gt; 0)
UNIT2 Fortran unit number of property matrices from ACTRAN. See Remark 2. (Integer &amp;gt; 0)&lt;/p&gt;
&lt;p&gt;479 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Remarks:
1.Dynamic excitation sets must be selected with the Case Control command DLOAD = SID for
frequency response analysis.
2.The following type of ASSIGN should be specified in the FMS section with the vacant unit number
(see ASSIGN statements). The unit number cannot be selected doubly.
ASSIGN INPUTT2= ’ACTRAN_pressure.f70 ’ UNIT=41
ASSIGN INPUTT4= ’ACTRAN_pressure.op4 ’ UNIT=42
3.SID must be unique for all RLOAD1, RLOAD2, ACSRCE and ACLOAD entries.
4.Refer the ACTRAN manual for the details of exportation of the acoustic pressure load matrix data
for Nastran.
5.The residual vectors for ACLOAD will not be computed.
6.Value of LSQID that is greater than the actual load cases in the ACTRAN file is a fatal error.
Example Input
The following input is typical for ACTRIM calculation.
File Management
ASSIGN INPUTT2= ’ACTRAN_trimmed.f70 ’ UNIT=31
ASSIGN INPUTT4= ’ACTRAN_trimmed.op4 ’ UNIT=32
Case Control
ACTRIM = TRIM1
Bulk Data
ACTRIM, TRIM1, 31, 32, 1.5, 0.0
The following input is typical for ACLOAD.
File Management
ASSIGN INPUTT2= ’ACTRAN_pressure.f70 ’ UNIT=41
ASSIGN INPUTT4= ’ACTRAN_pressure.op4 ’ UNIT=42
Case Control
DLOAD = 103
Bulk Data
ACLOAD, 103, 41, 42, 2.0, 0.0SCLR The real part of complex scale factor to be multiplied to ACTRAN matrices. (Real; D efault
= 1.0)
SCLI The imaginary part of complex scale factor to be multiplied to ACTRAN matrices. (Real;
Default = 0.0)
LSQID Load SeQuence IDentification number on an ACTRAN file with multiple load cases.
(Integer &amp;gt; 0, default=1).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Frequency Dependent Analysis with ACTRAN Trimmed Material and/or Acoustic Pressure Load Matrices480
Main Index
Output
No new output is defined.
Guidelines and Limitations
ACTRIM support the fluid-structure coupling analysis only and ‘PARAM, ACSYM ’ should be ‘YES ’.
The panel group for contribution analysis should be defined in MSC Nastran and ACTRIM matrices are
divided to each group internally base on the user defined group by PANEL bulk data or AKUSMOD.
ACLOAD can be applied to the general frequency response analysis.
Test Cases
The f ollowing test cases are available in TPL in directory tpl/fsc_2011 . There are four TPL files with the
name fsc_05, fsc_06, fsc_07 , and fsc_08:
The comparisons of frequency response functions with and without ACTRIM using the examples above are
shown in the next figure. Note that the frequency range to be computed was expanded from the original data
as follows.
EIGRL, 100, 0.0, 200.0
EIGRL, 200, 0.0, 400.0
FREQ1, 501, 10.0, 0.5, 180
Some peaks are shifted to the lower frequency and magnitude s are also lower in case with ACTRIM. It should
be the damping and mass effects by the trimmed material .
The acoustic response of grid 4001 due to the structure excitation of 13549Z:fsc_05 ACTRIM entry with MDACMS
fsc_06 ACTRIM entry without MDACMS
fsc_07 ACLOAD entry with MDACMS
fsc_08 ACLOAD entry without MDACMS&lt;/p&gt;
&lt;p&gt;481 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
The frequency response function by ACLOAD excitation is shown as below. The structure is excited by the
acoustic pressure load by the free field sound and the acoustic cavity is also excited by the structure vibration.
The acoustic response of 4001 due to ACLOAD excitation:1.00E‐061.00E‐051.00E‐041.00E‐03
1.00E+01 1.00E+02Sound Pressure [kPa]
Frequency [Hz]4001 w/o ACTRIM
4001 with ACTRIM
1.00E‐051.00E‐041.00E‐031.00E‐02
1.00E+01 1.00E+02Sound Pressure [kPa]
Frequency [Hz]4001 due to ACLOAD&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)482
Main Index
Poro-Elastic Material (PEM)
Introduction
Vibroacoustics with poroelastic trim components involves complex multi-physics in terms of the solid-fluid
interaction at the microscopic level, as well as its unique applications in finite-element based analyses. Porous
materials are widely used in automotive NVH applications for noise suppression. FFT, with its software
product, Actran, has broad experiences on acoustics in general and poroelasto-vibroacoustics in particular.
The integration of Actran&amp;rsquo;s technologies expands the capability of Fluid-Structural Interaction analysis in
MSC Nastran and enables MSC Nastran to perform the modal frequency analysis of trimmed structure, such
as a trimmed car body, for vibroacoustic simulation.
Poroelastic elements
Poroelastic volume elements, such as CHEXA, CPENTA and CTETRA, both in linear and quadratic orders,
can be created to represent the discretized poroelastic medium in a trim component.
The user interface for the poroelastic elements, includes the MATPE1  Bulk Data entry for poroelastic materials
and in the PSOLID  entry, the value, PORO, in the field of FCTN to categorize the elements.
The MATPE1 entry is a combination of, MAT1 (for the skeleton/solid-phase), MAT10 (for the fluid-phase)
and additional measurable material parameters unique to the porous medium. In the future, it will be
expanded to include other material properties for both solid- and fluid-phases, such as MAT9.
Frequency-dependent material is included on the material entry, MATF1 , Bulk Data entry.
Trim components
Physically, a trim component is an FE model of a sound package part. A trim component has its own
characteristics, in terms of its constituents and data processing methods.
A trim component may have poroelastic elements. It could also have structural elements for modeling an
elastic medium and/or fluid pressure elements for a fluid domain. It is required that the meshes at the internal
interface between different domains within a trim component be congruent, while the meshes at the interface
between the trim component and the residual structure/cavity are incongruent.
The BEGIN BULK (Case)  TRMC=T rim-ID defines the start of the creation of a trim component model. The
identification number of TRMC will serve as a qualifier for the data blocks and other computing purposes.
The reduced impedance matrix can either be projected onto the modal space or stay in the physical space.
The final reduced impedance matrix has contributions from all elements, including structural and fluid
elements.
Interface couplings
The Bulk Data entries, ACPEMCP  and TRMCPL , define the trim component interface coupling and constraints.
ACPEMCP is used to define interface coupling types and degrees of freedom, as well as constraints on a trim
component. TRMCPL is used to set up search parameters for computing the interface matrices.&lt;/p&gt;
&lt;p&gt;483 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Solution workflow control
In automotive NVH applications, it is desirable that the FE model of sound package parts can be flexibly
integrated into the FE model including both vehicle body and passenger compartment system. The reduced
impedance matrices in physical coordinates of trim components can be reused in different design
configurations of car body and/or passenger compartment as long as the interface with structural and cavity
remains the same. The acoustic effects on the passengers may be investigated by the studies of various
combinations of trim components.
The Case Control command, TRIMGRP (Case) , is used to define the trim components to be included for the
solution.
Solution Sequences
The trim component capability is implemented in SOL 111, (modal frequency response). In addition, SOL
200 can perform design optimization if the design model is not associated with the trim components.
Data Recovery
Data recovery is performed on the user-selected interfacing grid IDs in physical space of trim components.
The recovered data includes displacement, velocity and acceleration at the surface of trim components, which
interface the structure and/or cavity.
ACTRIM
MSC Nastran provides another method to support poro-elastic material via ACTRIM in case control to
select matching ACTRIM in the bulk data section. MSC Nastran reads in the reduced impedance matrices
associated with each trim component which were generated by a separate Actran run with complete FEM.&lt;br&gt;
Since the trim component FEM input is for Actran, this method supports all Actran supported element
types.
The differences of the two methods are as follows:
Reduced Impedance Matrix (RIM)
The Reduced Impedance Matrix, RIM, has contributions from all elements of a trim component, including
both structural and fluid elements. These RIM are generated with the specific coupling consideration to
structural model and fluid/cavity models and are not recommended to reuse if structural model and/or fluid ACTRIMBEGIN BULK TRMC=(a.k.a
Nastran PEM)
Formulation Physical only Physical or Modal
Reduced Impedance Matrix, RIM, rows/columns
that are not part of Nastran couplingRemoved Kept
T rim component Localization in Actran Additional input on
surface nodes can be
providedAutomatic and no addition
input is required or
considered&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)484
Main Index
models are altered in any way . Since RIM of trim components are stored on the Nastran database, it is OK
to restart, after a cold start, with the RIM on the database for addition loading cases.
Background Theory
The theories and methods that are the basis of Actran&amp;rsquo;s technologies have been documented in the references
194. they are briefly reviewed below.
Biot Theory ( M. A. Biot, 1956)
The Biot theory of poroelasticity was developed by M. A. Biot [ 194,194]. The governing dynamic equations
of motion in the time domain are shown as follows.
Figure 11-7  Poroelastic dynamic equations of motion in time domain
In Figure 11-7,   is the gradient operator;  the stress tensor and u the displacement vector; the superscripts,
s and f, stand for the solid- and fluid-phase of a porous medium, respectively; both (i,j=1,2),  and b are
material constants.
Their counterparts in the frequency domain are
Figure 11-8  Poroelastic differential equations in frequency domain
where  is the angular velocity and
&amp;ldquo;U-p Formulation: Differential Equations
Since there exists a relation between the pressure of fluid-phase and the displacements, Atalla, et al [ 194,194]
developed a simpler form of differential equations in the frequency domain for vibro-acoustics with
poroelastic materials.) () (
22 1212 11
f s f s ff s f s s
bb
u u u u σu u u u σ
          
          
  
 
 
 ) () (
22 12212 112
f s f s ff s f s s
jbjb
u u u u σu u u u σ
            
      
 j 1–=&lt;/p&gt;
&lt;p&gt;485 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-9  Poroelastic differential equations in U-p formulation
In Figure 11-9, p is the pressure of fluid-phase; the  laplace operator; the porosity of porous material (  as
in 194); and the others are material related constants. The tilde symbol above a constant indicates that
constant is complex and frequency-dependent. It must be pointed out that the superscript, s, is dropped in
the equations whenever it does not cause any ambiguity. Detailed information on background theory is
available in Ref. 194.
The stresses in the solid-phase are given in Figure 11-10, respectively.
Figure 11-10  Stresses of solid-phase
where I is the identity tensor; the strain tensor of solid-phase; and the rest of notations the material related
constants.
User Interface Summary
To support trim components with PEM, the case control, parameters, and bulk data entries are shown below.0~~&lt;/p&gt;
&lt;div class=&#34;hextra-code-block hx-relative hx-mt-6 first:hx-mt-0 hx-group/code&#34;&gt;
  

&lt;pre&gt;&lt;code&gt;222 2 222
          
u0  u u σ
  
p
Rpps
 
s
bsN N K ε uI u σ 232) (ˆ   

 
I σ u u σp
RQs f s s~~
ˆ) , ( 

MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)486
 Main Index
Case Control Command Summary
Parameter and Bulk Data EntriesTrim component definition and selection
BEGIN BULK (Case)  
TRMCCreates the finite element sub-model of a trim component.
TRIMGRP (Case) Selects a group of trim components for analysis. 
Trim component physical set output requests
DISPLACEMENT (Case) Requests the form and type of displacement output
VELOCITY (Case) Requests the form and type of velocity output
ACCELERATION (Case) Requests the form and type of acceleration output
TRMBIM Defines formulation for boundary reduced impedance matrix or performs 
data checking on trim model
PEMMAPC Generates lists of GRID IDs of the coupling surfaces
PEMNPART Defines a partitioning to a large trim component

487 CHAPTER 11
Coupled Fluid-Structure Analysis
 Main Index
Bulk Data Entry Summary
Guidelines
Modeling technique. 
a.Since the trim component can be modeled separately from the structure and fluid cavity, it is 
important to know how to prepare the finite element model for trim component. There are two 
basic techniques, namely taped-over and wedged-in. Each technique is demonstrated in following 
graph with simple models.
Taped-over: trim component overlap portion of structure and fluid models
Wedged-in : trim component model placed in-between structure and fluid modelsPoroelastic element property and materials
PSOLID Defines the properties of poroelastic volume elements (CHEXA, CPENTA 
and CTETRA entries).
MATPE1 Defines an isotropic poroelastic material which is frequency-independent.
MATF1 Defines a frequency-dependent and isotropic material of the skeleton (solid-
phase) of poroelastic medium.
Trim component interface coupling conditions and constraints
ACPEMCP Defines the interface coupling conditions and constraints of a trim 
component.
TRMCPL Defines parameters for computing the interface coupling matrices of a trim 
component.


MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)488
 Main Index
The following table shows the characteristics and guidelines on each technique.
b.If data recovery for PEM will not be attempted, it is recommended to use 
&amp;#39;PARAM,TRMBIM,MODAL&amp;#39; to obtain faster turnaround.
c. SOL200 support for PEM is limited to analysis=MFREQ. In addition, design variables and 
design constraints must stay on the properties and responses of structure and fluid models. Any 
design variables or design constraints placed on TRMC will be ignored. As a performance 
measure, the RIM will be computed only at the analysis stage of 1st design cycle. Those RIM will 
be assumed to remain constant throughout the rest the SOL 200 job.
d.For SOL 200, the change in design variables will alter the eigenvalues eigenvectors. If 
&amp;#39;PARAM,TRMBIM,MODAL&amp;#39; is selected by the use, the RIM for TRMC will be required to re-
compute due to the change of eigenvalues and eigenvectors. Hence, 
&amp;#39;PARAM,TRMBIM,MODAL&amp;#39; in SOL 200 will cause a fatal error and job terminated.Characteristic Guidelines 
Taped-over TRMC model may encroach on 
both structure and cavity space. 
Coupling can be handled with 
tolerances of the algorithm. Good for adding TRMCs for existing FSI 
decks
It is also good for TRMC thickness is much 
smaller than the dimension of cavity 
Wedged-in TRMC model fits in the space 
between structure and cavityThis is a recommended method if the 
thickness of TRMC is in the same order of 
magnitude as the dimension of cavity
If separation of structure and fluid is 
significant, tolerances on ACMODL may 
need to increase if TRMC is removed.&lt;/code&gt;&lt;/pre&gt;&lt;div class=&#34;hextra-code-copy-btn-container hx-opacity-0 hx-transition group-hover/code:hx-opacity-100 hx-flex hx-gap-1 hx-absolute hx-m-[11px] hx-right-0 hx-top-0&#34;&gt;
  &lt;button
    class=&#34;hextra-code-copy-btn hx-group/copybtn hx-transition-all active:hx-opacity-50 hx-bg-primary-700/5 hx-border hx-border-black/5 hx-text-gray-600 hover:hx-text-gray-900 hx-rounded-md hx-p-1.5 dark:hx-bg-primary-300/10 dark:hx-border-white/10 dark:hx-text-gray-400 dark:hover:hx-text-gray-50&#34;
    title=&#34;Copy code&#34;
  &gt;
    &lt;div class=&#34;copy-icon group-[.copied]/copybtn:hx-hidden hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
    &lt;div class=&#34;success-icon hx-hidden group-[.copied]/copybtn:hx-block hx-pointer-events-none hx-h-4 hx-w-4&#34;&gt;&lt;/div&gt;
  &lt;/button&gt;
&lt;/div&gt;

  
&lt;/div&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P26</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_026/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_026/</guid>
      <description>
        
        
        &lt;p&gt;489 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
e.FREQ, FREQ1 and/or FREQ2 may be used to specify master frequencies for each TRMC.
Under &amp;lsquo;BEGIN BULK TRMC&amp;rsquo;, the ID of FREQx entries must be the same as TRMC ID to get
used. In addition, a FATAL error will occur if no FREQx entry with the ID of TRMC ID can
be found. FREQ3, FREQ4 and FREQ5 entries are not supported to specify master frequencies
of a TRMC.
Examples
Kundt&amp;rsquo;s Tube
The Kundt&amp;rsquo;s T ube is 400mm in length and 50mm in radius. Glass Wool of 100mm in length and 50mm in
radius fills one end of Kundt&amp;rsquo;s T ube. The rest of the Kundt&amp;rsquo;s T ube is filled with air. An unit acoustic source
is placed at 280mm (Grid ID) away from the face of Glass Wool. The back face of Glass Wool is clamped
and sides are constrained in lateral direction. The PEM properties of Glass Wool is shown in following table,
The acoustic pressure at Grid 4494 as &amp;lsquo;MSC Nastran PEM&amp;rsquo; is compared with results from &amp;lsquo;Actran VA&amp;rsquo; and
other results. The comparison is shown in following plot.Properties Value
Porosity (POR) 0.94
Tortuosity (TOR) 1.06
Resistivity (AFR) 40000
Viscous Length (VLE) 5.6E-5
Thermal Length (TLE) 1.1E-4&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)490
Main Index
In addition, MSC Nastran PEM results from I4 Physical, I8 Physical, I4 Modal and I8 Modal are compared
in following plot.
Data recovery for grid 1151 of trim component has been performed. The following figure shows the
amplitude of normal fluid displacement  at the PEM/cavity interface. The results obtained by the MSC
Nastran PEM implementation are compared to results obtained by Actran. The correlation between the
results is good, taking into account the fact that the simulation in Actran is performed in physical coordinates
whereas the MSC Nastran PEM implementation relies on a projection into the modal space.
The evaluation of the fluid displacement in Actran seems to be more dependent on the mesh resolution than
the MSC Nastran PEM implementation. In fact, for a converged mesh, the fluid displacement seen from the&lt;/p&gt;
&lt;p&gt;491 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
porous component should match the fluid displacement seen from the fluid component. This discrepancy is
related to the fact that fluid displacements in Actran are secondary variables. As such, they are evaluated from
the gradient of the fluid pressure through the Euler&amp;rsquo;s force equation:
The numerical evaluation of the gradient operator may require a longitudinal mesh refinement for better
accuracy. In the MSC Nastran PEM implementation, the fluid displacement is directly evaluated from the
reduced impedance matrices and the finite element solution, which seems to confer better convergence
properties.
Test decks: pemt2.dat , pemt2m.dat
Results : pemt2.n , pemt2m.n
Plate Coated with Foam Layer
An aluminum plate of 350mm 220mm with 1mm in thickness is coated with a layer of foam with a
thickness of 20mm. The PEM properties for the foam layer is as follows:
Properties Value
Porosity (POR) 0.95
Tortuosity (TOR) 1.40
Resistivity (AFR) 2.5E-5
Viscous Length (VLE) 9.32E-2
Thermal Length (TLE) 9.32E-2 ip graduf ) (&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)492
Main Index
A unit load is applied at Grid 10375 of the plate. The transverse displacement at Grid 10196 of ‘MSC
Nastran PEM’ is compared with results from ‘Actran VA’ and other results. The comparison is shown in
following plot.
In addition, MSC Nastran PEM results from I4 Physical, I8 Physical, I4 Modal and I8 Modal are compared
in following plot.&lt;/p&gt;
&lt;p&gt;493 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Data recovery for grid 2161 and 2291 of trim component are performed. The figure below shows the
amplitude of the normal skeleton displacement at the porous/plate interface. The match between results
obtained by MSC Nastran PEM and Actran is very good. Small discrepancies come from the fact that the
Actran results are obtained from a simulation in physical coordinates while the values obtained by MSC
Nastran result from a projection into the modal space. Moreover, minor differences between shell
formulations in MSC Nastran and Actran are present. Finally, there are small differences between the Actran
results seen from the plate component and seen from the porous component. These differences are explained
by the fact that non-congruent meshes were used in the Actran analysis.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)494
Main Index
A brief section of F06 for PEM data recovery is shown as follows.  Please note the highlighted area where the
interface and TRMC ID are identified.  This information is only available in F06, not in PCH.&lt;br&gt;
1    PLATE (ALU 1MM)  COATED WITH FOAM (20MM)                                AUGUST  11, 2012  MSC.NASTRAN  8/11/12&lt;br&gt;
PAGE   113
ST/PEM  TRIMC
ID       1
0                                                                                                            SUBCASE 1
POINT-ID =      2161
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(MAGNITUDE/PHASE)
FREQUENCY   TYPE          T1             T2             T3             R1             R2             R3
0  2.000000E+01     G      3.907143E-11   2.270205E-11   5.174727E-05   0.0            0.0            0.0
10.6483         9.8379       359.2686         0.0            0.0            0.0
0  2.100000E+01     G      4.016117E-11   2.331277E-11   5.228292E-05   0.0            0.0            0.0
10.5803         9.8542       359.2577         0.0            0.0            0.0
0  2.200000E+01     G      4.117159E-11   2.387472E-11   5.286079E-05   0.0            0.0            0.0
10.5094         9.8716       359.2463         0.0            0.0            0.0
0  2.300000E+01     G      4.210259E-11   2.438796E-11   5.348335E-05   0.0            0.0            0.0
10.4355         9.8903       359.2345         0.0            0.0            0.0
0  2.400000E+01     G      4.295398E-11   2.485248E-11   5.415329E-05   0.0            0.0            0.0
10.3581         9.9101       359.2220         0.0            0.0            0.0
0  2.500000E+01     G      4.372549E-11   2.526830E-11   5.487369E-05   0.0            0.0            0.0
10.2771         9.9314       359.2090         0.0            0.0            0.0
Test decks: pemt3.dat, pemt3m.dat
Results : pemt3.n, pemt3m.n
Cavity Coupled with a Foam Layer
A cavity of 350mmx220mm with 200mm in length is coupled with a layer of foam.of 20mm in thickness.&lt;br&gt;
The PEM properties for the foam layer is as follows
Properties Value
Porosity (POR) 0.95
T ortuosity (TOR) 1.40&lt;/p&gt;
&lt;p&gt;495 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
A unit load is applied at Grid 20094 of the plate. The acoustic pressure at Grid 40094 of &amp;lsquo;MSC Nastran
PEM&amp;rsquo; is compared with results from &amp;lsquo;Actran VA&amp;rsquo; and other results. The plot of comparison is shown in
following plot.Resistivity (AFR) 2.5E-5
Viscous Length (VLE) 9.32E-2
Thermal Length (TLE) 9.32E-2Properties Value&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)496
Main Index
In addition, MSC Nastran PEM results from I4 Physical, I8 Physical, I4 Modal and I8 Modal are compared
in following plot.
Test decks: pemt4.dat , pemt4m.dat
Results : pemt4.n , pemt4m.n&lt;/p&gt;
&lt;p&gt;497 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Frequency Dependent Material in Trim Component
A small test deck is utilized to test the frequency dependent material, MATF1, for a trim component.  The
plate is 58.333x41.25x1mm. The trim component resides in between structure plate and acoustic cavity.
The material entries are as follows
$
$  PSOLID Data
$
$ Poroelastic material: Foam
$&amp;mdash;&amp;mdash;-2&amp;mdash;&amp;mdash;-3&amp;mdash;&amp;mdash;-4&amp;mdash;&amp;mdash;-5&amp;mdash;&amp;mdash;-6&amp;mdash;&amp;mdash;-7&amp;mdash;&amp;mdash;-8&amp;mdash;&amp;mdash;-9&amp;mdash;&amp;mdash;-0&amp;mdash;&amp;mdash;-
PSOLID         4       1                                 PORO
$&amp;mdash;&amp;mdash;-2&amp;mdash;&amp;mdash;-3&amp;mdash;&amp;mdash;-4&amp;mdash;&amp;mdash;-5&amp;mdash;&amp;mdash;-6&amp;mdash;&amp;mdash;-7&amp;mdash;&amp;mdash;-8&amp;mdash;&amp;mdash;-9&amp;mdash;&amp;mdash;-0&amp;mdash;&amp;mdash;-
$MATPE1 MID     MAT1    MAT10   BIOT
$       VISC    GAMMA   PRANDTL POR     TOR     AFR     VLE     TLE
$&amp;mdash;&amp;mdash;-2&amp;mdash;&amp;mdash;-3&amp;mdash;&amp;mdash;-4&amp;mdash;&amp;mdash;-5&amp;mdash;&amp;mdash;-6&amp;mdash;&amp;mdash;-7&amp;mdash;&amp;mdash;-8&amp;mdash;&amp;mdash;-9&amp;mdash;&amp;mdash;-0&amp;mdash;&amp;mdash;-
MATPE1  1       2       3                                               +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  1.84-8  1.40    7.13-1  9.5-1   1.4     2.5-5   9.32-2  9.32-2
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$
$  MAT1 Data
$
$ FOAM: Solid phase
$
$&amp;mdash;&amp;mdash;-2&amp;mdash;&amp;mdash;-3&amp;mdash;&amp;mdash;-4&amp;mdash;&amp;mdash;-5&amp;mdash;&amp;mdash;-6&amp;mdash;&amp;mdash;-7&amp;mdash;&amp;mdash;-8&amp;mdash;&amp;mdash;-9&amp;mdash;&amp;mdash;-0&amp;mdash;&amp;mdash;-
MAT1     2      42.0            0.0     6.00E-07                0.05 &lt;br&gt;
$
$ Frequency-dependent isotropic material
$
MATF1   2       11&lt;br&gt;
TABLEM1 11                                                              +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  20.0    42.0    250.    42.0    500.    45.0    ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Following grids are selected for data recovery: 10027, 10028 from structure, 20071 from fluid/cavity, 1,8 on
the structure/PEM interface and 74, 75 on PEM/cavity. The acoustic pressure at grid 20071 is shown in
following chart.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-Elastic Material (PEM)498
Main Index
Test decks: pemsmlx.dat(no MATF1), pemsmlx_matf1.dat(MATF1 with constant E)
Results : pemsmlx.n , pemsmlx_matf1.n
SOL 200 support for Trim Component
Test deck for SOL 200 support is converted from pemt3.dat, plate coated with foam. First deck is pemopt.dat
which has a simple change from SOL 111 to SOL 200 and no design model. The results of Grid 10196 is
shown as follows
The second deck is pemopt2.dat which is pemopt.dat with following design model added.
$
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&lt;/p&gt;
&lt;h2&gt;499 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
$ DESIGN MODEL
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
$
$&amp;hellip;DESIGN VARIABLE DEFINITION
$DESVAR,ID,     LABEL,  XINIT,  XLB,    XUB,    DELXV(OPTIONAL)
DESVAR, 1,      A1,     1.0,    0.1,     3.0
$
$&amp;hellip;IMPOSE X3=X1 (LEADS TO A3=A1)
$DLINK, ID,     DDVID,  CO,     CMULT,  IDV1,   C1,     IDV2,   C2,     +&lt;br&gt;
$+,     IDV3,   C3,     &amp;hellip;
$
$&amp;hellip;DEFINITION OF DESIGN VARIABLE TO ANALYSIS MODEL PARAMETER RELATIONS
$DVPREL1,ID,    TYPE,   PID,    FID,    PMIN,   PMAX,   C0,     ,       +
$+,     DVID1,  COEF1,  DVID2,  COEF2,  &amp;hellip;
DVPREL1,10,     PSHELL,  3,     T,      ,       ,       ,       ,       +DP1
+DP1,   1,      1.0
$
$&amp;hellip;STRUCTURAL RESPONSE IDENTIFICATION
$DRESP1,ID,     LABEL,  RTYPE,  PTYPE,  REGION, ATTA,   ATTB,   ATT1,   +&lt;br&gt;
$+,     ATT2,   &amp;hellip;
DRESP1, 20,     W ,     WEIGHT
DRESP1, 21,   g196,     FRDISP, ,       ,       3,   MAX,   10196
DRESP1, 22,   g375,     FRDISP, ,       ,       3,   MAX,   10375
DRESP1, 23,   g815,     FRDISP, ,       ,       3,   MAX,   10815
$
$&amp;hellip;CONSTRAINTS
$DCONSTR,DCID,  RID,    LALLOW, UALLOW
DCONSTR,21,     21,     -5.-4  ,5.-4
DCONSTR,21,     22,     -5.-4  ,5.-4
DCONSTR,21,     23,     -5.-5  ,5.-4
The optimization results is shown as follows,
***************************************************************
S U M M A R Y   O F   D E S I G N    C Y C L E    H I S T O R Y
***************************************************************
(HARD CONVERGENCE ACHIEVED)
(SOFT CONVERGENCE ACHIEVED)
NUMBER OF FINITE ELEMENT ANALYSES COMPLETED           5
NUMBER OF OPTIMIZATIONS W.R.T. APPROXIMATE MODELS     4
OBJECTIVE AND MAXIMUM CONSTRAINT HISTORY&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;objective-and-maximum-constraint-history&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#objective-and-maximum-constraint-history&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;                          OBJECTIVE FROM           OBJECTIVE FROM          FRACTIONAL ERROR          MAXIMUM VALUE  
         CYCLE              APPROXIMATE                 EXACT                    OF                       OF
         NUMBER            OPTIMIZATION               ANALYSIS              APPROXIMATION             CONSTRAINT   
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code&gt;         INITIAL                                      2.079000E-01                                      1.271315E+00
               1             2.102719E-01             2.102715E-01             1.842523E-06             1.456190E+00
               2             2.130226E-01             2.130240E-01            -6.575358E-06             1.147145E+00
               3             2.122993E-01             2.122996E-01            -1.824921E-06             8.520881E-01
               4             2.122996E-01             2.122996E-01             0.000000E+00             8.520881E-01
&lt;/code&gt;&lt;/pre&gt;
&lt;hr&gt;
&lt;p&gt;Test decks : pemopt.dat , pemopt2.dat
Results : pemopt.n , pemopt2.n&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics500
Main Index
Poro-elastic One-Dimensional (1D) Analytical Trim for
Vibroacoustics
Introduction
NVH applications, in both automotive and aerospace industries, resort to the trim components, made of
poro-elastic and visco-elastic materials, to improve the acoustic transmission properties of structural panels.
These trim components are frequently configured in multiple and sandwiched layers. In the numerical
context, the evaluation of the effect of multi-layered trims on structure and noise is regularly assessed using
the finite element method (FEM). Commonly, porous (foam or felt) materials are defined through the
formulations based on the Biot theory [ 1,2], whereas visco-elastic component relies on frequency-dependent
complex material properties. These material definitions are then assigned to 3D meshed components.
At system level, where the objective is the assessment of the full trim package impact on the vibro-acoustic
response, the model size may become prohibitive for a direct simulation and reduced impedance methods are
advantageously selected.
The FEM based applications are generally limited to the mid-low frequency range, because of the finite
element mesh size. The higher the excitation frequency goes, the finer the mesh size is required. Fine mesh
consumes more computing resources and adversely impacts the computational efficiency.
A computationally less expensive alternative, as presented in [ 3], consists in using a locally reacting and
normal incidence Transfer Admittance Method (TAM), a variant of the classical T ransfer Matrix Method
(TMM), to model the layered trim components. Such approach eliminates the need to mesh the trim
component. It provides a significant gain in engineering time at model setup and allows to reduce the size of
the vibro-acoustic model, leading to faster computations. This method employs the theory of one-
dimensional (1D) plane wave propagating through a trim component with multiple layers, assuming the
locally reacting trim materials and normal wave incidence. Since the transfer admittance matrices of trim
layers can be analytically formulated, the method is basically analytical in nature, compared to the FE based
numerical method. In a nutshell, the strategy relies on the analytical construction of the equivalent properties
of a composite trim material in the form of a total transfer admittance matrix between the acoustic and
structural coupling surfaces. This transfer admittance is then projected into the structural and fluid modal
space to get a modal reduced impedance matrix as for a meshed 3D trim.
This feature allows the user to create trim models without creating the interior 3D trim mesh but as a stack
of parametric layers between upper and lower trim 2D surfaces.
As shown in Figure 11-11, a 1D analytical trim is thus composed of a stacking of different layers that can mix
porous, fluid, or solid. Each layer is characterized by a frequency-dependent transfer admittance matrix,
which represents a linear relation between top and bottom primary-variable (fluid pressure p, solid
displacement u) and corresponding flux-variable (average normal velocity, total normal stress).&lt;/p&gt;
&lt;p&gt;501 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-11  Configuration of 1D Analytical Trim
To model a 1D trim, there is no need to discretize the trim interior domain into finite elements. The
discretization is performed only on the trim surfaces in coupling with structure and cavity fluid. The trim
surface meshes are thus used to transfer the reduced impedance matrices from trim to the degrees of freedom
of structure and cavity.
A trim component can be exclusively modeled as either a 1D trim or an FE based 3D trim, but a combination
of 3D meshed and analytic 1D trims is possible.
Benefits
The benefits come mostly from the elimination of trim interior meshes. Without the interior meshes, the
model size is significantly reduced, and the computational time is shortened.
A 1D trim is now simply defined by its layer properties, such as layer thicknesses and materials. T o design
and optimize a layered trim configuration, there is no need to mesh the entire trim interior repeatedly every
time the design changes in terms of layer thicknesses and materials, this will thus save a lot of human time
for the set-up. Also, such solution offers an easier and faster definition of trim components facilitating
changes, optimization and data exchange between suppliers and OEM&amp;rsquo;s.
Since the method is analytical, 1D trim can be used to do vibro-acoustic simulation at higher frequencies.
The very low frequency result is though less accurate, as local reaction and normal incidence may prevent to
capture global 3D effects.
User Interface
Two new Bulk Data entries, ACPMCP1 (replacing the ACPEMCP used for standard meshed 3D trim) and
TCOMPG, are added to define the structure-trim and the fluid-trim coupling conditions, and the 1D trim
properties, respectively. Additionally, two new CTYPE, “TRMSUR” and “INTERF”, of Bulk Data entry,&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics502
Main Index
TRMCPL, are added to set up parameters for 1D trim interface coupling. These two CTYPE values are
required for 1D trim. PSOLID definition previously used for meshed 3D trim is useless in the frame of
analytic 1D trim.
Defines the interface coupling conditions of a 1D analytical trim component.
Format:
Remarks
1.ACPMCP1 is a required entry for each 1D analytical trim component that is referenced by
TRIMGRP. It must be put in the main Bulk Data section or BEGIN BULK. It specifies the boundary
coupling conditions as well as the coupling degrees of freedom for computing the reduced impedance
matrices of the trim component.
2.A glued interface means that the skeleton or solid-phase of a trim component is completely
constrained on to the structure. There is no relative movement between the trim component and the
structure at the interface (continuity of the displacement field). The reduction nodes of boundary
impedance matrices carry three degrees of freedom (Tx, Ty, Tz).ACPMCP1 Analytical Trim Component Interface Coupling and Constraints Definition
1 2 3 4 5 6 7 8 9 10
ACPMCP1 TID SGLUED SSLIDE SOPEN SIMPER
RID
METHOD
Describer Meaning
TID Identification number of a trim component. (Integer &amp;gt; 0; Required)
SGLUED Identification number of SET3 entry of PLTSURF surface mesh on the trim
component, which is glued to a structure. See Remark 2. (Integer ≥ 0 or Blank)
SSLIDE Identification number of SET3 entry of PLTSURF surface mesh on the trim
component, which are in the sliding contact to a structure; see Remark 3. (Integer ≥ 0
or Blank)
SOPEN Identification number of SET3 entry of PLTSURF surface mesh on the trim
component, which has an open interface with the cavities. See Remark 4. (Integer ≥ 0
or Blank)
SIMPER Identification number of SET3 entry of PLTSURF surface mesh on the trim
component, which has an impervious interface with the cavities; see Remark 5. (Integer
≥ 0 or Blank)
RID ID of a region of a TRMC. (Blank or Integer &amp;gt; 0, Default=0)
METHOD Modeling method of analytical trim. (Character = “1D” or Blank)&lt;/p&gt;
&lt;p&gt;503 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
3.A sliding interface means that the trim component is laid on the surface of structure, such as a car
body. There is no relative movement in the normal direction of the interface between the trim
component and the structure. Relative sliding movement is allowed in the contact surface. However,
because of intrinsic analytical 1D trim assumption, if SSLIDE exists, they will be automatically
understood as SGLUED.
4.An open interface means that the free flow of fluid between the fluid-phase of a trim component and
cavities occurs at the interface (acoustic energy transfer).
5.An impervious or closed interface means that the fluid flowing between the trim component and
cavities is prohibited at the interface. This can happen when the porous material is covered by a thin
film which stops the fluid flowing or the cavity is in touch with a structure part of the trim
component. However, because of intrinsic analytical 1D trim assumption, if SIMPER exists, they
will be automatically understood as SOPEN.
Defines global (external) layer identification numbers and properties for a 1D analytical trim.
Format:TCOMPG Layered Composite PEM 1D Analytical Trim Property
1 2 3 4 5 6 7 8 9 10
TCOMPG SET3ID
GPLYID1 MID1 T1 SCALE1
GPLYID2 MID2 T2 SCALE2
… … … …
Describer Meaning
SET3ID Identification number of a SET3 entry referred to a group of PLTSURF entries. See
Remark 2. and 8. (Integer &amp;gt; 0)
GPLYIDi User-defined Global (External) layer ID. See Remark 3. (Integer &amp;gt; 0)
MIDi Material identification number of the various trim layers. The layers are identified by
serially numbering them from 1 at the bottom layer. The MIDi may refer to a
MATPE1, MAT1, or MAT10 entry. See Remark 8. (Integer &amp;gt; 0).
Ti Thicknesses of the various layers. (Real &amp;gt; 0.0)
SCALEi Scaling factor of the ith layer. See Remark 4. and 5.. (Real ≥ 0.0; Default = 1.0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics504
Main Index
Remarks
1.TCOMPG should be placed under the BEGIN BULK TRMC = TID (with TID the trim
component id), along with SET3 and PLTSURF entries. TCOMPG takes precedence over the
standard finite element-based 3D trim component definition.
2.The surface mesh defined by this SET3 serves as the bottom surface from which the trim composite
layers are stacked up. There is another surface mesh with PLTSURF defining the top surface of the
trim component. Real thickness in-between is used to characterize the trim transfer admittance. The
interface coupling conditions of trim component is defined by ACPMCP1 on the surface meshes.
3.The global layer identification number must be unique with respect to other layers in the entry. The
layers are defined in stacking sequence starting with the bottom layer.
4.The thickness variation is handled by the Transfer Admittance Method (TAM) as the thickness
between the trim bottom and top panels is automatically evaluated in each grid point. The layer
thickness of each individual trim layer is recomputed based on their relative thickness and their
thickness scaling. Scaling factor allows to specify how the thicknesses of the layers scale relative to each
other with the change in total thickness. A 0.0 value forces the layer not to change. A layer will absorb
the thickness changes in proportion to its SCALEi value.
In the example defined below, no thickness scaling is applied on the heavy layer (GPLYID2), and the
porous layer (GPLYID1) will as such adapt its thickness while the heavy layer will be assumed of
constant thickness.
5.If a trim component interface is defined where there is no physical gap in the model (bottom and top
are next to each other), the obtained solution will depend on the definition of the composite trim:
a.When having one layer using a SCALEi of 0.0, it will actually ensure this layer is applied.
b.If all layers have SCALEi &amp;gt; 0.0, the code stops with an error message.$TCOMPG SET3ID
$       GPLYID1 MID1    T1      SCALE1
$       GPLYID2 MID2    T2      SCALE2
$       -etc.-
$&amp;mdash;&amp;mdash;-2&amp;mdash;&amp;mdash;-3&amp;mdash;&amp;mdash;-4&amp;mdash;&amp;mdash;-5&amp;mdash;&amp;mdash;-6&amp;mdash;&amp;mdash;-7&amp;mdash;&amp;mdash;-8&amp;mdash;&amp;mdash;-9&amp;mdash;&amp;mdash;-0&amp;mdash;-
TCOMPG  10
1       101     0.04    1.0
2       102     0.002   0.0&lt;/p&gt;
&lt;p&gt;505 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
6.Generally, the geometry of a composite trim material is described by a sequence of N layers. Each
layer i (where i between 1 and N) has a certain thickness hi and material properties defined by material
identification numbers (such as MID in MAT1, MATPE1, MAT10). The final local thickness hi is
defined by the interplay of the total thickness of the multilayer TCOMPG card  in the
TCOMPG on the one hand, and the ti (Ti entry in TCOMPG) and fi (SCALEi entry in TCOMPG)
of layer i in the TCOMPG card as follows. The distance between the two trim surfaces is measured
and the value T. The sum of all layer thicknesses hi, . hi is computed with the following
formula:
This formula mimics the behavior of stacking springs of a certain thickness ti and a flexibility fi per
unit length and stretching these stacked springs to a total thickness T.
7.The user can choose to build the stack of 1D analytical trim layers either from the cavity side or from
the structure side. However, he or she should stick with the choice for all TCOMPG entries. This
means that the user can define several TCOMPG entries. Each TCOMPG starts from one SET3
entry. The TCOMPG/SET3ID references one SET3 ID.
8.Unique SET3ID and MIDi are strongly recommended.
Defines the interface coupling parameters for computing interface coupling matrices.
Format:TRMCPL Trim Component Interface Coupling Parameters
1 2 3 4 5 6 7 8 9 10
TRMCPL TID CTYPE PLTOL GAPTOL1 GAPTOL2 GAPTOL3 GAPTOL4 RIDti
1N

ti
1N
T=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics506
Main Index
Remarks:
1.For each interface coupling type, CTYPE, this entry is used to compute the interface matrix with
incongruent meshes at the interface.
2.For the meanings of values on CTYPE, please see Bulk Data entry, ACPEMCP for the detailed
descriptions.
3.For a 3D trim with ACPEMCP, TRMCPL is not a required entry for any trim component referenced
by TRIMGRP and should be placed in the main bulk data section or under &amp;lsquo;BEGIN BULK&amp;rsquo;.
For the 1D analytical trim with ACPMCP1, TRMCPL with both CTYPE=”TRMSUR” and
CTYPE=”INTERF” are required to define:
a.INTERF: The maximal distance between either the structure and the top trim surface or the
cavity and the same top trim surface (See the illustration below in Figure 11-12). It is mainly used
for projection of modal eigenvectors from the structure/cavity to the trim surface.
b.TRMSUR: The maximal distance between the top and bottom PLTSURF surfaces of trim.
c.Others, such as SGLUED, SSLIDE, SOPEN and SIMPER, are not needed for the 1D trim.
4.GAPTOLx  is the absolute tolerance for mapping surfaces of (structure, trim components) and (trim
components, cavity). Grids on surfaces that are separated further than GAPTOLx will not be
considered for coupling. GAPTOLx are utilized for successive projections. GAPTOL1 will be used
for first projection.   Then, GAPTOL2, GAPTOL3and GAPTOL4, if provided, will be used for
subsequent projections for the remaining unprojected grids. GAPTOLx is in the same unit as the one
used for length.Describer Meaning
TID Identification number of trim component. (Integer&amp;gt;0; Required)
CTYPE Interface coupling type; see Remarks 2., 3. and 8. (Character, &amp;ldquo;SGLUED&amp;rdquo;, &amp;ldquo;SSLIDE&amp;rdquo;,
&amp;ldquo;SOPEN&amp;rdquo;, &amp;ldquo;SIMPER&amp;rdquo;, &amp;ldquo;SAIRGAP&amp;rdquo;, &amp;ldquo;TRMSUR&amp;rdquo; and &amp;ldquo;INTERF&amp;rdquo;; Required)
PLTOL Relative tolerance for in-plane/in-element/normal acceptance with respect to CTYPE.
(Real&amp;gt;0.0; Default=0.1)
GAPTOLx GAPTOL1 Absolute tolerance for extrusion with respect to CTYPE. (Real&amp;gt;0.0;
Default=0.01)
GAPTOL2 Second absolute tolerance for extrusion with respect to CTYPE.
(Real&amp;gt;0.0; Default=GAPTOL1)
GAPTOL3 Third absolute tolerance for extrusion with respect to CTYPE. (Real&amp;gt;0.0;
Default=GAPTOL2)
GAPTOL4 Fourth tolerance for extrusion with respect to CTYPE. (Real&amp;gt;0.0;
Default=GAPTOL3)
RID ID of a region of a TRMC. (Blank or Integer≥0, default=0)&lt;/p&gt;
&lt;p&gt;507 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
5.PLTOL is relative tolerance for computing volume contributions. PLTOL is in percentage.
6.TRMCPL entries of a (TID,RID) pair correspond to ACPEMCP with the same (TID,RID) pair.
7.TRMCPL entry with CTYPE specified must have CTYPE field with non-zero input on the
corresponding ACPEMCP entry.
8.For the 1D analytical trim, CTYPE=&amp;ldquo;TRMSUR&amp;rdquo; is used for the distance localization of both top and
bottom of a trim component. CTYPE=&amp;ldquo;INTERF&amp;rdquo; is used for localizing and defining the structure
and fluid grid points in contact with a 1D trim component.
Figure 11-12  Parameters for CTYPE=”TRMSUR” and “INTERF”&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics508
Main Index
Guideline and Limitations
A general setup of the input data for the 1D analytical trim is illustrated in the following example of
DAT/BDF file.
Special attention should be paid when running a model with PEM 1D trim :&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P27</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_027/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_027/</guid>
      <description>
        
        
        &lt;p&gt;509 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
•To guarantee accurate results, the eigenvectors of structure and cavity DOFs wetted by the trim
must be defined in a SETID and call through the DISP(PLOT)=SETID .
•To improve the performance and avoid a large memory allocation required for modal
projection of the reduced impedance matrices, it is highly recommended that the following
additional measures be taken:
1.Set environmental variable: ACTRAN_NASTRAN_PEM_ACMODL = YES
2.Define ACMODL entry with GRID set of both FSET and SSET to construct the fluid and
structure coupling surfaces
3.DISP request with SETID including a union of FSET and SSET from ACMODL
•Avoid collisions of TCOMPG/SET3ID with MID in the material entries, such as MAT1,
MAT10 and MATPE1, in BEGIN BULK TRMC=TID Bulk Data section.
•Due to the assumption of the Analytic 1D method, transverse dissipation is not accounted for,
but it is limited to very low frequency. By increasing the frequency both the meshed 3D trim
and the Analytical 1D method converge. Increasing the frequency, we assume that the
compression effect along the thickness direction of the porous layer becomes the most
important contribution for dissipation. The in-plane effects (not captured by the 1D TAM)
being relatively less important, the match becomes better (cf. [ 3])
Examples
The NASCAR model involves a treatment only at the dashboard area. For the untrimmed configuration, the
F/S coupling is only activated at the dashboard area using ACMODL (SSET + FSET) and thus deactivated
elsewhere to maximize the trim effect. In brief, energy only goes through dashboard.
The trim component is made up of 2 layers (20mm porous + 3mm heavy layer). This multi-layer is modeled
as an analytic 1D trim by retrieving both top and bottom surfaces defined as PLTSURF elements.
491 structural modes and 336 cavity modes are extracted up to 450Hz and 900Hz, respectively.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Poro-elastic One-Dimensional (1D) Analytical Trim for Vibroacoustics510
Main Index
Local forces are applied to engine (Subcase 1) or suspension (Subcase 3) mount. Results are assessed through
an accelerometer located on the firewall and through a virtual microphone at the driver&amp;rsquo;s ears.&lt;/p&gt;
&lt;p&gt;Displacement and SPL are assessed and compared for a Bare configuration (without any treatment) and a
T rimmed configuration (dashboard only). The trim effect is strongly noticeable especially on the SPL curves
for which the acoustic level is decreased from 150Hz.
Reminder: as previously mentioned, the Analytic 1D formulation is not aimed at providing accurate results
at low frequencies range.
Additional 1D trim examples can be found in Nastran TPL library in \tpl\pem2022 .
References
1.M. A. Biot, Theory of Propagation of Elastic Waves in a Fluid-Saturated Porous Solid - Low
Frequency Range, Journal of the Acoustic Society of America, 28(2), 1956.
2.M. A. Biot, Theory of Propagation of Elastic Waves in a Fluid-Saturated Porous Solid - High
Frequency Range, Journal of the Acoustic Society of America, 28(2), 1956.
3.B. Van Antwerpen, S. Corveleyn, G. Lielens, B. Van den Nieuwenhof, Validity of the transfer matrix
method for modeling trim components in vibro-acoustic applications, ISMA 2018.&lt;/p&gt;
&lt;p&gt;511 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Nastran PEM Solution Enhancements
Introduction
To address the demands arising from the continuous increase in the model size and the number of modes,
the MSC Nastran PEM workflow has been enhanced.
The 2024.1 release provides:
1.A new method to compress the Reduced Impedance Matrices (RIM) in the modal approach
2.An increased computational efficiency and reduction of memory requirements for the MSC Nastran
PEM workflow using the modal approach for RIM
Benefits
Reduces the hardware requirements to run models with a reduced time of computation.
User Interface
To enable the enhanced MSC Nastran PEM workflow:
1.RIM in modal approach must be selected using parameter TRMBIM
2.A new entry APIM must be defined in the File Management Section (FMS)
The compressed RIM feature can be activated using the existing ACPEMCP entry in the Bulk Data Section.
Two new entries, CRIMSR and CRIMFR have been added.
The File Management Section
Define through the Application Program Interface Manager a program to be launched in place of Nastran
Format:
APIM PROGRAM=PROG ENVIR=ENV
Example:
APIM PROGRAM=ACTWFM ENVIR=NASTPEMAPIM Application Program Interface Manager&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nastran PEM Solution Enhancements512
Main Index
Remarks:
1.PROGRAM=ACTWFM stands for Actran Workflow Manager and ENVIR=NASTPEM allow to
perform Nastran PEM analysis using this external program in place of Nastran.
Parameter Descriptions
TRMBIM
Default = PHYSICAL
TRMBIM is used to define the formulation used for reduced impedance matrix, RIM, for all trim
components requested under TRIMGRP case control commands. Its default is &amp;lsquo;PHYSICAL&amp;rsquo; which will
generate RIM in physical coordinates. The other valid options for TRMBIM are.
1.&amp;lsquo;MODAL&amp;rsquo; which will produce RIM in modal coordinates
2.&amp;lsquo;DATACHK&amp;rsquo; which perform dry run without producing Reduce Impedance Matrix or results. Job
will be terminated afterwards.
Bulk Data Entry Descriptions
Defines the interface coupling conditions and constraints of a trim component.
Format:
Example:Describer Meaning
PROG PROGRAM NAME TO BE LAUNCHED
ALLOWED VALUE: ACTWFM
ENVIR ENVIRONMENT VARIABLE RELATED TO THE PROGRAM
ALLOWED VALUE: NASTPEM
ACPEMCP Trim Component Interface Coupling and Constraints Definition
1 2 3 4 5 6 7 8 9 10
ACPEMCP TID SGLUED SSLIDE SOPEN SIMPER OOC SPM SAIRGAP
SCUX SCUY SCUZ SCRX SCRY SCRZ SCFP RID
CRIMSR CRIMFR
ACPEMCP 1  1002  1004&lt;/p&gt;
&lt;p&gt;513 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Describer Meaning
TID  Identification number of trim component. (Integer&amp;gt;0; Required)
SGLUED Identification number of SET1/SET3 entry of grids belonging to the solid-phase and/or
structure volume elements in the trim component, which are glued to a structure; see
Remark 2. (Integer  0 or Blank)
SSLIDE Identification number of SET1/SET3 entry with grids belonging to the solid-phase and/or
structure volume elements in the trim component, which are in the sliding-contact to a
structure; see Remark 3. (Integer 0 or Blank)
SOPEN Identification number of SET1/SET3 entry of grids belonging to the fluid-phase elements
in the trim component, which has an open interface with the cavities; see Remark 4.
(Integer0 or Blank)
SIMPER Identification number of SET1/SET3 entry of grids of the solid-phase and/or structure
volume elements in the trim component, which has an impervious interface with the
cavities; see Remark 5. (Integer0 or Blank)
OOC Number of blocks for Out-Of-Core solver, see remark 8. (Integer≥1, Default=1)&amp;rsquo;
SPM Flag for selecting single precision MUMPS for computing reduced impedance matrix, see
Remark 9. (Integer0 or Blank)
SAIRGAP Identification number of SET1/SET3 entry with grids belonging to the solid-phase and/or
structure volume elements in the trim component, which are in contact with structure via
air gap. See Remark 10. (Integer  0 or Blank)
SCUX ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
translation X direction of output coordinate system. (Integer0 or Blank)
SCUY ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
translation Y direction of output coordinate system. (Integer 0 or Blank)
SCUZ ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
translation Z direction of output coordinate system. (Integer 0 or Blank)
SCRX ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
rotation X direction of output coordinate system. (Integer 0 or Blank)
SCRY ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
rotation Y direction of output coordinate system. ( Integer0 or Blank)
SCRZ ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
rotation Z direction of output coordinate system. (Integer 0 or Blank)
SCFP ID of SET1/SET3 with which grid IDs in the trim component TID is zero-constrained in
fluid pressure. (Integer0 or Blank)
RID ID of a region of a TRMC. ( Integer ≥ 0  or Blank) .&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nastran PEM Solution Enhancements514
Main Index
Remarks:
1.ACPEMCP is a required entry for each trim component that is referenced by TRIMGRP. It must be
put in the main Bulk Data section or BEGIN BULK. It specifies the boundary coupling conditions
as well as the coupling degrees of freedom for computing the reduced boundary impedance matrices
of the trim component.
2.A glued interface means that the trim component is completely constrained on to the structure, such
as a car body. There is no relative movement between the trim component and the structure at the
interface.
3.A sliding interface means that the trim component is laid on the surface of structure, such as a car
body. There is no relative movement in the normal direction of the interface between the trim
component and the structure. Relative sliding movement is allowed in the contact surface.
4.An open interface means that the free flow of fluid between the fluid-phase and cavities occurs at the
interface.
5.An impervious or closed interface means that the fluid flow between the trim component and cavities
is prohibited at the interface. This can happen when the porous material is covered by a thin film
which stops the fluid flow or the cavity is in touch with a structure part of the trim component.
6.The SET1/SET3 entries must reside in the Bulk Data section introduced by Case Control, BEGIN
BULK TRMC.
7.Under current PEM implementation, only 3D elements are allowed for trim components. Hence,
SCRX, SCRY and SCRZ fields of ACPEMCP are not processed.
8.OOC is intended for large trim component s. The number in the O OC field defines the number of
blocks to be used for the Schur complement evaluation which reduces the memory requirement. A
side effect of OOC&amp;gt;1 is that a full RIM is generated, instead of lower triangular RIM, which is similar
to PARAM,PEMFRIM,1.
9.SPM is a flag for selecting single precision MUMPS in ACTRAN. With default value of 0, double
precision MUMPS is utilized. Single precision MUMPS will be used with SPM field having value
greater 0. Single precision MUMPS has the benefits of reduced memory requirement and better
performance. However, single precision MUMPS may suffer a minor degradation on accuracy.
10. An air gap interface means the trim component is assumed to be coupled to the structure through a
very thin air layer. The thin air layer is taken into the analysis without being modeled (not being
defined in the trim model file).
11. A TRMC can have many ACPEMCP entries. However, an ACPEMCP of a TRMC with blank RID
field is a must before ACPEMCP with non-blank RID can show up.CRIMSR Reduced Impedance Matrix Compression Ratio for coupling with structure ( 1.0 ≥ Real &amp;gt;
0.0, Default=1.0)
CRIMFR Reduced Impedance Matrix Compression Ratio for coupling with cavity ( 1.0 ≥ Real &amp;gt; 0.0,
Default=1.0)Describer Meaning&lt;/p&gt;
&lt;p&gt;515 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
12. CRIMSR and CRIMFR compression ratios allow to reduce the size of the reduce impedance
matrices. This size reduction allows a significant memory disk usage reduction. This compression
may imply a loss of accuracy on results. A ratio of 1.0 means no compression. CRIMSR and
CRIMFR requires the modal approach to be selected for RIM (PARAM,TRMBIM,MODAL)
Inputs / Outputs Description
The input of the enhanced MSC Nastran PEM workflow uses the normal M SC Nastran PEM SOL 111
input, w ith the addition of the APIM FMS entry and the modal approach for generating the RIM
(PARAM,TRMBIM,MODAL).
The output requests and output format remain unchanged, only the destination folder of the results is
changed.
With the enhanced MSC Nastran PEM workflow many directories are created corresponding to the different
steps of the workflow:
•report: Contains log files.
•00_PRE_SOL_103: Contains input and log files.
•01_Mapping_Control: Contains input and log files.
•02_SOL_103: Contains input and log files.
•03_ACTRAN: Contains input and log files.
•04_SOL_111: Contains input, log and result files.
The usual *.h5, *.f06, *.pch and *.op2 files containing the results are stored in the 04_SOL_111 directory.
Guidelines, Perspectives and Limitations
Guidelines to set-up a model remain unchanged, except for the requirement that an APIM FMS entry m ust
be added to the input deck.
In order to keep good accuracy of results using the compressed RIM feature, it is recommend to not request
compression factors below 0.9. It is possible that, for some TRIM, the compression will not provide
sufficiently accurate results. In this case increasing the compression ratio value or deactivating the
compression for this particular TRIM should result in the expected results.
The enhanced MSC Nastran PEM workflow using the modal approach for RIM is not fully compatible with
all the capabilities of the MSC Nastran PEM workflow using the physical approach for RIM:
•ACOWEAK coupling
•PARAM,DBALL,SCRATCH
•Participation factors considering effects of the TRIM
•Trim data recovery
The RIM compression feature is not compatible with analytical TRIM and no modeling using compressed
RIM and analytical TRIM is allowed.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nastran PEM Solution Enhancements516
Main Index
It is not recommended to run many different models in the same directory using the enhanced MSC Nastran
PEM workflow. Results will be overwritten.
The enhanced MSC Nastran PEM workflow do es not yet support  jobs using multi hosts.
Example
Here are the results of the enhanced workflow obtained for the Dodge Neon model.&lt;/p&gt;
&lt;p&gt;Figure 11-13  View of the Car System
2D Elm = 1219407 TRIM = 4 7.6mi DOF 5229 (Structure) Modes
3D Elm = 407764 Subcases = 3 20 RIM Frequency 1231 (Fluid) Modes&lt;/p&gt;
&lt;p&gt;517 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
In the following charts are presented the improvements resulting from using t he enhanced workflow in terms
of performances.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nastran PEM Solution Enhancements518
Main Index
Compared to physical approach for RIM, the enhanced MSC Nastran PEM workflow provides the same
results. Results when RIM compression is activated provide a very good accuracy.&lt;/p&gt;
&lt;p&gt;519 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Exterior Acoustics
Introduction
With interior acoustic problems, the acoustic domain considered is bounded. A typical example is the
determination of the sound pressure inside a car.
With exterior acoustic problems, the acoustic domain is unbounded. The analysis studies the sound pressure
in the vicinity of the vibrating body or far away from the body. A further important result is the acoustic
power radiated from the vibrating structure. A typical example is the determination of the radiated acoustic
power of an engine.
The infinite elements are attached to the boundary of the acoustic finite element mesh to provide the correct
non-reflecting boundary condition.
Apart from standard acoustic results within the finite region it is possible to compute acoustic results at points
within the infinite elements. These points, the so-called field points, may be connected by elements to form
a field point mesh. If a field point mesh is defined, also the acoustic power through this field point mesh is
computed.
Input
Bulk Data entries, CACINF3 and CACINF4, are used to define the connectivity of the infinite elements.
The properties of the infinite elements are defined on PACINF Bulk Data entries.
Field points and field point meshes are defined in separate sections of the bulk data file. These sections must
follow the main bulk data section.
Output of radiated power from the wetted surface and intensities on the wetted surface is controlled by Case
Control commands ACPOWER and INTENSITY. Output of field point mesh results is controlled by Case
Control command ACFPMRESULT .
Definition of Infinite Elements
The geometry of an infinite element is defined by the geometry of its base and the location of the pole, see
Figure 11-14. The base of the infinite element is that part that is in contact with the finite domain. The
geometry of the base is defined by its connectivity and the location of the corner grids. In order to avoid
overlapping of the infinite elements, the surface they are attached to must be convex. However, it is not
necessary that this surface is smooth.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics520
Main Index
Figure 11-14  Geometry of Infinite Element
Within an infinite element, the acoustic pressure is expanded into a power series of (1/r) where r is the
distance from the pole.The radial interpolation order is the number of terms kept in this series.
The connectivity of the base is defined on the CACINF3 and CACINF4 Bulk Data entries. The orientation
should be such that the normal vector on the base points into radial direction. However, MSC Nastran will
automatically change the orientation if the normal vector does not point away from the pole. The location
of the pole as well as the radial interpolation order are defined on PACINF Bulk Data entries.
Defines an acoustic conjugate infinite element with triangular base
FormatCACINF3 Acoustic Conjugate Infinite Element Base Connection
1 2 3 4 5 6 7 8 9 10
CACINF3 EID PID G1 G2 G3
Field Contents
EID Element Identification Number (Integer &amp;gt; 0)
PID Property Identification Number of a PACINF entry (Integer &amp;gt; 0)
Gi Grid Point Identification Numbers of Element Base Connection Points (Integer &amp;gt; 0)&lt;/p&gt;
&lt;p&gt;521 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Defines an acoustic conjugate infinite element with quadrilateral base
FormatCACINF4 Acoustic Conjugate Infinite Element Base Connection
1 2 3 4 5 6 7 8 9 10
CACINF4 EID PID G1 G2 G3 G4
Field Contents
EID Element Identification Number (Integer &amp;gt; 0)
PID Property Identification Number of a PACINF entry (Integer &amp;gt; 0)
Gi Grid Point Identification Numbers of Element Base Connection Points (Integer &amp;gt; 0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics522
Main Index
Defines the properties of acoustic conjugate infinite elements .
Format
Definition of Field Point Meshes
Acoustic field point meshes are defined in separate sections of the bulk data file. These sections follow the
main bulk data section. Each of the sections begins with
BEGIN BULK AFPM = afpmid
or
BEGIN AFPM = afpmid
where afpmid  is the acoustic field point mesh identifier (Integer &amp;gt; 0). Acoustic field points are defined using
the standard GRID Bulk Data entry. Because all grid points defined in this section of the bulk data file are
acoustic field points, it is not necessary to place a -1 into field 7.
The grid points can be connected by any type of elements. However, only CTRIA3 and CQUAD4 elements
define a field point mesh that is used to compute normal components of the acoustic intensity and the power
through the field point mesh. Legal property identifiers have to be specified on the CTRIA3 and CQUAD4
Bulk Data entries. However, the referenced PSHELL entries need not be defined.
If output to an .op2 file is requested, parameter POST has to be defined within the section of the acoustic
field point mesh. Output of different field point meshes can be sent to different .op2 files using parameter
OUNIT2 within the sections of the acoustic field point meshes.
Example
BEGIN AFPM=100
$
PARAM, POST, -1
$
$ Isolated Field Points along a Line
$
GRID     1001    2       5.      0.      0.
GRID     1002    2       6.      0.      0.
GRID     1003    2       7.      0.      0.PACINF Acoustic Conjugate Infinite Element Property
1 2 3 4 5 6 7 8 9 10
PACINF PID MID RIO X1 X2 X3
Field Contents
PID Property Identification Number of PACINF entry (Integer &amp;gt; 0)
MID Material Identification Number of a MAT10 entry (Integer &amp;gt; 0)
XP , YP , ZP Coordinates of the Pole of the Infinite Elements (in the Basic Coordinate System)&lt;/p&gt;
&lt;p&gt;523 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
GRID     1004    2       8.      0.      0.
GRID     1005    2       9.      0.      0.
GRID     1006    2       10.     0.      0.
CORD2R,   2,, 0., 0., 0., -.5, -.5, .707107
, .5, .5, .707107
$
BEGIN AFPM = 200
$
PARAM, POST, -1
$
GRID,  1,,  -1., -1., 2.
GRID,  2,,   0., -1., 2.
GRID,  3,,   1., -1., 2.
GRID,  4,,  -1.,  0., 2.
GRID,  5,,   0.,  0., 2.
GRID,  6,,   1.,  0., 2.
GRID,  7,,  -1.,  1., 2.
GRID,  8,,   0.,  1., 2.
GRID,  9,,   1.,  1., 2.
$
GRID, 11,,  -1., -1., 2.
GRID, 12,,   0., -1., 3.
GRID, 13,,   1., -1., 2.
GRID, 14,,  -1.,  0., 3.
GRID, 16,,   1.,  0., 3.
GRID, 17,,  -1.,  1., 2.
GRID, 18,,   0.,  1., 3.
GRID, 19,,   1.,  1., 2.
$
CQUAD4, 1, 1, 1, 2, 5, 4
CQUAD4, 2, 1, 2, 3, 6, 5
CQUAD4, 3, 1, 4, 5, 8, 7
CQUAD4, 4, 1, 5, 6, 9, 8
$
CQUAD4, 5, 1, 12, 16, 18, 14
CTRIA3, 6, 1, 11, 12, 14
CTRIA3, 7, 1, 12, 13, 16
CTRIA3, 8, 1, 16, 19, 18
CTRIA3, 9, 1, 14, 18, 17
$
ENDDATA
Case Control Commands
The following case control commands control postprocessing which is related to exterior acoustics.&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics524
Main Index
Requests output of the power radiated from the wetted surface.
FormatACPOWER (Case) Acoustic Power Output Request
ACPOWERSORT1
SORT2PRINT,PUNCH
PLOTCSV unit =   
   ALL
n
NONE     &lt;/h1&gt;&lt;h1&gt;525 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Remark
1.The mean radiated acoustic power per period (PA) is computed as:
where,  is the complex conjugate transpose of the complex velocity of the wetted surface,&lt;br&gt;
is the coupling matrix, and  is the acoustic pressure.
Requests output of acoustic intensity on wetted surface.
FormatDescriber Meaning
SORT1 Output will be presented as tabular listing of panels for each excitation frequency
SORT2 Output will be presented as tabular listing of excitation frequencies for each panel
(Default)
PRINT The printer will be the output medium (Default).
PUNCH The punch file will be the output medium.
PLOT Results are generated but not output.
CSV Results will be written to a .csv file.
unit Unit of the .csv file as used on the ASSIGN statement
ALL Radiated power will be processed for the wetted surface and all panels.
n Set identification of a previously defined set of panels. Radiated power will be processed
for the wetted surface and all panels in the referenced set.
NONE Radiated power will not be processed.
INTENSITY (Case) Acoustic Intensity Output Request
Describer Meaning
SORT1 Output will be presented as tabular listing of grid points for each excitation frequency
(Default)
SORT2 Output will be presented as tabular listing of excitation frequencies for each grid pointPA1
2&amp;mdash;REALv* A p   =
v* A
p
INTENSITYSORT1
SORT2PRINT,PUNCH
PLOT
   ALL
n
NONE     &lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics526
Main Index
PRINT The printer will be the output medium (Default).
PUNCH The punch file will be the output medium.
PLOT Results are generated but not output.
ALL Intensities will be computed for all grid points of the wetted surface.
n Set identification of a previously defined set of grid points. Intensities will be computed
for the grid points in this set only.
NONE Acoustic intensities will not be processed.Describer Meaning&lt;/p&gt;
&lt;h1&gt;527 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Requests output of field point mesh results.
Format
Output
In addition to the standard acoustic results, the following results may be requested:
Acoustic energy radiated from the wetted surface or from panels
Normal component of the acoustic intensity at grid points of the wetted surface
Acoustic pressure and intensity at the field pointsACFPMRESULT (Case) Acoustic Field Point Mesh Results Output Request
Describer Meaning
SORT1 Output will be presented as tabular listing of grid points for each excitation frequency
(Default)
SORT2 Output will be presented as tabular listing of excitation frequencies for each grid point
PRINT The printer will be the output medium (Default).
PUNCH The punch file will be the output medium.
PLOT Results are generated but not output.
VELOCITY Requests output of particle velocities (Default: NO)
REAL or IMAG Requests rectangular format (real and imaginary) of complex output. Use of either
REAL of IMAG yields the same output.
PHASE Requests polar format (magnitude and phase) of complex output. Phase output is in
degrees.
POWER Requests output of power through field point mesh (Default: YES)
ALL Results of all field point meshes will be processed
n Set identification of a previously defined set of field point mesh identifiers. Results will
be processed for the field point meshes in this set only.
NONE Field point mesh results will not be processed.ACFPMRESULTSORT1
SORT2PRINT,PUNCH
PLOTVELOCITYYES
NO=  

REAL or IMAG
PHASEPOWERYES
NO=
ALL
n
NONE     &lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics528
Main Index
Acoustic velocity at the field points
Acoustic energy flowing through the field point mesh
Field point mesh results can be written to the .f06 file or the .op2 file. The .xdb file is not yet supported.
Guidelines
1.The surface the infinite elements are attached to must be convex but it need not be smooth. Infinite
elements have to be connected to acoustic grid points. Thus it is necessary to model the vicinity of
the vibrating structure with acoustic finite elements until a convex surface is reached.
2.The radial interpolation order required depends on the directivity of the pressure field. Usually, a
higher order is needed for higher frequencies.
3.It is recommended to study the sensitivity of the results with respect to the radial interpolation order
by repeating the analysis with a different radial interpolation order.
4.Infinite elements are supported in direct and modal frequency response analysis (SOL 108 and SOL
111). Experience shows that a large number of fluid modes is needed to get converged results. Thus,
modal reduction of the fluid is not recommended. However, modal reduction can be applied to the
structure.
5.Efficiency can be increased if the iterative solver is used. It is recommended to use the Jacobi
preconditioner with an epsilon of 10-4.
Limitations
1.Infinite elements are supported in a frequency response analysis only (SOL 108 and SOL 111).
Example
In this example, the sound transmission through an elastic plate embedded in an infinite rigid wall is
analyzed. Figure 11-15 shows the geometry of the plate and of the fluid region meshed with finite elements.
The finite element mesh of the structure and of one quarter of the fluid can be seen in Figure 11-16.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P28</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_028/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_028/</guid>
      <description>
        
        
        &lt;p&gt;529 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-15  Geometry
Infinite Elements are attached to the top and the four lateral faces but not to the bottom. The pole of all
infinite elements is at the center of the plate. The finite element mesh of the structure together with one
quarter of the infinite element mesh is shown in Figure 11-17.
The field point mesh is a cube which completely encloses the fluid mesh. Thus, the power through this field
point mesh equals the total power radiated from the plate. Figure 11-18 shows the fluid mesh and one quarter
of the field point mesh.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics530
Main Index
Figure 11-16  Structure and Quarter of Fluid Mesh
Figure 11-17  Structure and Quarter of Infinite Element Mesh&lt;/p&gt;
&lt;p&gt;531 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-18  Fluid Mesh and Quarter of Field Point Mesh
The excitation is a uniform pressure applied to the plate. The acoustic pressure in the finite element mesh
and acoustic results at some discrete field points located along the z-axis and at the field points of the field
point mesh are computed. Acoustic results at the field points include the acoustic pressure and the acoustic
intensities.  See MSC_DOC_DIR /tpl6/ dynamics/bd11aie.dat for the full file, a portion of the input file is
shown in Listing 11-2.
Listing 11-2  Part of Exterior Acoustics Example
$
$ file bd11aie.dat
$
SOL 108
CEND
TITLE    = Vibrating Plate Problem
SUBTITLE = Direct Frequency Response
$
ECHO = SORT(EXCEPT, GRID, CHEXA, CQUAD4, CACINF4)
$
DLOAD   = 10
FREQ    = 20
SMETHOD = 30
SPC     = 1
$
SET 1 = 1088, 1440, 1792, 2144, 2496, 2848,
3200, 3728
DISP(PHAS) = 1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics532
Main Index
ACFPMRESULT(PHAS) = ALL
$
BEGIN BULK
$
PARAM, POST, -1
$
ACMODL, IDENT
$
RLOAD1, 10, 200,,, 300
PLOAD2, 200, 1., 1, THRU, 150
TABLED1, 300
, 0., 1., 1000., 1., ENDT
$
FREQ1, 20, 2., 2., 7
$
ITER, 30
PRECOND = J,
ITSEPS  = 1.0E-4
$
GRDSET,,,,,, -1
$
$ fluid
$
PACINF   10      20       5      0.      0.      0.
$
CACINF4  13901   10      3641    3642    3658    3657
CACINF4  13902   10      3642    3643    3659    3658
CACINF4  13903   10      3643    3644    3660    3659
CACINF4  13904   10      3644    3645    3661    3660
CACINF4  13905   10      3645    3646    3662    3661
CACINF4  13906   10      3646    3647    3663    3662
&amp;hellip;&amp;hellip;.
$
$ structure
$
PSOLID   2       20                                      PFLUID
MAT10    20              1.21    340.
$
CHEXA    1001    2       1001    1002    1018    1017    1177    1178
1194    1193
CHEXA    1002    2       1002    1003    1019    1018    1178    1179
1195    1194
CHEXA    1003    2       1003    1004    1020    1019    1179    1180
1196    1195
CHEXA    1004    2       1004    1005    1021    1020    1180    1181&lt;/p&gt;
&lt;p&gt;533 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
1197    1196
&amp;hellip;&amp;hellip;.
$
$  plates
$
PSHELL   1       1       .005    1               1
$
CQUAD4   1       1       1       2       18      17
CQUAD4   2       1       2       3       19      18
CQUAD4   3       1       3       4       20      19
CQUAD4   4       1       4       5       21      20
&amp;hellip;&amp;hellip;.
$ Material Record : steel_iso_SI
MAT1     1       2.1+11          .3      7800.   1.2-5
&amp;hellip;&amp;hellip;.
$ Loads for Load Case : Case_1
$ Displacement Constraints of Load Set : Constraints.10
SPC1     1       123     1       THRU    17
SPC1     1       123     32      33      48      49      64      65
80      81      96      97      112     113     128     129
144     145
SPC1     1       123     160     THRU    176
$ Referenced Coordinate Frames
CORD2R   1               0.      0.      0.      0.      0.      1.
1.      0.      0.
$
BEGIN AFPM=100
$
$ Isolated Field Points
$
GRID, 10001,,  0., 0.,  3.5
GRID, 10002,,  0., 0.,  5.
GRID, 10003,,  0., 0., 10.
$
GRID, 11001,, -7., -6., 6.
GRID, 11002,,  7., -6., 6.
GRID, 11003,,  7.,  6., 6.
GRID, 11004,, -7.,  6., 6.
$
ENDDATA
Results&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Exterior Acoustics534
Main Index
Figure 11-19 shows the acoustic pressure in the Finite Element mesh and Figure 11-20 shows some results
printed to the.f06.
Figure 11-19  Acoustic Pressure in the Finite Element Mesh&lt;/p&gt;
&lt;p&gt;535 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-20  Partial Results of Exterior Acoustics Example FREQUENCY =  1.000000E+01
C O M P L E X   D I S P L A C E M E N T   V E C T O R
(MAGNITUDE/PHASE)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
      1088      S      4.965144E-02                    
                       355.7659                    
      1440      S      2.997001E-02                    
                       352.8348                    
      1792      S      2.046974E-02                    
                       349.4032                    
      2144      S      1.523430E-02                    
                       345.6827                    
      2496      S      1.202095E-02                    
                       341.7944                    
      2848      S      9.881609E-03                    
                       337.8060                    
      3200      S      8.368078E-03                    
                       333.7535                    
      3728      S      6.789113E-03                    
                       327.6001 
               
  FREQUENCY =  1.000000E+01
                               C O M P L E X   A C O U S T I C   P R E S S U R E   R E S U L T S
                                                     (MAGNITUDE/PHASE)

  POINT ID.               TYPE                    P                   P(RMS)              DB                  DB(A)
      1088                 S                   4.965144E-02        3.510887E-02       -2.608136E+01       -9.648136E+01
                                                   355.7659            355.7659            355.7659            355.7659
      1440                 S                   2.997001E-02        2.119200E-02       -3.046626E+01       -1.008663E+02
                                                   352.8348            352.8348            352.8348            352.8348
      1792                 S                   2.046974E-02        1.447430E-02       -3.377775E+01       -1.041777E+02
                                                   349.4032            349.4032            349.4032            349.4032
      2144                 S                   1.523430E-02        1.077228E-02       -3.634355E+01       -1.067435E+02
                                                   345.6827            345.6827            345.6827            345.6827
      2496                 S                   1.202095E-02        8.500094E-03       -3.840123E+01       -1.088012E+02
                                                   341.7944            341.7944            341.7944            341.7944
      2848                 S                   9.881609E-03        6.987353E-03       -4.010345E+01       -1.105034E+02
                                                   337.8060            337.8060            337.8060            337.8060
      3200                 S                   8.368078E-03        5.917124E-03       -4.154749E+01       -1.119475E+02
                                                   333.7535            333.7535            333.7535            333.7535
      3728                 S                   6.789113E-03        4.800628E-03       -4.336374E+01       -1.137637E+02
                                                   327.6001            327.6001            327.6001            327.6001
  FREQUENCY =  1.000000E+01                                                             ACOUSTIC FIELD POINT MESH =      100
                     A C O U S T I C    F I E L D    P O I N T    M E S H    R E S U L T S

                     ACOUSTIC PRESSURE        INTENSITY COMP.    INTENSITY       INTENSITY       INTENSITY
   POINT ID.      MAGNITUDE         PHASE      NORMAL TO FPM         X               Y               Z
       10001    5.866256E-03    3.224648E+02    0.0             2.931354E-12    1.101986E-09    4.104157E-08
       10002    4.148095E-03    3.068126E+02    0.0             1.247390E-12    3.946541E-10    2.070771E-08
       10003    2.089736E-03    2.541933E+02    0.0             1.670165E-13    5.247429E-11    5.294857E-09
       11001    1.899346E-03    2.438697E+02    0.0            -2.784603E-09   -2.450892E-09    2.336591E-09
       11002    1.899338E-03    2.438701E+02    0.0             2.784757E-09   -2.449285E-09    2.337945E-09
       11003    1.899360E-03    2.438697E+02    0.0             2.784794E-09    2.450661E-09    2.336715E-09
       11004    1.899329E-03    2.438699E+02    0.0            -2.784759E-09    2.394420E-09    2.392732E-09
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis536
Main Index
BW Method of Fluid-Structure Analysis
Introduction
A Body in White method (BW) of calculating fluid structure interface has been implemented.  Speed
improvements are such that an automobile model that consists of 120,000 - 150,000 shell elements and
15,000 - 20,000 fluid elements now takes only about 60 seconds for calculating the fluid/structure interface
matrix, which is a 1000 times speed improvement.&lt;/p&gt;
&lt;p&gt;537 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
For instance, the following is a typical performance increase for a medium sized model:
Figure 11-21  Performance
You can request a .pch file that represents fluid and structure “skin” (param,skinout,punch) in order to check
interface accuracy.  A utility program is provided for viewing and inspecting the completeness and accuracy
of the “skin” coverage (see the following example).
Two methods are available on the ACMODL  entry for calculating the interface [A] matrix.
The format for the BW method is:
Example1 2 3 4 5 6 7 8 9 10
ACMODL INTER INFOR FSET SSET NORMAL METHOD SKNEPS DSKNEPS
INTOL ALLSSET SRCHUN
IT
ACMODL .25&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis538
Main Index
For the BW method, no ACMODL entry is necessary if defaults are used (suggested for first run). A special
license is required for this entry.
To use the old CP method the METHOD field (field 7) must be specified as CP:
Example
In most cases, the BW (Body in White) method provides a good fluid/structure interface matrix.  However,
changes in  the interface can be made by either adding or deleting structural elements in the interface
calculation.
A set of utility programs are provided to aid in viewing of the elements in the interface.
BW Coupling Algorithm
The purpose of this algorithm is to overcome the difficulties of many structural elements of various sizes
overlapping each other.  Also, this algorithm should be somewhat insensitive to small inadvertent holes in the
structure.
The algorithm proceeds as follows:
1.Use the current search algorithm to locate the fluid free faces and the corresponding structural
element faces.
2.For a fluid free face and its list of structural element faces (that were determined by boxing normal to
the fluid element) do as follows:
a.For each fluid free face establish a face coordinate system.
b.Determine the resultant pressure force for each grid on the fluid element by the relationship&lt;/p&gt;
&lt;p&gt;c.Resolve this resultant pressure force for a unit grid pressure to the grids of the fluid element by
the expression (determined by virtual work)
d.Using the origin of the free fluid face, determine the center of pressure . The
relationship will be of the form1 2 3 4 5 6 7 8 9 10
ACMODL INTER INFOR FSET SSET NORMAL METHOD
ACMODL CP
RiNfSpi1  pj0= ;=  d
S= i1N grid/elem =
Fi NfTNfSpi d
S=
XPiYPi
XPiFi
Ri&amp;mdash;&amp;ndash;XjX0–
jgrids
=&lt;/p&gt;
&lt;h1&gt;539 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
e.Using rigid relations to consider only a unit motion normal to the fluid face with the appropriate
moment relationships, determine the resulting load distribution at the grids of each of the
structural elements.  The area of each structural element projected normal to the fluid element
will be used as a weighting function. The expression is of the form:
where  is the vector of resulting load distribution at the grids of each of the j structural
elements.  is a diagonal weighting matrix.  is the  rigid transformation matrix.
f.Loop over each grid of the fluid element and accumulate the forces at the structural grids.
g.Note, with this algorithm, we do not worry if a structural element is only partially wetted by the
fluid.  We always require rigid body equilibrium.
3.Repeat for the next fluid element and its associated group of structural elements.  Accumulate the
forces at the structural grids.
Example
The model shown below, see MSC_DOC_DIR /tpl6/ dynamics/acoustic1.dat, is a square column of fluid
with a round top which interacts with an inner structural plate with a hole in it and an outer structural plate:YPiFi
Ri&amp;mdash;&amp;ndash;YjX0–
jgrids
=
Fj WRRTWR  1–Ri
0
0&lt;/h1&gt;&lt;p&gt;Fj
W R&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis540
Main Index
Figure 11-22&lt;br&gt;
The inner plate has a hole as shown:
Figure 11-23&lt;br&gt;
The relative location of the fluid face and the structural plates is shown:&lt;/p&gt;
&lt;p&gt;541 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-24&lt;br&gt;
When the model is run, and PARAM, SKINOUT ,PUNCH is used, the fluid and structure interface elements
and grids found by the search are written to the acoustic1.pch file shown:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis542
Main Index
These element and grid SET1 Bulk Data entry lists serve two purposes. First, they can be used in a finite
element preprocessor as an accuracy check by graphically displaying which elements are used in the analysis,
and second they can limit or expand what elements or grids are used in fluid/structure interface.
To check the fluid/structure interface, MSC supplies a perl program named “acnaspat.pl” which reads the
above .pch file and writes a MSC Patran session file. The perl script is located at “/ msc20224 /util”. T o run
the script on UNIX, type, for instance:
/msc20224 /util/acnaspat.pl acoustic1.pch
which creates a MSC Patran session file named “acoustic1_flstgrp.ses”, which when run in MSC Patran will
create two groups:
These two groups are shown below:$ ********************
$ FSI - IDS OF FLUID ELEMENTS AT INTERFACE
$ ********************
$ This bulk data entry may by referenced from the FSET field on the
$ ACMODL bulk data entry (with the ELEMENTS option) to remove unwanted
$ fluid faces from the fluid-structure interface.
SET1 1 5001 5001 5001 5002 5002 5003 5003 5004
$ ********************
$ FSI - IDS OF STRUCTURE ELEMENTS AT INTERFACE
$ ********************
$ This bulk data entry may by referenced from the SSET field on the
$ ACMODL bulk data entry (with the ELEMENTS option) to remove unwanted
$ structure faces from the fluid-structure interface.
SET1 2 1041 1037 1038 1040  1039 1083 1094
1092 1091 1090  1082 1095 1093  1063 1081
1088 1064 1065 1062  1066 1053 1054 1055
1087 1052 1056 1057 1086 1051 1096  1058
1019  1028 1085  1073 1050  1072 1076  1084
1020  1070  1059 1013 1077 1071 1060 1012
1010  1061 1009 1008 1046 1047 1007 1006
1044 1045
$ ********************
$ FSI - IDS OF FLUID GRIDS AT INTERFACE
$ ******************** $
This bulk data entry may by referenced from the FSET field on the
$ ACMODL bulk data entry (with the GRIDS option) to remove unwanted
$ fluid faces from the fluid-structure interface.
SET1 3 5001 5002 5003 5004 5005 5006 5007
5008 5009 5010 5011 5012 5013 5016
$ ********************
$ FSI - IDS OF STRUCTURE GRIDS AT INTERFACE
$ ********************
$ This bulk data entry may by referenced from the SSET field on the
$ ACMODL bulk data entry (with the GRIDS option) to remove unwanted
$ structural faces from the fluid-structure interface.
SET1 4  1004 1005 1006  1007  1008 1009  1010
1017 1018 1027 1028  1029 1030  1031  1032
1040 1041 1042  1045  1047 1048 1049 1050
1051 1051 1053 1054 1055 1056 1057 1058
1059 1060 1061 1062 1063 1064 1065 1066
1071 1072 1073 1074 1075 1078 1079 1080
1081 1082 1084 1085 1086 1087 1088 1093
1094 1095 1096 1097 1098 1099 1101 1102
1103 1104 1105 1106 1107 1108 1109 1110
1111 1112 1113 1114 1115 1116 1117 1118
1119 1120 1121 1122 1123 1125 1126 1127
1128 1129
acoustic1_fluid the fluid interface elements and grids
acoustic1_structure structure interface elements and grids&lt;/p&gt;
&lt;p&gt;543 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-25&lt;br&gt;
Two things are indicated:
extra structure elements were selected that do not project directly onto the fluid faces,
only elements from the inner structural plate were selected.
Which structural elements to be included in the fluid/structure interface can be adjusted in one of two ways.
The first is by increasing the size of the search box by changing the defaults on the NORMAL, INTOL, and
SKNEPS fields of the ACMODL Bulk Data entry.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis544
Main Index
Figure 11-26  Search Box
  - Search box height in positive normal direction from fluid face, where L is smallest
fluid face side length,
  - height in negative normal direction,
  - in-plane width added to fluid face dimensions where D is the distance from
the center of the fluid face to the grid point.
If the search cannot find any structural faces within the search box, it will widen the search box by using the
value of the DSKNEPS field on the ACMODL Bulk Data entry.
Structural faces, whose centroids fall within the search box, are included in the fluid/structure interface. The
effect of the structural face in the fluid/structure interface matrix is weighed according to areas, angles and
distances between it and the fluid face that it found.
In this case, looking at the interface elements, the normal distance of the search box appears good, but too
many structural elements on the sides of the fluid faces are being selected. By adding an ACMODL  Bulk Data
entry with SKNEPS decreased from the default of 0.5 to 0.25:
acmodl,,,,,,,0.25
you get the following interface elements: INTOLL
NORMALL
INTOLL
1SKNEPS + D&lt;/p&gt;
&lt;p&gt;545 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-27&lt;br&gt;
The structural elements are closer to what is wanted, but there are still too many.
The second way to control which elements are used in the fluid/structure interface is to use the
INFOR=“elements” or “grids” and the FSET and SSET fields on the ACMODL Bulk Data entry.
First the elements not wanted are removed from the “acoustic2_struct” group in MSC Patran. For this
example, any structure element with less than 50% of it&amp;rsquo;s area projected onto the fluid faces is removed. The
final structural interface elements are shown:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis546
Main Index
Figure 11-28&lt;br&gt;
Other methods of structural interface element selection would also be used at this point such as:
graphical selection
searching by property or material type
In MSC Patran, the “acoustic2_struct” group is then displayed alone, it&amp;rsquo;s elements selected with the Erase
tool, the element list highlighted, and then copied and pasted into a file, “element1.txt” in this case. The file&amp;rsquo;s
contents as shown below:
Elm 1008 1013 1044 1045 1050:1059 1062:1064 1070 1072 1082 1085 1090 1091
Another Perl program from the same install directory is now used to change the above MSC Patran element
or node list format into a MSC Nastran SET1 format. The program is copied to the local directory and run
as follows in a UNIX environment:
/msc20224 /util/acpatnas.pl element1.txt
which creates a file named “element1.set1” in the following form:
SET1           1    1008    1013    1044    1045    1050    1051    1052
1053    1054    1055    1056    1057    1058    1059    1062
1063    1064    1070    1072    1082    1085    1090    1091
The SET1 SID is changed from “1” to “2” so as not to conflict with the fluid element SET1 from the
“acoustic1.pch” file. When these two SET1 Bulk Data entries are put in the MSC Nastran file along with:
acmodl,,elements,1,2&lt;/p&gt;
&lt;p&gt;547 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
then only the above structural elements are used in the fluid/structure interface.
Figure 11-29 shows the fluid pressure distribution and the structural deflection.
Figure 11-29&lt;br&gt;
The model is loaded with acoustic power on the upper left hand corner of the fluid, thus the high pressure
in that area. The effect of the hole in the inner structure can be seen as a slight reduction in fluid pressure at
the hole.
The structural deformation shows that the outer structure is unaffected by the pressure, as expected.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
BW Method of Fluid-Structure Analysis548
Main Index
This concludes the example.
Parallel Structural Element Meshes in the Search Box:
As noted above, the outer parallel structural surface did not have any elements selected for inclusion in the
interface, even though some were in the search box. This is because parallel surfaces are ignored by using a
connectivity technique. The first structural element face found in the search box is the one closest to the
searching fluid face. All elements connected to this first element are checked whether they are in the search
box. Once an element is found to be outside of the box, it is no longer used for the connectivity check. This
tends to eliminate parallel element meshes unless the connection is also in the search box, in which case the
parallel elements must be manually removed using the SET1 technique above.
A problem occurs with this technique if a connectivity discontinuity occurs in the search box. Only one side
of the discontinuity will be selected, causing elements to be missed in the interface search. The workaround
for this is to use the ALLSET=“YES” field on the ACMODL entry in which case all structural elements or
grids in the SET1 entries are forced to be included in the fluid/structure interface whether the connectivity
search finds them or not. You must also set INTER=“DIFF”, INFOR=“ELEMENTS” or “GRIDS” and
SSET must be properly filled out. This method forces an interface between the listed structural elements and
the nearest fluid faces.
Absolute Versus Relative Search Box Dimensions:
If SRCHUNIT=“ABS”, the box dimensions are equal to the value of NORMAL, INTOL, and SKNEPS,
rather than times a fluid face dimension. This is useful when the distance between the structural interface and
the fluid interface is relatively constant instead of relative to the fluid element size.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P29</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_029/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_029/</guid>
      <description>
        
        
        &lt;p&gt;549 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Direct Input of Interface [A] Matrix
You can input the [A] matrix directly using DMIG with the A2GG (Case)  Case Control command.  The
format of the A2GG input is similar to the other G-type DMIG input (e.g., K2GG).  By default, the A2GG
fluid-structure coupling matrix will be added to the computed coupling matrix.  T o replace the computed
coupling matrix with the selected A2GG matrix, set PARAM, ASCOUP ,NO.
Examples
A2GG = ADMIG
A2GG = ADMIG1, ADMIG2, ADMIG3
A2GG = 1.5&lt;em&gt;ADMIG1, .5&lt;/em&gt;ADMIG2&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors550
Main Index
Acoustic Modal Participation Factors
Modal Participation Theory
The fluid and structure equations of motion are:
(11-24)
where:
The participation factors are obtained as follows:
(11-25)
(11-26)
where  are the uncoupled, undamped structural modes and  are the uncoupled, undamped, rigid-
wall acoustic modes. The vectors  and  are the modal amplitudes. Substituting these relations into
Eq. (11-24) and pre-multiplying by the modal matrices, we get the equation
(11-27)
or=mass
=damping
=stiffness
=displacement
=pressure
=structure
=fluid
=interface matrix
=loadMs0
A–TMfu··s
p·· Bs0
0Bfu·s
p· KsA
0Kfus
p+ +Ps
Pf=
M
B
K
u
p
s
f
A
P
usss =
pff =
s f
sf
sTMss0
fTATs– TMff··
s
··
fsTBss0
0TBff·
s
·
fsTKsssTAf
0fTKffs
f+ +sTPs
fTPf&lt;/h1&gt;&lt;p&gt;551 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
(11-28)
Define the following harmonic solution forcing frequency .
(11-29)
(11-30)
(11-31)
For the bottom equation of Eq. (11-28), we get:
(11-32)
Define  as
(11-33)
then
(11-34)
The fluid mode participation  is defined as
(11-35)
where  is the diagonalized vector of fluid modal amplitudes per excitation frequency.
The structure mode participation  is defined as
(11-36)
where  is the diagonalized vector of structural modal amplitudes per excitation frequency.
The fluid load participation  is defined as
(11-37)
The fluid-structure panel participation  is defined asms0
aT– mf··
s
··
f bs0
0bf·
s
·
f ksa
0kfs
f+ +Qs
Qf=

s
feit= =
· ieit=
··2eit–=
2aTs–2mfibfkf + +  f + Qf =
Z2
Z22mf – ibfkf + +  1–=
f2Z2Ts – Z2Qf + =
Pfff =
f
Ps2fZ2aTs –=
s
PlfZ2Qf =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors552
Main Index
(11-38)
The fluid-structure panel-grid participation  is defined as
(11-39)
where
(11-40)
are the columns extracted from the b th boundary panel for panel grid i and  are the rows of the
structural modal matrix corresponding to panel grid i.
Participation Factor Results
Introduction
The Case Control commands PFMODE, PFPANEL and PFGRID are used to request modal, panel and grid
participation factors.
The output format is used for all types of modal and panel participation factors. The output format of grid
participation factors is similar to the output format of displacements.
The implementation supports
panel definition by referencing a set of grids, a set of elements or a set of properties.
panel and grid participation factors in direct frequency response analysis (SOL 108).
An adjoint method is used to compute acoustic structural modal participation factors, acoustic panel
participation factors and acoustic grid participation factors, resulting in significant performance
improvements.
Theory
In a linear structural dynamic analysis, the results at a degree of freedom considered are the sum of the
contributions of the different modes, e.g., the accelerations at a degree of freedom considered are the sum of
the accelerations due to the responses of the different structural modes. These contributions are called
structural modal participation factors or modal contribution fractions. The degrees of freedom considered
are called response degrees of freedom. Structural modal participation factors allow to identify the structural
modes that have the largest influence on the response.
Likewise, in an acoustic analysis, the pressure at a grid point considered is the sum of the pressures due to the
responses of the different fluid modes. These contributions are called  acoustic fluid modal participation Pp2fZ2fTApanelTss –=
Pgi–=2fZ2fTAbT
ss
AbT

s&lt;/p&gt;
&lt;p&gt;553 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
factors . Acoustic fluid modal participation factors allow to identify the fluid modes that have the largest
influence on the response.
In a coupled analysis, the pressure at a response degree of freedom is the sum of the pressure due to the
acoustic sources in a rigid cavity, and the pressure due to the acceleration of the fluid-structure interface, the
so-called wetted surface. The pressure due to the acoustic sources in a rigid cavity is called the load
participation factor .
The acceleration of the fluid-structure interface is the sum of the accelerations due to the responses of the
different structural modes, obtained from a coupled analysis. These contributions are called acoustic
structural modal participation factors.  One acoustic structural modal participation factor equals the
pressure at the response degree of freedom if there are no acoustic sources, and if the acceleration of the
wetted surface consists of the response of one mode only. Thus, the acoustic structural modal participation
factors allow to identify the structural modes that have the largest influence on the pressure at the grid point
considered. In the absence of acoustic sources within the cavity, the acoustic structural modal participation
factors sum up to the total pressure at the response degree of freedom.
Modal participation factors, by their nature, are useful only in the low-frequency range where the resonance
frequencies are well separated, and the response is dominated by a small number of modes. On the contrary,
geometric participation factors are useful also at higher frequencies where the response has contributions
from a large number of modes. There are two types of geometric participation factors, namely panel
participation factors and grid participation factors.
A panel is a set of grid points of the wetted surface. The panel participation factor  is that pressure at the
grid point considered that results from the accelerations of the grid points of the panel only, with all other
grid points of the wetted surface kept fixed. Thus, panel participation factors allow to identify the regions of
the wetted surface that have the largest influence on the acoustic pressure at the grid point considered. Panel
participation factors usually do not sum up to the total acoustic pressure. This is only the case if the panels
do not overlap, and if their union equals the complete wetted surface.
The accelerations of the grid points of the panel are the sum of the accelerations due to the different structural
modes. The pressure due to the accelerations at the grid points of the panel that are due to one mode only is
called the acoustic panel modal participation factor. Acoustic panel modal participation factors sum up to
the panel participation factors.
Finally, if the panels consist of one grid point only, acoustic grid participation factors are obtained. For each
structural grid point of the wetted surface, there are six acoustic grid participation factors, i.e. the pressures
at the response degree of freedom due to the accelerations of the six degrees of freedom of this grid point.
The acoustic grid participation factors depend on the mesh size. Thus, their absolute value has no physical
meaning. However, if the mesh of the wetted surface is of comparable size everywhere, the acoustic grid
participation factors allow to quickly identify the regions that make the largest contribution to the acoustic
pressure at the grid point considered, and thus help to define the panels.
Participation factors are complex quantities, summing up to the complex response. Thus, if they are divided
by the response, they sum up to one. The participation factors divided by the response are called normalized
participation factors.  Normalized participation factors are complex quantities, too.
The real parts of the normalized participation factors sum up to one whereas the imaginary parts sum up to
zero. Thus, the real part of a normalized participation factor is that part of the participation factor that is in
phase with the total response, divided by the magnitude of the total response. It is called the modal fraction .&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors554
Main Index
The phase of a normalized participation factor is the phase of the participation factor relative to the total
response.
If the modal fraction is multiplied by the magnitude of the total response, the projected participation factor
is obtained. It is that part of the participation factor that is in phase with the total response. The projected
participation factors sum up to the total magnitude.
Input
Computation and output of modal participation factors is controlled by the PFMODE (Case)  Case Control
command:
Examples
SET 20 = 25/T3, 33/T3
PFMODE(STRUCTURE, STRUCTMP=ALL) = 20
Compute structural modal participation factors for z-translations at grid points 25 and 33
SET 20 = 11217
SET 90 = 25., 30., 35.
PFMODE(FLUID, STRUCTMP=ALL, FLUIDMP=ALL,
SOLUTION = 90) = 20
Compute acoustic structural and fluid modal participation factors for pressure at grid point 11217 at
excitation frequencies 25Hz, 30Hz and 35Hz.
Computation and output of panel participation factors is controlled by the PFPANEL (Case)  Case Control
command:PFMODESTRUCTURE
FLUIDPRINT, PUNCH
PLOTREAL or IMAG
PHASE   

SORTsorttype = KEY sortitem = ITEMSALL
itemlist    =    
FLUIDMPALL
mf
NONE
= STRUCTMPALL
ms
NONE
=   
PANELMPALL
setp
NONE
= SOLUTIONALL
setf
NONE
= FILTER fratio =    
NULLipower = setdof
NONE= &lt;/p&gt;
&lt;h1&gt;555 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Example
SET 100 = 10., 12.
SET 200 = 1222, 1223
PFPANEL(SOLUTION=100, SORT=ABSD) = 200
Compute acoustic panel participation factors for pressure at grid points 1222 and 1223 at excitation
frequencies 10Hz and 12Hz. Output is sorted according to descending modal fractions.
Computation and output of grid participation factors is controlled by the PFGRID (Case)  Case Control
command:
Example
SET 20 = 11217
SET 90 = 25., 30., 35.
PFGRID(SOLUTION = 90) = 20
Compute acoustic grid participation factors for the pressure at grid point 11217 at excitation frequencies
25Hz, 30Hz and 35Hz.PFPANELPRINT, PUNCH
PLOTREAL or IMAG
PHASEPANELALL
setp&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
=    

SORTsorttype = KEY sortitem = ITEMSALL
itemlist    =    
SOLUTIONALL
setf
NONE     
= FILTER fratio =  NULLipower =   
setdof
NONE   =
PFGRIDPRINT, PUNCH
PLOTREAL or IMAG
PHASEGRIDSALL
setg=  

SOLUTIONALL
setf
NONE&lt;/h1&gt;&lt;p&gt;
setdof
NONE=&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors556
Main Index
Detailed descriptions of the PFMODE, PFPANEL and PFGRID Case Control Commands can be found in
the MSC Nastran Quick Reference Guide.
Panels are defined in the Bulk Data Section using PANEL Bulk Data entries which reference SET1 or SET3
Bulk Data entries.
SET1 Bulk Data entries list the grid points of the panels.
SET3 Bulk Data entries with option ELEM list the elements of the panels. The panels consist of all
grid points associated to these elements.
SET3 Bulk Data entries with option PROP list the property identifiers of the elements of the panels.
The panels consist of all grid points associated to the elements with the property identifiers defined.
The FLSTCNT (Case)  Case Control command combines miscellaneous fluid-structure control parameters in
one place.
Output
Three different formats are used for printed output. The format for modal participation factors  is similar to
the format obtained with the MCFRACTION command. The header contains the type of the participation
factor, information on the grid point and degree of freedom considered, the total response, information on
excitation frequency, subcase and load and information on the maximum modal response, the sort method
and the filter. In case of acoustic panel modal participation factors, the header contains the name of the panel
considered and the panel response instead of the total response.
The data are presented in ten columns:
Column Label Description
1 Mode Id Mode number
2 Natural Freq (Hz) Resonance frequency
3-4 Modal Response: Real / Imaginary Real and imaginary part of participation factorFLSTCNT ACSYMYES
NO&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
= ACOUTPEAK
RMS&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
= 
PREFDB1.0
prp&amp;mdash;&amp;mdash;&amp;mdash;
= ASCOUPYES
NO&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
= 
SKINOUTNONE
PUNCH
PRINT
ALL&lt;/h1&gt;&lt;p&gt;557 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
The format for acoustic panel participation factors  is the same as for modal participation factors, except
that the first two columns contain the panel names.
Load participation factors are included in the acoustic structural modal participation factors and the acoustic
panel participation factors, with a mode number of 0 and a panel name –LOAD-. Acoustic structural modal
participation factors, together with the load participation factor, sum up to the total response.
Acoustic grid participation factors  use the output format of complex displacements. Both real and
imaginary part or magnitude and phase format are available. There is one output per excitation frequency
and fluid grid point.
Example5-6 Modal Response: Magnitude / Phase Magnitude and phase of participation factor
7 Projection Magnitude Projected participation factor: That part of the
participation factor that is in phase with the total
response
8 Relative Phase Phase of participation factor relative to total
response
9 Modal Fraction Real part of normalized participation factor
10 Scaled Response Magnitude Projected participation factor divided by largest
magnitude of all participation factorsColumn Label Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors558
Main Index
The numbers printed indicate the normalized acoustic pressure at the selected grid point due to the
accelerations at the corresponding degrees of freedom.
Guidelines
The amount of output produced may be very large. This is especially true for acoustic panel mode
participation factors and for acoustic grid participation factor (e.g., the number of data produced for acoustic
panel modal participation factors equals the number of subcases times the number of excitation frequencies
times the number of response degrees of freedom times the number of panels times the number of structural
modes). Consequently, output should be limited to a small number of excitation frequencies and to a small
number of response degrees of freedom.
Example  Participation Factors
The example shows the acoustic analysis of a cabin. The cabin is excited by four forces at the corners of the
seat. The result of interest is the pressure at the driver’s ear.
The frequency response of the pressure shows a peak at 40Hz. T o investigate this peak, acoustic fluid and
structure modal participation factors and panel participation factors are requested at a frequency of 40Hz.
Panels are defined for the front window, the rear wall, the left and the right side, the top and the bottom. See
MSC_DOC_DIR /tpl6/ dynamics/bd11pf8a.dat for the complete input and Listing 11-3 for a partial input.&lt;/p&gt;
&lt;p&gt;559 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
$ Participation Factor Test Problem: Cabin
$
$ Coupled Modal Frequency Response Analysis
$
$ Participation Factor Example - Cabin
$
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors560
Main Index
$ Illustrates use of
$  o Acoustic Fluid Modal Participation Factors
$  o Acoustic Struct. Modal Part. Factors
$  o Acoustic Panel Part. Factors
$  o Acoustic Grid Part. Factors
$
$ =======================================================
$
Listing 11-3  Partial Input File
SOL 111      &lt;br&gt;
CEND
TITLE = Cabin Example
SUBTILE = Direct Enforced Motion, Modal Frequency Response
$
ECHO=SORT(EXCEPT,CBEAM,CQUAD4,CHEXA,CPENTA,GRID)
AUTOSPC(NOZERO) = YES
$
METHOD(STRUCTURE)=1   &lt;br&gt;
METHOD(FLUID)    =2  &lt;br&gt;
$
FREQ  = 100
DLOAD = 200          &lt;br&gt;
SPC   = 300
$
SET 1  = 1, 7
SET 20 = 11217
SET 90 = 40.
$
ACCE(PHAS,SORT2) = 1
DISP(PHAS,SORT2) = 20
$
PFMODE(FLUID, FLUIDMP=ALL, STRUCTMP=ALL,&lt;br&gt;
SOLUTION=90, SORT=ABSD) = 20
PFPANEL(SOLUTION=90, SORT=ABSD) = 20
PFGRID(SOLUTION=90) = 20
$
OUTPUT(XYPLOT)
XPAPER=29.
YPAPER=21.
XGRID=YES
YGRID=YES
XTITLE = Frequency
YTITLE = Pressure
XYPLOT DISP RESPONSE / 11217(T1)
$&lt;/p&gt;
&lt;p&gt;561 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
BEGIN BULK
$
$ Request OP2 for PATRAN
PARAM, POST, -1   &lt;br&gt;
$
$ Define Structural Damping
PARAM, G, 0.02     &lt;br&gt;
$
$ Define Fluid Damping
PARAM, GFL, 0.002 &lt;br&gt;
$
$ Define Reference Pressure for dB (in Pa)
PARAM, PREFDB, 2.8284-5&lt;br&gt;
$
PARAM, GRDPNT, 0              $ Request Weight Output
$
$ Structural and Acoustic Modes up to 300Hz
EIGRL, 1,,300.        &lt;br&gt;
EIGRL, 2,,300.       &lt;br&gt;
$
$ Excitation Frequencies
FREQ1, 100, 10., 5., 18
$
$ Constraints
SPC1, 300, 123456, 1, 7, 29, 35
$
$ Excitation
RLOAD1, 200, 210,,, 220,, ACCE
SPCD, 210,  1, 3, 1.,  7, 3, 1.
SPCD, 210, 29, 3, 1., 35, 3, 1.
TABLED1, 220
, 0., 1., 1000., 1., ENDT
$
$ Nonmatching Fluid-Structure Interface
ACMODL, DIFF&lt;br&gt;
$
$ Panels
$
SET3, 101, ELEM, 127, THRU, 162, 667, THRU, 738
SET3, 201, ELEM,  37, THRU,  72, 739, THRU, 810
SET3, 301, ELEM, 331, THRU, 384
SET3, 401, ELEM,  25, THRU,  36, 73, THRU, 126
SET3, 501, ELEM, 271, THRU, 294, 601, THRU, 612
SET3, 601, ELEM,   1, THRU,  24, 455, THRU, 478,
, 497, THRU, 562&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Modal Participation Factors562
Main Index
$
PANEL, LEFT, 101, RIGHT , 201, FRONT, 301, REAR, 401
PANEL, TOP , 501, BOTTOM, 601
$
$ Structural Model
$
&amp;hellip;&amp;hellip;.
ENDDATA
Listing 11-4  Acoustic Structural Mode Participation Factors:
Listing 11-5  Acoustic Panel Participation Factors:
The acoustic structural mode participation factors show that the largest contribution comes from the 9th
structural mode which has a resonance at 83.09Hz. The acoustic panel participation factors show that the
rear wall and the bottom make the largest positive contribution whereas the other panels make smaller or
negative contributions. A C O U S T I C   S T R U C T U R E   M O D A L  P A R T I C I P A T I O N   F A C T O R S
GRID POINT =    11217,    TOTAL RESPONSE (R/I) =  -9.42534E-01 /  -1.03865E-02, (M/P) =   9.42591E-01 /    180.63
LOAD FREQUENCY =   4.00000E+01, (SUBCASE        1, DLOAD =      200)
MAXIMUM MODAL RESP =   1.13741E+00 FOR MODE ID =   9, SORTKEY = FRACTION, SORT = ABS VALUE DESCENDING, FILTER =   1.00000E-03
MODE   NATURAL          MODAL RESPONSE         MODAL RESPONSE     PROJECTION    REL.        MODAL   SCALED RESPONSE
ID   FREQ (HZ)       REAL      IMAGINARY     MAGNITUDE   PHASE    MAGNITUDE   PHASE      FRACTION     MAGNITUDE
9  8.30861E+01  1.13739E+00 -6.25017E-03  1.13741E+00  359.69 -1.13725E+00  179.05   -1.20652E+00 -9.99864E-01
8  8.18779E+01 -6.32888E-01  4.67901E-03  6.32905E-01  179.58  6.32798E-01   -1.05    6.71338E-01  5.56350E-01
3  6.82472E+01 -6.25327E-01  6.91886E-03  6.25365E-01  179.37  6.25213E-01   -1.27    6.63291E-01  5.49681E-01
21  1.33089E+02 -5.71325E-01  1.54503E-03  5.71327E-01  179.85  5.71273E-01   -0.79    6.06066E-01  5.02258E-01
84  2.42589E+03 -4.37526E-01 -1.03197E-04  4.37526E-01  180.01  4.37501E-01   -0.62    4.64147E-01  3.84647E-01
31  1.60995E+02  3.90763E-01 -2.29250E-04  3.90763E-01  359.97 -3.90737E-01  179.34   -4.14534E-01 -3.43532E-01
14  1.07144E+02 -2.38134E-01  1.45832E-03  2.38139E-01  179.65  2.38104E-01   -0.98    2.52605E-01  2.09338E-01
79  4.55425E+02  2.27102E-01 -8.55791E-05  2.27102E-01  359.98 -2.27088E-01  179.35   -2.40918E-01 -1.99653E-01
5  7.74596E+01  1.86438E-01 -1.13864E-03  1.86441E-01  359.65 -1.86414E-01  179.02   -1.97768E-01 -1.63894E-01
1  3.61553E+01 -1.61339E-01 -1.79486E-02  1.62334E-01  186.35  1.61527E-01    5.72    1.71364E-01  1.42013E-01
13  1.05870E+02 -1.54939E-01  5.68473E-04  1.54940E-01  179.79  1.54923E-01   -0.84    1.64359E-01  1.36207E-01
32  1.70901E+02 -1.41683E-01  1.99820E-04  1.41683E-01  179.92  1.41672E-01   -0.71    1.50301E-01  1.24557E-01
29  1.51451E+02  1.20258E-01 -1.69764E-04  1.20258E-01  359.92 -1.20249E-01  179.29   -1.27573E-01 -1.05722E-01
50  2.09592E+02 -9.86342E-02  1.15611E-04  9.86342E-02  179.93  9.86269E-02   -0.70    1.04634E-01  8.67119E-02
11  9.45225E+01  9.81448E-02 -3.61858E-04  9.81454E-02  359.79 -9.81348E-02  179.16   -1.04112E-01 -8.62792E-02
80  4.99581E+02 -9.78103E-02  5.94714E-05  9.78103E-02  179.97  9.78037E-02   -0.67    1.03760E-01  8.59881E-02
36  1.79440E+02 -7.51393E-02 -7.29040E-05  7.51393E-02  180.06  7.51355E-02   -0.58    7.97116E-02  6.60584E-02
43  2.01720E+02  7.43311E-02 -5.88513E-05  7.43311E-02  359.95 -7.43259E-02  179.32   -7.88528E-02 -6.53467E-02
23  1.33661E+02 -7.42764E-02  1.22552E-04  7.42765E-02  179.91  7.42705E-02   -0.73    7.87940E-02  6.52980E-02
A C O U S T I C   P A N E L   P A R T I C I P A T I O N   F A C T O R S
GRID POINT =    11217,    TOTAL RESPONSE (R/I) =  -9.42534E-01 /  -1.03865E-02, (M/P) =   9.42591E-01 /    180.63
LOAD FREQUENCY =   4.00000E+01, (SUBCASE        1, DLOAD =      200)
MAXIMUM PANEL RESP =   2.63941E+00 FOR PANEL = BOTTOM  , SORTKEY = FRACTION, SORT = ABS VALUE DESCENDING, FILTER =   1.00000E-
03
PANEL NAME              PANEL RESPONSE         PANEL RESPONSE     PROJECTION    REL.        PANEL   SCALED RESPONSE
REAL      IMAGINARY     MAGNITUDE   PHASE    MAGNITUDE   PHASE      FRACTION     MAGNITUDE
BOTTOM         -2.63940E+00  8.05866E-03  2.63941E+00  179.83  2.63915E+00   -0.81    2.79989E+00  9.99901E-01
FRONT           1.11163E+00 -4.59632E-03  1.11164E+00  359.76 -1.11152E+00  179.13   -1.17921E+00 -4.21123E-01
TOP             1.09365E+00 -3.39035E-03  1.09365E+00  359.82 -1.09354E+00  179.19   -1.16015E+00 -4.14314E-01
REAR           -2.33400E-01 -2.06344E-02  2.34310E-01  185.05  2.33613E-01    4.42    2.47841E-01  8.85095E-02
RIGHT          -6.01577E-02  5.20980E-03  6.03829E-02  175.05  6.00966E-02   -5.58    6.37568E-02  2.27690E-02
LEFT           -6.01573E-02  5.20977E-03  6.03825E-02  175.05  6.00963E-02   -5.58    6.37564E-02  2.27688E-02
-LOAD-         -3.82035E-02  6.22966E-06  3.82035E-02  179.99  3.82011E-02   -0.64    4.05278E-02  1.44734E-02&lt;/p&gt;
&lt;p&gt;563 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
PEAKOUT Automated Acoustic Participation Factors
Output at Peak Responses
Introduction
For the different types of Acoustic Participation Factor calculation in Nastran, namely PFMODE, PFPANEL
and PFGRID, a capability to find peaks in the frequency response for GRIDs and automatically compute
participation factor at those peaks is available. This eliminates the manual effort by the user to first identify
at which frequencies to calculate the participation factors, and reduces the number of Nastran frequency
response runs from two to one. PEAKOUT command is supported in SOL 108, SOL 111 and SOL 200.
Benefits
1.Eliminate the manual frequency response identification done by the analyst
2.Potentially reduce the number of Nastran runs required to efficiently perform Participation Factor
calculations
User Interface
A case control command called PEAKOUT is used to control the peak identification process, see following
the format of PEAKOUT case control command. The PEAKOUT command can be placed above subcase
level or inside subcases
Format:&lt;br&gt;
Example:
PEAKOUT NPEAK=4, NEAR=2.0, LFREQ=10.0, HFREQ=200.0, RTYPE=DISP , PSCALE=DBA
Detailed descriptions of the PEAKOUT Case Control Command can be found in the M SC Nastran Quick
Reference Guide .
PEAKOUT can be requested from PFMODE, PFPANEL and PFGRID case control commands using the
keyword SOLUTION.
Format: PEAKOUT  NPEAK  =  p, NEAR  =  q, LFREQ  =  r, H FREQ  =  s,
RTYPE = DISP
VELO&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
ACCE     
PSCALENONE
DB&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
DBA     
= &lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
PEAKOUT Automated Acoustic Participation Factors Output at Peak Responses564
Main Index
Example:
SET 40 = 1222, 1223
PEAKOUT NPEAK=4, NEAR=2.0,
PFMODE(FLUID, STRUCTMP=ALL, PANELMP=ALL, SOLUTION=PEAK) = 40
Format:
Example:
SET 40 = 11217
PEAKOUT NPEAK=4, NEAR=2.0,
PFGRID(PLOT , PHASE, SOLUTION=PEAK) = 40
Format:
Limitations
1.If SOLUTION=PEAK is requested by any of PFGRID, PFMODE or PFPANEL,
SOLUTION=PEAK will be forced for all participation factor calculations within that subcase.
2.All GRIDs referenced on any set dof of participation factor requests are required (but not limited to)
on a DISP output command, see example in test case below. The DISP command must be placed
above the SUBCASE level.PFMODE     &amp;hellip;,SOLUTION     =  ALL
setf&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
PEAK
NONE       
,&amp;hellip;


setof
NONE=
PFGRID     &amp;hellip;,SOLUTION     =  ALL
setf&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
PEAK
NONE       
,&amp;hellip;


setof
NONE=
PFPANEL     &amp;hellip;,SOLUTION     =  ALL
setf&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
PEAK
NONE       
,&amp;hellip;


setof
NONE=&lt;/p&gt;
&lt;p&gt;565 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
3.If non sparse data recovery is requested using PARAM,SPARSEDR,NO, then also
PARAM,DDRMM,-1 is required.
4.For this release, external super elements are not supported.
Examples
Below is an automotive example model with a snippet of its input BDF file illustrating use of the PEAKOUT
case control command and Automated Acoustic Participation Factor Summary output to the F06 file at the
driver’s ear location at 26.0, 120.0 and 199.0 Hz peak frequencies. The acoustic participation factor results
(requested with PFPANEL and PFGRID commands) are also written to OP2 and DBALL/MASTER files
and can be displayed by post-processors as shown below.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
PEAKOUT Automated Acoustic Participation Factors Output at Peak Responses566
Main Index
Figure 11-30  Input to participation factor analysis with PEAKOUT
Figure 11-31  Output in f06 for Subcase 3 GRID 1100001&lt;/p&gt;
&lt;p&gt;567 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-32  Frequency Response Function plot for GRID 1100001 (Driver’s Ear Location)
Figure 11-33  Polar Plot of the Panel participation for GRID 1100001 at 199 Hz&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
PEAKOUT Automated Acoustic Participation Factors Output at Peak Responses568
Main Index
Figure 11-34  Grid participation for GRID 1100001 at 120 Hz
The example shown is for illustration purposes however several example models are available in the T est
Problem Library folder …./tpl/pem.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P3</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_003/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_003/</guid>
      <description>
        
        
        &lt;p&gt;29 CHAPTER 2
Finite Element Input Data
Main Index
Three Related Parameters
The bulk data input also includes three parameters which relate to the specification of mass properties.  They
are:
1.PARAM, WTMASS ,V1 – Specifies a factor by which to multiply the mass of the structure to obtain
dimensionally correct mass. For example, if the ft -lb-sec system is used, and the mass input unit is
pounds, then V1 = 1/32.174 = .031081. This factor operates on all mass terms (except those defined
on DMIG entries; PARAM,CM2,V1 may be used for these instead).
2.PARAM, COUPMASS ,1 – Requests that the coupled mass option be used rather than the lumped mass
option for all elements which support the coupled mass option. In the lumped mass option, the
distributed mass of an element is simply divided up and the parts are located at the connected grid
points.  In the coupled mass option, the distributed mass is replaced by a nondiagonal mass matrix
which couples the connected grid points. The latter method is sometimes more accurate, but it uses
more computer time. See the Table 2-1 for descriptions of the elements.
3.PARAM, GRDPNT ,V1 – Causes the Grid Point Weight Generator to be executed. The value of the
parameter, V1, is an integer which identifies a grid point at which the rigid body mass properties of
the structure will be computed. See the Grid Point Weight Generator  (Ch. 19) in the  for a description of
GPWG and an example of the output format which is provided. This capability can be used as a
check on mass and geometric input data.
Coupled Mass Matrix Terms
A common difficulty for finite element beginners is to comprehend the generation of off -diagonal or coupled
terms in the mass matrix.  These are caused by the following actions.
1.With PARAM,COUPMASS,1 the finite elements themselves generate coupled terms to represent the
distributed element mass more accurately than simple lumped masses on the grid points. The total
kinetic energy of the element is represented by shape functions, which in turn, are coupled functions
of displacement and rotation.
2.The internal matrix operations in the solution sequences produce coupled mass terms. MPCs and
RBE-type elements cause the mass to be redistributed from the dependent degrees -of-freedom to the
remaining independent points. The ASET,  OMIT , and Superelement reduction operation s may
automatically fill the entire mass matrix.  These operations will maintain exact total mass and CG
properties and provide a good approximation to the inertia effects of the eliminated points, but they
can be costly.
3.Direct user inputs such as CMASSi scalar elements and CONMi mass elements may produce
off-diagonal mass terms. Other inputs that cause coupling are direct matrix inputs (DMIG), and
transfer functions (TF).
An example of a coupled scalar mass is illustrated in the example below:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Effects in Moving Coordinate Systems30
Main Index
A spring, k, and two masses, m1 and m2, are attached to a structural model. However, when modeling fluids
or other special connections, the user may wish to use the difference in displacements, u= u1- u2, instead
of u2 as the primary degree -of-freedom.
We may find the equivalent coupled mass matrix by the use of energy methods. The
(2-8)
From basic energy principles, the resulting equilibrium equations are
(2-9)
The mass matrix for the two degrees -of-freedom becomes
(2-10)
where  are the active degrees -of-freedom. T wo CMASSi elements may be used; one will
be coupled to two points. Note that the spring, k, is now connected to u only. An alternate method would
be to use the MPC constraints to produce the same effect. Simply include all three DOFs in the model and
use conventional lumped masses and a connected spring. Choose u2- u1u= 0 as the MPC equation, and
the reduced mass and stiffness matrices will be identical to the system above.
Mass Effects in Moving Coordinate Systems
In most cases the motions of the grid points in MSC Nastran are measured in a set of fixed coordinate
systems. Even large displacement nonlinear analysis uses displacements measured in fixed directions. kStructure
P1m1u1
u
m2P2u2
V ku22 =
Tm1u·12m2u·1u·–2+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
m1u··1m2u··1u··– + P1P2+ =
kum2u··1u··– – P2–=and
mm1m2+ m2–
m2– m2=
u u1u =&lt;/p&gt;
&lt;p&gt;31 CHAPTER 2
Finite Element Input Data
Main Index
However, there are several cases in which it is more convenient to use a moving coordinate system. Examples
follow:
Spinning Bodies
If the entire structure is spinning at a constant angular velocity, both static centrifugal forces and coupled
dynamic inertial terms may be needed.  An example is a high speed turbine wheel that exhibits gyroscopic
stability problems.
For a body rotation defined by the angular velocity vector, , and for a location vector of a point, , the
absolute velocity vector of the point, , in fixed coordinates is
(2-11)
The acceleration vector is,
(2-12)
The first term on the right -hand side of Eq. (2-12) is the static centripetal acceleration;  the second term leads
to centripetal stiffness; the third term leads to C oriolis force ; the last term, , is the relative acceleration
vector.
Another term that is calculated for spinning bodies is the so -called differential stiffness matrix.  It is
proportional to the steady centrifugal preloads in the elements. These are the terms that would stiffen a string
if a weight on the string were swung in a circular motion.  These terms are important because they are
approximately the same magnitude as the Coriolis and centripetal stiffness terms defined in Eq. (2-12).
(Centrifugal stiffness and differential stiffness terms are of the same magnitude.)
The basic matrix equation for the forces in the moving system is
(2-13)
The special MSC Nastran process assembles the terms in Eq. (2-11) and Eq. (2-12) into matrices, that when
substituted into Eq. (2-13), result in
(2-14)
where:
[Bc]=generates the velocity -dependent Coriolis forces. Note that Bc is not symmetric!
[Kc]the centripetal stiffness matrix
[Kd]the differential stiffness matrix r
V
V ru+u·+ =
Ar u 2u·u·· + + + =
u··
MA BV Ku + + P =
Mu·· BBc+u· KKcKd+ + u + + Pt =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mass Effects in Moving Coordinate Systems32
Main Index
The system defined by Eq. (2-14) may be solved with a transient analysis, a frequency response, or a complex
eigenvalue calculation. The complex eigenvalues may be obtained for a series of spin rates to determine the
critical angular speeds. At each angular velocity the complex roots are obtained in the form pn = n ± in.&lt;br&gt;
Unstable conditions usually occur when , where P is a positive integer. By definition, the system
is unstable if n is a positive number.
Inertia Relief
If a free body is accelerating due to constant unbalanced loads, the inertia relief solution provides the ability
to obtain static deflections relative to a set of reference points attached to the moving coordinate system. An
example is an airplane in a steady turn or accelerating dive. Although this capability is a static solution, it is
obtained from the dynamics theory.
The basic matrix equation for the inertia relief method is
(2-15)
where  are displacements relative to the moving system and  are the steady accelerations to be
determined from the mass and loads. If  is a matrix whose columns define the rigid body motions of the
structure, then for a free body,
(2-16)
where  is called the rigid body transformation matrix. However, since the full -sized vector, , is a
rigid body motion, it may be defined in terms of accelerations at a set of reference coordinates, , by the
equation
(2-17)
Combining Eq. (2-17) into Eq. (2-16) and eliminating , we obtain
(2-18)
where the total mass matrix for the reference coordinates is
(2-19)
The resulting set of equations defined in Eq. (2-15) may now be arbitrarily constrained since the total load is
balanced by the inertia forces.
T wo different methods are used in MSC Nastran to calculate the rigid body matrix  in SOL 101 using
PARAM, INREL . See Inertia Relief  (Ch. 11) in the MSC Nastran Linear Static Analysis User’s Guide  for a
description of methods. One uses the SUPORT Bulk Data entry to define the reference degrees -of-freedom.
Any number of  degrees -of-freedom that provide a nonredundant set of supports may be used. This option nP
Ku P Mao – =
u ao
D
DTKu 0 DTP DTMao – = =
D ao
ar
ao Dar =
ar
ao Dm1–DTP =
m DTMD =
D
ur&lt;/p&gt;
&lt;p&gt;33 CHAPTER 2
Finite Element Input Data
Main Index
allows partially free bodies and extra mechanisms.   The other method automatically determines the six rigid
body displacement vectors.  In these cases, only six free motions are allowed.
Base Excitations
One of several methods to solve problems with enforced motion is to constrain the point of motion and solve
the problem in the accelerating system. This method is related to inertia relief but uses entirely different
inputs. It is easy to use for earthquake analysis of buildings, in which the base is accelerating uniformly.
If a structure is attached to a semi -rigid base that causes a known stress -free motion, , the total
structural motion, , is
(2-20)
where  are displacements relative to the base motion.  If the structure is not constrained elsewhere, we
may assume that the  base displacements produce no force and
(2-21)
If we move the known base motion  to the right hand side it looks almost identical to a gravity load:
(2-22)
Damping Input
Damping  is a mathematical approximation used to represent the energy dissipation observed in structures.
Damping is difficult to model accurately since it is caused by many mechanisms including
Viscous effects (dashpot, shock absorber)
External friction (slippage in structural joints)
Internal friction (characteristic of the material type)
Structural nonlinearities (plasticity, gaps)
Because these effects are difficult to quantify, damping values are often computed based on the results of a
dynamic test. Simple approximations are often justified because the damping values are low.
Viscous and Structural Damping
Two types of damping are generally used for linear -elastic materials: viscous and structural. The viscous
damping  force is proportional to velocity, and the structural damping force is proportional to displacement.
Which type to use depends on the physics of the energy dissipation mechanism(s) and is sometimes dictated
by regulatory standards.
The viscous damping force  is proportional to velocity and is given byu0
uA
uA u0 ug + =
ug
u0
Mu··gu··0+ Kug + Pg =
u··0
Mu··g Kug + Pg Mu··0t – =
fv&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Damping Input34
Main Index
(2-23)
where:
The structural damping  force  is proportional to displacement and is given by
(2-24)
where:
For a sinusoidal displacement response of constant amplitude, the structural damping force is constant, and
the viscous damping force is proportional to the forcing frequency. Figure 2-2 depicts this and also shows that
for constant amplitude sinusoidal motion the two damping forces are equal at a single frequency.
At this frequency,
(2-25)
where  is the frequency at which the structural and viscous damping forces are equal for a constant
amplitude of sinusoidal motion.=viscous damping coefficient
=velocity
=structural damping coefficient
= stiffness
=displacement
=   (phase change of 90 degrees)fvbu·=
b
u·
fs
fsiGku =
G
k
u
i 1–
G k b   or  bGk
&amp;mdash;&amp;mdash;- = =
&lt;/p&gt;
&lt;p&gt;35 CHAPTER 2
Finite Element Input Data
Main Index
Figure 2-2  Structural Damping and Viscous Damping Forces for Constant Amplitude Sinusoidal
Displacement
If the frequency  is the circular natural frequency , Eq. (2-25) becomes
(2-26)
Recall the definition of critical damping from Eq. (1-11)
(2-27)
Some equalities that are true at resonance ( ) for constant amplitude sinusoidal displacement are
(2-28)
and (2-29)
where  is the quality  or dynamic magnification factor, which is inversely proportional to the energy
dissipated per cycle of vibration.
The Effect of Damping
Damping is the result of many complicated mechanisms. The effect of damping on computed response
depends on the type and loading duration of the dynamic analysis. Damping can often be ignored for short
f
Forcing Frequency Structural DampingViscous Damping
fvbu· i b  u = =
fsi G k u =

Damping Force
 n
bG k
n&amp;mdash;&amp;mdash;&amp;mdash; G n m = =
bcr2km 2mn= =
n
b
bcr&amp;mdash;&amp;mdash;-G
2&amp;mdash;- = =
Q1
2&amp;mdash;&amp;mdash;1
G&amp;mdash;- = =
Q&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Damping Input36
Main Index
duration loadings, such as those resulting from a crash impulse or a shock blast, because the structure reaches
its peak response before significant energy has had time to dissipate. Damping is important for long duration
loadings (such as earthquakes), and is critical for loadings (such as rotating machinery) that continually add
energy to the structure. The proper specification of the damping coefficients can be obtained from structural
tests or from published literature that provides damping values for structures similar to yours.
As is discussed in detail in Frequency Response Analysis  and Transient Response Analysis , certain solution methods
allow specific forms of damping to be defined. The type of damping used in the analysis is controlled by both
the solution being performed and the MSC Nastran data entries.  In transient response analysis, for example,
structural damping must be converted to equivalent viscous damping.
Structural Damping Specification
Structural damping is specified on the MATi Bulk Data entries and PARAM,G.  The GE  field on the MATi
entry is used to specify overall structural damping for the elements that reference this material entry.  This
definition is via the structural damping coefficient GE.
For example, the MATBV  entry:
specifies a structural damping coefficient of 0.1.
An alternate method for defining structural damping is through PARAM,G,r where r is the structural
damping coefficient. This parameter multiplies the stiffness matrix to obtain the structural damping matrix.
The default value for PARAM,G is 0.0. The default value causes this source of structural damping to be
ignored. T wo additional parameters are used in transient response analysis to convert structural damping to
equivalent viscous damping: PARAM, W3,W4.
PARAM,G and GE can both be specified in the same analysis.
Viscous Damping Specification
Viscous damping is defined by the following elements:1 2 3 4 5 6 7 8 9 10
$MAT1 MID E G NU RHO A TREF GE
MAT1 2 30.0E6 0.3 7.764E -4 0.10
CDAMP1  entry Scalar damper between two degrees -of-freedom (DOFs) with reference to a PDAMP
property entry.
CDAMP2  entry Scalar damper between two DOFs without reference to a property entry.
CDAMP3  entry Scalar damper between two scalar points (SPOINTs) with reference to a  PDAMP
property entry.
CDAMP4  entry Scalar damper between two scalar points (SPOINTs) without reference to a property
entry.
CVISC  entry Element damper between two grid points with reference to a PVISC property entry.
CBUSH  entry A generalized spring -and-damper structural element that may be nonlinear or
frequency dependent.  It references a PBUSH entry.&lt;/p&gt;
&lt;p&gt;37 CHAPTER 2
Finite Element Input Data
Main Index
Viscous damping for modal transient response and modal frequency response is specified with the
TABDMP1 entry.
Note that GE and G by themselves are dimensionless; they are multipliers of the stiffness. The CDAMPi and
CVISC entries, however, have damping units.
Damping is further described in Frequency Response Analysis  and Transient Response Analysis  as it pertains to
frequency and transient response analyses. Additional discussions of damping modeling and effects can be
found in Damping .
Output
Complex displacements, velocities, accelerations, strains, and stresses have been implemented for solid
elements. The same, including forces, have been implemented for shell and beam elements.
These output quantities can be written into the .f06 and .op2 files in either rectangular or polar format. For
rectangular, which is the default, the keyword REAL or IMAGINARY may be used, and for polar, the
keyword PHASE may be used. Each quantity may be output in a different format.
These output quantities may also be written in either SORT1 or SORT2 order. In SORT1 order, which is
the default for frequency and complex eigenvalue analyses, all the grids/elements are output for each
frequency/time/eigenvalue.  In SORT2 order, which is the default for transient analysis, all the
frequencies/times/eigenvalues are output for each grid/element. Only one order may be chosen for the entire
analysis .
Units in Dynamic Analysis
Because MSC Nastran does not assume a particular set of units , you must ensure that the units in your
MSC Nastran model are consistent.  Because there is more input in dynamic analysis than in static analysis,
it is easier to make a mistake in units when performing a dynamic analysis. The most frequent source of error
in dynamic analysis is incorrect specification of the units, especially for mass and damping.
Table 2-2 shows typical dynamic analysis variables, fundamental and derived units, and common English and
metric units. Note that for English units all “lb” designations are . The use of “lb” for mass (i.e., ) is
avoided.
Table 2-2  Engineering Units for Common Variables
Variable Dimensions*Common
English UnitsCommon
Metric Units
Length L in m
Mass M kg
Time T sec sec
Area
Volume
Velocity in / sec m / seclbflbm
lb-sec2in
L2in2m2
L3in3m3
LT1–&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Units in Dynamic Analysis38
Main Index
Acceleration
Rotation &amp;ndash; rad rad
Rotational Velocity rad / sec rad / sec
Rotational Acceleration
Circular Frequency rad / sec rad / sec
Frequency cps; Hz cps; Hz
Eigenvalue
Phase Angle &amp;ndash; deg deg
Force lb N
Weight lb N
Moment in-lb N-m
Mass Density
Young’s Modulus
Poisson’s Ratio &amp;ndash; &amp;ndash; &amp;ndash;
Shear Modulus
Area Moment of Inertia
T orsional Constant
Mass Moment of Inertia
Stiffness N / m
Viscous Damping Coefficient lb-sec / in N-sec / m
Stress
Strain &amp;ndash; &amp;ndash; &amp;ndash;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;L Denotes length
M Denotes mass
T Denotes time
&amp;ndash; Denotes dimensionlessTable 2-2  Engineering Units for Common Variables (continued)
Variable Dimensions*Common
English UnitsCommon
Metric Units
LT2–insec2 msec2
T1–
T2–radsec2 radsec2
T1–
T1–
T2–rad2sec2 rad2sec2
MLT2–
MLT2–
ML2T2–
ML3–lb-sec3in4 kgm3
ML1–T2–lbin2 Pa; N m2
ML1–T2–lbin2 Pa; N m2
L4in4m4
L4in4m4
ML2in-lb-sec2kg-m2
MT2–lbin
MT1–
ML1–T2–lbin2 Pa; N m2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s Guide
Chapter 3: Real Eigenvalue Analysis
3Real Eigenvalue Analysis
Overview
Reasons to Compute Normal Modes
Mathematical Overview of Normal Modes Analysis
Methods of Computation
User Interface for Real Eigenvalue Analysis
Solution Control for Analysis
Massless Mechanism Identification and Control
Prestiffened Normal Mode Analysis
Examples
Rigid Body Modes
SUPORT Entry
Rigid Body Mode Examples
Tools to Help Identify and Validate Normal Modes&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview40
Main Index
Overview
The usual first step in performing a dynamic analysis is determining the natural frequencies  and mode shapes&lt;br&gt;
of the structure with damping neglected. These results characterize the basic dynamic behavior of the
structure and are an indication of how the structure will respond to dynamic loading.
Natural Frequencies
The natural frequencies of a structure are the frequencies at which the structure naturally tends to vibrate if
it is subjected to a disturbance. For example, the strings of a piano are each tuned to vibrate at a specific
frequency.  Some alternate terms for the natural frequency are characteristic frequency , fundamental
frequency,  resonance frequency , and normal frequency .
Mode Shapes
The deformed shape of the structure at a specific natural frequency of vibration is termed its normal mode
of vibration. Some other terms used to describe the normal mode are mode shape, characteristic shape ,
eigenvector and fundamental shape . Each mode shape is associated with a specific natural frequency.
Natural frequencies and mode shapes are functions of the structural properties and boundary conditions. A
cantilever beam has a set of natural frequencies and associated mode shapes ( Figure 3-1). If the structural
properties change, the natural frequencies change, but the mode shapes may not necessarily change. For
example, if the elastic modulus of the cantilever beam is changed, the natural frequencies change but the
mode shapes remain the same. If the boundary conditions change, then the natural frequencies and mode
shapes both change. For example, if the cantilever beam is changed so that it is pinned at both ends, the
natural frequencies and mode shapes change (see Figure 3-2).
Figure 3-1  The First Four Mode Shapes of a Cantilever Beamxy
z
4xy
z1
xy
z2
xy
z3&lt;/p&gt;
&lt;p&gt;41 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Figure 3-2  The First Four Mode Shapes of a Simply Supported Beam
Computation of the natural frequencies and mode shapes is performed by solving an eigenvalue problem  as
described in Mathematical Overview of Normal Modes Analysis . Next, we solve for the eigenvalues  (natural
frequencies) and eigenvectors  (mode shapes). Because damping is neglected in the analysis, the eigenvalues
are real numbers. (The inclusion of damping makes the eigenvalues complex numbers; see Complex Eigenvalue
Analysis .) The solution for undamped natural frequencies and mode shapes is called real eigenvalue analysis
or normal modes analysis .
Reasons to Compute Normal Modes
There are many reasons to compute the natural frequencies and mode shapes of a structure. One reason is to
assess the dynamic interaction between a component and its supporting structure. For example, if a rotating
machine, such as an air conditioner fan, is to be installed on the roof of a building, it is necessary to determine
if the operating frequency of the rotating fan is close to one of the natural frequencies of the building. If the
frequencies are close, the operation of the fan may lead to structural damage or failure.
Decisions regarding subsequent dynamic analyses (i.e., transient response, frequency response, response
spectrum analysis, etc.) can be based on the results of a natural frequency analysis. The important modes can
be evaluated and used to select the appropriate time or frequency step for integrating the equations of
motion.  Similarly, the results of the eigenvalue analysis-the natural frequencies and mode shapes-can be used
in modal frequency and modal transient response analyses (see Frequency Response Analysis  and Transient
Response Analysis ).
The results of the dynamic analyses are sometimes compared to the physical test results. A normal modes
analysis can be used to guide the experiment. In the pretest planning stages, a normal modes analysis can be xy
z
4xy
z
1
xy
z
2
xy
z
3&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mathematical Overview of Normal Modes Analysis42
Main Index
used to indicate the best location for the accelerometers. After the test, a normal modes analysis can be used
as a means to correlate the test results to the analysis results.
Design changes can also be evaluated by using natural frequencies and normal modes. Does a particular
design modification cause an increase in dynamic response? Normal modes analysis can often provide an
indication  by paying attention to how the frequencies shift and if they now align with frequencies ‘to be
avoided’.
In summary, there are many reasons to compute the natural frequencies and mode shapes of a structure. All
of these reasons are based on the fact that real eigenvalue analysis is the basis for many types of dynamic
response analyses. Therefore, an overall understanding of normal modes analysis as well as knowledge of the
natural frequencies and mode shapes for your particular structure is important for all types of dynamic
analysis.
Mathematical Overview of Normal Modes Analysis
The solution of the equation of motion for natural frequencies and normal modes requires a special reduced
form of the equation of motion. If there is no damping and no applied loading, the equation of motion in
matrix form reduces to
(3-1)
where:
This is the equation of motion for undamped free vibration. T o solve Eq. (3-1) assume a harmonic solution
of the form
(3-2)
where:
Aside from this harmonic form being the key to the numerical solution of the problem, this form also has a
physical importance. The harmonic form of the solution means that all the degrees -of-freedom of the
vibrating structure move in a synchronous manner. The structural configuration does not change its basic
shape during motion; only its amplitude changes.
If differentiation of the assumed harmonic solution is performed and substituted into the equation of motion,
the following is obtained:= mass matrix
= stiffness matrix
= displacement vector
= acceleration  vector
=the eigenvector  or mode shape
=is the circular natural frequencyMu·· Ku + 0=
M
K
u
u··
ut sin =

&lt;/p&gt;
&lt;p&gt;43 CHAPTER 3
Real Eigenvalue Analysis
Main Index
(3-3)
which after simplifying becomes
(3-4)
This equation is called the Eigenequation, which is a set of homogeneous algebraic equations for the
components of the eigenvector and forms the basis for the eigenvalue problem. An eigenvalue problem is a
specific equation form that has many applications in linear matrix algebra. The basic form of an eigenvalue
problem  is
(3-5)
where:
In structural analysis, the representations of stiffness and mass in the Eigenequation result in the physical
representations of natural frequencies and mode shapes. Therefore, the Eigenequation is written in terms of
, , and  as shown in Eq. (3-4) with .
There are two possible solution forms for Eq. (3-4):
1.If det , the only possible solution is
(3-6)
This is the trivial solution, which does not provide any valuable information from a physical point of
view, since it represents the case of no motion.  (“det” denotes the determinant of a matrix.)
2.If det , then a non -trivial solution ( ) is obtained for
From a structural engineering point of view, the general mathematical eigenvalue problem reduces to
one of solving the equation of the form
(3-7)
or
(3-8)A=square matrix
=eigenvalues
I=identity matrix
{x} =eigenvector2Mt sin Kt sin + – 0=
K2M –  0=
AI–x 0=

K M 2=
K2M – 0
 0=
K2M –  0= 0
K2M –  0=
det K2M –  0=
det KM –  0=&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Mathematical Overview of Normal Modes Analysis44
Main Index
where
The determinant is zero only at a set of discrete eigenvalues   or . There is an eigenvector   which
satisfies  and corresponds to each eigenvalue. Therefore,  can be rewritten as
(3-9)
Each eigenvalue and eigenvector define a free vibration mode of the structure. The ith eigenvalue  is related
to the ith natural frequency as follows:
(3-10)
where:
The number of possible eigenvalues and eigenvectors is equal to the number of degrees -of-freedom that have
mass or the number of dynamic degrees -of-freedom.
There are a number of characteristics of natural frequencies and mode shapes that make them useful in
various dynamic analyses. First, when a linear elastic structure is vibrating in free or forced vibration, its
deflected shape at any given time is a linear combination of all of its normal modes
(3-11)
where:
Second, if  and  are symmetric and real (as is the case for all the common structural finite elements),
the following mathematical properties hold:
(3-12)
(3-13)=ith natural frequency&lt;/h1&gt;&lt;p&gt;=vector of physical displacements
=ith mode shape
=ith modal displacement2=
ii2i
Ki2M – i 0          i 123 = =
i
fii
2&amp;mdash;&amp;mdash;=
fi
ii
uii
i=
u
i
i
K M
iTMj 0          if i j =
jTMj mjj-th generalized mass = =&lt;/p&gt;
&lt;p&gt;45 CHAPTER 3
Real Eigenvalue Analysis
Main Index
and
(3-14)
(3-15)
Also, from Eq. (3-13) and Eq. (3-15) Rayleigh’s equation  is obtained
(3-16)
Eq. (3-12) and Eq. (3-14) are known as the orthogonality  property of normal modes, which ensures that each
normal mode is distinct from all others. Physically, orthogonality of modes means that each mode shape is
unique and one mode shape cannot be obtained through a linear combination of any other mode shapes.
In addition, a natural mode of the structure can be represented by using its generalized mass and generalized
stiffness.  This is very useful in formulating equivalent dynamic models and in component mode synthesis
(see Special Topics ).
Rigid Body Modes Introduction
If a structure is not totally constrained in space, it is possible for the structure to displace (move) as a rigid
body or as a partial or complete mechanism . For each possible component of rigid -body motion or
mechanism, there exists one natural frequency that is equal to zero. The zero -frequency modes are called
rigid-body modes . Rigid -body motion of all or part of a structure represents the motion of the structure in
a stress -free condition. Stress -free, rigid -body modes are useful in conducting dynamic analyses of
unconstrained structures, such as aircraft and satellites. Also, rigid -body modes can be indicative of modeling
errors or an inadequate constraint set.
For example, the simple unconstrained structure in Figure 3-3 has a rigid -body mode.
Figure 3-3  Rigid -Body Mode of a Simple Structure
When both masses move the same amount (as a rigid body), there is no force induced in the connecting
spring. A detailed discussion of rigid -body modes is presented in Rigid Body Modes .jTKj 0          if i j =
jTKj kjj-th generalized stiffness2mj= = =
j2jTKj
jTMj&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
10= 1u1
u2 1
1= =km2m1u1u2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Mathematical Overview of Normal Modes Analysis46
Main Index
Scaling of Eigenvectors
An important characteristic of normal modes is that the scaling or magnitude of the eigenvectors is arbitrary.
Mode shapes are fundamental characteristic shapes of the structure and are therefore relative quantities. In
the solution of the equation of motion, the form of the solution is represented as a shape with a time -varying
amplitude. Therefore, the basic mode shape of the structure does not change while it is vibrating; only its
amplitude changes.
For example, three different ways to represent the two modes of a two -DOF structure are shown in Figure 3-4.&lt;br&gt;
The graphical representation of the eigenvectors in the figure shows the modal displacements rotated by 90
degrees in order to view the deformation better.
Figure 3-4  Representations of Mode Shapes for a Two -DOF System
A common misconception about mode shapes is that they define the structural response. Again, mode shapes
are relative quantities. They cannot be used alone to evaluate dynamic behavior. As described earlier, it is the
relation between the structural loading and the natural frequencies that determines the absolute magnitude
of dynamic response. The relation of a specific loading to a set of natural frequencies provides explicit scale
factors that are used to determine the extent to which each particular mode is excited by the loading. After
the individual modal responses to a particular loading are determined, only then can the various engineering
design decisions be made with the actual (absolute) values of stress and/or displacement. Methods that use
the modal results to determine forced response are termed modal methods or modal superposition methods.
Modal frequency response analysis and modal transient response analysis are described in Frequency Response
Analysis  and Transient Response Analysis , respectively.Mode 1 Mode 2u1u1 u1
u2
u2u2m1
m2
k2k1
1u1
u2 3
1 300
100 0.6–
0.2–2u1
u2 1.6–
0.8 160
80– 1.0
0.5–= = = = = = = =&lt;/p&gt;
&lt;p&gt;47 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Mode Shape Normalization
Although the scaling of normal modes is arbitrary, for practical considerations mode shapes should be scaled
(i.e., normalized) by a chosen convention. In MSC Nastran there are three normalization  choices, MASS,
MAX, and POINT normalization.
MASS normalization is the default method of eigenvector normalization. This method scales each
eigenvector to result in a unit value of generalized mass
(3-17)
Numerically this method results in a modal mass matrix that is an identity matrix. This normalization
approach is appropriate for modal dynamic response calculations because it simplifies both computational
and data storage requirements. When mass normalization is used with a model of a heavy, massive structure,
the magnitude of each of the terms of the eigenvectors is very small.
In MAX normalization, each eigenvector is normalized with respect to the largest a -set component. ( Dynamic
Reduction  and The Set Notation System Used in Dynamic Analysis  provide discussions of the a -set.) This
normalization results in the largest a -set displacement value being set to a unit (1.0) value. This normalization
approach can be very useful in the determination of the relative participation of an individual mode.  A small
generalized mass obtained using MAX normalization may indicate such things as local modes or isolated
mechanisms.
POINT normalization of eigenvectors allows you to chose a specific displacement component at which the
modal displacement is set to 1 or -1. This method is not recommended because for complex structures the
chosen component in the non -normalized eigenvector may have a very small value of displacement
(especially in higher modes). This small value can cause larger numbers to be normalized by a small number,
resulting in possible numerical round off errors in mode shapes.
Although mode shapes are relative quantities, a number of modal quantities can be helpful in predicting
qualitative responses or in isolating troublesome modal frequencies. Since relative strains, internal loads, and
stresses develop when a structure deforms in a mode shape, you may recover these quantities during a normal
modes analyses. Basically, any quantity that you can recover for static analysis is also available for normal
modes analysis.
It is important to remember that these output quantities are based on the relative displacements of a mode
shape. The output quantities can be compared for a given mode, but not necessarily from one mode to
another. However, they can still be effectively used in the analysis/design process.
Modal quantities can be used to identify problem areas by indicating the more highly stressed elements.
Elements that are consistently highly stressed across many or all modes will probably be highly stressed when
dynamic loads are applied.
Modal strain energy is a useful quantity in identifying candidate elements for design changes to eliminate
problem frequencies. Elements with large values of strain energy  in a mode indicate the location of large
elastic deformation (energy).  These elements are those which most directly affect the deformation in a mode.
Therefore, changing the properties of these elements with large strain energy should have more effect on the
natural frequencies and mode shapes than if elements with low strain energy were changed.jTMj 1.0=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Methods of Computation48
Main Index
Structures with two or more identical eigenvalues are said to have repeated roots . Repeated roots occur for
structures that have a plane of symmetry or that have multiple, identical pieces (such as appendages). The
eigenvectors for the repeated roots are not unique because many sets of eigenvectors can be found that are
orthogonal to each other. An eigenvector that is a linear combination of the repeated eigenvectors is also a
valid eigenvector. Consequently, small changes in the model can make large changes in the eigenvectors for
the repeated roots. Different computers can also find different eigenvectors for the repeated roots. Rigid -body
modes (see Rigid Body Modes ) represent a special case of repeated roots.
Methods of Computation
Seven methods of real eigenvalue extraction  are provided in MSC Nastran. These methods are numerical
approaches to solving for the natural frequencies and modes shapes. The reason for seven different numerical
techniques is because no one method is the best for all problems. While most of the methods can be applied
to all problems, the choice is often based on the efficiency of the solution process.
The methods of eigenvalue extraction belong to one or both of the following two groups:
Transformation methods
Tracking methods
In the transformation method, the eigenvalue equation is first transformed into a special form from which
eigenvalues may easily be extracted. In the tracking method, the eigenvalues are extracted one at a time using
an iterative procedure.
The recommended real eigenvalue extraction method in MSC Nastran is the Lanczos method. The Lanczos&lt;br&gt;
method combines the best characteristics of both the tracking and transformation methods. For most models
the Lanczos method is the best method to use.
Four of the real eigenvalue extraction methods available in MSC Nastran are transformation methods. These
methods are
Givens  method
Householder  method
Modified Givens  method
Modified Householder  method
T wo of the real eigenvalue extraction methods available in MSC Nastran are classified as tracking methods.
These methods are
Inverse power  method
Sturm modified inverse power  method
The remainder of this section briefly describes the various methods. The theory and algorithms behind each
method can be found in the MSC Nastran Numerical Methods User&amp;rsquo;s Guide .&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P30</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_030/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_030/</guid>
      <description>
        
        
        &lt;p&gt;569 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Acoustic XY Plots, Random, and Restarts
XY Plots
The following “yvtype”s are on the XYPLOT  Case Control commands.
FMPF (mode_id/frequency_id)
•Fluid mode participation factors
GMPF (mode_id/frequency_id, panel_name, panel_grid_id
•Panel grid Mode participation factors
LMPF
•Load mode participation factors
PMPF (mode_id/frequency_id, panel_name)
•Panel mode participation factors
SMPF (mode_id/frequency_id)
•Structural mode participation factors
Also, the following “ptype”s:
MODE
•for given fluid mode plot mode
•participation vs excitation frequency
•O2E=“NO” on FLSPOUT Case Control command (default)
FREQ
•for given excitation frequency
•plot mode participation vs natural frequency
•O2E=“YES” on FLSPOUT Case Control command
•point plot only
See the following example:
Random Analysis
A “AUTO” and “PSDF” XYPLOT random “ptype”s support the new acoustic modal participation “yvtype”s:
FMPF
SMPF
PMPF
LMPF
GMPF&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic XY Plots, Random, and Restarts570
Main Index
Root mean square random results may be a convenient way to calculate the effect of a mode on a fluid
response across a frequency range.  Weigh the effect of the frequencies on the RANDPS Bulk Data entry and
use one of the above “ptype” in an PSDF XYPLOT command and a root mean square result will be
calculated.
Restart
The base line and restart input files below represents a simple fluid-structure problem for the purpose of
showing salient input.
Model Description
The model consists of a CQUAD4  and four CELAS2 to represent structure, a CHEXA  to represent the fluid,
and a CHACAB  structural element to represent an acoustic absorber. In the baseline Case Control, note the
use of the FLSFSEL  to select lower limits on the fluid and structure frequency range modes. Also note the
use of FLSTCNT  to set the reference pressure. Some fictitious random entries are input to demonstrate the
XYPLOT features for structural and fluid grids. On large models of automobiles and aircraft, the modal
solutions, especially on the structure, can take significant time and disk space. Also modal participation can,
on large models, generate gigabytes of data. Thus no participation information is requested for the base line
run, as participation results will be requested on the restart run. Since a data base is required, the MSC
Nastran base line submittal contains SCR=NO.
In the restart file, note the use of the ASSIGN and RESTART commands. Notice, also, that Case Control
commands such as FLSFSEL , FLSTCNT , FREQ, SPC, METHOD(STRUCT)  and METHOD(FLUID)&lt;br&gt;
are copied  over from the base line run. To change or omit these would cause the restart logic to attempt to
do the modal analysis over again. To calculate mode participation information, the FLSPOUT  command is
added to case control along with three set definitions directly above.
To define random data appropriate to modal participation, a different RANDOM command is provided.
Also, a different set of XYPLOT commands are provided that are to be used for plotting of participation
results.
For the restart run, the original bulk data entries are removed and some PANEL  and SET1 entries are added
to define panels for the participation run. Also, new RANDPS  and RANDT1 entries are added for the
participation analysis. Note that no TABRND1  is included because the original one from the base line run
is used.
See Listing 11-6 for a printout of the base line file and see MSC_DOC_DIR /tpl6/ dynamics/bd11acxybl.dat
for the base line file. The restart file is shown as Listing 11-7 and see
MSC_DOC_DIR /tpl6/ dynamics/bd11acxx.dat for the data file.
Listing 11-6  Input File For Base Line Run
SOL 111 $ MODAL frequency response
CEND
TITLE= FLUID-STRUCTURE INTERACTION-mpf.&lt;/p&gt;
&lt;p&gt;571 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
$
FLSFSEL LFREQFL=1.0,LFREQ=2.0
FLSTCNT PREFDB=20.-6
$
OLOAD=ALL
DISP(SORT2,PHASE)=ALL
STRESS(SORT2,PHASE)=ALL
RANDOM 10
$
SPC =1313
FREQ=200
METHOD(struct)=30
METHOD(fluid)=20
$
SUBCASE 100
DLOAD=100
$
SUBCASE 200
DLOAD=200
$
OUTPUT(XYPLOT)
XGRID=YES
YGRID=YES
XTITLE=frequency #14
YTITLE=psd grid 61
XYPLOT,XYPEAK DISP PSDF /61(T3)
XTITLE=frequency #15
YTITLE=auto grid 61
XYPLOT,XYPEAK DISP AUTO /61(T3)
XTITLE=frequency #16
YTITLE=psd grid 224
XYPLOT,XYPEAK DISP PSDF /224(T1)
XTITLE=frequency #17
YTITLE=auto grid 224
XYPLOT,XYPEAK DISP AUTO /224(T1)
$
BEGIN BULK
$
$ PRODUCE OUTPUT FORTRAN FILES
PARAM,POST,-1
$
$ DYNAMIC LOADING
$
$234567890
DLOAD   100     1.      1.      1002    1.      1001&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic XY Plots, Random, and Restarts572
Main Index
DLOAD   200     1.      1.      2002    1.      2001
RLOAD11001191001
RLOAD1200129 1001
$
DAREA19413125.
DAREA19453125.
DAREA19613125.
DAREA19653125.
$
DAREA29 413125.
DAREA29 453125.
DAREA29 613125.
DAREA29 653125.
$ ON FLUID
ACSRCE  1002    101                     1001    1.      1.
SLOAD   101     120     125.
SLOAD   101     124     125.
SLOAD   101     220     125.
SLOAD   101     224     125.
ACSRCE  2002    102                     1001    1.      1.
SLOAD   102     120     250.
SLOAD   102     124     250.
SLOAD   102     220     250.
SLOAD   102     224     250.
$
$ the load is (2*pi)^2 *f^2 so when Q is calculated it becomes a constant
$ for all frequencies
TABLED4 1001    0.0     1.0     0.0     1.E6
0.0     0.0     39.478420.0     ENDT
$
$ FRQUENCY RANGE
FREQ1   200     2.5     2.5     100
$ DAMPING
PARAMG0.05
PARAMGFL0.05
$ METHOD CARD FOR EIGEN VALUE
EIGRL206
EIGRL304
$
$THE STRUCTURAL POINTS
GRID    41              0.0     0.0     0.0
GRID    45              1.1     0.0     0.1
$
GRID    61              0.0     0.20    0.0
GRID    65              1.0     0.20    0.0&lt;/p&gt;
&lt;p&gt;573 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
$
$       2       3       4       5       6       7       8       9       0
$ STRUCTURAL POINTS FOR ABSORBER
GRID    261             0.0     0.2     0.001           12456
GRID    265             1.0     0.2     .001            12456
GRID    141             0.0     0.0     0.001           12456
GRID    145             1.1     0.0     .1001           12456
$THE STRUCTURAL ELEMENTS
CQUAD4  100     4444    41      45      65      61
$
CELAS2  1007    .0625   61      3
CELAS2  1008    .0625   65      3
CELAS2  1009    .0625   41      3
CELAS2  1010    .0625   45      3
$ STRUCTURAL PROPERTIES
PSHELL  4444    77      .05     77      1.0
MAT1    77      100.            .333    1.000
$
$ FLUID POINTS
$ GRIDS 200 THRU 204 AND 100 THRU 104 ARE CONTACT GRIDS. KEEP THEM IN THE
$ RESIDUAL
GRID    200             0.0     0.2     0.001   -1
GRID    204             1.0     0.2     .001    -1
GRID    220             0.0     0.2     1.0     -1
GRID    224             1.0     0.2     1.0     -1
GRID    100             0.0     0.0     0.001   -1
GRID    104             1.1     0.0     .1001   -1
GRID    120             0.0     0.0     1.0     -1
GRID    124              1.0    0.0     1.0     -1
$
$ FLUID ELEMENTS
CHEXA   1000    15      100     104     124     120     200     204
224     220
$
$ FLUID PROPERTIES
PSOLID  15      25                              1       PFLUID
MAT10   25      1.      0.1
$
$ SPC ALL THE STRUCTRUAL POINTS NOT TO ROTATE ABOUT X OR Z
SPC1    1313    1246    41      THRU    61
SPC1    1313    146     65
SPC113131200
$ SPC THE END STRUCT. POINTS NOT TO ROATE ABOUT Y (STATED IN THE PROBLEM)
SPC1    1313    5       41      61      65      45
$       2       3       4       5       6       7       8       9       0&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic XY Plots, Random, and Restarts574
Main Index
$ DEFINE ACOUSTIC ABSORBER
CHACAB  9       9       41      45      65      61      141     145&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  265     261
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PACABS  9       YES     11      22      33      1.      1000.
TABLED1 11&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  2.      .15     50.     .15     100.    .15     150.    .15
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  200.    .15     250.    .15     300.    .15     ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TABLED1 22&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  2.      -40.    50.     14.     100.    30.     150.    46.
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  200.    62.     250.    78.     300.    94.     ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TABLED1 33&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  2.      1.      50.     1.      100.    1.      150.    1.
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  200.    1.      250.    1.      300.    1.      ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$ RANDOM INPUT
RANDPS,10,100,100,4.,,1
RANDPS 10,200,200,8.,,1
RANDPS 10,100,200 2.,,1
TABRND1,1
+,0.,100.,300.,100.,ENDT
RANDT1,10,4,0.,.004
$
ENDDATA
Listing 11-7  Restart Run
ASSIGN MASTER=&amp;lsquo;bd11acxybL.MASTER&amp;rsquo;
RESTART VERSION=1 KEEP
SOL 111 $ MODAL frequency response
CEND
TITLE= FLUID-STRUCTURE INTERACTION
$
SET 29 = bndy
SET 224 = 224
FLSPOUT fluidmp=all,structmp=all,panelmp=29,gridmp=all,
gridfmp=224,seps=0.,ars=0.,
outfmp=all,outsmp=all,psort=(absolute,descending)
FLSFSEL LFREQFL=1.0,LFREQ=2.0
FLSTCNT PREFDB=20.-6 , SKINOUT=ALL
$
DISP(PLOT)=ALL
RANDOM=50
$
SPC =1313
FREQ=200
METHOD(struct)=30
METHOD(fluid)=20&lt;/p&gt;
&lt;p&gt;575 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
$
SUBCASE 100
DLOAD=100
$
SUBCASE 200
DLOAD=200
$
OUTPUT(XYPLOT)
XGRID=YES
YGRID=YES
$
$-1 plt 2nd sc
XTITLE=EXCITATION FREQUENCY FROM 2.5 to 250 hertz sc 200 #1
YTITLE=fluid mode pf at fluid point 224 for mode 2
XYPLOT,XYPEAK FMPF(2) MODE 200 /224
$-2,3 plt 1st &amp;amp; 2nd sc
XTITLE=EXCITATION FREQUENCY FROM 2.5 to 250 hertz default sc 100 200 #2 and
#3
YTITLE= load pf at fluid point 224
XYPLOT,XYPEAK LMPF MODE /224
$-4 1st sc
XTITLE= natural modes from .4 to 2 hertz #4
YTITLE= panel mode pf at fluid point 224 for mode 9 sc 100
XYPLOT,XYPEAK PMPF(9,BNDY) MODE 100 /224
$-5 1st sc
XTITLE= natural modes from .4 to 2 hertz sc 100 #5
YTITLE=structure mode pf at fluid point 224 for mode 3
XYPLOT,XYPEAK SMPF(3) MODE 100 /224
$-6,7 1st &amp;amp; 2nd sc
XTITLE= natural modes from .4 to 2 hertz default sc 100 200 #6 and #7
YTITLE=grid panel mode pf at fluid point 224 for mode 9 grid 61
XYPLOT,XYPEAK GMPF(9,BNDY,61) MODE /224
$-8,9 1st &amp;amp; 2nd sc
XTITLE= natural modes from .4 to 2 hertz try 100,200 #8 and #9
YTITLE=grid panel mode pf at fluid point 224 for mode 9 grid 61
XYPLOT,XYPEAK GMPF(9,BNDY,61) MODE 100,200 /224
$-10
XTITLE=frequency #10
YTITLE=psd mode participation for grid 224
XYPLOT,XYPEAK FMPF(3) PSDF /224
$-11
XTITLE=frequency #11
YTITLE=auto mode participation for grid 224
XYPLOT,XYPEAK FMPF(3) AUTO /224
$-12&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic XY Plots, Random, and Restarts576
Main Index
XTITLE=frequency #12
YTITLE=psd grid mode participation grid 224 at grid 61 first decend mode
XYPLOT,XYPEAK GMPF(9,BNDY,61) PSDF /224
$-13
XTITLE=frequency #13
YTITLE=auto grid mode participation grid 224 at grid 61 first decend mode
XYPLOT,XYPEAK GMPF(9,BNDY,61) AUTO /224
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
BEGIN BULK
$ DEFINE STRUCTURAL PANELS
PANEL,BNDY,777
SET1,777,SKIN
$ NEW RANDOM INPUT FOR PARTICIPATION
RANDPS,50,100,100,2.,,1
RANDPS,50,200,200,5.,,1
RANDPS,50,100,200,1.,,1
RANDT1,50,6,0.,.009
$
ENDDATA
The following XYPLOT commands create the plot below:
XTITLE=FREQUENCY #12                                                                 &lt;br&gt;
YTITLE=PSD GRID MODE PARTICIPATION FOR GRID 224 FIRSTONE AT GRID 61 FIRST
DECEND
XYPLOT,XYPEAK GMPF(9,BNDY,61) PSDF  /224&lt;/p&gt;
&lt;p&gt;577 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-35&lt;br&gt;
This is the PSD of structural modal participation of grid point 61, mode 9, on fluid grid 224.  In order to
get structural grid participation factors, the structural grid must be defined on a panel and called with GMPF
in the XYPLOT command.  Panels are defined with PANEL and SET1 Bulk Data entries.  In this case, the
“SKIN” option on the SET1 Bulk Data entry selects all of the structural interface grids to be in panel
“BNDY”:
PANEL   BNDY    777                                                          &lt;br&gt;
SET1    777     SKIN                                                         &lt;br&gt;
For PSD curves, the root-mean-square value across frequencies is calculated and printed in the .f06 file:
Listing 11-8  PSD RMS Value from Restart
This RMS value, 5.075398E+6, can be used as a measure of the combined relative effect of mode 9 across
all the frequencies.
X Y - O U T P U T  S U M M A R Y  ( A U T O  O R  P S D F )
PLOT  CURVE FRAME    CURVE ID./       RMS       NO. POSITIVE   XMIN FOR   XMAX FOR   YMIN FOR    X FOR     YMAX FOR    X FOR*
TYPE   TYPE   NO.  PANEL  : GRID ID    VALUE        CROSSINGS   ALL DATA   ALL DATA   ALL DATA     YMIN     ALL DATA     YMAX
FREQ NO.   0    BNDY    :      61&lt;br&gt;
PSDF GRID-P     3      224(  3)    5.075398E+06  8.487302E+01  2.500E+00  2.525E+02  1.942E+06  5.000E+00  4.808E+12  2.250E+01&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Acoustic Source Change578
Main Index
Acoustic Source Change
Simple Acoustic Source (ACSRCE) Equation
The complex source strength  is defined as
(11-41)
Also, similar to the Maxwell-Betti reciprocity law in structures, they define a principle of acoustic reciprocity
which states that in an unchanging environment if the locations of a small receiver and small source are
interchanged, the received signal will remain the same.
With these definitions, they arrive at the expression for power  in terms of complex source strength,
which for a pulsating sphere is a real value . The resulting expression as used in MSC Nastran is:
(11-42)
Acoustic power is applied by referencing the ACSRCE  Bulk Data entry from a DLOAD Case Control
command or Bulk Data entry. The ACSRCE entry specifies the power from a TABLEDi Bulk Data entry
and also points to DAREA Bulk Data entries to specify the degree of freedom to be loaded as well as a scale
factor. In Eq. (11-42) it should be noted that source strength is proportional to the square root of power.
The power is translated to source strength from the values on the TABLEDi entries. This source strength is
then distributed linearly to the degrees of freedom using the factors on the DAREA entries. Acoustic
engineers need to know that when using the ACSRCE Bulk Data entry that if power is to be scaled, do it
within the TABLEDi.  If source strength is to be scaled, do it on DAREA. This may be confusing to the
beginner, but actually follows the definition of power point sources given previously.
A way to avoid this confusion is to change your power to source strength using Eq. (11-42), and apply it as
needed on the RLOADi and TLOADi Bulk Data entries.Qeitu·
sndS =
Pf
Q
Q1
2f&amp;mdash;&amp;mdash;&amp;ndash;8cPf
&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =&lt;/p&gt;
&lt;p&gt;579 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Rigid Porous Absorber
Introduction
This capability allows for the modeling of rigid skeleton porous absorber characteristics in acoustic response
analysis. Some types of absorbent materials, such as vehicle seat structures or lining materials which exhibit
stiff carcasses can be represented as rigid porous absorbers. The absorber material is considered using an
equivalent fluid analogy and so is modeled in the same manner as a typical fluid using:
•Standard fluid solid elements (CHEXA, CPENTA or CTETRA)
•Connecting grid points with CD field defined as -1
•Referenced PSOLID entry with option PFLUID/FFLUID defined in field 8
•Referencing MAT10 entry where the &amp;rsquo;normalized admittance coefficient&amp;rsquo; is defined in field 7 and
equivalent values are used for density and bulk modulus
The rigid porous absorber can be modeled to have frequency dependent behavior by allowing normalized
admittance coefficient to be a function of the frequency.
Porous Material
If a material is not completely solid, but contains voids or air pockets, then it is said to be porous. There are
a great many materials which exhibit porosity, the term given to the degree of openness of the material,
including materials generally considered “solid” like brick or stone. If the voids in the substance are large
enough, they may form an interconnected maze of passage ways allowing air (or any other fluid) to pass
through the material. However, depending on the degree of convolution in the passage ways (known as
tortuosity), the air will encounter some resistance as it passes through the substance, requiring pressure to be
exerted to push the air against the resistance. Sound waves striking the material do not cause air to flow
through the material, but they do cause local perturbations that exert pressure and cause the air to move in
the vicinity of the material; the oscillating movement of air caused by the sound waves encounters resistance
(called impedance) which uses up some of the sound energy and damps the level of sound. This energy is
eventually dissipated as heat.
If the porous material is enclosed in a frame which is considered as rigid, as will be the case for example for
a porous medium which has a high skeleton density or very large elastic modulus or weak fluid-structure
coupling, the porous material can be considered as an equivalent fluid with both density and bulk modulus
being complex frequency dependent parameters. It is possible to obtain values for these parameters by
empirical methods as introduced, for example, by Delany and Bazley, methods which have been widely used
to describe sound propagation in fibrous materials.
In the equivalent fluid approach, the equation of motion reads,
1
e&amp;mdash;&amp;ndash;2P2
Be&amp;mdash;&amp;mdash;P + 0=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Rigid Porous Absorber580
Main Index
where e is the equivalent density, Be the equivalent bulk modulus, P the complex pressure amplitude and 
the circular excitation frequency, in which it can be shown
and
The normalized admittance coefficient is a function of the frequency:
Here, , B and GE are the values of RHO, BULK and GE respectively of the MAT10 entry for the porous
absorber material. Field 7 in the MAT10 entry allows the value of the normalized admittance coefficient, to
be entered. It should be noted that if the complex density and bulk modulus are assumed to be constant, the
normalized admittance coefficient is a linear function of frequency. MSC Nastran implementation of rigid
porous absorber allows the user to enter a frequency dependent   or assume it to be idealized as a constant
(frequency independent).
Inputs
As already mentioned, the equivalent fluid analogy allows using the same entries used to describe a standard
fluid region. MAT10 and PSOLID bulk data entries are slightly different (from standard fluid) in the case of
rigid porous absorber.
PSOLID Entry
Field 8 (FCNT) of the PSOLID entry should be set as follows:
•FCNT = “PFLUID” indicates a standard fluid element which models an idealized frequency
independent rigid absorber
•FCNT = “FFLUID” indicates a fluid element with frequency dependent rigid absorber
Format
All the elements which refer to a PSOLID entry where the option FFLUID has been selected will be
considered as rigid porous absorber with frequency dependent normalized admittance coefficient.
MAT10 Entry1 2 3 4 5 6 7 8 9 10
PSOLID PID MID CORDM IN STRESS ISOP FCTN COROT1
e&amp;mdash;&amp;ndash;1
&amp;mdash;1iGE + =
1
Be&amp;mdash;&amp;mdash;1
B&amp;mdash;= iA
&amp;mdash;-–1
B&amp;mdash;1i
&amp;mdash;&amp;ndash;–=
Bi
Br&amp;mdash;&amp;ndash; 2fBi
Br&amp;mdash;&amp;ndash; = =&lt;/p&gt;
&lt;p&gt;581 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Format
The following may be used to calculate the equivalent fluid property values to be entered on the MAT10
entry starting from the complex density and complex bulk modulus describing the rigid porous absorber. If
a complex density and complex speed of sound are determined for the porous material, the complex bulk
modulus must first be calculated.
MAT10 Density 
MAT10 Damping Coefficient GE
MAT10 Bulk Modulus B
MAT10 Normalized Admittance Coefficient
Field 7 (ALPHA) of the MAT10 entry should be set as follows:
•Frequency independent rigid absorber: If the MAT10 entry is referenced in a PSOLID entry
where PFLUID option is selected, the value defined in field 7 (ALPHA) has no special meaning
but it is only the normalized admittance coefficient calculated at the most appropriate excitation
frequency (defined in order to have good results in the range of interest);
•Frequency dependent rigid absorber: If the MAT10 entry is referenced in a PSOLID entry where
FFLUID option is selected, the value in the 7th field (ALPHA) is considered as the normalized
admittance coefficient calculated at unit circular excitation frequency = 1.0.
Guidelines and Limitations
1.No special modeling technique is required for the mesh representing the rigid porous absorber.1 2 3 4 5 6 7 8 9 10
MAT10 MID BULK RHO C GE ALPHA
r2i2+
r&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =r
icomplex density, real part
complex density, imaginary part
GEi
r&amp;mdash;&amp;ndash;–=
BBr2Bi2+
Br&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =complex bulk modulus, real part
complex bulk modulus, imaginary partBr
Bi
Bi
Br&amp;mdash;&amp;ndash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Rigid Porous Absorber582
Main Index
2.The fluid mesh should be a continuum from air to rigid porous absorber where the elements of the
rigid porous absorber simply discretize the form of the absorbing structure.
3.Unlike the other absorber types in MSC Nastran, the rigid porous absorber does not have to be on
the wetted surface between fluid and structure, although it may be if desired.
4.The use of a non-zero value in field 7 of the MAT10 entry causes the generation of a damping matrix
because the normalized admittance coefficient is multiplied by the imaginary operator i.
Consequently, the use of modal methods on the fluid are not appropriate and frequency response
analysis must be carried out using the direct method, at least for the fluid.
Example
Many examples are available in the ..\tpl\fdr_absorb  subdirectory of MSC Nastran installation
directory.
Consider the following (TPL problem fh8pr10.dat) unbounded fluid (air) and porous absorber medium
domains as in Figure 11-36. An acoustic source is placed at the location indicated and the acoustic response
(pressure) at the center of the fluid is monitored.
Figure 11-36  Porous medium
Using experimental methods the following properties have been determined .
Density Speed of Sound Bulk Modulus
Air 1.225 + 0.0 i*&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;i = 340.0 + 3.4 i
Porous Absorber
Porous medium
Response
Acoustic sourceAir
1–&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;583 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
The equations illustrated above have been used to calculate the equivalent properties to be used in the
MAT10 entries. T wo different calculations have been executed to check the effect of the new frequency
dependent porous absorber properties implementation.
1.Frequency-independent materials have been considered and frequency of 250 Hz was selected to
calculate the values of alpha for air and the porous absorber.
Air Material
Porous Absorber Material
2.Frequency dependent materials have been considered. The normalized admittance coefficients for air
and porous absorbers have been calculated for = 1.0.
Air Material
Porous Absorber MaterialMID BULK RHO C GE ALPHA
MAT10 1 141652.5 1.225 0.0 31.41907
PID MID CORDM IN STRESS ISOP FCNT
PSOLID 1 141652.5 1.225 0.0 31.41907
MID BULK RHO C GE ALPHA
MAT10 2 -232389. 56.16948 -3.67804 -939.196
PID MID CORDM IN STRESS ISOP FCNT
PSOLID 2 2 0 PFLUID
MID BULK RHO C GE ALPHA
MAT10 1 141652.5 1.225 0.0 0.020002
PID MID CORDM IN STRESS ISOP FCNT
PSOLID 1 1 0 FFLUID
MID BULK RHO C GE ALPHA
MAT10 2 -232389. 56.16948 -3.67804 -0.59791
PID MID CORDM IN STRESS ISOP FCNT
PSOLID 2 2 0 PFLUID&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Rigid Porous Absorber584
Main Index
Both the analyses have been executed using 2 different models in which 8 HEXA and 20 HEXA elements
have been used. Notice that the values of bulk modulus, GE damping coefficient and alpha are all negative;
this is a normal characteristic of the implementation. The response at the center of the air domain is
calculated and the results compared with the same model run in the reference solution. Both HEXA-20 and
HEXA elements are compared .
The results using frequency-dependent rigid absorber properties fit completely with those from the reference
solution. In fact, the increasing differences obtained using the original implementation for porous material
properties departing from the reference excitation frequency (250 Hz in the example) disappear.&lt;/p&gt;
&lt;p&gt;585 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Equivalent Radiated Power (ERP)
Introduction
In fluid-structural Interaction (FSI) analysis, radiated power from vibrating structure is available as part of
the data recovery after the analysis. The benefit of FSI analysis is to predict the noise level in passenger
compartment in automotive and aerospace applications. However, in addition to finite element model for
structure, FSI analysis requires to model cavity space in finite elements. The Equivalent Radiated Power
(ERP) is a technique to compute radiated power directly from the vibration of structural panels without the
need to model the cavity at all.
Background Equation
ERP is computed based on following equation:
where:
C is the phase speed of a fluid  and is calculated as follows
C =  × ERPRLF × ERPRHO × ERPC
ERPRLF = Radiation Loss Factor
ERPRHO = Fluid density
ERPC= Speed of sound in fluid
Vn is the velocity normal to the panel surface
ΔS is the area of an element in the panel
User Interface
Case control command,
ERP ( [SORT2, SORT1], [PRINT, PUNCH, PLOT],
[SOLUTION={ALL, setf,none}], ELEMENT,
[MPF={ALL,nlm,none}], [MPFSORT=sorttype],
[KEY={frequency,fraction,time}], [FILTER={0.01,real_value}].
[ERPRHO={1.0, real_value}]. [ERPC={1.0, real_value}],
[RHOCP={1.0, real_value}], [ERPRLF={1.0, real_value}].
[ERPREFDB={1.0, real_value}], [CSV=unit] = {ALL, setp, NONE}ERP=C Vn2S
elem
0.5 for frequency response
1.0 for transient response =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equivalent Radiated Power (ERP)586
Main Index
In ERP case control command, ELEMENT subcommand is used to request ERP per element involved in a
panel and MPF is to request modal participation factors of ERP .  ERP case control command selects ERPPNL
bulk data entry which in turn points to SET3 bulk data entry to define the members of a panel.
An example of complete ERP request is as follows:
ASSIGN USERFILE=&amp;lsquo;deckname.csv&amp;rsquo;,UNIT=61 STATUS=NEW,
FORM=FORMATTED DELETE
…
ID&lt;br&gt;
….
ERP(PRINT,PUNCH,SORT1, CSV=61,FILTER=0.0) = ALL
…
BEGIN BULK
…
ERPPNL,ERPX0,103,ERPX3,203,erpeid3,303
set3,103,prop,100
set3,203,prop,200
set3,303,element,114,124,134,214,224,234,
,314,324,334
erppnl,nouse1,100,nouse3,200
…
ENDDATA
In above example, &amp;lsquo;ALL&amp;rsquo; on the right hand side of equal sign of ERP command selects all panels defined on
ERPPNL bulk data entries.  Note that, since SET3, 100 and SET3,200 are missing, panels nouse1 and
nouse3 will not have ERP compute.
Based on above same ERP request, ERP results of multiple panels are available in f04, pch and csv files.  The
following 3D column plot is generated with data in csv file.
Details of subcommands of ERP  and ERPPNL/SET3 bulk data entries are available in MSC Nastran Quick
Reference Guide.&lt;/p&gt;
&lt;p&gt;587 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Example
The figure shows a simple fluid model bounded by two structural panels. The excitation is on one panel and
the ERP is measured. See MSC_DOC_DIR\tpl\erp_mdr4\erp_1000.dat  for the full file.
A partial bulk data shows that an assign statement is used to define a unit for a CVS file, with the file
requested on the Case Control ERP command. Using SET3 entries, the ERPPNL Bulk Data entry defines
three panels: Two by PID option and one by explicit listing of elements.ASSIGN USERFILE=&amp;lsquo;erp_1000.csv&amp;rsquo; UNIT=31 FORMATTED NEW DELETE
SOL 111
CEND
…
METHOD(STRUCTURE) = 100
METHOD(FLUID)     = 110
M2GG = BULK
…
ERP(KEY=FREQ,RHOCP=10.0,ERPRHO=10.0,ERPC=10.0,CSV=31) = ALL
…
BEGIN BULK
…
ERPPNL,ERPX0,103,ERPX3,203,ERPEID3,303
SET3,103,PROP,100
SET3,203,PROP,200
SET3,303,ELEMENT,114,124,134,214,224,234,
,314,324,334&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Equivalent Radiated Power (ERP)588
Main Index
The F06 results for equivalent radiated power are shown below. Notice that the results are filtered.
ALL IN 1 SUBCASE                                               &lt;br&gt;
0     FIRST SUBCASE (1000)                                           &lt;br&gt;
PANEL = ERPX0     (AREA =    1.000000E+01)
E Q U I V A L E N T   R A D I A T E D   P O W E R
FILTER :                        1.000000E-02    &lt;br&gt;
FREQUENCY              ERP             FRACTION           ERP(dB)
1.000000E+01        5.504206E+02      1.536367E-01      3.740695E+01
1.400000E+01        3.582611E+03      1.000000E+00     4.554200E+01
&lt;strong&gt;ERP MAX&lt;/strong&gt;     3.582611E+03
1    EQUIVALENT RADIATED POWER IN PANELS OF QUAD4S                   &lt;br&gt;
ALL IN 1 SUBCASE                                               &lt;br&gt;
0     FIRST SUBCASE (1000)                                           &lt;br&gt;
PANEL = ERPX3     (AREA =    9.000000E+00)
E Q U I V A L E N T   R A D I A T E D   P O W E R
FILTER :                        1.000000E-02    &lt;br&gt;
FREQUENCY              ERP             FRACTION           ERP(dB)
1.000000E+01        1.687721E+02      1.367837E-01      3.227301E+01
1.400000E+01        1.233862E+03      1.000000E+00     4.091267E+01
&lt;strong&gt;ERP MAX&lt;/strong&gt;     1.233862E+03
1    EQUIVALENT RADIATED POWER IN PANELS OF QUAD4S                   &lt;br&gt;
ALL IN 1 SUBCASE                                               &lt;br&gt;
0     FIRST SUBCASE (1000)                                           &lt;br&gt;
PANEL = ERPEID3   (AREA =    9.000000E+00)
E Q U I V A L E N T   R A D I A T E D   P O W E R
FILTER :                        1.000000E-02    &lt;br&gt;
FREQUENCY              ERP             FRACTION           ERP(dB)
1.000000E+01        1.687721E+02      1.367837E-01      3.227301E+01
1.400000E+01        1.233862E+03      1.000000E+00     4.091267E+01
&lt;strong&gt;ERP MAX&lt;/strong&gt;     1.233862E+03
1    EQUIVALENT RADIATED POWER IN PANELS OF QUAD4S                   &lt;br&gt;
ALL IN 1 SUBCASE                                               &lt;br&gt;
0     FIRST SUBCASE (1000)                                           &lt;br&gt;
PANEL = ALLPANEL  (AREA =    1.900000E+01)
E Q U I V A L E N T   R A D I A T E D   P O W E R
FILTER :                        1.000000E-02    &lt;br&gt;
FREQUENCY              ERP             FRACTION           ERP(dB)
1.000000E+01        7.191927E+02      1.493194E-01      3.856845E+01
1.400000E+01        4.816473E+03      1.000000E+00     4.682729E+01
&lt;strong&gt;ERP MAX&lt;/strong&gt;     4.816473E+03&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P31</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_031/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_031/</guid>
      <description>
        
        
        &lt;p&gt;589 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
The CVS file report format results are shown below: Notice they show results for all eight frequencies.
Guidelines
1.SET3 for an ERP panel always selects structural elements. Fluid elements, if selected, will be skipped
and not participate in ERP computation.
2.For ERP panel with 3D elements, only elements with exposed face(s) are used for ERP computation.
For a 3D element with multiple exposed faces, the element ERP is the summation of ERP of all
exposed faces.
3.ERP and MPF of ERP are available in csv file.
4.ERP, element ERP and MPF of ERP are available in f06, pch and op2.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Peakout support for ERP590
Main Index
Peakout support for ERP
Introduction
In general, ERP gets calculated for prescribed set of frequency using SOLUTION=setf, where setf represents
set of frequency. However, MSC Nastran has introduced new feature command called PEAKOUT , which
allows user to get peak solution for ERP and many others. T o get peak solution user needs to use
SOLUTION=PEAK in the ERP command.
PEAKOUT command will find peak frequencies for selected DOF set and ERP command with
SOLUTION=PEAK will calculate equivalent radiated power for those output frequencies.
Examples
An automotive example using ERP (SOLUTION=PEAK) is described in this section.
The model has a fluid cavity and structure. The cavity is modeled with CHEXA , CTETRA and CPENTA
elements with PSOLID property referencing a MAT10 (fluid) material. The structural part of the model
includes beam and shell elements.
Figure 11-37  FE Model of Fluid Cavity and Structure
Figure 11-38  Panels Defined for ERP Calculation&lt;/p&gt;
&lt;p&gt;591 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Five ERPPNL are defined using CQUAD4 elements with various property id, which includes following
property SET3,
$innerLhs
SET3           5PROP         400     550     720     740
$innerRhs
SET3           6PROP       80400   80550   80720   80740
$roof
SET3           7PROP         420   80420
$windscr
SET3           8PROP         840   80840
$rr_floor
SET3           9PROP         620     630    7040    7050    7070   7080&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;     80620   80630
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$fr_floor
SET3          10PROP         570     580     581   80570   80580   80581
ERPPNL are defined using above SET3 as shown below,
$FrFloor
ERPPNL  FrFloor       10
$RrFloor
ERPPNL  RrFloor        9
$windscr
ERPPNL  windscr        8
$roof
ERPPNL  roof           7
$InnerRhs
ERPPNL  InnerRhs       6
$InnerLhs
ERPPNL  InnerLhs       5
Now define case control command to get peak ERP as follows.
ASSIGN USERFILE = &amp;rsquo;erp_cabin_p8a.csv&amp;rsquo;  UNIT=50 FORM=FORMATTED STATUS=NEW,
DELETE
$ 1100001 : DRIVER EAR
$ 1100002 : MIC 2                                                            &lt;br&gt;
SET 20= 1100001,1100002                                                       &lt;br&gt;
peakout npeak=2 rtype=disp pscale=db PEAKFRFF=20
disp(punch)=20
$
SUBCASE 3
LABEL = strut load 3
DLOAD = 104&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Peakout support for ERP592
Main Index
FREQ = 501
ERP(solution=peak , ERPRHO=1.21,ERPC=340.,CSV=50,
ERPREFDB=1.0E-12)=all
SUBCASE 4
LABEL = strut load 4
DLOAD = 105
FREQ = 501
ERP(solution=peak , ERPRHO=1.21,ERPC=340.,CSV=50,
ERPREFDB=1.0E-12)=all
Peak responses for structural and fluid DOFs are reported separately in the f06 file. The ERP command also
allows the user to export a CSV file in tabulated form which contains ERP output for all subcases and selected
response IDs. If desired, this CSV file data can be plotted as a bar chart.
a.Peak frequencies for fluid DOF 1100001 (Driver ear) are found and written as follows.
** USER INFORMATION MESSAGE 22506 (SETPEAK)&lt;br&gt;
AUTOMATIC PARTICIPATION ANALYSIS
SUBCASE       : 3
RESPONSE GRID : 1100001 (FOR STRUCTURE GRID, LAST DIGIT IS DOF)
NUMBER OF RESPONSE PEAKS FOR PF DETECTED: 2
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 1.980000E+02
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 2.600000E+01
Figure 11-39  Peak responses identified for Grid 110001 in Subcase 3.
CSV export is used to create a bar chart of ERP in Subcase 3 for peak responses of Fluid DOF 110001.&lt;/p&gt;
&lt;p&gt;593 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-40  Bar chart for ERP due to peak responses from Grid 1100001 in Subcase 3
*** USER INFORMATION MESSAGE 22506 (SETPEAK)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; AUTOMATIC PARTICIPATION ANALYSIS

 SUBCASE       : 4
 RESPONSE GRID : 1100001 (FOR STRUCTURE GRID, LAST DIGIT IS DOF)

 NUMBER OF RESPONSE PEAKS FOR PF DETECTED: 2
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 2.600000E+01
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 1.620000E+02&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Peakout support for ERP594
Main Index
Figure 11-41  Peak responses identified for Grid 110001 in Subcase 4
CSV export is used to create a bar chart of ERP in Subcase 4 for peak responses of Fluid DOF 110001.&lt;/p&gt;
&lt;p&gt;595 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-42  Bar chart for ERP due to peak responses from Grid 1100001 in Subcase 4
b.Peak frequencies for Fluid DOF 1100002 (Mic 2) are found and written as follows.
*** USER INFORMATION MESSAGE 22506 (SETPEAK)
AUTOMATIC PARTICIPATION ANALYSIS
SUBCASE       : 3
RESPONSE GRID : 1100002 (FOR STRUCTURE GRID, LAST DIGIT IS DOF)
NUMBER OF RESPONSE PEAKS FOR PF DETECTED: 2
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 1.980000E+02
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 2.600000E+01&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Peakout support for ERP596
Main Index
Figure 11-43  Peak responses identified for Grid 110002 in Subcase 3
CSV export is used to create a bar chart of ERP in Subcase 3 for peak responses of Fluid DOF 110002.&lt;/p&gt;
&lt;p&gt;Figure 11-44  Peak responses identified for Grid 110002 in Subcase 3&lt;/p&gt;
&lt;p&gt;597 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
AUTOMATIC PARTICIPATION ANALYSIS
SUBCASE       : 4
RESPONSE GRID : 1100002 (FOR STRUCTURE GRID, LAST DIGIT IS DOF)
NUMBER OF RESPONSE PEAKS FOR PF DETECTED: 2
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 2.600000E+01
^^^
*** USER INFORMATION MESSAGE 22508 (SETPEAK)
FREQUENCY : 1.180000E+02
^^^
Figure 11-45  Peak responses identified for Grid 110002 in Subcase 3
CSV export is used to create a bar chart of ERP in Subcase 4 for peak responses of Fluid DOF 110002.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Peakout support for ERP598
Main Index
Figure 11-46  Peak responses identified for Grid 110002 in Subcase 4&lt;/p&gt;
&lt;p&gt;599 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Normal Velocity
VELOCITY has been part of the standard MSC Nastran output for dynamic analyses and is provided in the
output coordinate system defined on CD field of GRID entries. For acoustic analysis, the velocity normal to
the surface is of great interest to engineers. Case control NVELOCITY  (Case)  has been implemented in MSC
Nastran to output the translational velocity normal to the surface. In addition, the unit normal with respect
to the basic coordinate system is also presented. The details and usage of NVELOCITY case control
command are described in the MSC Nastran Quick Reference Guide .
Benefits
The normal velocity to the exposed structure provides a direct way for engineers to study acoustic radiation
from the structural responses. The output of natural velocity is available in f06, pch, and op2.
Test Cases
Test case: car model with mostly 2-D elements
Sample NVELOCITY(ERP) output in f06 is shown as follows,
FREQUENCY =    1.000000E+02
V E L O C I T Y   N O R M A L
GRID ID                     U N I T   N O R M A L                               RESPONSE
X-DIR             Y-DIR             Z-DIR             REAL              IMAG
508078         1.000000E+00      0.000000E+00      0.000000E+00     -7.605058E-03      2.074260E-03
508079         1.000000E+00      0.000000E+00      0.000000E+00     -6.836083E-03      3.575026E-03
508080         1.000000E+00      0.000000E+00      0.000000E+00     -1.321082E-02     -8.084148E-03
508081         1.000000E+00      0.000000E+00      0.000000E+00     -1.360014E-02     -9.710199E-03
508082         1.000000E+00      0.000000E+00      0.000000E+00     -1.392578E-02     -1.124687E-02
508083         9.949761E-01     -1.001122E-01     -1.043587E-04     -8.849321E-03      1.153978E-02
508084         9.950486E-01     -9.938970E-02      7.050892E-05     -8.518406E-03      1.257526E-02&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Normal Velocity600
Main Index
508085         9.950164E-01     -9.971110E-02     -3.353163E-04     -1.001583E-02      1.001859E-02
508086         9.950018E-01     -9.985656E-02     -1.280708E-04     -1.139307E-02      7.853719E-03
508087         9.952213E-01      7.442458E-02      6.321043E-02     -1.152199E-02     -1.123693E-02
508088         9.993840E-01      4.897609E-03      3.475112E-02     -8.605826E-03     -1.171262E-02
508089         9.950366E-01     -9.950925E-02     -1.666756E-04     -8.668123E-03      5.844631E-03
508090         9.950239E-01     -9.963606E-02      3.068493E-04     -8.461581E-03      6.424269E-03
508099         1.000000E+00      0.000000E+00      0.000000E+00      6.941264E-03      9.644912E-03
508100         1.000000E+00      0.000000E+00      0.000000E+00      7.193932E-03      1.613807E-02
The response output may also be given as magnitude and phase.
3-D Column plot for all ERPPNLs is shown as follows:
PANLA is the summation of all the panels.
The following examples are available in the ..\tpl\ae_20160  subdirectory of MSC Nastran installation
directory :
•erpnvel.dat
•erpnvel2.dat
•erpnvel3.dat&lt;/p&gt;
&lt;p&gt;601 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Vibration Intensity
Vibration Intensity (VI) is a measure of power flow per unit area. VI is computed using two existing MSC
Nastran output responses, namely element force/element stresses and velocities, and is an element level
response in basic coordinate system.
Benefits
The Vibration Intensity provides a way for engineers to show the magnitude and directions of the power flow
paths.
User Interface
Case control command, VINTENSITY described in the MSC Nastran Quick Reference Guide , activates this
capability.
Test Cases
Sample of VI output in f06 is shown as follows,
SUBCASE 1
FREQUENCY =    1.000000E+00
V I B R A T I O N   I N T E N S I T Y   (HEXA)
ELEM ID            X-DIR             Y-DIR             Z-DIR
24        -5.561653E+02      1.781641E+03     -2.333976E+03
25         3.323856E+01      2.027404E+03     -4.087672E+03
26         4.560295E+01     -1.445847E+03     -2.220251E+02
27         6.580253E+02      2.932301E+02     -1.473891E+04&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Vibration Intensity602
Main Index
28        -3.086950E+02      3.736709E+01      3.997748E+02
29        -7.216215E+01      1.019957E+02      1.309314E+02
30         5.099537E+03     -1.698603E+04     -8.200218E+04
31         7.031117E+02      6.477779E+03     -7.131067E+03
The following test decks are available in the ..\tpl\ae_20160  subdirectory of MSC Nastran installation
directory.
•vintnst1.dat  - 1-D element types
•vintnst2.dat  - 2-D element types&lt;/p&gt;
&lt;p&gt;603 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
ACLOAD and PEM Interpolation
ACLOAD - ACLOAD is a convenient way to include load vectors produced by Actran as part of the dynamic
loading in frequency response analyses. MSC Nastran allows the ACLOAD capability to accept multiple load
vectors per input file.
PEM interpolation – PEM capability performs linear interpolation for Reduced Impedance Matrices (RIM)
of each trim component. Since RIM may have been generated with logarithmic distribution of master
frequencies, it is advantageous to provide additional interpolation schemes for user to select. Hence,
logarithmic interpolation is implemented to compliment the previously available linear interpolation
method.
Benefits
ACLOAD –  Actran can produce load vectors for multiple load cases in a single execution which reduces the
Actran run time. With ACLOAD enhancement, MSC Nastran can selectively incorporate any load case in
the Actran generated file containing multi-loadcases and apply them as dynamic loads.
PEM interpolation –  provides options for RIM interpolation. Logarithmic interpolation is particular useful
when master frequencies are unevenly spaced; e.g. octave increments.
User Interface
ACLOAD – ACLOAD bulk data entry field 7 allows the user to specify the load case sequence number of
load vectors in an input file.
LSQID field has a default value of 1.
PEM interpolation – a new parameter is provided for user to select the interpolation method.
RIMINTP
RIMINTP can be used to select the interpolation method for Reduced Impedance Matrix(RIM) for PEM.
The input options for RIMINTP are LINEAR and LOG10. The default is LINEAR.
Test Cases
ACLOAD – Following ACLOAD test decks are available in ..\tpl\fsc_2011  subdirectory of MSC
Nastran installation directory
•Fsc_07.dat
•Fsc_08.dat
The following fatal message will be issued if LSQID has a value which is greater than load cases available,1 2 3 4 5 6 7 8 9 10
ACLOAD SID UNIT1 UNIT2 SCLR SCLI LSQUID&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
ACLOAD and PEM Interpolation604
Main Index
*** USER FATAL MESSAGE 7952 (SUBDMAP READAC)
ILLEGAL SIZE OF MATRICES IN UNIT 42. LOAD SEQUENCE 9 IS GREATER THAN AVAILABLE LOAD CASES 4.
USER ACTION: CONFIRM THE FILE FROM ACTRAN.
PEM Interpolation –  PEM test decks are available in ..\tpl\pem  subdirectory of MSC Nastran
installation directory.&lt;/p&gt;
&lt;p&gt;605 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Real Coupled Modes
Previously in the MSC NastranTM software, when the modal method was used for vibro-acoustic analysis in
SOL 103, 111 or 112, it was only possible to compute the real normal modes of the structure in the absence
of the fluid (i.e. in vacuo) and the real normal modes of the fluid with its free faces considered as rigid
boundaries (reflecting boundary). For structures in contact with light fluids (gases), the structural modes are
affected little by the small amount of added mass of the gas the structure must displace when it moves. At
the same time, the relatively high stiffness of the structure approaches a rigid interface for a gas cavity. Under
these conditions, sufficiently accurate results may be obtained using this method of computing separate
modal bases. However, when dealing with heavy fluids (liquids) the method may yield unsatisfactory results
as there is no account for the fluid-structure interaction while computing the normal modes.
To account for the fluid-structure interaction in the modes, coupled modes must be computed which
previously was only possible in the complex eigenvalue solution sequences SOL 107 and SOL 110. Note that
with the latter, real mode reduction is first performed on the partitioned fluid-structure matrices, so once
again the real normal modes of the structure are computed in the absence of the fluid and the real normal
modes of the fluid with its free faces considered as rigid boundaries. The complex eigenvalue solver was
required because the system matrices of the coupled fluid-structure problem in (11-2) are asymmetric.
Although a complex eigenvalue solution is used, in the absence of any damping, the resulting eigenvalues all
have zero real parts with the radian frequency of the mode appearing in the imaginary part; the eigenvectors
are real with zero imaginary parts; the modal basis is real. There are two issues associated with using this
complex eigenvalue solution method to compute the coupled fluid-structure modes. Firstly, there is no path
forward to allow the complex eigenvectors (albeit with only non-zero real parts) to be used in a forced
response analysis. Secondly, the complex eigenvalue solver is still solving a complex eigenvalue problem, and
the methods used are nowhere near as efficient as the real eigenvalue solution methods which have warranted
far more attention over the years.
In MSC NastranTM 2019FP1, an efficient method has been added to compute real coupled modes for fluid-
structure interaction with light or heavy fluids. This uses a real eigenvalue solution strategy suggested by
Wandinger. In this strategy, the problem may be solved using one of two methods called the Mobility-
Flexibility (MF) method or the Stiffness-Mass (SM) method. Both these methods yield the same modal basis,
they only differ in their efficacy to solve a given problem. The solution method is chosen automatically based
on the number of degrees of freedom in the structure and fluid domains, and whether rigid body modes
and/or constant pressure modes are present in the structure and fluid respectively. Either method may be
requested explicitly using the user parameter SBSPFORM.
Limitations
The same limitations exist for the method as those outlined in the section above “Coupled and Uncoupled
Acoustic Analysis”.
Building the Model
The process for building a model for coupled modes follows that for classical vibro-acoustics and is outlined
in the section above “Coupled and Uncoupled Acoustic Analysis”.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Real Coupled Modes606
Main Index
Setting Up MSC Nastran
A number of solution control parameters and commands are needed to define a real coupled modes solution.
The solution sequences relevant to real coupled modes are SOL 103, 111 and 112. These are the
computation of the real normal modes and the modal formulation for frequency and transient
forced response respectively.
The Case Control data should be set up as a normal dynamics solution.
A Case Control METHOD(COUPLED) request is necessary to select a bulk data EIGRL entry
where either the number of required modes, or the frequency range in which to extract the coupled
mode eigenvalues, is defined. A DLOAD and FREQ request are necessary to analyse forced response
in the frequency domain. Forced transient response analysis requires a DLOAD and TSTEP request.
Modal damping for the coupled modes may be selected with the Case Control
SDAMPING(COUPLED) request, which selects a TABDMP1 bulk data entry in the normal way.
Note that the frequencies used to deduce the modal damping coefficients from the TABDMP1
entry will be those of the coupled modes.
The optional user parameter SBSPFORM may be used to request either the MF or the SM method
explicitly. Defining PARAM,SBSPFORM,MF or PARAM,SBSPFORM,SM will force the relevant
method. By default, the method is chosen automatically based on model characteristics.
Random response is also possible in SOL 111 by defining the random analysis entries in the normal
way.
For forced response analysis, residual vectors will be computed for the model by default (see the Case
Control RESVEC request).
Static load cases for preloading may be defined, and a coupled modes SUBCASE may refer to a
preload SUBCASE using the Case Control STATSUB request in the normal way.
Example
The following example is rocket model with structure and fluid coupled system including 189,852 structure
dofs and 394,887 fluid dofs.
In Figure 11-48, comparison of the real coupled eigenvalue using MF method and sol 107 complex coupled
eigenvalue are shown. We see both coupled eigenvalues have a good agreement. And by computing 50 real
coupled modes in different SMP settings, Figure 11-49 shows SMP scalability. The modal frequency response&lt;/p&gt;
&lt;p&gt;607 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
analysis results using 50 real coupled modes at structure point and fluid points and its comparison with SOL
108 direct frequency response are shown in Figures 11-50 and 11-51, respectively.
Figure 11-47  Rocket model with structure and fluid coupled system
Figure 11-48  Rocket model coupled eigenvalue comparison with real (sol 103 with METHOD(COUPLED) and
SBSPFORM:MF method) and complex (sol 107)
Strucural Part Fluid Part&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Real Coupled Modes608
Main Index
Figure 11-49  Rocket model SMP performance scalability (elapsed time) in 50 coupled modes computation.
Figure 11-50  Rocket model frequency response analysis at structure point grid id=551497: Modal frequency
response result with real coupled mode (SOL 111 using SBSPFORM:MF method) and direct frequency response
result (SOL 108).&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P32</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_032/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_032/</guid>
      <description>
        
        
        &lt;p&gt;609 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-51  Rocket model frequency response analysis at fluid point grid id=1830809: Modal frequency
response result with real coupled mode (SOL 111 using SBSPFORM:MF method) and direct frequency response
result (SOL 108).
Several examples including the example shown are available in the Test Problem Library folder :
&amp;hellip;\tpl\coupmods .
Acceleration Method 1
In MSC Nastran 2022.2 an acceleration method for large structure and heavy fluid coupled system models
(greater than 1M DOFs in size) by refining initial vector method using modal basis approach was introduced.
This functionality benefits automotive and aerospace industry by providing efficient coupled modes
computation.
If the user defines a METHOD(STRUCTURE) and/or METHOD(FLUID) case control command, as well
as the METHOD(COUPLED) case control command, the starting vectors will be computed using the
uncoupled modes basis computed from the real modes of the structure and fluid augmented separately by
residual vectors. With the modal basis starting vectors, the subspace iteration method would converge
quickly, and this might improve the real coupled modes computation performance time. Using
METHOD(COUPLED) command-in the absence of the METHOD(STRUCTURE) and/or
METHOD(FLUID) commands-the starting vectors will be computed based on linearly independent
vectors. For small models, it is possible that the real uncoupled modes of the fluid and structure including
residual vectors takes longer to compute than using the linearly independent starting vectors even though the
number of iterations to converge gets reduced.
For modal basis starting vector computation, the real uncoupled modes computation of fluid and structure
can be used with the ACMS method. When the model size is bigger than 1M DOFs, the ACMS method is
expected to perform better than Lanczos method for computing structural and fluid modes. To use the
ACMS method, V2 value on EIGRL bulk data card is required and these V2 values for structure and fluid
modes should be larger than requested V2 value for real coupled modes.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Real Coupled Modes610
Main Index
Example: TPL example for the modal basis starting vector method
Limitations
For small models, this method might not be efficient, since it requires pre starting vector
computation time using real uncoupled fluid and structural mode computation; therefore, we highly
recommend applying this method for large problems with DOFs &amp;gt; 1M.
This performance enhancement is for standard real coupled modes computation and not for external
superelement real coupled modes computation.
Test Case
Performance for a representative test case is presented below.
1.06M grid points; 3.07M DOF; Structure A-size 3.06M DOF, Fluid A-size 12K DOF
Eigenvalues: up to 15000Hz (coupled)
1613 Forcing Frequencies from 10Hz to 13000Hz
Job submital parameters: smp=16 mem=max memorymax=1.2Tb
Standard method vs Modal basis (starting vector) acceleration method Elapsed time comparison&lt;/p&gt;
&lt;p&gt;611 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Standard method:
METHOD(COULED) with EIGRL V2 = 1.5E+4
Modal basis (starting vector) acceleration method:
METHOD(COUPLED) with EIGRL V2 = 1.5E+4
METHOD(STRUCTURE) with EIGRL V2=2.2E+4
METHOD(FLUID) with EIGRL V2=2.0E+4&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ACMS for uncoupled structure and fluid modes
Acceleration Method 2
The acceleration method 1 introduced above uses subspace iteration method. However, the subspace
iteration method, is challenged when a large, singular matrix contains both rigid body and constant pressure
modes .
In MSC Nastran 2023.4, a new acceleration method 2 for large structure and heavy fluid coupled system
models (greater than 1M DOFs in size) by using the Lanczos method has been introduced. This method
modifies the unsymmetric structure-fluid coupled system matrix into an augmented symmetric matrix. This
functionality benefits automotive and aerospace industry by providing efficient coupled modes computation .
The user needs to define a METHOD(SYMCOUP) case control command instead of the
METHOD(COUPLED) case control command to use the acceleration method 2. Then the real coupled
modes of the structure and fluid system can be computed using the augmented symmetric matrix form and&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Real Coupled Modes612
Main Index
Lanczos method solves the sparse symmetric system. It is also recommended that the user employ MUMPS
factorization support in Lanczos (2023.4 release) to enhance computational performance as shown in the
example below .
Example: TPL example for the Lanczos method
Limitations
For small models, this method might not be efficient, since this method increases the matrix size to
compute. We highly recommend applying this method for large problems with DOFs &amp;gt; 1M .
This performance enhancement using METHOD(SYMCOUP) is for standard real coupled modes
computation and does not support for external superelement real coupled modes computation .
METHOD(SYMCOUP) turns off residual vector computation for modal dynamic solution
sequence SOL 111/112 as default in 2023.4 version .
Test Case
Performance for a representative test case is presented below.
1.06M grid points; 3.07M DOF; Structure A-size 3.06M DOF, Fluid A-size 12K DOF
 Eigenvalues: up to 15000Hz (coupled)
Job submital parameters: smp=16 mem=max memorymax=500GB&lt;/p&gt;
&lt;p&gt;613 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Elapsed time comparison of three methods:
1.Standard method -subspace iteration:
METHOD(COUPLED) with EIGRL V2=1.5E+4
2.Modal basis (starting vector) acceleration method -subspace iteration:
METHOD(COUPLED) with EIGRL V2=1.5E+4
METHOD(STRUCTURE) with EIGRL V2=2.2E+4
METHOD(FLUID) with EIGRL V2=2.0E+4&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ACMS for uncoupled structure and fluid modes
3.The Lanczos method:
METHOD(SYMCOUP) with EIGRL V2=1.5E+4&lt;/li&gt;
&lt;li&gt;SPARSESOLVER READ (FACTMETH=MUMPS)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
External Superelements with CMS from Real Coupled Modes614
Main Index
External Superelements with CMS from Real Coupled
Modes
Previously in the MSC NastranTM software, if an external superelement contained a fluid cavity, when CMS
(Component Mode Synthesis) was performed on the component, it was only possible to compute the real
normal modes of the structure in the absence of the fluid (i.e. in vacuo) and the real normal modes of the
fluid with its free faces considered as rigid boundaries (reflecting boundary). However, as with a residual
structure only model, when dealing with heavy fluids (liquids) the method may yield unsatisfactory results as
there is no account for the fluid-structure interaction while computing the component modes.
In MSC NastranTM 2021.1, an external superelement containing one or more fluid cavities may now be
generated using CMS from real coupled modes where the coupled fluid-structure component is reduced to
a classical Craig-Bampton boundary representation.
Setting Up MSC Nastran
A number of solution control parameters and commands are needed to define an external superelement
reduced with real coupled modes CMS.
The Case Control data should be set up as any other external superelement generation run.
A METHOD(COUPLED)= request is necessary to select a bulk data EIGRL entry where either the
number of required modes is defined, or the frequency range in which to extract the coupled mode
eigenvalues.
A Case Control EXTSEOUT= request is used in the normal way, and the external superelement is
attached to the assembly analysis as usual using the .asm and .pch files where appropriate.
Modal damping may be defined for the external superelement using the Case Control
SDAMPING(COUPLED), which selects a TABDMP1 bulk data entry in the normal way. Note
that the frequencies defined on the TABDMP1 entry will relate to those of the coupled modes.
Superelement modal damping requires the definition of the SESDAMP parameter;
PARAM,SESDAMP,AUG is recommended.
The physical boundary points for the external superelement (those appearing on bulk data ASETi
entries) must be defined exclusively on structural points, i.e. no fluid points may appear in the
exterior set of the external superelement.  If data recovery on fluid points, or indeed other items, is
required during the assembly run that uses the external superelement, these items should be placed
on relevant data recovery requests where OTM (Output Transformation Matrices) will be generated
for the items.
Example
Frequency response analysis of Oil tank model (model size of 96 K structure and 16K fluid DOFs) is
shown in Figure 11-53. The response results are on fluid point (acoustic pressure) comparing SOL
108 assembly run with external superelement and SOL 108 without external superelement. SOL
108_SE uses constant damping factor G=0.02 to assembled system and SOL 108_noSE uses param
G = 0.02 and GFL=0.02. The SMP performance scalability for the oil tank model superelements
creation in SOL 103 (150 modes) is shown in Figure 11-54.&lt;/p&gt;
&lt;p&gt;615 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Figure 11-52  Oil tank model with structure and fluid coupled system
Figure 11-53  Frequency response (acoustic pressure) at point id 158721 for Oil tank model: oil_tank_SE108
is SOL 108 assembly run with external superelement and oil_tank_noSE108 is SOL 108 run without external
superelement.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
External Superelements with CMS from Real Coupled Modes616
Main Index
Figure 11-54  SMP performance scalability for the oil tank model superelements creation in
SOL 103 (150 modes)
Several examples including the example shown are available in the T est Problem Library folder
…./tpl/se_coupm.
References
1.H.Wandinger, “Modal Analysis of Fluid Structure Systems by Parallel Subspace Iteration”, Spacecraft
Structures and Mechanical Testing, October 1988.
2.J. Wandinger, “A symmetric Craig-Bampton method of coupled fluid-structure systems”,
Engineering Computations, 1998.&lt;/p&gt;
&lt;h1&gt;617 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Compute Element Sensitivity based on Frequency
Response Function and Element Matrix
Introduction
This functionality  computes and outputs element sensitivity based on the response DOFs and element set
selected by the user. In addition, sensitivity for wetted grids is also computed.
Benefits
This output of e lement sensitivity provided here can be viewed as element contribution to a response DOF&lt;br&gt;
due to a user -defined excitation . In the element sensitivity by SOL200, many entries are needed to define the
design variables for computing the sensitivities of elements. This function, however, needs only one Case
Control entry which is simpler for frequency response analysis. In addition, the sensitivities of the grids on
the wetted surface can be computed in the fluid-structure problem in a similar  manner. The wetted surface
sensitivity allows you to know the potion of the model on the wetted surface to be focused on the fluid-
structure coupling problem.
Theory
The symmetric governing equation in frequency domain s is:
or
D 
where  s is structural domain, f is fluid domain ,  is angular velocity (frequency) , us is structural
displacement, and qf is fluid velocity potential ( uf =iqf).
We assume the design variable ui, the element sensitivity in the case of excitation A, and the response B is
computed by the equation ,
where  is the displacement vector due to the excitation to A and  is the displacement vector due to the
excitation to B. And the squared sensitivity is written as,Ms– iBsKs+ +
symAsf
2MfiBfKf– –us
qfPs
Gf–&lt;/h1&gt;&lt;p&gt;A
iT
B
i uD
uV 1
AB
**&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2
A
iT
B A
iT
B
i uD
uD
uV   &lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Compute Element Sensitivity based on Frequency Response Function and Element Matrix618
Main Index
where *  denotes  the complex conjugate. And ui should be selected to extract mass, stiffness , or dynamic terms
by the options; MASS, STIF , or DYNAMIC for the element sensitivity and SQMASS, SQSTIF , and
SQDYNAMIC for the squared sensitivity. For the wetted surface sensitivity, the coupling matrix ( ) is
selected to compute the grid sensitivity on the wetted surface.
Input
T wo case control entries  can be utilized to request element sensitivity and wetted grids sensitivity .
The new Case Control entries are:
Select SOLUTION frequencies and RESPONSE DOFs for the generation element sensitivity.
Format :
Example
SET 81 = 100.0, 120.0
SET 91 = 11240/T3, 4001/T1
SET 96 = 15920   THRU 15950
$
ELSENS(RESPONSE=91, SOLUTION=81,MASS,STIFF,DYNAMIC) = 96 ELSENS  (Case) Element Sensitivity Output for SOL 108/111
Describer Meaning
PRINT or (blank)
PUNCH
PLOTsfA
ELSENSPRINT, PUNCH
PLOTREAL or IMAG
PHASETHRESH P=  RESPONSE = r  
SOLUTION ALL
setf=
MASS, STIFF, DYNAMIC, SQMASS, SQSTIFF, SQDYNA     



ALL
n
NONE     &lt;/h1&gt;&lt;p&gt;Printer File (.f06) Punch File (.pch) Plot File (.op2/.h5)
X X*
X X*
X*&lt;/p&gt;
&lt;p&gt;619 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Remarks:
1.Set r for RESPONSE has no default.
2.The equations various options of ELSENS
ELSENS(MASS) = [ Usetf]t[-2Melem][Ur]&lt;br&gt;
ELSENS(STIFF) = [Usetf]t[Kelem][Ur]&lt;br&gt;
ELSENS(DYNAMIC) = [Usetf]t[-2Melem][Ur] + [Usetf]t[Kelem][Ur]&lt;br&gt;
ELSENS(SQMASS) = [Usetf]t[-2Melem][Ur] + [Usetf]&lt;em&gt;t[-2Melem]&lt;/em&gt; [Ur]*  * The .op2 binary database file will be generated with “PARAM,POST, X” (or the POST Case Control
command), while the .h5 binary database file will be generated with “HDF5OUT” entry specified in Bulk
Data Section.  Both .op2 and .h5 file can be created simultaneously. Note .xdb file is being deprecated.
THRESH The magnitude of element sensitivity less than p will be suppressed i n all output files:
print, punch, plot, .op2, and .xdb. (Default = 0.0).
RESPONSE Adjoint load response will be computed for unit load applied at g rid point components
in SET r.
SOLUTION Frequency responses at these forcing frequencies, defined in setf, will be used for
element sensitivity computation. (Default=all forcing frequencies)
MASS Sensitivity with element mass  matrices will be computed and output.
STIFF Sensitivity with element stiffness  matrices will be computed and output.
DYNAMIC Sensitivity with element stiffness and mass  matrices will be computed and output.
SQMASS Squared sensitivity with element mass  matrices will be computed and output.
SQSTIF Squared sensitivity with element stiffness  matrices will be computed and output.
SQDYNA Squared sensitivity with element stiffness and mass  matrices will be computed and
output.
ALL Sensitivities for all elements will be calculated.
n Set identification number. Sensitivity for all elements specified on the SET n
command will be calculated. The SET n command must be specified in the same
subcase as the ELS SENS  command, or above all subcases ( Integer &amp;gt; 0 ).  The IDs in
set n must be EID (element ID).
NONE Elemental sensitivity will not be output.Describer Meaning&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Compute Element Sensitivity based on Frequency Response Function and Element Matrix620
Main Index
ELSENS(SQSTIF) = [Usetf]t[Kelem][Ur]  + [Usetf]&lt;em&gt;t[Kelem]&lt;/em&gt; [Ur]*&lt;br&gt;
ELSENS(SQDYNA) = [Usetf]t[-2Melem][Ur] + [Usetf]t[Kelem][Ur] +
[ Usetf]&lt;em&gt;t[-2Melem]&lt;/em&gt; [Ur]*  + [Usetf]&lt;em&gt;t[Kelem]&lt;/em&gt; [Ur]*&lt;br&gt;
where [Usetf]  is the displacement of SOLUTIO N
[Ur]  is the displacement of RESPONS E
[Kelem] is element stiffness matrix
[Melem] is element mass matrix
superscript * means complex conjugate of the term.
3.ELSENS is valid for symmetric formulation only since the formulation of ELSENS is based on the
symmetric equation as described above.
Select SOLUTION frequencies and RESPONSE DOFs for the generation of sensitivity for wetted grids.
Format :
Example:
SET 81 = 100.0, 120.0
SET 91 = 11240/T3, 4001/T1
SET 95 = 9000000 THRU 9000050
$
WETSENS(RESPONSE=91,solution=81,WETTED) = 95WETSENS  (Case) Sensitivity Wetted Grids for SOL 108/111
WETSENSPRINT, PUNCH
PLOTREAL or IMAG
PHASETHRESH P=  RESPONSE = r
SOLUTION ALL
self=
WETTED, SQWETT     



ALL
n
NONE     &lt;/h1&gt;&lt;p&gt;621 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Remarks:
1.Set r for RESPONSE on WETSENS is default to set r on ELSENS.  If no ELSENS in the
deck, set r for WETSENS must be provided.
The equations for various options of WETSENS
WETSENS(WETTED) = [Usetf]t[AGG][Ur]&lt;br&gt;
WETSENS(SQWETT) = [Usetf]t[AGG][Ur]  + [Usetf]&lt;em&gt;t[AGG]&lt;/em&gt; [Ur]*&lt;br&gt;
where [Usetf]  is the displacement of SOLUTIONDescriber Meaning
PRINT or (blank)
PUNCH
PLOT&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The .op2 binary database file will be generated with “PARAM,POST, X” (or the POST Case Control
command), while the .h5 binary database file will be generated with “HDF5OUT” entry specified in Bulk
Data Section.  Both .op2 and .h5 file can be created simultaneously. Note .xdb file is being deprecated.
THRESH The magnitude of element sensitivity less than p will be suppressed in all output
files: print, punch, plot, .op2, and .xdb. (Default = 0.0).
RESPONSE Adjoint load response will be computed for unit load applied at g rid point
components in SET r.
SOLUTION Frequency responses at these forcing frequencies, defined in setf, will be used for
element sensitivity computation. (Default=all forcing frequencies)
WETTED Sensitivity for wetted grids will be computed and output.
SQWETT Squared sensitivity for wetted grids will be computed and output.
ALL Sensitivities for all elements will be calculated.
n Set identification number. Sensitivity for all elements specified on the SET n
command will be calculated. The SET n command must be specified in the same
subcase as the ELS SENS  command, or above all subcases ( Integer &amp;gt; 0 ). The IDs
in set n must be GID (grid ID).
NONE Elemental sensitivity will not be output.Printer File (.f06) Punch File (.pch) Plot File (.op2/.h5)
X X*
X X*
X*&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Compute Element Sensitivity based on Frequency Response Function and Element Matrix622
Main Index
[Ur]  is the displacement of RESPONSE
[AGG] is Fluid/Structure Coupling matrix
superscript * means complex conjugate of the term .
Output
In f06, a sample element sensitivity output for STIF is shown as follows . The sensitivities are printed by each
element type : BEAM, ELAS1, HEXA, QUAD4 , and TETPR.
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (STIF    )
ELEMENT TYPE:BEAM       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
6257         3.80848E-07/   -5.38564E-08
6258        -9.94747E-09/    1.17812E-09
6259         6.96983E-07/   -1.16427E-07
6260         3.02423E-08/    5.01726E-08
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (STIF    )
ELEMENT TYPE:ELAS1      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
6268        -7.50616E-07/    3.82246E-08
6269        -7.07820E-07/    1.35735E-07
6272        -9.45331E-08/    2.84290E-08
6273        -2.44536E-08/    3.69334E-09
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (STIF    )
ELEMENT TYPE:HEXA       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
5598         3.92281E-07/   -2.83214E-08
5599         2.97181E-07/   -2.11778E-08
5600         6.38211E-07/   -3.87888E-08
5601         1.42306E-07/    3.08925E-09
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (STIF    )
ELEMENT TYPE:QUAD4      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
1         3.96588E-06/   -6.31571E-07
2         1.81926E-05/   -2.63416E-06
3         1.37873E-06/   -1.54531E-07
4         8.17374E-06/   -8.52649E-07
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (STIF    )
ELEMENT TYPE:TETPR      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
100011         2.88784E-10/   -3.43959E-11
100012         3.21860E-07/   -1.23688E-07
100013         2.08642E-07/   -7.88078E-08
100014        -3.62079E-08/   -1.45429E-09
MASS is shown as well. Note that ELAS1 doesn ’t have any masses then nothing is printed out.
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (MASS    )
ELEMENT TYPE:BEAM       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
6257         3.01773E-06/   -2.02431E-07
6258         3.00727E-06/   -1.92906E-07
6259         2.16594E-06/   -1.49622E-07
6260         3.09445E-06/   -2.13349E-07
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (MASS    )
ELEMENT TYPE:HEXA       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
5598         1.87149E-07/   -4.73409E-09
5599         1.32380E-07/   -4.05157E-09
5600         1.43667E-07/   -4.78662E-09&lt;/p&gt;
&lt;p&gt;623 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
5601         7.59971E-08/   -2.33647E-09
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (MASS    )
ELEMENT TYPE:QUAD4      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
1         4.73039E-06/   -1.00447E-06
2        -1.14021E-06/   -6.85568E-08
3         4.27465E-05/   -9.49842E-06
4         2.73492E-05/   -6.00055E-06
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (MASS    )
ELEMENT TYPE:TETPR      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
100011        -9.92090E-08/    1.28716E-09
100012        -9.85914E-07/    6.89206E-08
100013        -1.15959E-06/    9.04303E-08
100014        -1.36541E-06/   -5.02471E-09
For DYNAMIC:
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (DYNAMIC )
ELEMENT TYPE:BEAM       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY&lt;br&gt;
6257         3.39858E-06/   -2.56287E-07
6258         2.99732E-06/   -1.91728E-07
6259         2.86292E-06/   -2.66049E-07
6260         3.12469E-06/   -1.63177E-07
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (DYNAMIC )
ELEMENT TYPE:ELAS1      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY&lt;br&gt;
6268        -7.50616E-07/    3.82246E-08
6269        -7.07820E-07/    1.35735E-07
6272        -9.45331E-08/    2.84290E-08
6273        -2.44536E-08/    3.69334E-09
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (DYNAMIC )
ELEMENT TYPE:HEXA       RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY&lt;br&gt;
5598         5.79430E-07/   -3.30555E-08
5599         4.29561E-07/   -2.52294E-08
5600         7.81878E-07/   -4.35754E-08
5601         2.18303E-07/    7.52780E-10
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (DYNAMIC )
ELEMENT TYPE:QUAD4      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
1         8.69626E-06/   -1.63604E-06
2         1.70524E-05/   -2.70271E-06
3         4.41252E-05/   -9.65295E-06
4         3.55230E-05/   -6.85320E-06
FREQUENCY =    3.000000E+01
E L E M E N T   S E N S I T I V I T Y  -  (DYNAMIC )
ELEMENT TYPE:TETPR      RESPONSE DOF:      4001/T1
ELEMENT ID                REAL/IMAGINARY
100011        -9.89202E-08/    1.25276E-09
100012        -6.64053E-07/   -5.47675E-08
100013        -9.50951E-07/    1.16225E-08
100014        -1.40162E-06/   -6.47900E-09&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Compute Element Sensitivity based on Frequency Response Function and Element Matrix624
Main Index
The result of DYNAMIC is same as summation of STIF and MASS.
For wetted grid sensitivity, a sample output is shown as follows,
FREQUENCY =    3.000000E+01
W E T T E D     S E N S I T I V I T Y  -  (WETTED  )
RESPONSE DOF:      4001/T1           &lt;br&gt;
GRID ID/DOF             REAL/IMAGINARY&lt;br&gt;
10001/T1      1.08566E-05/   -8.97381E-07
10001/T2      5.12367E-06/    6.81049E-08
10001/T3      1.68916E-06/   -1.41791E-07
10001/R1      2.01494E-13/    2.04843E-14
10001/R2      8.22658E-11/   -4.15333E-12
10001/R3     -1.25147E-11/    7.90934E-14
10002/T1      6.95717E-06/   -7.20847E-07
10002/T2      6.06442E-06/    7.95307E-08
10002/T3      1.23575E-06/   -1.31611E-07
10002/R1     -1.08251E-11/    5.61736E-13
10002/R2      4.55328E-11/   -2.39474E-12
10002/R3     -2.97953E-11/    3.63778E-13
10003/T1      3.71908E-06/   -4.26903E-07
10003/T2      6.00221E-06/    6.15527E-08
10003/T3      1.20445E-06/   -1.33754E-07
10003/R1      1.52407E-11/   -7.90372E-13
10003/R2      6.80032E-11/   -7.55288E-12
10003/R3      2.47433E-11/   -1.94219E-13
10004/T1      1.20250E-05/   -1.08944E-06
10004/T2      5.28112E-06/    5.50717E-08
10004/T3      4.77353E-06/   -4.13907E-07
10004/R1      2.96689E-11/   -1.55867E-12
10004/R2      1.44823E-10/   -1.21755E-11
10004/R3      3.82980E-11/   -2.88349E-13
9000001/T1     -2.45535E-06/    5.96815E-07
9000007/T1     -1.47303E-07/    1.46009E-09
9000013/T1     -8.69173E-07/    1.28722E-07
9000019/T1     -5.80879E-07/    8.53362E-08
Guidelines and Limitations
1.The output can be voluminous if all types of element sensitivity are requested for all elements in the
model.
2.If the value  of sensitivity is very small , THRESH option on ELSENS and WETSENS case control
can be utilized to screen out small value and to reduce the amount of output. Note that it is
magnitude of sensitivity which is checked against THRESH.
Test Cases
The following test cases are available in TPL in directory tpl/fsc_2011. There are two TPL files with the name
fsc_13 and fsc_14 .
fsc_13 with ACMS
fsc_14 without ACMS&lt;/p&gt;
&lt;h1&gt;625 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
Output Particl e Acceleration on Wetted Surface
Introduction
This function compute s the particle acceleration on the wetted surface in the fluid-structure coupling
problem. The particle acceleration is the force vector from the fluid domain to structure domain via wetted
surface or vice versa. This function is supported only for frequency response analysis.
Benefits
This output is useful for investigat ing the effect of each domain on another from the point of view of the
wetted area. For example, the grids on wetted surface that have high particle acceleration values should
indicate the surface around the grid has higher energy flow between both domains.
Theory
The purpose of this function is computing the excitation force contour to structure and acoustic domain via
wetted surface. The equation of structure and fluid coupling problem in frequency domain is as follows.
Then the input force to each domain via wetted surface is derived from this equation by extracting the terms
with coupling matrix Asf to right hand, that is,
The output data blocks of particle acceleration has the unit of load and the format is same as OPG1.
Input
PACCELERATION case control command can be utilized to request particle acceleration output.
Request the form and frequency steps of particle acceleration output.PACCELERATION  (Case) Particle Acceleration Output Request for SOL 108/1112Ms0
AT
sf – Mf– iBs0
0BfKsAsf
0Kf+ +
     us
qfPs
Gf&lt;/h1&gt;&lt;h1&gt;PaccelAsfqf –
2AT
sfus –    &lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Output Particl e Acceleration on Wetted Surface626
Main Index
Format:
Example:
PACCELERATION = ALL
SET 20 = 104 THRU 204, 1005 THRU 1901
SET 50 = 105.0, 250.0, 310.0
PACCE (PUNCH, SOLUTION=50) = 20
Remarks:
1.This entry will be available  only for fluid-structure coupling problem. The particle acceleration is
input force vector to each domain via wetted surface in frequency response analysis.
2.Both fluid and structure grid points can be selected. The particle accelerations of the grid points not
on wetted surface will be zero.Describer Meaning
PRINT or (blank)
PUNCH
PLOT&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The .op2 binary database file will be generated with “PARAM,POST , X” (or the POST Case Control
command), while the .h5 binary database file will be generated with “HDF5OUT” entry specified in Bulk
Data Section.  Both .op2 and .h5 file can be created simultaneously. Note .xdb file is being deprecated.
REAL or IMAG Requests rectangular format (real and imaginary). Use of either REAL or IMAG
yields the same output.
PHASE Requests polar format (magnitude and phase). Phase output is in degrees.
SOLUTION Selects a set of excitation frequencies for which the particle accelerations will be
processed. The default is all excitation frequencies. See Remark 3.
setf Set identification of excitation frequencies.
setg Set identification of grid points on wetted surface. See Remark 2.PACCELERATIONPRINT, PUNCH
PLOTREAL or IMAG
PHASESOLUTION ALL
setf=  
    =
ALL
setg
NONE     
Printer File (.f06) Punch File (.pch) Plot File (.op2/.h5)
X X*
X X*
X*&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;627 CHAPTER 11
Coupled Fluid-Structure Analysis
Main Index
3.The selected frequency must be part of the excitation frequencies. If not, the nearest excitation
frequency will be selected.
4.Only SORT1 form is supported.
Output
In f06, a sample particle acceleration output is shown as follows,
FREQUENCY =  3.000000E+01
C O M P L E X   L O A D   V E C T O R&lt;br&gt;
(REAL/IMAGINARY)
POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
0        10001      G      1.380156E-01   1.696067E-02  -2.841734E-02  -9.359745E-06  -2.874146E-04   1.413643E-04
-2.238114E-03  -2.787633E-04   4.587104E-04   1.304513E-07   4.743302E-06  -2.391997E-06
0        10002      G      1.116973E-01   2.018262E-02  -3.408696E-02   5.951917E-05  -1.718442E-04   2.218772E-04
-1.830821E-03  -3.307615E-04   5.560872E-04  -9.947405E-07   2.863250E-06  -3.717144E-06
0        10003      G      8.875655E-02   1.953523E-02  -4.021163E-02  -1.014066E-04  -5.265233E-04  -2.751808E-04
-1.421139E-03  -3.126839E-04   6.439614E-04   1.590505E-06   8.519473E-06   4.346479E-06
0        10004      G      2.225516E-01   1.715258E-02  -9.498698E-02  -2.087045E-04  -9.299600E-04  -5.032117E-04
-3.557096E-03  -2.746745E-04   1.516871E-03   3.361446E-06   1.498954E-05   8.117353E-06
0      9000001      S      3.108184E+04
-2.039097E+03                 &lt;br&gt;
0      9000007      S      3.721781E+03                 &lt;br&gt;
-2.574180E+02
0      9000013      S      3.135164E+04       &lt;br&gt;
-2.787337E+03                 &lt;br&gt;
0      9000019      S      6.386666E+03                 &lt;br&gt;
-9.391546E+02
Guidelines and Limitations
Only frequency response analysis is supported.
This output is computed for the fluid-structure coupling problem only.
Test Cases
The f ollowing test cases are available in TPL in directory ..\tpl\fsc_2011 . There are two TPL files with
the name fsc_09 and fsc_10 .
f
fsc_09 with ACMS
fsc_10 without ACMS&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Output Particl e Acceleration on Wetted Surface628
Main Index&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P33</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_033/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_033/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
Nastran Dynamic Analysis User’s Guide
Chapter 12: Mid-Frequency Acoustics
12 Mid-Frequency Acoustics
Introduction
Theory
User Interface and Guidelines
Output
Post Processing using PLT Viewer&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Introduction630
Main Index
Introduction
Mid-Frequency Acoustics functionality adds the ability to run Monte-Carlo simulations in SOL 111 based
on the non-parametric variability method (NPVM).
Overview
T raditional Finite element (FE) based modal approaches which are deterministic (non-probabilistic) in nature
are frequently employed by automotive industry to predict the frequency response of large vibro-acoustic
model involving a body structure coupled to an acoustic cavity. The accuracy of such a deterministic FE based
modal approach is sufficient in the low-frequency range where the modal densities are typically low and their
natural frequencies are well separated. In the mid-frequency range (300 Hz – 2000 Hz), the modal densities
are typically high and non-uniform, which causes the response to be highly sensitive to model parameters,
such as, material and geometric properties, etc. T o better gauge the response of the model in mid-frequency
range requires a non-deterministic (probabilistic) approach which can handle model uncertainties. T o this
end we’ll use the non-deterministic NPVM approach [1-5], which is an efficient implementation of non-
deterministic averaging, and has been successfully applied on industrial car vibro-acoustic models [6,7].
The NPVM approach would allow the user to efficiently run a probabilistic Monte-Carlo simulation in SOL
111 and handle model uncertainties. After running the Monte-Carlo simulation in Nastran the results in
HDF5 format would be read into PLT Viewer (integrated in Nastran from Actran) which would be used to
conduct useful statistical operations on the simulated response of random samples to obtain useful response
statistics, such as, mean response, response confidence interval and envelope, etc.
Benefits
1.The NPVM approach allows the user to efficiently run a probabilistic Monte-Carlo simulation in
SOL 111 and handle model uncertainties.
2.The added functionality allows for the output of results of Monte-Carlo simulation in HDF5 format
which can be read into PLT Viewer for further post-processing. PLT Viewer provided with Nastran
can be employed to conduct useful statistical operations on the simulated response of random samples
to obtain useful response statistics, such as, mean response, response confidence interval and envelope,
etc.
3.The implemented NPVM approach is highly scalable with respect to DMP.
Theory
A description of the basic theory and methods used in the design is available in Ref. [2-4]. The details
provided in these documents are restated again in this user’s guide.
The mean reduced vibro-acoustic model is characterized by the following system of equations:
(12-1)&lt;/p&gt;
&lt;p&gt;631 CHAPTER 12
Mid-Frequency Acoustics
Main Index
Where,  and are the mean modal mass, damping and stiffness matrices for the structure.&lt;br&gt;
and  are the mean modal mass, damping and stiffness matrices for the fluid.  is the mean modal
coupling matrix.  and  are the mean modal structural and fluid response.  are the mean
modal structural and fluid loads. They are by construction equal to their deterministic counterparts.
In order to consider model uncertainties we use the NPVM method to replace the mean reduced model
above with random matrices to conduct a Monte-Carlo simulation.
(12-2)
The symbol in Equation (12-2) have the same meaning as the ones in Equation (12-1) except they refer to a
particular random sample. The random matrices in the Equation (12-2), Ms, Mf, Bs, Bf, Ks, Kf are obtained
using the NPVM method in a similar way, hence, for ease of presentation we only consider one matrix S
which can represent any one of Ms , Mf , Bs , Bf , Ks and Kf . The Random S is obtained from  as follows,
(Cholesky factorization) (12-3)&lt;/p&gt;
&lt;p&gt;The generation of random lower-triangular matrix R is controlled by a single variability (dispersion)
parameter  using Gaussian and Gamma random variables (see Equation (12-3) for more details). Given a
Gaussian distribution N (0,2)(zero mean and standard deviation equal to ) and a Gamma distribution
(k,), generate a lower-triangular matrix R, as follows,
(12-4)
Hence, the generation of random matrices Ms , Mf , Bs , Bf , Ks and Kf can be arranged through the selection
of six variability parameters  using the NPVM method above. The
frequency response of the non-deterministic system described by Equation (12-2) requires us to perform a
Monte-Carlo simulation for each random sample.
–2MsiBsKs+ + A
–2A –2MfiBfKf+ +us
ufPs
Pf =
Rijx
2&amp;mdash;&amp;mdash;-with x 02for ij  =
Rij xwith x2–i1–/2,1 –   =
Rij0 for   i j = &lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface and Guidelines632
Main Index
User Interface and Guidelines
From a user perspective the ability to convert a “traditional” non-deterministic SOL 111 model into a Monte-
Carlo simulation model is straightforward and only requires introducing the MONCARL  case control and
associated MONCARL  bulk data in the Nastran input deck, as shown below.
Input File (Abridged) for conducting Monte-Carlo simulation
NASTRAN HDF5=1
SOL    111
DOMAINSOLVER ACMS (PARTOPT=DOF, RUNOPT=MULTIMST)
CEND
TITLE = Sample Monte-Carlo Simulation of a Vibro-Acoustic Problem
SET 111 = 1024
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ MONCARL  Case Control Command Above SUBCASE level     $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
MONCARL(NSAMPLE = 20, SEED = 777, OFFD = 1.0) = 100
SUBCASE 1
DISP(PUNCH,REAL,SORT1) = 111
DLOAD=10
&amp;hellip;
METHOD(STRUCTURE)=98
METHOD(FLUID)=99
BEGIN BULK
&amp;hellip;
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ MONCARL Bulk Data Entry                               $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
MONCARL,100
,STRVAR,0.01,0.05,0.05
,FLUVAR,0.0,0.0,0.0
ENDDATA
The MONCARL case control format with example are shown below:
Format:
MONCARL ( [NSAMPLE=m],[ SEED=k]  ,[ OFFD= r ]  )=n
Example:
MONCARL (NSAMPLE=100)=5
Fields Contents
NSAMPLE = m Specifies the number of random samples, m ( Integer &amp;gt;=0, Default = 0).
SEED = k Specifies the random number generator seed, k (Integer &amp;gt; 0, Default = 777).
OFFD = r Specifies the scale factor for off-diagonal entries of the random matrix, r
(Real, Default = 1.0).
n Set identification number of a MONCARL Bulk Data entry (Integer &amp;gt; 0).&lt;/p&gt;
&lt;p&gt;633 CHAPTER 12
Mid-Frequency Acoustics
Main Index
The SEED and OFFD describers are provided for completeness and should seldom be changed by the user.
The scale factor for off-diagonal entries of the random matrix which should typical be 1.0 can be changed
using the OFFD describer. Note: Use of OFFD is intended for debugging use only, its usage would lead to
incorrect results.
The Associated MONCARL bulk data entry has the following format:
Format :
Example
Please use below as the guideline for selecting above mentioned structural and fluid alpha variabilities (which
should be &amp;gt; 0.0):1 2 3 4 5 6 7 8 9 10
MONCARL SID VARTYP
STRVAR MSVAR KSVAR BSVAR
FLUVAR MFVAR KFVAR BFVAR
MONCARL 100 DELTAVAR
STRVAR 0.001 0.05 0.002
FLUVAR 0.0 0.001 0.0
Fields Contents
SID Set identification number referenced by MONCARL case control. (Integer &amp;gt; 0;
Required)
VARTYP Select the type of variabilities that follow (Character; Default = ALPHAVAR)
ALPHAVAR Variabilities in this entry are Alpha variabilities.
DELTAVAR Variabilities in this entry are Delta variabilities.
STRVAR Indicates Structural variability parameters follow. (String)
MSVAR Structural mass variability. (Real &amp;gt;= 0.0; Default = 0.0)
KSVAR Structural stiffness variability. (Real &amp;gt;= 0.0; Default = 0.0)
BSVAR Structural damping variability. (Real &amp;gt;= 0.0; Default = 0.0)
FLUVAR Indicates Fluid variability parameters follow (String)
MFVAR Fluid mass variability. (Real &amp;gt;= 0.0; Default = 0.0)
KFVAR Fluid stiffness variability. (Real &amp;gt;= 0.0; Default = 0.0)
BFVAR Fluid damping variability. (Real &amp;gt;= 0.0; Default = 0.0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Output634
Main Index
Low variability level    = 0.001
Medium variability level = 0.01
High variability level   = 0.05
Alpha variabilities are related to delta variabilities through the order of the matrix to be randomized, n (or
equivalently the number of modes),
There is a limitation in the admissible values for the variability level. The maximum value for delta variability
equals,
On a model with a large amount of modes (n &amp;raquo; 1), the maximum value of delta tends to 1 ( ).
The maximum value of alpha variability using the above equations equals,
An unphysical (very large or negative value) selection of variability would results in a FATAL.
Keeping in mind the size and the naively parallel nature of Monte-Carlo problem typical simulation would
be run in a parallel mode. The parallel DMP simulation is restricted to Multi-Master mode in order to get a
good scalable performance.  Multi-Master mode can be specified using &amp;ldquo;RUNOPT=MULTIMST&amp;rdquo;, in
&amp;ldquo;DOMAINSOLVER&amp;rdquo; Executive Control statement, e.g.:
DOMAINSOLVER ACMS (PARTOPT=DOF, RUNOPT=MULTIMST)
Additional speed-up in simulation time can be achieved by running the Monte-Carlo simulation using SMP
parallelization. T o specify the SMP value the user can add “smp=n” to the command line or the Nastran
statement, where n is the number of smp threads.
Output
Running the Monte-Carlo simulation in Nastran would result in a concatenated OP2, HDF5 and PCH file
containing the response results of each random sample of Monte-Carlo simulation. Each random sample
would appear as a unique subcase in the OP2, HDF5 and PCH file. HDF5 is the recommended output
method for reading into PLT Viewer. Use NASTRAN system cell (702) HDF5=1 to request HDF5 output.
NASTRAN HDF5=12
n1+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
maxn1+
n5+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
max1
max2
n5+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;
&lt;p&gt;635 CHAPTER 12
Mid-Frequency Acoustics
Main Index
The below figure shows a 2-D plot for various meaningful response statistics for a structural grid 120
obtained by using the PLT Viewer. This plot also shows the response envelope, mean response, standard
deviation and response of one particular Monte-Carlo sample (in this case the deterministic nominal
response) for grid 120.
Figure 12-1  Response envelope, mean response, standard deviation and one particular realization of
response of random samples
Post Processing using PLT Viewer
Typically, the user would use the PLT Viewer for plotting and analyzing the response statistics of a SOL 111
Monte-Carlo simulation. PLT Viewer is able to read both PCH and HDF5 files. HDF5 being the
recommended choice. PLT Viewer is provided as part of the Nastran distribution and can be launch as
follows in Windows and Linux.
Launching PLT Viewer
Windows:
Assuming the user installed Nastran in directory %NASTRAN_INSTALL_DIR%.
Go to the following directory:
%NASTRAN_INSTALL_DIR%\msc 20224\ actran\win64\Actran_19.0.rc0.115287\bin
Launch pltviewer.bat
Linux:
Assuming the user installed Nastran in directory NASTRAN_INSTALL_DIR.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Post Processing using PLT Viewer636
Main Index
Go to the following directory:
NASTRAN_INSTALL_DIR/msc 20224/ actran/linux64/ Actran_19.0.rc0.115287 /bin
Launch pltviewer
Figure 12-2  Location of PLT viewer&lt;/p&gt;
&lt;p&gt;637 CHAPTER 12
Mid-Frequency Acoustics
Main Index
Example: Nascar Problem with PEM
Shown in Figure below, is the Nascar vibro-acoustic test problem.
Figure 12-3  Nascar model
This model is an automotive structure with acoustic cavity. It has 13972 Grids, 33549 CTETRA , 7167
CQUAD4, 213 CTRIA3 and linear material (1 MAT1 for structure and 1 MAT10 for acoustic cavity).&lt;br&gt;
Validation of Nastran results with Actran is conducted for this problem. Model summary is provided below:
M O D E L   S U M M A R Y       &lt;br&gt;
ENTRY NAME        NUMBER OF ENTRIES&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;ACMODL                        1
CQUAD4                     7167
CTETRA                    33549
CTRIA3                      213
DAREA                        1
EIGRL                        2
FREQ1                        1
GRID                    13972
MAT1                        1
MAT10                       10
PSHELL                        3
PSOLID                        1
Monte-Carlo simulation is conducted with 20 random samples and structural stiffness variability of 0.005.
The mean response together with 90% Confidence interval for structural Node 161 is shown below:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Post Processing using PLT Viewer638
Main Index
Figure 12-4  Mean response and confidence interval, 20 Samples, for Structural Node 161
The mean response together with 90% Confidence interval for fluid Node 31468 is shown below:
Figure 12-5  Mean response and confidence interval, 20 Samples, for Fluid Node 31468&lt;/p&gt;
&lt;p&gt;639 CHAPTER 12
Mid-Frequency Acoustics
Main Index
This test case (nascar_npvm_pem.dat) together with others,
acous_npvm.dat
nascar_npvm.dat
nascar_npvm_pem.dat
plate_npvm.dat
are available in tpl/npvm.
Figure 12-6  Location of PLT Viewer
References
1.Actran 16 User’s guide, Free Field Technologies, 2015.
2.Soize C., A nonparametric model of random uncertainties for reduced matrix models in structural
dynamics, Probabilistic Engineering Mechanics, 15, 277-294, 2000.
3.Soize C., Maximum entropy approach for modeling random uncertainties in transient
elastodynamics, Journal of the Acoustical Society of America, 109, 1979-1996, 2001.
4.Lielens G., Van den Nieuwenhof B., Davis J., Efficient non-deterministic analysis of large trimmed
car models by modal approaches using GPU-accelerated computing, Proceedings of 7th Aachen
Acoustics Colloquium, Aachen, Germany, 2015
5.Durand J.F., Modélisation de véhicules automobiles en vibroacoustique numérique avec incertitudes
de modélisation et validation expérimentale, PhD Thesis, Université de Marne-la-Vallée, 2007.
6.Gagliardini L., About the modelling of dispersed vibroacoustic frequency response functions of serial
production vehicles, Congres Simulation SIA, 2015.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Post Processing using PLT Viewer640
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide
Chapter 13: Modal Augmentation Methods
th13 Modal Augmentation Methods
Overview
Data Recovery for Modal Methods
Residual Vector&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview642
Main Index
Overview
In dynamic analysis, the size of the calculated output data could become several orders of magnitude larger
than the size of output for the equivalent statics analysis job. For instance, a typical run could produce
thousands of solution vectors. If caution is not taken, the cost of processing the outputs for printing or
plotting could exceed that of the entire solution process. Given these concerns, the dynamic engineer should
use the SET logic in the Case Control Section of the MSC Nastran input file to reduce the number of
outputs. Wherever possible, use a graphical postprocessor to visualize the results.
This chapter describes methods for calculating physical results from a solution using modal degrees-of-
freedom. The default method is the so-called matrix method, which is the most effective technique for the
majority of dynamics problems. An alternative method uses the static approach to calculate results one vector
at a time.
The mode acceleration method, also detailed in this chapter, is useful in some cases where accurate stress
results are required for only a few peak time steps or frequencies. However, this option may be more expensive
if many solution vectors exist.
In addition to the standard displacement, stress, and force outputs, dynamics engineers frequently use other
types of output that combine the effects of random or spectral inputs. shock and response spectral analysis
provides a quick calculation of the probable peak values in a modal solution for base accelerations. Random
analysis is a more formal method of determining power spectral densities, RMS averages, and other data for
a structure in random load environment.
Data Recovery for Modal Methods
Modal methods of analysi s have the advantages of reducing the problem size, decoupling the equations, and
providing an intuitive feeling for the results.  However, they require additional calculation steps and may also
result in a loss in accuracy.  There are four different methods for calculating the detailed results in the data
recovery stage of analysis using modal coordinates.  Each of these options provide a unique trade off of
efficiency vs. accuracy for a given size of problem, number of solutions, and number of output requests.&lt;br&gt;
Described below are the normal mode displacement method, the matrix method, the mode acceleration
method, and the use of superelements for improved modal results.
The methods are controlled by the Case Control Parameters DDRMM , MODACC , and SPARSEDR .
Mode Displacement, Vector Method
This method is almost identical to the statics method of data recovery in MSC Nastran.  It is efficient when
only a few time steps or frequencies are present in the solution and many outputs are requested (such as for
contour plotting). Starting with the modal displacements, , and the eigenvectors, [ ], we obtain a set of
displacement vectors that are expanded as with statics or normal mode analysis. The steps are summarized
below.
Analysis Set
{ua} = [a] {} (13-1)
Free Set&lt;/p&gt;
&lt;p&gt;643 CHAPTER 13
Modal Augmentation Methods
Main Index
(13-2)
SPC Forces
{Qs} = [ Ksf]{uf} - {Ps} (13-3)
Independents
(13-4)
Grid Set
(13-5)
In the actual calculations, each vector at a particular frequency or time step becomes a column of the solution
matrix [ug]. Note that for all modal methods, no provisions are made for thermal loads .
The element stresses and forces are calculated directly from the displacement vectors, one element and one
vector at a time. Note that if a large number of solutions exist (for instance 10000 time steps), the size of the
matrices defined above may be quite large and the calculation speed will be very slow.
Matrix Method for Modal Response
This method is very efficient when the number of solutions is much larger than the number of modes and
when a limited number of output requests is made. The matrix method for modal response is the default for
the modern modal solutions. In this method, the same operations as described above are performed on the
eigenvectors and the results are saved. A matrix is calculated for every output request using the eigenvector
matrix instead of a solution vector. The intermediate matrices are calculated from the output data recovery
of the modal solution. These are summarized below.
Displacements
(13-6)
SPC Forces
(13-7)
Stresses
(13-8)ufG0
Iua =
unuf
0=
ugGm
Iun =
ugmg =
Qsm Ksff =
Sm =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Data Recovery for Modal Methods644
Main Index
Forces
(13-9)
Note that the number of rows of these matrices will correspond only to the requested output sets (DISP =,
STRESS =, etc.).  The number of columns is equal to the number of modes (which is usually smaller than
the number of time steps of frequencies).  For the final output printing or xy -plotting, the equations for
calculating the transient solution outputs are as follows:
Displacements
(13-10)
Forces of SPC
(13-11)
Similar equations are used for SPC forces, stresses, and element forces, as well as for frequency response, by
simply combining the modal responses with the modal factors as indicated above.
Mode Acceleration Method
The mode acceleration method of data recovery is used to reduce the modal truncation errors that occur in
the methods above.  For good accuracy, a general recommendation is to use many more modes than in the
frequency range of the excitation loads.  For most applications this is adequate and the mode displacement
method produces acceptable results.  However, some cases that may not produce accurate results are the
following:
1.Errors may occur in the deformations and stresses in the area of a concentrated load on a
unconstrained grid point .
2.Concentrated damper elements  or direct input matrices may change the characteristic response
displacements to be much different from simple modal combinations.
3.Models with complex shapes may require an excessive number of modes to represent the stress
distributions.  Accuracy of the modes becomes an issue when more than a few hundred are necessary.
4.Massless points with external loads will have deformations and internal loads that cannot be
represented by finite frequency modes.
Using the direct method may eliminate these errors but may excessively increase the run costs and file storage.&lt;br&gt;
The mode acceleration method is a useful compromise that eliminates the errors described above yet is
cheaper to run than the direct method.  However, it will cost more than the matrix method if a large number
of solution vectors are to be processed.  The derivation is given below.
For convenience, we will show the equations for a frequency response solution.  However, the results are
similar with a transient analysis.  The ideal solution desired is that for the direct matrix solution at frequency
, which is
(13-12)Fm f =
ugot ugmt =
Qst Qsmt =

2M – jBK + +  u P =&lt;/p&gt;
&lt;p&gt;645 CHAPTER 13
Modal Augmentation Methods
Main Index
where  is the imaginary unit value.
We may obtain an exact solution if we use all of the modes in the system; namely, if N is the order of the
problem, then:
(13-13)
Note that this set of modes also includes modes with infinite frequencies.  These are present with singular
mass matrices.  The modal identities are
(13-14)
and for constant structural damping parameters,  and
(13-15)
Eigenvalue of Modal and Direct Solutions
Substituting Eqs. (13-13), (13-14), and (13-15) into the terms defined in Eq. (13-12), we obtain the effect of each
mode on the exact solution.  These terms are
(13-16)
(13-17)
and
(13-18)
If all modes were included, we know that the results would be identical to a direct solution.  For the high
frequency modes ( ), it is apparent that their contribution will be much smaller for mass and
damping effects than from their effect on the static solution of Eq. (13-18).  Therefore, if we truncate the
modes such that the primary error will be due to the forces generated by the missing modes in Eq. (13-18).&lt;br&gt;
In the frequency domain the approximations to Eq. (13-16) through Eq. (13-18) becomej
u ii
i1=N
=
i2Mi Ki =
g3
Big
3&amp;mdash;&amp;mdash;Ki =
2Mu –
i&amp;mdash;&amp;ndash;2
Kii
i1=N
=
jBujg
3&amp;mdash;&amp;mdash;&amp;mdash;Kii
i1=N
=
Ku Kii
i1=N
=
im&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Data Recovery for Modal Methods646
Main Index
(13-19)
(13-20)
(13-21)
The error can be expressed as a residual displacement vector .
Substituting Eqs. (13-19) and (13-20) into Eq. (13-15), we obtain a corrected solution:
(13-22)
where:
An alternate method would be to solve the static part of Eq. (13-15) using Eq. (13-21).  Since the residual vector
is orthogonal to the retained modes, then:
(13-23)
We can assume that  contains static response, if  is nonsingular, plus modal response in
the form: (13-24)
(13-25)
Premultiplying Eq. (13-25) by  and using Eq. (13-23), we obtain
(13-26)
and, then from Eqs. (13-25) and (13-26), we obtain a decoupled residual solution
(13-27)
where:=2Mu – 2Mii
i1=M
–
jBu j
i1=M
Bii
Ku KiiKu +
i1=M
=
u
Ku P R – =
R
jii2ii
i1=M
–
i1=M

TKu 0 =
u K
u K1–P – x + =
QTK
ximii21–iTP –=
uZP =&lt;/p&gt;
&lt;p&gt;647 CHAPTER 13
Modal Augmentation Methods
Main Index
The matrix, , is known as the residual flexibility matrix and has also been used for modal synthesis
modeling.  Here it could be used as a data recovery step.
In the MSC Nastran design, Eq. (13-22) has been chosen over Eq. (13-27) for the calculation of the improved
solution of large problems because the  matrix could be very dense and the singular free body case was
easier to process.
Note that in the actual mode acceleration process other nonstructural effects, such as direct input matrices
or transfer functions, are not included in the matrix, , but are treated as terms on the right -hand side
and added to .  For free bodies, the right hand loads are converted to equilibrium loads to permit a
decomposition of the singular stiffness matrix, identically to the inertia relief solution.  In fact, the entire
process may be viewed as if all the dynamic modal solutions were converted into equivalent static loads, and
linear static solutions were generated using the symmetric structural stiffness matrix.
Using Superelements for Data Recovery
If a structure has only a few points with dynamic loads or enforced boundary motion, a simple superelement
(SE) operation will have an improvement in accuracy similar to the mode acceleration method.  In transient
analysis, the cost will be increased because the uncoupled modal solution step is changed to coupled solution
with a few extra degrees -of-freedom.  In frequency response analysis, the extra cost is very small.  The basic
procedure is as follows:
1.Subdivide the structure into two superelements corresponding to the external loads.
2.The residual (SE =0) contains only the loaded structural points and scalar points for the modal
coordinates.
3.The upstream (SE =N) contains all of the remaining points and all of the elements. It will also
contain the residual SE points as boundary points.
4.Place a modal synthesis request for the upstream SE with a METHOD = request in the
corresponding Case Control subcase.
5.By default, the mode shapes will be fixed at the residual points.  Free boundary degrees -of-freedom
may be specified on SECSET data.
6.The residual SE solution will contain both modal and grid point degrees -of-freedom.  If the resulting
size is small, a direct solution for the forced response is recommended.
7.The upstream solution will contain both modal response and static residuals (described above) due
to motion of the residual grid points.  Stresses and forces will be improved, especially on the interface
elements.=Z
K1–   . &lt;br&gt;
mii2
.   T–
Z
Z
K
P&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Residual Vector648
Main Index
In this method the static correction terms are assumed to be shapes corresponding to loads on the boundary
points.  The upstream displacements, , are calculated from the equation
(13-28)
where:
The residual SE will obtain a dynamic solution for both ua and {q}.
Residual Vector
Calculation of Residual Vectors
Modal solutions are commonly used to reduce large-size models to relatively smaller representations that
include the important dynamics of the original model.  In addition to reducing the model size, modal
reduction has the added advantage of producing diagonal mass and stiffness matrices for solution calculation.&lt;br&gt;
Although modal reduction may capture most of the dynamic response of the structure, the static response
may not be complete.  This ‘error’ is due to modal truncation of higher frequency modes that may contribute
‘statically’ to the total response.  Residual vectors are used to improve the results of modal solutions by
attempting to account for the response of these higher frequency modes.
Residual vectors can be determined from any set of base vectors.   Base vectors are the raw material used to
generate the residual vectors in MSC Nastran.  Although any vector can be used as a residual vector, as long
as it is partially independent of the modal vectors, it may produce coupling with the modal vectors when
added to the modes for matrix reduction.  This coupling destroys the diagonal properties of the reduced mass
and stiffness matrices.
To ensure that the residual vector used in the reduction process result in diagonal matrices, and better results,
the following steps are performed.
1.Ensure that loads are linearly independent with the modal inertial forces.
2.Determine base vectors from static response due to loads.
3.Ensure that base vectors are linearly independent.
4.Orthogonalize the base vectors with respect to the modal vectors to produce residual vectors.  These
vectors will result in diagonal mass and stiffness matrices.=the residual SE displacements
=the Guyan reduction matrix
=the u0 partition of the eigenvectors
=the ua partition of the eigenvectors
=the modal degrees -of-freedomuo
uo GoauaoGoaa – q + =
ua
Goa
o
a
q&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P34</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_034/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_034/</guid>
      <description>
        
        
        &lt;p&gt;649 CHAPTER 13
Modal Augmentation Methods
Main Index
The closer the base vectors approximate the actual deformation due to the load, the better the residual vectors
and the better the results.  For this reason, base vectors in MSC Nastran are determined from the static
response of the structure to the following loads:
Inertial forces due to rigid-body motion
Applied loads
Structural, viscous, and inertial forces due to enforced motion
Forces at user specified discrete degrees of freedom (RVDOFi entries)
Discrete damping forces due to viscous elements (CDAMPi and CVISC entries)
Case Control command, RESVEC, allows the user to specify the loads used for residual vector calculation.&lt;br&gt;
The format for the RESVEC  (Case)  is as follows:
Examples:
RESVEC=SYSTEM
RESVEC(NOINRL)=COMPONENT
RESVEC=NO
Describer Meaning
INRLOD/
NOINRLControls calculation of residual vectors based on inertia relief (Default =
INRLOD).
APPLOD/
NOAPPLControls calculation of residual vectors based on applied loads (Default =
APPLOD).
ADJLOD/
NOADJLODControls calculation of residual vectors based on adjoint load vectors
(SOL 200 only; Default = ADJLOD).
RVDOF/
NORVDOFControls calculation of residual vectors based on RVDOFi entries (Default =
RVDOF).
DAMPLOD/
NODAMPControls calculation of residual vectors based on viscous damping (Default =
DAMPLOD).
DYNRSP/
NODYNRSPControls whether the residual vectors will be allowed to respond dynamically
in the modal transient or frequency response solution. See Remark 5. (Default
= DYNRSP).
SYSTEM/
NOSYSTEMControls calculation of residual vectors for system (a-set) modes. For
NOSYSTEM, describers inside the parentheses are ignored. See Remark 2. for
default.RESVECINRLOD
NOINRLAPPLOD
NOAPPLADJLOD
NOADJLODRVDOF
NORVDODAMPLOD
NODAMPDYNRSP
NODYNRSP      =
SYSTEM/NOSYSTEM
COMPONENT/NOCOMPONENT
BOTH or YES
NO      &lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Residual Vector650
Main Index
The inertial forces due to the normal mode shapes are removed from the loads used for residual vector
calculation using the following:
The modified loads are applied to the structure to determine the deformations that serve as the base vectors
for residual vector calculation.
Additionally, for transient response, initial conditions are also added to the set of base vectors.  Before the
initial condition vectors are added, any mode shape content is removed.
The initial condition vectors are appended to the load vectors and the complete set of base vectors are made
linearly independent.  This process removes vectors that are linear combinations of other vectors in the base
vector set.  The remaining base vectors are then made orthogonal with respect to the mass and stiffness
matrices.  The resulting orthogonal vectors are the residual vectors.
The residual vectors are appended to the modes and the reduced mass and stiffness matrices are modified to
include the residual vector additions.
where  and  are diagonal matrices.
Residual vectors which produce ‘zero’ mass terms in the reduced mass matrix are treated as ‘massless’ modes.
The diagonal mass is set to 1.0E-36 and the diagonal stiffness is set to 1.0. The augmented set of
modes/residual vectors is used to reduce the damping, applied loads, and any external matrix input.COMPONENT/
NOCOMPONENTControls calculation of residual vectors for component (superelement or o-
set) modes. For NOCOMPONENT , describers inside the parentheses are
ignored. See Remark 2. for default.
BOTH or YES Requests calculation of residual vectors for both system modes and
component modes. See Remark 2. for default.
NO T urns off calculation of residual vectors for both system and component
modes, and describers inside the parentheses are ignored. See Remark 2. for
default.Describer Meaning
P P MTM  1–TP – =
KVload P =
Vinitial Vinitial = TM  1–TMVinitial –
modesresidual  =
MTM =
KTK =
M K&lt;/p&gt;
&lt;p&gt;651 CHAPTER 13
Modal Augmentation Methods
Main Index
Residual vector calculation is available for all modal solutions in MSC Nastran.  They can be calculated for
the residual structure and superelements to improve the analysis results.
Degrees of Freedom Specification
The specification of degrees of freedom where unit loads were to be applied to obtain static solutions for use
in residual vector computations require the use of USETi,U6 and SEUSET i,U6 Bulk Data entries.  In analyses
involving multiple superelements, these entries had the following disadvantages:
Separate entries were required for each superelement.
The unit loads on a superelement due to these entries were not passed downstream for residual
vector processing by the downstream superelements.
In order to overcome the above drawbacks, two new Bulk Data entries called RVDOF  and RVDOF1  have been
incorporated into MSC Nastran. These entries have the following advantages:
Separate entries for separate superelements are no longer required.  Instead, these new entries may
be used to reference points that are interior to any superelement.  The program will automatically
partition the data for allocation to the appropriate superelements.
The unit loads applied to a superelement due to the RVDOF /RVDOF1  entries are passed
downstream all the way down to the residual for the purpose of residual vector processing by all
superelements in its downstream path.  This yields more accurate results.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Residual Vector652
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Design Sensitivity and Optimization User’s Guide - MSC Nastran 2017.1 MSC Nastran Dynamic Analysis User’s
Guide
Chapter 14: Complex Eigenvalue Analysis
14 Complex Eigenvalue Analysis
Overview
Complex Eigensolutions&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview654
Main Index
Overview
Complex eigenvalue analysis  is used to compute the damped modes of structures and assess the stability of
systems modeled with transfer functions (including servomechanisms and rotating systems).
Complex eigenvalue analysis solves for the eigenvalues and mode shapes based on the following equation in
operator notation:
where
This equation is similar to that for normal modes analysis (see Real Eigenvalue Analysis  (Ch. 3)) except that
damping is added and the eigenvalue is now complex.  In addition, the mass, damping, and stiffness matrices
may be asymmetric, and they may contain complex coefficients.
Complex eigenvalue analysis is controlled with the EIGC Bulk Data entry (similar to the EIGRL or EIGR Bulk
Data entries for normal modes analysis). There are four methods of solution: upper Hessenberg, complex
Lanczos, inverse power sweep, and Implicit Restarted Arnoldi Method (IRAM).  Complex eigenvalue analysis
is available as a direct method (SOL 107), in which the equations are of the same size as the number of
physical variables.  Complex eigenvalue analysis is also available as a modal method (SOL 110), in which
undamped modes are first computed and then are used to transform the matrices from physical to modal
variables.
Complex Eigensolutions
Complex eigenvalue analysis is necessary when the matrices contain unsymmetric terms, damping effects, or
complex numbers where real modes analysis cannot be used.  It is used for the analysis of aeroelastic flutter,
acoustics, rotating bodies, brake squel, and many other physical effects.
The unforced motion of a system of equations can be expressed as the sum of the motion of its eigenvectors,
oscillating and decaying or expanding with terms of the form
(14-1)
The value of  gives a measure of the rate of decay or divergence of the ith natural dynamic mode.  If the
value of  is nonzero, it gives a measure of the rate of oscillation of the solution.  For the most general case,
, which represents the shape of the mode, contains complex numbers.  The relative size of these numbers
indicates which parts of the structure are most active in this mode of motion.  The imaginary parts of&lt;br&gt;
signify phase differences or lag times between the degrees -of-freedom.
The results of  complex eigenvalue analysis are used for tasks such as measuring the effect of damping
materials on system performance and determining the stability of a system when it contains sources of energy
such as rotating components.  The complex eigensolution is an end product in MSC Nastran.  There are no
provisions for using these shapes for modal solutions of frequency response analysis or transient response
analysis, as is done for the real eigensolution capability.p2M pBK + +  u 0=
pi+ =
ut Realieiii+t  =
i
i
i
u&lt;/p&gt;
&lt;p&gt;655 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
The Two Forms of Eigensolution
There are many special classes of eigenvalue problems.  MSC Nastran breaks all of them into two major
categories.  The real eigenvalue problem  is expressed by the two matrix equation
(14-2)
where  and  are real and symmetric, and  is positive semi -definite.  This type of eigenvalue problem
is discussed in the Real Eigenvalue Analysis  (Ch. 3).  All damping effects are ignored.  It can be shown that the
eigenvalues  and eigenvectors  of this problem must be real, not complex, and that the eigenvectors can
be made orthonormal with respect to the mass matrix and orthogonal to the stiffness matrix; that is,
(14-3)
where  is the identity matrix, and
(14-4)
where  has the eigenvalues stored along its diagonal.  This property is used to separate eigenvectors for
repeated eigenvalues into linearly independent sets.
Any problem whose input matrices do not meet these restrictions is called a complex eigenvalue problem  in
MSC Nastran.  In general, the solution may include real or complex numbers, and the orthogonality
properties of this more general case are less  powerful.
The matrix equation used for the complex eigenvalue problem is
(14-5)
and
where any of the matrices may contain real or complex numbers, and may also be symmetric or unsymmetric.&lt;br&gt;
If all matrices are symmetric, there is a transformation similar to Eqs. (14-3) and (14-4) that can transform all
three matrices to a diagonal form.  If any of the matrices is complex or unsymmetric, only a weaker
orthogonality condition applies.  If all of the eigenvalues are distinct (that is, there are no repeated roots),
each matrix can be reduced to diagonal form by also computing the left hand eigenvectors , that is, the
eigenvectors of Eq. (14-5) when all of its matrices are transposed.  One orthogonality condition for any two
roots of the system happens to be
(14-6)
where  are the right -hand eigenvectors of Eq. (14-5).  Some of the eigensolution methods use these
orthogonality conditions to improve the linear independence of the eigenvectors, while others do not.  None
of the MSC Nastran complex eigensolution methods has a special provision for repeated roots.  They may
return the same eigenvector for each of the repeated roots.KiM–i 0=
K M M
ii
tM I=
I
tK=

KpBp2M + +  0=
pi+ =
L
LiTpipj+M B+  Rj 0 if pipj =
R&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions656
Main Index
A special form of Eq. (14-5), called the shifted form, is used by some methods to provide faster convergence
in the iterations.  If we introduce a shift point, , the relative distance of the root is
(14-7)
and Eq. (14-5) becomes
(14-8)
One may iterate Eq. (14-8) by solving for trial vectors on the left side using previous estimates on the right
side to produce vectors corresponding to the smallest values of . This procedure is used in the Lanczos
method to obtain sets of approximate vectors and in Inverse Power to obtain actual vectors.
The Complex Eigensolution Methods
There are three basic methods available at present.  They are all based on iteration in some form or other,
with the result that their computation costs are somewhat unpredictable.  They are discussed in the order of
their general utility, the most widely used first.  Details of their implementation are given in the  MSC.Nastran
Numerical Methods User’s Guide .
The Complex Hessenberg Method
The basic algorithm solves the single matrix eigenvalue problem
(14-9)
is transformed to an upper Hessenberg form.  In this form all terms below the subdiagonal are null.  All
of the roots of this transformed problem are computed by the double QR algorithm of Francis.  The
eigenvectors are then found by inverse iteration.  Convergence is usually within one or two iterations because
the roots are known at this point.  There are similarities in this solution process with the tridiagonal methods
of real eigenvalue analysis.
The three -matrix form is transformed to the single matrix form by premultiplying by the inverse of the mass
matrix,
(14-10)
If  is null then  and .  If  is not null the velocity vector  is defined from ,
(14-11)
Equations (14-10) and (14-11) are combined to form
(14-12)p0
 pp0–=
Kp0Bp02M + + p0B2p0M M + +   –=

AiI–ui 0=
A
M1–KpM1–Bp2I + +  u 0=
B A M1–K = ip2–= B v u
v pu=
M1–BM1–K
I– 0pI0
0I+v
u0 =&lt;/p&gt;
&lt;p&gt;657 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
If  is null Eq. (14-10) is used to produce n eigenvalues (only roots with  are calculated), while if&lt;br&gt;
exists Eq. (14-12) will produce 2n eigenvalues.  The user can control the number of eigenvectors computed
in the Inverse and Lanczos methods.
The fact that  must have an inverse means that  may not contain null rows or columns, or other sources
of singularity.  The rows and columns for these singular DOFs may be removed by omitting them with
OMITi entries, or, what is often less labor for large models, by retaining important DOFs with independent
mass with ASETi entries.  All other unconstrained DOFs are then placed in the omitted set. In general,
translation DOFs with attached masses are safe candidates for the a -set.  Care should be taken with rotational
DOFs.  An example of a DOF with nonnull mass but which is not independent is a rotation DOF to which
a CONM2 element is attached, and the CONM2 element has a point mass and an offset, but zero moments
of inertia.  The rotation DOF will be singular when the matrix is inverted.
No special logic is used for repeated roots, which return the same eigenvector.  There is a system cell which
requests that a newer method with spill capability be used.  The default value for this system cell uses an
algorithm with no spill capability.  System cells can be set on the NASTRAN command.  Refer to the EIGC
(p.1759) in the  for details.
This method does not take advantage of matrix sparsity or banding.  Solution costs are proportional to .
The Complex Lanczos Method
Ritz vectors (that is, trial eigenvectors) are computed from Eq. (14-8) by inverse iteration, after inserting a trial
eigenvalue called a shift.  Shift points are selected by the user.  These vectors are used to reduce the problem
to tridiagonal form using the Lanczos reduction method.  The roots are computed by the QL algorithm in
this reduced basis, and the eigenvectors are computed by inverse iteration.  The eigenvectors are then
back-transformed to the original basis.  Both left - and right -hand eigenvectors are computed to improve the
convergence of the method.  The left -hand eigenvectors are an optional output of the eigensolution module.
The roots are computed near the shifts specified by the user.  The method attempts to compute all roots near
a shift before going on to the next shift, but it can not be guaranteed that all roots near the shift will be found.&lt;br&gt;
If more roots are calculated than were requested, all are output.
This method takes advantage of the bandedness and sparsity of the input matrices.
Solution costs are proportional to  where  is the semi -bandwidth and  the number of
eigenvectors computed.  Many roots can be computed from each shift.
The Complex Inverse Power Method
The basic equation is solved by inverse iteration from the shifted equation similar to the initial stage used for
the Lanczos method.  Each eigenvector and its eigenvalue are determined simultaneously until a solution has
converged to a user -specified tolerance.  The user inputs subregions in the complex plane for root searches.&lt;br&gt;
The same qualifications that all roots in a region may not be found applies here, too.  Costs are proportional
to  because several shifts are usually required for each root found. This method is useful for finding
a few roots in a small region where poorly conditioned matrices cause problems with the other methods.B 0 B
M M
n4
r10nb2b r
3rnb2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions658
Main Index
The IRAM Method
The Implicitly Restarted Arnoldi Method (IRAM) is a popular Krylov subspace method for computing
complex eigenvalues. The IRAM method is based on the ARPACK public domain code. For more
information are available at the following URL: &lt;a href=&#34;http://www.caam.rice.edu/software/ARPACK&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://www.caam.rice.edu/software/ARPACK&lt;/a&gt;.
The IRAM method offers high performance and stability for a variety of applications requiring complex&lt;br&gt;
eigenvalues and eigenvectors, such as automotive brake squeal, exterior acoustics, and rotor dynamic  analysis.
The Modal Hessenberg Method
For many problems this method combines the best features of the real eigensolution methods and the
Complex Hessenberg method.  The real eigensolutions from the structural stiffness and mass matrices are
found first.  The Lanczos and SINV real eigenvalue methods use a Sturm sequence technique  that guarantees
that all roots in a range have been found or identified as being missing.  The tridiagonal real eigensolution
methods also find all roots of the problem, so that none can be missing.  Unfortunately, there is no similar
technique for roots in the complex plane.  Using a modal approach provides the following benefits:
1.The user can be assured that all the undamped roots of the system in a region specified by the user
have been found with any of the real methods.
2.The complex eigenvalues are usually of the same order of magnitude as the real eigenvalues.
3.The real eigenvectors are then used to reduce the damping matrix and any other special dynamic
effects that may be present to h -set size matrices.
4.The h -set mass matrix is guaranteed to be well conditioned for the inverse operation unless very
strange effects are input with the M2PP matrix or the counterpoint terms of transfer functions, so
there is no need to omit massless physical DOF, a task which can be laborious on a complicated
model.  (It is necessary, however, to ensure that any extra points that are used have nonnull mass
terms.)
5.All eigensolutions are then found in this reduced basis.  The user is assured that there are no solutions
which have been skipped over.
6.The economic trends are also favorable because the real eigensolutions do take advantage of matrix
sparsity and banding (the Real Lanczos Method is the best in this respect today), and they reduce the
problem to a much smaller size before the Hessenberg solution is attempted.
However, if strong nonstructural effects are present, such as those caused by direct input matrices or transfer
functions, a large number of real modes may be necessary to account for these forces.  An example would be
a servo control that acts as a large mass on the structure. This mass could reduce the frequency of some local
high frequency modes and move them into the important range.
The Complex Lanczos  and Inverse Power  methods may also be used in the modal method, but the economic
rewards are less, and they may also miss roots.  They should be used as backup methods in this context, used
to check the solution produced by the Hessenberg method when there is some question about its correctness.
User Interface
Various form of the eigenvalues are used as inputs and are provided as outputs.  The real eigensolution
outputs the eigenvalues in three forms. The complex eigenvalue, , is formed from the real quantities  and p &lt;/p&gt;
&lt;p&gt;659 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
where . If , the radian frequency,  of complex eigenvalue analysis is the same as
that of real eigensolutions. The real part, , is a measure of the decay rate of a damped structure, or if
negative, the rate of divergence of an unstable system. The imaginary part, , is the modified frequency in
radians/unit time.  However, roots with negative values of  should be treated as special terms. The output
labeled f is the circular frequency in cycles per unit time. It is equal to .
The CMETHOD = [SID] Case Control command selects the EIGC Bulk Data entry, which has the form
NORM, G, and C have to do with the specification of the method of normalization.  The eigenvectors may
be normalized either to a unit value at grid point G for coordinate C, or for the largest term to be of unit
magnitude.  E is used to specify the convergence criterion of the solution. Each method has a different default
value for this criterion, and each is adequate for most problems.  ND0 is the number of eigenvectors to be
computed by the Hessenberg method. Data in this field is only allowed when there are no continuation
entries, while the Hessenberg method ignores the data on the continuation entries.
The shift points for the Lanczos method are defined on the continuation entries.  The recommended practice
is to specify one point  and  at the lower bound of the expected range of eigenvalues, but not
at 0.0  A second shift may be input at  and  at the upper bound of the expected range.  All
ALPHABj and OMEGABj must be blank.  The number of Ritz vectors computed for the Jth shift is three
times the number entered in NDJ.  While each Ritz vector may be capable of defining an eigenvector, it is
more likely that some of the Ritz vectors will be discarded because they are not orthogonal to
lower -numbered Ritz vectors during the Lanczos reduction process.  After the poor vectors are discarded, the
remaining vectors are used to compute the eigensolutions.
The number of modes computed from all shifts up to the jth shift may be more or less than NDJ.  If there
are less, the processing continues with the next shift; otherwise, the process ends and all eigensolutions are
output. The ratio of discarded vectors to retained vectors is problem dependent.  However, the recommended
practice is to ask for all of the desired eigenvectors for ND1 on the first shift, but put in additional shifts.  If
it is possible to compute all solutions with one shift, this is the most economical option.  If more shifts are
needed, they will be used.
The subregions for searching for roots with the Inverse Power method are also specified on the continuation
entries.  (ALPHAAJ, OMEGAAJ) define one point in the complex plane, and (ALPHABJ, OMEGABJ) a
second point.  A line is drawn between these points, and a box of width LJ is placed around this line.  NEJ
is larger than the number of roots expected in the subregion, and NDJ the number desired.  This defines the
first subregion for searching for eigenvalues.  More continuation entries may be used to define more
subregions.  Again, if more eigenvalues are computed than are requested, all are output.1 2 3 4 5 6 7 8 9 10
EIGC SID METHOD NORM G C E ND0
ALPHAAJ OMEGAAJ ALPHABJ OMEGABJ LJ NEJ NDJ pi+ =  0.= 



2
10.0= 1
20.0= 2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions660
Main Index
The eigenvalue output for a sample problem is shown below:
The column labeled (REAL) contains , and the column labeled (IMAG) contains .  The column
labeled (FREQUENCY) contains the circular frequency.  The last column is the damping coefficient
computed from the equation
which is approximately twice the value of the conventional modal damping ratio.  This form was more
popular with the aeroelastic flutter specialists who were the primary users of this capability.
Note that if the magnitude of this term is computed to be less than , it is reset to zero.
For small values, the damping coefficient is twice the fraction of critical damping for the mode.  The
eigenvalues are sorted on , with the negative values sorted first (there are none in this example), sorted on
increasing magnitude, followed by the eigenvalues with positive , again sorted on magnitude.  Roots with
equal  values are sorted next on .
Modeling Techniques
All Methods
Repeated roots are usually due to planes of symmetry of a structure.  For example, a pencil has a pair of
repeated roots for each bending mode, with their eigenvectors being at 90 degrees to each other.  In physical
structures there is never absolute symmetry because of the effects of manufacturing tolerances, material
inconsistencies, etc.  The user may adopt this point of view when repeated roots cause problems by making
small perturbations to the structure to destroy symmetry.  For example, when doing an analysis for the
damped modes of a pencil, a small mass term can be added in one direction.  A small perturbation  is usually
adequate to separate the modes enough to eliminate numerical problems.
Hessenberg Method
1.If extra points  or other DOFs are connected by only transfer functions  or x2PP matrix terms, they
may need to be differentiated to provide a mass term on these DOFs.  For example, if the following
equations are written for extra points  and , which are coupled to the structural DOFs  and
,C O M P L E X   E I G E N V A L U E   S U M M A R Y
ROOT     EXTRACTION           EIGENVALUE            FREQUENCY     DAMPING
NO.        ORDER          (REAL)       (IMAG)        (CYCLES)     COEFFICIENT
1           9         -5.806441E+01 5.750383E+03  9.152019E+02  2.019497E-02
2           8         -6.294888E+01 6.293917E+03  1.001708E+03  2.000309E-02
3           7         -6.910709E+01 6.844852E+03  1.089392E+03  2.019243E-02
4           1         -3.300980E+02 1.667092E+04  2.653260E+03  3.960164E-02
5           5         -3.565692E+02 1.823559E+04  2.902285E+03  3.910694E-02
. . .
11
g 2 –=
5.0104–


 
e1e2u11
u12&lt;/p&gt;
&lt;p&gt;661 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
In these forms,  would appear in the stiffness term of the transfer function, and  in the damping
term.
The first equation can be differentiated twice, and the second once, to provide
The  terms are placed in mass terms slots in the transfer function, or in the M2PP matrix.
2.Avoid coupled mass.  One apparent choice for obtaining mass terms on rotation DOFs is to request
coupled mass by use of the PARAM entry that requests it (but this is usually a poor choice).  The
theories for coupled mass for some elements in MSC Nastran do not provide rotational mass while
other elements have theories that produce rotational mass in a manner that does not provide an
independent mass term, leading to either failure in the inversion of , or poor numerical
conditioning.  Null masses on rotational DOFs cause no problems in modal analysis.
In direct analysis, if all unconstrained rotations are omitted, this potential singularity problem is
avoided, with little or no loss in accuracy, and the cost of static reduction of the system is less than
the savings of solving a smaller sized eigenproblem.
Example of a Friction Mechanism
This problem illustrates the modeling and solution of a model with unsymmetric matrix inputs. Complex
eigenvalue analysis can predict the existence of unstable or undamped roots, which will be the  cause of noise.
The model consists of three bodies illustrated in Figure 14-1, namely a rigid housing, a pad with an expendable
friction surface, and a moving surface contacting the pad. c1e1 u11=
c2e·1 u12=
c1c2
c1e··1 u··11=
c2e··1 u·12=
ci
M&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions662
Main Index
Figure 14-1  Sliding Friction Complex Eigenvalue Analysis
The objective of the analysis is to determine whether the friction effects can cause the onset of a divergent
squeal mode.  The following assumptions are made in the modeling:
1.The speed of the sliding surface is assumed to be much less than the speed of the traveling vibrational
waves.  Therefore, the elements representing the surface may be limited to small motions and the
traveling wave effects are ignored.
2.Pure sliding friction is assumed.  The magnitude of the pad vibration may be very small for the onset
of the unstable mode.  The analysis will be invalid when the vibrational velocities exceed the surface
velocity.
3.A static preload is assumed to be large enough to maintain full contact on the pad surface. The
frictional coefficient is assumed to be constant.  (However, it could be varied over the contact region.)
Frictional forces on the pad and sliding surface are proportional to the normal contact forces, which in turn
may vary with dynamic response.  For small dynamic motions the relationship is
(14-13)
where:
The value of  is only available indirectly from the element forces or by the use of Lagrange multipliers.  The
solution variables in a conventional model consist only of displacements, velocities, and accelerations.is the tangential force on the pad.
is the tangential force on the sliding surface.
is the friction coefficient.
is the normal compression force variable.z
k
k
Pad
Moving SurfaceVYHousing
FpyFsy–N = =
Fpy
Fsy

N
N&lt;/p&gt;
&lt;p&gt;663 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
An approximation to  may be generated from a penalty function method using large springs to represent
the contact constraint. If a large spring,  (CELAS2 data), is connected to the two normal displacements at
a point, the normal force is a function of the displacements
(14-14)
where ,  are the displacements in the normal direction.
Combining Eqs. (14-13) and (14-14), we obtain the following matrix relationship:
(14-15)
Special Input
The matrix terms in Eq. (14-15) may be input to the problem for each contact point directly as DMIG data.&lt;br&gt;
The resulting matrix will be asymmetric.  The Case Control command required for DMIG input is
K2PP = FRIC * FRICTN
where FRIC will be replaced with user selected value to multiply the matrix by and
where FRICTN is the name of a DMIG Bulk Data entry, which starts with the header entry
DMIG, FRICTN, 0, 1, 1, 0 . . .
where the inputs and their functions are as follows:
Listing 14-1 shows the resulting MSC Nastran input file.  RBEi and CONM2 elements are used to simplify
the model and eliminate spurious roots.  The unique inputs are the DMIG data and the associated CELAS2
springs, (Ids = 311-314).
The Case Control for a complex LANCZOS method is shown here, with the provisions for the other
methods preceded by a $ symbol.  (Lines starting with $ are treated as comments, but are otherwise ignored.)&lt;br&gt;
CMETHOD = 10  $CLAN
$CMETHOD = 11  $INVP
$CMETHOD = 12  $HESSFRICTN DMIG Name
0 Required for all DMIG headers
1 Input format is single precision
0 Output format depends on the type of computer being used.  The best format
is chosen for each computer type.N
K
N Kupzusz– –=
upzusz
Fpy
FsyK1–1
11–upz
usz     etc. =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions664
Main Index
A METHOD command is required when using the modal method of SOL 110.  This input is for the direct
method of SOL 107.  The CMETHOD command is required for complex eigensolution method selection.&lt;br&gt;
Eigenvector output is requested by the DISP command.&lt;br&gt;
The Bulk Data entries selected by these commands are as follows:
EIGRL,1, , 4000.0, 12 $ real lanczos
EIGC, 10, CLAN, MAX, , , , , ,+ELAN1
+ELAN1, 0.0, 6000.0, , , , , 13,, +ELAN2
EIGC, 11, INV , MAX, , , , , ,+EINV
+EINV, 0.0, 10000.0,  0.0, 50000., 20000., 20, 12
EIGC, 12, HESS , MAX, , , , 13
The input for this problem can be found in MSC_DOC_DIR/doc/dynamics/ceadl107.dat
Listing 14-1  Input Data for Complex Eigenvalue Stability Analysis
$
$ file ceadl107.dat
$
INIT MASTER(S) $ DISCARD DATA BASE AT END OF RUN
DIAG 12 $ DIAGNOSTICS FOR LANCZOS
$SOL 103 $ USE FOR CHECK OF REAL MODES
SOL 107
$SOL 110 $ USE FOR MODAL HESSENBERG
DIAG 8 $ MATRIX TRAILERS
CEND
$ TITLE = SIMPLE COMPLEX EIGENVALUE ANALYSIS
SUBTITLE = UNSYMMETRIC, LANCZOS, FRICT=0.5
LABEL = 1% DAMPING
K2PP = 0.5 * FRICTN
METHOD = 1 $ USE FOR MODAL HESSENBERG ANALYSIS
CMETHOD= 10 $CLAN
$CMETHOD= 11 $INVP
$CMETHOD= 12 $HESS
$SPC=10
MPC = 200
SVECT = ALL $ PRINT REAL EIGENVECTORS
SDISP = ALL $ PRINT REAL MODE COMPONENTS OF COMPLEX EIGENVECTORS
DISP = ALL $ PRINT COMPLEX EIGENVECTORS
SET 1 = 102, THRU, 202
BEGIN BULK
PARAM, GRDPNT, 0
PARAM, G, .02
PARAM, FRIC, 0.5
$
$RIGID HOUSING MOUNTED ON SPRINGS, YZ MOTIONS ONLY
GRID,100,,0.0,0.0,35.0,,156
GRID,101,,0.0,0.0,15.0,,1456
GRID,102,,-50.0,30.0,7.5,,1456
GRID,103,,50.0,30.0,7.5,,1456
RBE2,101,100,23,101,102,103
$ LUMPED MASS AT CG
CONM2,100,100,,2.0 , , , , ,+CM1
+CM1,7200.0,,7200.0 , , ,7200.0
$ SPRINGS TO GROUND
CELAS2,102, 78.96+6, 100, 2
CELAS2,103, 78.96+6, 100, 3
CELAS2,104, 2.846+11,100,4&lt;/p&gt;
&lt;p&gt;665 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
$
$ PAD IS A SINGLE HEXA WITH A POINT FOR THE HOUSING
CHEXA,200,200, 211, 212, 214, 213, 221, 222,+CHX1
+CHX1, 224, 223
RBE3,201,,201,123456,1.0,123,221,222,+RBE3
+RBE3,223,224
CONM2,202,201,,0.2
GRID, 201, ,0.0,0.0,15.0
GRID, 211, , -50., -30., 0.0,,1456
GRID, 212, , 50., -30., 0.0,,1456
GRID, 213, , -50., 30., 0.0,,1456
GRID, 214, , 50., 30., 0.0,,1456
GRID, 221, , -50., -30., 15.0,,1456
GRID, 222, , 50., -30., 15.0,,1456
GRID, 223, , -50., 30., 15.0,,1456
GRID, 224, , 50., 30., 15.0,,1456
PSOLID, 200, 200, , THREE
MAT1,200,1.0+6,,0.3,1.111-6,,,0.02
$
$ RIGID LINKS FROM PAD FOR TANGENTIAL STOPS
MPC, 200, 213,2, 1.0, 223,2, 1.0, , +MPC21
+MPC21,, 102,2, -2.0
$MPC, 200, 213,3, 1.0, 223,3, 1.0, , +MPC22
$+MPC22,, 102,3, -2.0
MPC, 200, 214,2, 1.0, 224,2, 1.0, , +MPC31
+MPC31,, 103,2, -2.0
$MPC, 200, 214,3, 1.0, 224,3, 1.0, , +MPC32
$+MPC32,, 103,3, -2.0
$
$RBE3,202,,102, 234, 1.0, 123, 213 ,223,+RB31
$+RB31,UM ,213,23, 223,2
$RBE3,203,,103, 234, 1.0, 23 ,214, 224,+RB32
$+RB32,UM ,214,23, 224,2
$ SPRINGS CONNECTING HOUSING TO CENTER OF PAD
CELAS2,201, 15.791+6, 201,3 ,101,3
CELAS2,202, 15.791+6, 201,2 ,101,2
$
$ MOVING SURFACE SIMULATED WITH PLATES
$
CQUAD4,301,300,301,302,304,303
CQUAD4,302,300,303,304,312,311
CQUAD4,303,300,311,312,314,313
CQUAD4,304,300,313,314,322,321
CQUAD4,305,300,321,322,332,331
$
GRID, 301,,-50., -150.0, 0.0,, 12356
GRID, 302,, 50., -150.0, 0.0,, 12356
GRID, 303,,-50., -90.0, 0.0,, 1256
GRID, 304,, 50., -90.0, 0.0,, 1256
GRID, 311,,-50., -30.0, 0.0,, 1256
GRID, 312,, 50., -30.0, 0.0,, 1256
GRID, 313,,-50., 30.0, 0.0,, 1256
GRID, 314,, 50., 30.0, 0.0,, 1256
GRID, 321,,-50., 90.0, 0.0,, 1256
GRID, 322,, 50., 90.0, 0.0,, 1256
GRID, 331,,-50., 150.0, 0.0,, 12356
GRID, 332,, 50., 150.0, 0.0,, 12356
$
PSHELL, 300, 300, 15.0, 300,,300
MAT1, 300, 7.106+9, , 0.3, 4.444-6,,, 0.02&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions666
Main Index
$
$ DUMMY SPRINGS TO MEASURE NORMAL FORCES
CELAS2, 311, 4.0+9, 311,3, 211,3
CELAS2, 312, 4.0+9, 312,3, 212,3
CELAS2, 313, 4.0+9, 313,3, 213,3
CELAS2, 314, 4.0+9, 314,3, 214,3
$
$ DMIG’S REPRESENT SLIDING FRICTION.
$ TANGENTIAL FORCES EQUAL NORMAL FORCES TIMES FRICTION COEFFICIENT
$ MU =1.0
DMIG,FRICTN, 0, 1, 1, 0
$
DMIG,FRICTN, 211,3,, 211,2, 4.0+9,,+C211
+C211, 311,2, -4.0+9
DMIG,FRICTN, 311,3,, 211,2, -4.0+9,,+C311
+C311, 311,2, 4.0+9
$
DMIG,FRICTN, 212,3,, 212,2, 4.0+9,,+C212
+C212, 312,2, -4.0+9
DMIG,FRICTN, 312,3,, 212,2, -4.0+9,,+C312
+C312, 312,2, 4.0+9
$
DMIG,FRICTN, 213,3,, 213,2, 4.0+9,,+C213
+C213, 313,2, -4.0+9
DMIG,FRICTN, 313,3,, 213,2, -4.0+9,,+C313
+C313, 313,2, 4.0+9
DMIG,FRICTN, 214,3,, 214,2, 4.0+9,,+C214
+C214, 314,2, -4.0+9
DMIG,FRICTN, 314,3,, 214,2, -4.0+9,,+C314
+C314, 314,2, 4.0+9
$
EIGRL,1, , , 20 $ USE FOR MODAL HESSENBERG
EIGC, 10, CLAN, MAX, , , , , ,+ELAN1
+ELAN1, 0.0, 6000.0, , , , , 13,, +ELAN2
EIGC, 11, INV , MAX, , , , , ,+EINV
+EINV, 0.0, 10000.0, 0.0, 50000., 20000., 20, 13
EIGC, 12, HESS , MAX, , , , 13
$ OMITS ARE NECESSARY WITH HESS TO REMOVE SINGULARITIES IN THE MASS MATRIX
$OMIT1, 4, 301, THRU, 332
ENDDATA
Results
This model was run with three different types of analysis.  For the modal complex method, 20 real modes
were requested to produce the reduced problem for complex eigensolution analysis.  It was found that the
eleventh mode was quite divergent, while all of the other modes were reasonably stable.  The eigenvalues of
this mode and the preceding and following modes by this method are given:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                    C O M P L E X   E I G E N V A L U E   S U M M A R Y
             ROOT     EXTRACTION                  EIGENVALUE                     FREQUENCY              DAMPING
              NO.        ORDER             (REAL)           (IMAG)                (CYCLES)            COEFFICIENT
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;hellip;..
10          10         -9.998501E+02     5.001250E+04          7.959736E+03          3.998401E-02
11          11          3.294983E+03     5.022236E+04          7.993137E+03         -1.312158E-01
12          12         -5.339673E+03     5.010448E+04          7.974375E+03          2.131415E-01
13          13         -1.200202E+03     5.960435E+04          9.486327E+03          4.027230E-02
&amp;hellip;..&lt;/p&gt;
&lt;p&gt;667 CHAPTER 14
Complex Eigenvalue Analysis
Main Index
When the same model is analyzed by the Lanczos method, without modal reduction, the roots in the same
region agreed. This agreement occurs because almost all of the real modes were found, including those at
much higher frequencies than that of the eleventh complex mode.  When the friction coefficient parameter
was reduced from a value of 0.5 to 0.05, all roots became stable.  The roots in the region of the eleventh mode
are as follows:
It would appear that there is a stability threshold somewhere between the friction coefficient values of 0.05
and 0.5.  The precise threshold can be determined by resetting the value of this parameter and rerunning the
model until the real value of this mode approaches zero.  Hardware elements that affect this unstable mode
can be identified by inspecting the eigenvector.  The effect of hardware changes on the stability of this mode
can be evaluated by changing the most active elements and rerunning the analysis.
This study shows that the prudent method for checking this answer is the Lanczos method, but the less
expensive modal Hessenberg method can be used for the parameter variation studies to find the stability
boundary, with a final check made by the Lanczos method.
The eigenvector computed for this mode from the Direct Lanczos results is shown below.  This format
contains two lines per grid point.  The first line is the real value of displacement.  The second line indicates
the imaginary part.  Magnitude and phase angles are an alternative choice.                     10          10         -9.998501E+02     5.001250E+04          7.959736E+03          3.998401E-02
11          11         -9.727523E+02     5.035683E+04          8.014539E+03          3.863437E-02
12          12         -1.070261E+03     5.304468E+04          8.442323E+03          4.035319E-02
13          13         -1.200912E+03     6.031593E+04          9.599579E+03          3.982073E-02
COMPLEX EIGENVALUE =  3.294983E+03,  5.022236E+04
C O M P L E X   E I G E N V E C T O R   NO.         11
(REAL/IMAGINARY)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
       100      G       .0           -2.587344E-03  -1.831422E-04  -1.900947E-05    .0             .0
                        .0            1.218755E-02  -2.493365E-04   9.222361E-05    .0             .0
       101      G       .0           -2.967534E-03  -1.831422E-04    .0             .0             .0
                        .0            1.403202E-02  -2.493365E-04    .0             .0             .0
       102      G       .0           -3.110105E-03  -7.534264E-04    .0             .0             .0
                        .0            1.472369E-02   2.517372E-03    .0             .0             .0
       103      G       .0           -3.110105E-03  -7.534264E-04    .0             .0             .0
                        .0            1.472369E-02   2.517372E-03    .0             .0             .0
       201      G       .0            8.990854E-02   6.901190E-02  -1.932251E-03   2.106063E-17   4.727121E-17
                        .0           -1.349169E-01   6.873457E-02   1.091643E-02  -4.813858E-17  -1.377165E-16
       211      G       .0            6.394567E-01  -1.057253E-02    .0             .0             .0
                        .0            6.715296E-01  -2.787052E-02    .0             .0             .0
       212      G       .0            6.394567E-01  -1.057253E-02    .0             .0             .0
                        .0            6.715296E-01  -2.787052E-02    .0             .0             .0
       213      G       .0           -1.006220E+00  -1.589278E-02    .0             .0             .0
                        .0            2.944739E-02  -2.169513E-03    .0             .0             .0
       214      G       .0           -1.006220E+00  -1.589278E-02    .0             .0             .0
                        .0            2.944739E-02  -2.169513E-03    .0             .0             .0
       221      G       .0           -8.201829E-01   1.269795E-01    .0             .0             .0
                        .0           -2.698337E-01  -2.587584E-01    .0             .0             .0
       222      G       .0           -8.201829E-01   1.269795E-01    .0             .0             .0
                        .0           -2.698337E-01  -2.587584E-01    .0             .0             .0
       223      G       .0            1.000000E+00   1.104436E-02    .0             .0             .0
                        .0           -2.834362E-17   3.962275E-01    .0             .0             .0
       224      G       .0            1.000000E+00   1.104436E-02    .0             .0             .0
                        .0           -1.627032E-15   3.962275E-01    .0             .0             .0
       301      G       .0             .0             .0           -1.812334E-04    .0             .0
                        .0             .0             .0           -4.347274E-04    .0             .0
       302      G       .0             .0             .0           -1.812334E-04    .0             .0
                        .0             .0             .0           -4.347274E-04    .0             .0
       303      G       .0             .0           -9.851459E-03  -1.239709E-04    .0             .0
                        .0             .0           -2.265664E-02  -2.428152E-04    .0             .0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Complex Eigensolutions668
Main Index
Note that two points have a value of 1.0, except for a very small imaginary part. These are the analysis set
points with the largest value.  (See points 223, 224.)  Note that one point has a value which exceeds unity.&lt;br&gt;
(See point 214.)  This point is the dependent point on a selected MPC entry.  Only analysis set points are
considered when performing the normalization.  Dependent points for MPC equations and omitted points
may be smaller or larger than unity.
The meaning of the imaginary parts of the displacement at the other points is a measure of the phase angle
between motion at the normalizing point and the other points.  A more meaningful result for the imaginary
part can be obtained from the modal analysis by requesting SDISP output.  This prints the modal
contributions of the real modes which are used to synthesize the complex modes.  The output for the eleventh
mode, from a Modal Hessenberg analysis, is as follows:
Although the columns are labeled T1, T2, etc., they really represent the scalar modal variables printed six per
row.  For example, the largest value occurs for the eleventh real mode, printed in the row labeled “7 M” under
R2.  (M symbolizes modal variable in this context.)  If the objective of the analysis is to find the parts of the
structure that have the largest effect on stability, when changed, it is often easier to understand the physics
from the real mode shapes rather than the displacement in a complex mode shape of physical variables.
The a -set values of the real mode shape can be printed by the SVECT Case Control command.  The values
of nonanalysis set DOFs, such as m-set or omitted points, appear as blank spaces.  If the complete real mode
shapes are needed for plotting, or if element strain energy is desired for the real modes, this input stream can
be run in SOL 103, the real modes analysis, by changing only the SOL entry.  Inputs not related to real
eigenvalue analysis are ignored.      COMPLEX EIGENVALUE =  3.262632E+03,  5.019004E+04
C O M P L E X   E I G E N V E C T O R   N O .         11 (SOLUTION SET)
(REAL/IMAGINARY)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0            1      M      2.723618E-02   2.382100E-04   5.274842E-04  -2.809022E-14  -2.894890E-02   5.665277E-02
1.177777E-02   6.993240E-04  -8.778612E-04  -3.353533E-16   3.104551E-02  -6.190442E-02
0            7      M     -9.730529E-15   2.098325E-14  -4.441694E-13  -4.738649E-02   1.000000E+00   1.575081E-01
-4.749197E-14  -2.213062E-14   3.112463E-13  -4.339022E-01    .0           -2.552028E-01
0           13      M      1.127128E-15  -1.005931E-01  -1.593949E-03   2.438817E-16  -6.407992E-05  -2.046400E-17
-3.111150E-14   3.855639E-02   3.900885E-04   1.721788E-15   4.127408E-05   6.070441E-16
0           19      M     -8.610454E-17   4.902618E-06             &lt;br&gt;
-1.722265E-16   1.007778E-06&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P35</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_035/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_035/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide
Chapter 15: Guidelines and Tools for Effective Dynamic Analysis
15Guidelines and Tools for
Effective Dynamic Analysis
Overall Analysis Strategy
Units
Mass
Damping
Boundary Conditions
Loads
Meshing
Eigenvalue Analysis
Frequency Response Analysis
Transient Response Analysis
Results Interpretation and Verification
Computer Resource Requirements
Debugging Dynamic Models
Weight Checks
Groundcheck
Static Loading
Thermal Test Case
Modal Analysis
Modal Effective Mass Computation
Modal Kinetic and Strain Energy Output
Grid Point Kinetic Energy
Element Strain Energy
Element Kinetic Energy
Element Energy Loss
Total Energy Output for Defined SETs&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overall Analysis Strategy670
Main Index
Overall Analysis Strategy
Part of any analysis strategy, whether it be for dynamic analysis or static analysis, is to gain confidence with
the modeling procedures first.  The best way to accomplish this is to run small, simple models, preferably
models that have textbook solutions.  The references (see References ) provide numerous textbook solutions.&lt;br&gt;
Start with a simple model first and then gradually add complexity, verifying the results at each stage. Be
familiar with Modeling Guidelines  (Ch. 9) and Model Verification  (Ch. 10) in the MSC Nastran Linear Static
Analysis User’s Guide  as most of the suggestions and checks apply to dynamic analysis as well as static analysis.
Then follow the steps outlined below and in Figure 15-1.
Once you have confidence in a small model and are ready to analyze your actual model, again do the analysis
in steps.  The following is a suggested order for performing dynamic analysis on any structure:
1.Create the initial model only; do not apply any loads.  Verify the model&amp;rsquo;s connectivity, element and
material properties, and boundary conditions.  Use a graphical tool such as Patran to assist in this.
Make sure that mass is specified for this model.
2.Perform a static analysis (SOL 101) first in order to verify proper load paths and overall model
integrity.  (Note that you have to constrain the structure for static analysis even if you were not
planning to do so for dynamic analysis.)  For a three-dimensional model, you should run three load
cases, each with a 1g gravity load applied in a different direction.  Compute displacements and SPC
forces, and verify the results.  Check for unusually large grid point displacements and unreasonable
SPC forces.  The use of a graphical postprocessor can aid you at this step.
Next, apply static loads that have the same spatial distribution that your subsequent dynamic loads
have.  Verify the results for reasonableness.  Do not go to dynamic analysis until you are satisfied with
the results from your static analysis.
It is recommended at this stage that the model contain PARAM,GRDPNT,n (where n is a reference
grid point or 0, the origin of the basic coordinate system).  Verify the results from the grid point
weight generator in order to ensure that the model&amp;rsquo;s rigid-body mass and inertia look reasonable.&lt;br&gt;
This step, in conjunction with the static analysis results, helps to ensure that the proper mass units
are specified.
3.Perform an eigenvalue analysis (SOL 103) next.  Compute only a few modes first, verify their
frequencies, and view their mode shapes for reasonableness.  If your graphical postprocessor can
animate the mode shapes, do so because that helps you to visualize them.  Things to check at this step
are local mode shapes, in which one or a few grid points are moving a very large amount relative to
the rest of the model (this can indicate poor stiffness modeling in that region), and unwanted rigid-
body modes (which can arise due to improper specification of the boundary conditions or a
mechanism).
Once you are satisfied with these results, perform the full eigenvalue analysis (for as many modes as
you need).
4.If you have frequency-dependent loads, perform frequency response analysis (SOL 108 or SOL 111)
using the dynamic load spatial distribution.  If your structure is constrained, then apply the dynamic
load at only one frequency, which should be 0.0 Hz.  Compare the 0.0 Hz displacement results to the
static analysis displacement results.  The results should be the same if direct frequency response&lt;/p&gt;
&lt;p&gt;671 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
(without structural damping) is used.  If the results are not equal, then there is probably an error in
the specification of the dynamic load, and you should check the LSEQ and DAREA entries.  If modal
frequency response (without structural damping) is used, then the 0.0 Hz results should be close to
the static results; the difference is due to modal truncation.
Next apply the load across the entire frequency range of interest.  If you are running modal frequency
response, then make sure that you have enough modes to ensure accurate results for even the highest
forcing frequency.  Also be sure to have a small enough  in order to accurately capture the peak
response.  Verify these results for reasonableness (it may be easier to look at magnitude and phase
results instead of real and imaginary results, which are the default values).
If your ultimate goal is a transient response analysis for which damping is to be neglected, then the
frequency response analysis can also omit damping.  However, if damping is to be included, then use
the correct damping in your frequency response analysis.  The proper specification of damping can
be verified by looking at the half-power bandwidth.
Plots are important at this stage to assist in results interpretation.  X-Y plots are necessary in order to
see the variation in response versus frequency.  Deformed structure plots at a frequency near a
resonant frequency can also help to interpret the results.  If structure plots are made, look at the
imaginary component because the single degree-of-freedom (SDOF) displacement response at
resonance is purely imaginary when damping is present (this response does not occur in practice
because the response is usually due to several modes).
5.If you have time-dependent loads, perform transient response (SOL 109 or SOL 112) analysis.  If
your structure is constrained, apply the load “very quickly” (over one or two time steps) as a step
function and look at the displacement results.  The duration of the analysis needs to be as long as the
period of the lowest frequency mode.  For an SDOF system, a quickly applied load results in a peak
displacement response that is twice the response resulting from the same load applied statically.  This
peak response does not occur in your actual model because of multiple modes and damping, but the
results should be close.  If your structure is unconstrained, the displacements will grow with time
(unless the rigid-body modes are excluded in a modal transient response analysis).  However, the
stresses should be roughly twice those from the static analysis.  In any event, examine the results via
X-Y plots to ensure reasonableness.
Once you are satisfied, apply the correct time variation to the load and compute the results.  Again,
use X-Y plots to verify the accuracy of the results.
6.Finally, perform any other dynamic analyses, such as response spectrum analysis, random response,
nonlinear transient response, or dynamic response optimization.  The confidence gained by using the
previous steps first helps to ensure that you have an accurate model at this stage.
These and other guidelines are described further in the remainder of this chapter.f&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Units672
Main Index
Figure 15-1  Simplified Flow Chart of the Overall Analysis Strategy
Units
Mistakes in units and boundary conditions (see Boundary Conditions ) are among the most common mistakes
made when performing finite element analysis.  MSC Nastran does not assume a particular set of units, but
it does assume that they are consistent.
It is up to you to ensure that the units that you use are both consistent and correct.  Table 2-2 lists consistent
units for common variables.Verify Model Connectivity,
Properties, Boundary Conditions
Verify Static Analysis
(with gravity load, with actual load)
Verify Normal Modes Analysis
(few modes, many modes)
Verify Frequency Response Analysis
(0.0 Hz, entire frequency range)
Verify Transient Response Analysis
(step load, actual load)
Run Other Dynamic Response Analyses
(response spectrum, random response, etc.)&lt;/p&gt;
&lt;p&gt;673 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
There are several ways to verify units.  For mass, you can print the results from the grid point weight generator
and verify that the mass is correct.  For stiffness, you can apply a simple load and verify that the resulting
static displacements seem reasonable.  For both, you can verify that the natural frequencies are reasonable.
These checks assume that you have enough knowledge about your structure to know when the results are
reasonable and when a mistake has been made.  In other words, running small models and/or proceeding
through dynamic analysis via the steps outlined in the previous section are necessary in order to be confident
that the correct units are specified.
Mass
Mistakes with mass primarily involve mistakes in mass units as described in the previous section.  A common
mistake is to mix mass and weight units.  Using PARAM, WTMASS  does not solve this problem because it scales
all mass and weight input (except certain types of direct input matrices) and still leaves the mixture of units.&lt;br&gt;
Also, the use of PARAM,WTMASS can have unwanted effects as well because it also scales the large mass
used in enforced motion, thereby scaling the value of the enforced motion input.  In order to reduce the
chances for error, it is recommended that only mass units be used everywhere.  Therefore, avoid the use of
weight input wherever possible as well as the use of PARAM,WTMASS .
One way to verify mass input is to apply gravity in several directions and print the SPC forces, which shall
match the weight of the structure. This verification ensures that the mass is correctly applied and that the
units are correct.
Damping
Proper specification of damping is probably the most difficult modeling input to verify because its
verification can only be done via dynamic response analysis.  In addition, its units are not necessarily familiar
because damping is normally not a modeling input that you use frequently, unless dynamic response analysis
is all you run.  Also, there are several ways to specify damping in MSC Nastran, which increase the chances
of making a mistake.  Finally, even though the damping units are correct and the damping is input correctly
in MSC Nastran, it is difficult to know that the damping specification itself is correct from a physical
standpoint.  While there are relatively easy checks for correctness in mass and stiffness input, including
comparison to static and modal test data, there are no such easy checks for damping input.
The easiest way to specify damping is to use modal damping, which is often specified as the percentage of
critical damping.  The TABDMP1  Bulk Data entry is used to specify modal damping.  The following are several
potential mistakes associated with using modal damping.
Forgetting to select the TABDMP1  entry using the SDAMPING (Case)  Case Control command.
Forgetting to specify the damping TYPE (field 3).  The default damping type is structural damping,
which is twice the critical damping percentage.
Not making the table cover an adequate range of frequencies.  Like almost all of the MSC Nastran
tables, the TABDMP1 entry extrapolates beyond the endpoints of the table by using the first two or
the last two entered values.  As a rule, you should try to provide enough input points so that the
table lookup point is always an interpolated value.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Damping674
Main Index
Modal damping can be used only in modal frequency response and modal transient response.  Other forms
of damping have to be used for the direct methods of response.  For frequency response analysis, GE (field 9
of the MAT1 entry) and PARAM, G, GFL  define structural damping.  These variables are also used to specify
structural damping for transient response analysis but are not activated unless PARAM, W3,W4,W3FL, W4FL&lt;br&gt;
are set to nonzero values.  A common mistake is to forget to set these values.
Note that damping is additive, that is, the damping matrix is comprised of all of the input damping sources.&lt;br&gt;
For example, damping due to CDAMPi elements adds to damping due to PARAM,G and GE.  Mixing of
damping types can increase the chances for error, and you are cautioned against the mixing of damping types
unless it is necessary.
In many cases damping is not an important consideration.  For example, a structure&amp;rsquo;s peak response due to
an impulsive load is relatively unaffected by damping since the peak response occurs during the first cycle of
response.  Damping in a long duration transient excitation, such as an earthquake, can make a difference in
the peak response on the order of 10 to 20% or so, but this difference is small when compared to the other
modeling uncertainties.  Therefore, it is often conservative to ignore damping in a transient response analysis.
For frequency response analysis, however, the value of damping is critical to the value of the computed
response at resonance since the dynamic magnification factor is inversely proportional to the damping value.&lt;br&gt;
One way to verify the accuracy of the modal damping ratio input is to run the modal frequency response
across the half-power bandwidth  of the modal frequencies of interest as shown in Figure 15-2.
Figure 15-2  Half-Power Bandwidth
For lightly damped structures ( ), the approximate relationship between the critical damping ratio,
the half-power bandwidth ( ), and the resonant frequency  is
(15-1)f1f2fn
Half-Power
BandwidthFrequencyResponsePeak Response
Peak
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; Half-Power Point =
0.1
f2f1– fn
f2f1–
2fn&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;&lt;/p&gt;
&lt;p&gt;675 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Another approximate way to verify damping is to run transient response analysis and look at the successive
peak values of the free vibration response as shown in Figure 15-3.  In direct transient response analysis, this
plot can be generated by using a displacement initial  condition; in modal transient response analysis, it can
be generated by applying an impulsive force that ramps up and down quickly with respect to the dominant
period of response.  The logarithmic decrement   is the natural log of the amplitude ratio of two successive
cycles of free vibration response given by
(15-2)
The logarithmic decrement provides an approximate damping relationship for lightly damped structures as
given by
(15-3)
In transient response analysis, remember to use PARAM,W3  or PARAM,W4  to include structural damping
if GE or PARAM,G is used.
Figure 15-3  Damped Free Vibration Response
Both the half-power bandwidth method and the logarithmic decrement method assume an SDOF response.&lt;br&gt;
These approximations are less accurate when there are multiple modes of response; however, they are useful
for verifying that the damping input is within a factor of two or three of the desired damping.
Modal Damping Pro cessing
Modal damping  may be employed in modal dynamic analysis by specifying an SDAMPING  request in Case
Control. This request points to a TABDMP1  Bulk Data entry that defines a modal damping table. 
xn1–
xn&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- ln=

2&amp;mdash;&amp;mdash;&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Boundary Conditions676
Main Index
Enhancements have been made to the processing of this data with a view to providing additional information
to the user. Details are described below.
A user warning message is issued if either of the following conditions is satisfied during modal damping
processing:
1.The modal damping value is computed as a result of extrapolation.
2.The computed modal damping value is negative.
For any modal damping value that satisfies either of the above conditions, the program lists the cyclic
frequency and the corresponding modal damping value and indicates whether this value was computed as a
result of interpolation or extrapolation. For the latter case, it also indicates whether the extrapolation was
beyond the left end of the table or beyond the right end of the table.
If a modal damping value satisfies both of the conditions 1. and 2. above (that is, the modal damping value is
computed as a result of extrapolation and it is negative), the program terminates the job with a user fatal
message.
You can prevent the program from terminating the job as above by specifying MDAMPEXT=1 [or
SYSTEM(426)=1] on the NASTRAN statement. The user fatal message mentioned above does inform the
user of this avoidance scheme.
Boundary Conditions
The proper specification of boundary conditions is just as important for dynamic analysis as it is for static
analysis.  The improper specification of the boundary conditions leads to incorrect answers.  One such
improper specification of boundary conditions is forgetting to fully constrain the structure.  Unlike static
analysis, for which an under-constrained model does not run, an under-constrained model does run in
dynamic analysis.  You should perform an eigenvalue analysis first and verify that there are no unwanted rigid-
body modes.
The large mass used for enforced motion simulates a constrained condition as well as adds a rigid-body mode.&lt;br&gt;
The value of the large mass is important for obtaining accurate answers.  The large mass value must be large
enough to properly simulate the constrained condition, but it must not be so large as to create numerical
difficulties when solving the equations.  A range of  to  times the overall structural mass is adequate
to meet both conditions.  One way to verify that a proper value is chosen is to run a normal modes analysis
with the enforced DOF constrained via SPCs.  Then, run a normal modes analysis with your choice of the
large mass(es) and compare the frequencies of the flexible modes.  If the frequencies compare favorably (i.e.,
to within four or five significant digits), then the large mass value is accurate.  If the frequencies do not
compare, then increase the value of the large mass(es).  A common mistake is to use too low a value (or omit
it entirely) for the rotational components.  Using the grid point weight generator is very important to obtain
the overall structural mass and inertias so that you can specify a good value for the large mass(es).103106&lt;/p&gt;
&lt;p&gt;677 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Loads
Because of their time- or frequency-varying nature, it is more complicated to apply dynamic loads than it is
to apply static loads.  Therefore, it is important to verify that the dynamic loads are correctly specified and
that there are no discontinuous loads.
The best way to verify proper dynamic load specification is to plot the loads as a function of time or
frequency.  Another way to verify proper dynamic load specification is to print the loads as a function of time
or frequency.  Use the OLOAD (Case)  Case Control command to plot or print the loads.
Meshing
An adequate element mesh is required to create an accurate model.  For static analysis the mesh density is
primarily controlled by the load paths; the element mesh must be fine enough so that there is a smooth
transition of stress from one element to another in the region of interest.
Load paths are also important for dynamic analysis, but there is an additional consideration:  the mesh must
be fine enough to accurately represent the deformed shape of the modes of interest.  If many modes are to be
considered in the analysis, then the model must be fine enough to accurately represent the mode shapes of
the highest modes of interest.  Table 15-1 shows the frequencies resulting from several cantilever beam models;
each column represents the same structure but with a different number of elements.  Note that the
frequencies are closer to the theoretical results as the model fineness increased.  In addition, note that the
error is greatest in the higher modes.  This table shows the computed frequencies compared to theory; it does
not show the computed mode shapes compared to theory.  However, the comparison for mode shapes shows
even more error than is shown for the frequencies.
A general rule is to use at least five to ten grid points per half-cycle of response amplitude.  Figure 15-4 shows
the theoretical response shape for the fifth mode.  Note that there are four half-cycles in the mode shape,
which means that 20 to 40 grid points at a minimum are recommended to accurately represent that mode
shape.  This modeling guideline is also reflected in Table 15-1, which shows that the 40-element model is
much more accurate than the 10-element  model.
Table 15-1  Frequencies for a Cantilever Beam Model (Lumped Mass)
ModeFrequencies (Hz)
Theory10-Element
Model40-Element
Model70-Element
Model100-Element
Model
1 2.08 2.07 2.08 2.08 2.08
2 13.24 12.81 13.00 13.01 13.01
3 36.47 35.50 36.37 36.41 36.42
4 71.52 68.84 71.22 71.34 71.36
5 118.21 112.53 117.65 117.90 117.95&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Eigenvalue Analysis678
Main Index
Figure 15-4  Fifth Mode Shape of a Cantilever Beam
Another way to verify the accuracy of the mesh density is to apply static loads that give a deformed shape the
same as the mode of interest and perform stress discontinuity calculations.  This process can be laborious and
is not recommended as a general checkout procedure.
Eigenvalue Analysis
In addition to the meshing guidelines described earlier, the other primary factor in eigenvalue analysis is the
proper selection of the eigenvalue solution method.  The Lanczos method is the best overall method and is
the recommended method to use.  The automatic Householder method is useful for small, dense matrices.&lt;br&gt;
The SINV method is useful when only a few modes are required.  The other methods should be regarded as
backup methods.
Carefully examine the computed frequencies and mode shapes.  Viewing only one or the other is usually not
enough to verify accuracy of your model.  Modes with 0.0 Hz (or computational zero) frequencies indicate
rigid-body or mechanism modes.  If these modes are unintended, then there is a mistake in boundary
conditions or connectivity.  The existence and cause of unintended zero-frequency modes can also be
ascertained from the mode shapes.  In addition, mode shape plots are useful for assessing local modes, in
which a group of one or a few grid points displaces and the rest of the structure does not.  Local modes may
also be unintended and are often the result of incorrect connectivity or element properties.
Frequency Response Analysis
Several factors are important for computing accurate frequency response results.  These factors include the
number of retained modes (for modal frequency response analysis), the frequency increment , and
damping.  These guidelines are only approximate but are nevertheless useful.  Running a normal modes
analysis first helps to compute accurate frequency response results.
Number of Retained Modes
Use enough modes to cover the range of excitation.  For example, if the model is to be excited from 1 to 100
Hz, you must use all of the modes with frequencies up to at least 100 Hz.  This is only a minimum
requirement, however.  A better guideline is to use enough modes to cover two to three times the range of
excitation in order to provide accurate answers at the high end of the frequency range.  For example, when
excitation is applied to 100 Hz, modes with frequencies up to 200 to 300 Hz should all be used.Four Half-Cycles
f&lt;/p&gt;
&lt;p&gt;679 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Size of the Frequency Increment
The size of the frequency increment  must be small enough to ensure that the magnitude of the peak
response is accurately computed.  T o ensure this, you need to choose a frequency increment small enough so
that there are at least five to ten increments within the half-power bandwidth frequencies (illustrated in
Figure 15-2).
The frequency increment is defined by  on the FREQ1  Bulk Data entry.  Note that FREQ and FREQ2  entries
can be used in conjunction with FREQ1 to define more solutions in the areas of resonance (the frequencies
of these solutions should have been determined by a prior normal modes analysis).  A nonuniform&lt;br&gt;
imposes no cost increase relative to a uniform .
Relationship of Damping to the Frequency Increment
The response at resonance is inversely proportional to the amount of damping, but the half-power bandwidth
is directly proportional to the amount of damping.  For lightly-damped structures ( ), an
approximate relationship between the half-power bandwidth ( ), resonant frequency , and critical
damping ratio  is given by Eq. (15-1).  This equation can be rewritten to define the appropriate value of :
(15-4)
(15-5)
(15-6)
where  is the number of frequency points within the half-power bandwidth.  For example, with 1% critical
damping and six points used to define the half-power bandwidth, the maximum frequency increment is
.  The frequency increment is smaller for lighter damped structures.
Another good check is looking at the X-Y plots.  If the response curves are not smooth, there is a good chance
that  is too large.
Verification of the Applied Load
The applied load can be verified by exciting your model at 0.0 Hz and comparing the results to a static
solution with the same spatial load distribution.  The 0.0 Hz results should match the static results if direct
frequency response analysis is used without structural damping.  If modal frequency response analysis is used
without structural damping, those results should be close to the static results; any difference is due to mode
truncation.  If the 0.0 Hz results do not match the static results, check the LSEQ and DAREA entries.  Also,
use OLOAD to print the applied force in order to compare the loads.f
f
f
f
0.1
f2f1– fn
 f
f2f1– m1–f =
f2f1–
2fn&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;m1–f
2fn&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
f2fn
m1–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
m
0.004fn
f&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Transient Response Analysis680
Main Index
Transient Response Analysis
Several factors are important in computing accurate transient response.  These factors include:  the number
of retained modes (for modal transient response), the integration time step  , the time duration of the
computed response, and damping.  The guidelines are only approximate but are nevertheless useful.  Running
a normal modes analysis first helps to compute transient response.
Number of Retained Modes
In modal transient response analysis, a larger number of modes produces a more accurate response (although
at the expense of increased run times).  The number of modes must be large enough to cover the frequency
range of interest.  (The term “range of interest” means the range of frequencies whose response is to be
computed as well as the range of frequencies for which the loading is applied.)  As a general rule, there should
be enough modes to cover a range up to about two times the highest frequency of interest.  For example, if
response needs to be computed to 100 Hz, then enough modes should be used in the transient response to
cover up to at least 200 Hz.  As another general rule, you should use enough modes to cover a range up to
two to ten times the dominant frequency of response.
A sufficient number of modes must be retained to cover the time and spatial distribution of loading.  For
example, if the applied transient load has a spatial distribution resembling the fifth mode shape, then that
mode should be included in the transient response.
Size of the Integration Time Step
The value of the integration time step , denoted by DT on the TSTEP  Bulk Data entry, is important for
the accurate integration of the equations of motion.  Rough guidelines for the selection of  are as follows:
  must be small enough to accurately capture the magnitude of the peak response, which means
that at least ten time steps per cycle of the highest mode be used.  For example, if the highest
frequency of interest is 100 Hz, then  should be 0.001 second or smaller.
  must be small enough to accurately represent the frequency content of the applied loading.  If
the applied loading has a frequency content of 1000 Hz, then  must be 0.001 second or less
(preferably much less in order to represent the applied loading with more than one point per cycle).
The integration time step can be changed in a transient response analysis, but it is not recommended.  Much
of the cost of direct transient response occurs with the decomposition of the dynamic matrix, which occurs
only once if there is a constant .  A new decomposition is performed every time  changes, thereby
increasing the cost of the analysis if the time increment is changed.  Therefore, the recommendation is to
determine the smallest  required based on the loading and frequency range and then use that&lt;br&gt;
throughout the entire transient response analysis.
Duration of the Computed Response
The length of the time duration is important so that the lowest flexible (e.g., non-rigid body) mode oscillates
through at least one cycle.  For example, if the lowest flexible mode has a frequency of 0.2 Hz, then the time
duration of the computed response should be at least 5.0second.  A better guideline is to make the duration t
t
t
t
t
t
t
t t
t t&lt;/p&gt;
&lt;p&gt;681 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
the longer of the following:  twice the period of the lowest flexible mode or one period of the lowest flexible
mode after the load has been removed or reached a constant value.  The time duration is set on the TSTEP
entry by multiplying  (the integration time step) by the number of time steps (N).
Value of Damping
The proper selection of the damping value is relatively unimportant for analyses that are of very short
duration, such as a crash impulse or a shock blast.  The specification of the damping value is most important
for long duration loadings (such as earthquakes) and is critical for loadings (such as sine dwells) that
continually add energy into the system.
Verification of the Applied Load
The applied load can be verified by applying the load suddenly (over one or two time increments) and
comparing the results to a static solution with the same spatial load distribution.  The transient results should
have a peak value of twice the static results.  If the transient results are not twice the static results, check the
LSEQ and DAREA entries.  Another way to verify the applied load is to inspect it visually via the X-Y plots.
Results Interpretation and Verification
Because of the time- and frequency-varying nature of dynamic analysis, results can be more difficult to
interpret than for static analysis.  The key to proper results interpretation is plotting.  Structure plotting is
necessary for a proper understanding of the deformed shapes of the modes, and X-Y plotting is necessary for
a proper understanding of the frequency and transient response.
Comparing results to hand calculations, to known results from similar models, or to test data is also very
useful.  Do not accept any analysis results without first performing some type of verification.
Consider the cantilever beam model shown in Figure 15-5.  This is a planar model of the cantilever beam used
in the examples in Real Eigenvalue Analysis  (Ch. 3) through Enforced Motion  (Ch. 7).  Figure 15-5 shows the loads
applied to the beam.
Figure 15-5  Cantilever Beam Model with Static Loads
A static analysis (SOL 101) is run first.  See MSC_DOC_DIR/tpl6/dynamics/bd14bar0.dat. Then, modal
frequency response (SOL 111) is run from 0.0 to 20.0 Hz with a damping ratio of 2% critical damping used
for all modes.  See MSC_DOC_DIR/tpl6/dynamics/bd14bar1.dat. Modes are computed up to 500 Hz
using the Lanczos method.  Finally, modal transient response (SOL 112) is run with the time variation shown
in Figure 15-6.  See MSC_DOC_DIR/tpl6/dynamics/bd14bar2.dat. Modes are computed up to 3000Hz
(using the Lanczos method), and a damping ratio of 2% critical damping is used for all modes.6 11
1 N 2 N&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Computer Resource Requirements682
Main Index
Figure 15-6  Time Variation of Transient Loads
Table 15-2 shows the y-displacements for grid points 6 and 11.  As expected, the frequency response results at
0.0 Hz are the same as the static analysis results (see Frequency Response Analysis ).  The frequency response
results at 2.05 Hz (very near the first natural frequency) are approximately 25 times the static analysis results.&lt;br&gt;
The factor of 25 is the dynamic amplification factor at resonance for a damping ratio of 2% critical damping.
The transient response results are approximately twice the static analysis results.  The factor of two is the
amplification of response for a transient load applied suddenly (see Transient Response Analysis ).
Computer Resource Requirements
The efficiency of a dynamic analysis can be measured based on computer resource requirements, such as
computer runtime, disk storage, and memory.  These requirements increase as the problem size increases, but
they can also vary greatly depending on other factors.
In general, a dynamic analysis uses more computer resources than a static analysis.  In normal modes analysis,
the requirements vary depending on the density of the model, the eigenvalue extraction method used, the
number of modes requested, and the type of decomposition (symmetric or sparse).Table 15-2  Comparison of Results for the Cantilever Beam Model
Static Analysis
ResultsFrequency Response
Analysis ResultsTransient Response
Peak Displacement 0.0 Hz 2.05 Hz
Displacement 6 Y 3.17E-3 3.17E-3 7.61E-2 6.29E-3
Displacement 11 Y 9.77E-3 9.77E-3 2.25E-1 1.87E-2Load
Factor
Time (sec)1.0
0.003 0.006
Amplification Factor at Resonance1
2&amp;mdash;&amp;mdash;1
2.02&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 25 = = =&lt;/p&gt;
&lt;p&gt;683 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
If your model has already been built, estimate its resource requirements by using the ESTIMATE utility.  For
instructions on the use of the ESTIMATE utility, see ESTIMATE  (Ch. 6) in the MSC Nastran 2016 Installation
and Operations Guide .  If your model has not been created, but you wish to estimate resource usage, then
read the following.
We have established benchmark runs to provide guidelines on performance for normal modes analyses.  We
used a cylindrical plate model scaled to various sizes and solved for ten modes using different solution
methods.  Testing has shown that this model provides a very good guideline for most industry models.
The Sparse Lanczos method is superior in performance other methods, so we use this method for the
benchmark runs.  We applied the Sparse Lanczos  method to models of various sizes and extracted data on
memory and disk space requirement.
The memory requirements  increase with problem size.  Empirical formulas were developed for these
benchmark problems to estimate the memory requirement given the number of degrees-of-freedom (DOF)
contained in the model.
For the equation
(15-7)
Note that these memory requirements are for no spill conditions.  The symmetric solver can run with less
memory, but because of spill conditions, the performance is degraded in both computer runtime and disk
space usage.
Empirical formulas were developed for these benchmark problems to estimate the disk space requirement
given the number of degrees-of-freedom (DOF) contained in the model.
For the equation
(15-8)
These values were obtained from a 32-bit computer and therefore should be doubled for a 64-bit computer.&lt;br&gt;
If you wish to calculate more than ten modes, then multiply the space calculated above by
.  For example, for 30 modes you would multiply the space value calculated above
by 1.18&lt;strong&gt;2.mem The memory required in megabytes.
DOF The number of degrees-of-freedom contained in the model.
space The disk space usage in megabytes.
DOF Represents the number of degrees-of-freedom contained in the model.Log(mem) (.7934)Log(DOF)2.3671 –  =
Log(space) (1.0815)Log(DOF)2.5411 –  =
1.18&lt;/strong&gt;#modes101– &lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Debugging Dynamic Models684
Main Index
Debugging Dynamic Models
This section outlines a procedure for systematically checking and documenting a finite element model.&lt;br&gt;
Currently many models are generated by one organization and transmitted to other groups for subsequent
analysis.  Since these models have had various levels of analytical validation and documentation, checkout
procedures are needed to ensure that the models will be consistent and mathematically well -conditioned.&lt;br&gt;
These procedures, however, are not substitutes for the independent verification phase of analysis.  They are
intended to remove modeling errors in the design process, rather than during the test updating phase, which
occurs well after the hardware is built.
Modeling Hints
There is no single checklist that will ensure a complete check of a comprehensive finite element model.  Also,
there is no substitute for actual test correlation with the model, nor is there a substitute for the analyst’s
engineering interpretation of the output and one’s intuition.  A results prediction, which is determining gross
results before the analysis, can be used to good advantage.  Simple load paths or natural frequencies of
equivalent simple beam/mass systems, etc., can be used to remove redundancies and predict the results.  In
fact, this must be accomplished to some degree to size the model initially.  This will also provide baseline data,
and the effects of finer modeling will then be known.
Relative to preparation of the pilot model, the following are a few suggestions for eliminating or reducing
modeling problems.
Start construction of a simple pilot model in which the user should:
•Use beams and plates instead of solids.
•Use RBE2s and RBE3s where they will simplify.
•Simplify modeling offsets and local modeling details.
•Ignore minor discontinuities such as holes and fillets.
Further refinement after this initial modeling should yield acceptable changes in the results.
Do not rely on bending capability of thin plates and long, thin axial members to render the model
kinematically stable.
Make an initial run with membrane -only properties and pinned ended bars, and check for
irregularities.
Avoid use of AUTOSPC in the final model, if you have not carefully checked the Grid Point
Singularity Table (GPSP) output to see if the degrees of freedom that are constrained out are the
ones you intended; and the SPCFORCE output to make sure there are no improper constrained
forces. Or you can use the AUTOSPC (punch) to punch out these grid point/degrees of freedom
and the SPC selection to constrain these degrees of freedom. Then remove the AUTOSPC
command from subsequent runs.
For shells, it is recommended to use the defaults for parameters K6ROT (100.) and SNORM (20.).
The post -analysis assessment should include a check of the physical significance of the loads and of the load
path.  Offsets whose moments are not properly accounted for may overly weaken a very stiff load path.  Also,
large moments in relatively weak bending members or plates may indicate modeling problems.&lt;/p&gt;
&lt;p&gt;685 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Stress analysis should be performed at the detailed part level with the loads from the model.  The use of
element stresses directly from the output of the model requires detailed review in most cases.  In fact, model
properties may be intentionally different from the actual hardware to obtain correct load distributions, and
to match test data or dynamic characteristics.  Effective thicknesses or reduced bending properties may have
been used to reflect panel cutouts or partial beam and fixity.  In this event, the finite element model loads
should be used with the actual drawing or as -built dimensions for detail stress analysis.  This piece -part
assessment ensures a check and balance of the finite element model and the stress distributions visualized and
treated by the element selection.  Also, the source of the components of stress are known, that is, whether the
predominant stress component is due to bending or axial loads.  Load transformation matrices are useful for
isolating critical design conditions but are not necessarily a sufficient basis for computing the margin of
safety.
One area in which an underestimation of load could occur is the local response of small masses during a
dynamic analysis.  These should be addressed in the detailed stress analysis with both the model predictions
and an alternate loading such as a specified loading condition.  For the model to give correct loads for the
local response of a mass, one needs all of the following:
Mass must be represented by enough points to characterize the energy of the critical local mode (a
single -point mass may not be sufficient).
Mass must be supported by proper elastic elements to represent the local mode (RBE2 or RBE3 may
not be sufficient).
Mass must be in the ASET .
Model and all analysis (input spectra, etc.) must be carried beyond this local critical mode (as far as
frequency is concerned).
Testing Dynamic Models
Once the finite element model is completed and all documentation (such as model schematics (road maps)
as well as material and geometric property calculations) are updated to the final model version, the following
series of tests should be performed in order to validate the model.  It is recommended that these tests be run
on the model and subsystem models during the development stages as well.
Geometry Plots
The MSC Nastran plotting package Patran, or another preprocessor graphics package should be used to
obtain visual images of the finite element model from many views in such a way as to provide a clear
representation of each element in at least one view and to verify overall geometry and placement of
elements.A shrink option should be used if possible to make sure all elements are present (see Figure 15-7).&lt;br&gt;
This is particularly helpful when bars or beams are used to model stringers along the edges of plate elements.&lt;br&gt;
Discontinuities show up only when the shrink option is invoked.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Debugging Dynamic Models686
Main Index
.
Figure 15-7  Shrink Option
Mass Distribution
PARAM, GRDPNT  uses the Grid Point Weight Generator (GPWG) , which gives the mass, the CG, the
moments of inertia, and the principal moments of inertia and their direction cosines.  Full use should be
made of this diagnostic tool to correlate the model with existing hardware or mass properties calculations.&lt;br&gt;
The GPWG uses only the weight properties and geometry to calculate mass properties.  The resultant mass
properties are also called the rigid body mass properties. See Grid Point Weight Generator  (Ch. 19) in the  for a a)  Shears and Bars, No Shrink
b)  Bars Regular Size, Shears Shrunk
c)  Bars and Shears Both Shrunk&lt;/p&gt;
&lt;p&gt;687 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
detailed description. Note that PARAM,WTMASS does not affect the GPWG output—it is factored out of
the printed results.
Weight Checks
A weight check is similar to the GRID POINT WEIGHT GENERATOR output (requested with
PARAM,GRDPNT) but with additional options also see Weightcheck  and Weight Checks
(PARAM,GRDPNT,WEIGHTCHECK)  in the MSC Nastran Linear Static Analysis User’s Guide . The weight check is
requested with the WEIGHTCHECK (Case)  Case Control command.
For example, WEIGHTCHECK=YES requests a weight check of the g-set. WEIGHTCHECK
(SET=ALL)=YES requests a weight check of all DOF sets.
The main difference between PARAM,GRDPNT and WEIGHTCHECK is that the weight check may be
performed at any or all stages of the mass reduction (see the SET keyword).
The GRID keyword references the grid point for the calculation of the rigid body motion.  For SET&amp;lt;&amp;gt;G,
the keyword CGI=YES requests output of center gravity and mass moments of inertia calculation.
It should be noted that the q-set degrees-of-freedom in the current superelement and those from upstream
superelements are eliminated from the check.  It should also be noted that in superelement analysis, the
weight check includes the weight of upstream superelements.
At DOF sets below the g-set, the weight check also computes weight loss or gain from the g-set. SET Keywords DOF Set Description
G g-set before single point, multipoint constraints, and rigid elements are
applied
N n-set after multipoint constraints and rigid elements are applied
N+AUTO n-set with
AUTOSPCsame as the n-set with the rows/columns in the mass matrix
corresponding to degrees-of-freedom constrained by the
PARAM,AUTOSPC operation zeroed out
F f-set after single point, multipoint constraints, and rigid elements are
applied
A a-set after static condensation
V v-set Component mode mass which combines the o-set, r-set, and c-setWEIGHTCHECKPRINT
NOPRINTPUNCH, SET G, N, N AUTOSPC, F, A,V +
ALL    
   =

GRID gid, CGIYES
NOWEIGHT
MASS = =
YES
NO=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Groundcheck688
Main Index
Here is an example of WEIGHTCHECK output for the a-set:
The first matrix printed out is simply the rigid body mass matrix for the a-set mass. The second matrix is the
comparison of the diagonal terms with respect to the g-set WEIGHTCHECK output.
G must be one of the selected sets in the SET keyword in order to get the comparison.  If G is not one of the
selected sets, then “N/A” will be printed for the comparison.
WEIGHTCHECK is available in all solution sequences.  However, in SOLs 101, 105, 114, and 116, because
no mass reduction is performed, only WEIGHTCHECK(SET=G) is available.
Groundcheck
The GROUNDCHECK (Case)  Case Control command can help identify unintentional constraints and ill-
conditioned stiffness matrix. See Groundcheck  or Unintentional Grounding (GROUNDCHECK)  in the MSC Nastran
Linear Static Analysis User’s Guide  for an overview of this capability.
Static Loading
Static loading, such as a simple gravity load, can be helpful in checking out various properties of finite element
models.  Displacements, element forces, and support reactions (SPC forces) derived from 1G loading
conditions provide a first check on mass, stiffness, and determinacy of supports.  Weight and CG can be
calculated from SPC forces, which should also be compared to any applied loads or weight.  Load paths can
also be assessed using the element forces.  Epsilon, Max Ratio, and SPC forces (at grids other than legitimate
boundary conditions) describe the overall health of the stiffness matrix.
Allowable values for these quantities are as follows: O U T P U T   F R O M   W E I G H T   C H E C K
DEGREES OF FREEDOM SET = A    &lt;br&gt;
REFERENCE POINT =        0
M O&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.559152E-02 -1.308159E-18  0.000000E+00  0.000000E+00  0.000000E+00 -4.915227E-02 *&lt;/li&gt;
&lt;li&gt;-6.540795E-19  1.410569E-02  0.000000E+00  0.000000E+00  0.000000E+00  9.119664E-20 *&lt;/li&gt;
&lt;li&gt;0.000000E+00  0.000000E+00  1.516500E-02  4.761092E-02  3.401213E-17  0.000000E+00 *&lt;/li&gt;
&lt;li&gt;0.000000E+00  0.000000E+00  4.761092E-02  1.513152E-01  9.075353E-17  0.000000E+00 *&lt;/li&gt;
&lt;li&gt;0.000000E+00  0.000000E+00  3.401213E-17  9.189817E-17  2.319450E-03  0.000000E+00 *&lt;/li&gt;
&lt;li&gt;-4.915227E-02  0.000000E+00  0.000000E+00  0.000000E+00  0.000000E+00  1.578139E-01 *
CHANGE WITH RESPECT TO G-SET RIGID BODY MASS/WEIGHT&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;-62 %                                                                           *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;              -65 %                                                             *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;                            -63 %                                               *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;                                          -17 %                                 *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;                                                        -64 %                   *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;                                                                      -16 %     *
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Epsilon*  (large model)
(small model)
Max Ratio
SPC Forces (at internal points)  (model weight)
SPC Moments (at internal points)  (model weight)  (unit length) 1.0106–
1.0109–
1.010+5
1.0105–
1.0103–&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P36</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_036/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_036/</guid>
      <description>
        
        
        &lt;p&gt;689 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Epsilon is machine dependent.  The above data is for CDC 64 -bitword.  Other machines should give
smaller numbers (  and ).  Mechanisms or symmetry conditions may require
reevaluation of SPC force limits.
The 1G cases also provide a rough approximation of the frequency of the first mode.  This approximation
can be accomplished by using the displacement ( ) at the CG in the equation .
A 1G static load case can easily be obtained through the GRAV entry.  This is preferred over the inertia relief
type method.
Static forces and moments can be applied to generate displacements, element, and SPC forces.  The
magnitude and point of application of the forces should be representative of typical structural loading,
thereby allowing the analyst a good feel for the size of displacements and forces as in the 1G cases.  It is also
helpful to use element strain energy and grid point force balance with these runs.  For information on the
details of requesting these capabilities, see Case Control Commands, ESE (Case)  and GPFORCE (Case)  in the
MSC Nastran Quick Reference Guide .
Thermal Test Case
As a further check on connectivity and the stiffness matrix, an isothermal expansion test case can be run with
a statically determinate interface.  This is done on SOL 101 with a TEMPD for the constant temperature
load.  All of the coefficients of expansion should be set to the same value.  This check will not be rigid if rigid
elements or bar offsets are present.  Rigid elements will not expand and may generate distortion forces and
stresses unless the appropriate degrees -of-freedom are released.
Modal Analysis
There are several diagnostic tools that can be used to further assess the integrity of the model.  These tools
(effective mass, strain energy, kinetic energy, deformed plots) are outlined in the following paragraphs.
Modal Effective Mass Computation
“Participation factor,” an often used term in dynamic analysis, is defined in civil engineering as:
P = TMDR (15-9)
where:1.0108– 1.01011–
D FN1
2&amp;mdash;&amp;mdash;GD
P =the participation factor
 =the eigenvector
M =the mass matrix
DR=a rigid-body vector in the associated direction&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Effective Mass Computation690
Main Index
This participation factor has some interesting properties, one of which is its use in Response Spectrum
analysis. However, a more interesting use—at least for the general engineering public—may be described as
follows:
If all modes of a model are obtained, then a linear combination of the eigenvectors can describe any possible
motion.
Therefore, we may state:
DR =  (15-10)
where:
If we pre-multiply by TM where M is the mass matrix, we obtain:
TMDR = TM (15-11)
which becomes:
TMDR = Mii (15-12)
where:
Mii is a diagonal matrix of generalized mass for the modes.
Therefore, we may state that the participation factor is simply the scaling factor ( ) multiplied by the
generalized mass of the mode.  If the modes are scaled to unit generalized mass, the participation factor is
equal to the scaling factor (this is the most often used case).
Taking this a step further, the `rigid-body&amp;rsquo; mass ( Mr) of a structure in the direction we are considering is
(15-13)
but
(15-14)
Substituting Eq. (15-14) into Eq. (15-13) yields:
(15-15)
or
(15-16)DR=a rigid-body vector
 =the eigenvectors
 =scaling factors for the eigenvectors
MrDRTMDR=
DR =
MrTTM =
MrTMii =&lt;/p&gt;
&lt;p&gt;691 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Since  is a diagonal matrix, the contribution (or amount of the rigid-body mass), which each mode
provides, is:
(15-17)
The proportion of the total mass for each mode is known as its modal effective mass and the modal effective
weight is simply the modal effective mass multiplied by the acceleration of gravity (or 1/WTMASS).
The Case Control command, MEFFMASS (Case) , has the option to calculate and print these values as
standard output whenever the system modes are calculated. The command is a very general one, with options
for printed and/or punched output. The user may select individual items or the ALL option. The output
occurs immediately following the Eigenvalue Summary Table.
The command has the following form:
Examples
MEFFMASS
MEFFMASS(GRID=12,SUMMARY,PARTFAC)
Modal Kinetic and Strain Energy Output
Modal kinetic  and strain energy  calculations and output can be requested in both modal frequency and
transient response analyses; i.e., Solution Sequences 111, 112, 146, and 200.Describers Meaning
PRINT Write output to the print file. (Default)
NOPRINT Do not write output to the print file.
PUNCH Write output to the punch file.
NOPUNCH Do not write output to the punch file. (Default)
gid Reference grid point for the calculation of the Rigid Body Mass Matrix.
SUMMARY Requests calculation of the T otal Effective Mass Fraction, Modal Effective Mass Matrix,
and the A-set Rigid Body Mass Matrix. (Default)
PARTFAC Requests calculation of Modal Participation Factors.
MEFFM Requests calculation of Modal Effective Mass in units of mass.
MEFFW Requests calculation of the Modal Effective Mass in units of weight.
FRACSUM Requests calculation of the Modal Effective Mass Fraction.Mii
i2Mii
MEFFMASSPRINT
NOPRINTPUNCH
NOPUNCHGRID gid,SUMMARY, PARTFAC,
MEFFM, MEFFW,
FRACSUM, ALL=YES
NO=&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Modal Kinetic and Strain Energy Output692
Main Index
The kinetic and strain energy contribution of each normal mode in a modal frequency or transient response
analysis can be requested.
Three types of output will be computed: Actual Kinetic (or Strain) Energy, Normalized Kinetic (or Strain)
Energy, and Fractional Kinetic (or Strain) Energy.
1.Modal kinetic energy is computed as follows.
In frequency response,
[Actual Energy] =
where  is the excitation (or forcing) frequency.
In transient response,
[Actual Energy] =
2.The normalized energy is computed by normalizing each column of the actual energy by the highest
energy in each column.
3.The fractional energy is computed by dividing the normalized energy at a given forcing frequency (or
time step) by the sum of all normalized energies across all natural frequencies.
Modal kinetic and strain energy output is requested with the following Case Control commands, MODALKE
(Case)  and MODALSE (Case) .
Format for kinetic energy
Format for strain energy0.5diagi2 Mhhuhuh

0.5Mhhuhuh
MODALKE(SORT1
SORT2PRINT
NOPRINTPUNCHREAL or IMAG
PHASEESORTMODE
ASCEND
DESCENT     &lt;/h1&gt;&lt;h1&gt;THRESH e=  TIME
FREQ ALL
r=AVERAGE
AMPLITUDE
PEAK      
)ALL
n
NONE&lt;/h1&gt;&lt;h1&gt;693 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Examples
MODALSE= ALL
SET 100= 1, 3, 4, 5, 7
MODALKE(ESORT=ASCEND,THRESH=.0001)= 100
For the SORT1 option:
Kinetic (or Strain) EnergyDescriber Meaning
SORT1 Output will be presented as a tabular listing of modes for each frequency or time
step.
SORT2 Output will be presented as a tabular listing of frequencies or time steps for each
mode.
PRINT Write the results to the .f06 file (Default).
NOPRINT Do not write the results to the .f06 file.
PUNCH Write the results to the punch (.f07) file.
ESORT Present the modal energies sorted by mode number, ascending energy value or
descending energy value (Default is MODE)
THRESH Write out only those energies greater than e (Default = 0.001).
MODES Compute energies for all modes or the set of mode numbers defined in SET n
(Default = ALL).
TIME or FREQ Compute energies at all time steps, or frequencies, or the set of frequencies defined
by SET r (Default = ALL).
AVERAGE Requests average energy in frequency response analysis only (Default).
AMPLITUDE Requests amplitude of energy in frequency response analysis only.
PEAK Requests peak energy for frequency response analysis only. PEAK is the sum of
AVERAGE and AMPLITUDE.
ALL, n, NONE Compute modal energies for (1) all modes, (2) the modes defined on SET n, or (3)
no modes.MODALSE (SORT1
SORT2PRINT
NOPRINTPUNCHREAL or IMAG
PHASEESORTMODE
ASCEND
DESCENT     &lt;/h1&gt;&lt;h1&gt;THRESH e=  TIME
FREQ ALL
r=AVERAGE
AMPLITUDE
PEAK      
)ALL
n
NONE&lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Grid Point Kinetic Energy694
Main Index
Time (or Frequency)= value
MODE NUMBER ActualNormalized Fractional
ixxx.xxxxx.xxxxx.xx
i+1&amp;hellip;
&amp;hellip;.
&amp;hellip;.
i+n&amp;hellip;
Above form repeated for each time or frequency.
For the SORT2 option:
Kinetic (or Strain) Energy
Mode Number: i
Time (or Frequency) ActualNormalized Fractional
value1xxx.xxxxx.xxxxx.xx
value2&amp;hellip;
&amp;hellip;.
. &amp;hellip;
Above form repeated for each mode.
The following commands:
MODALSE(SORT1, THRESH=0.0)= all
MODALKE(SORT2, ESORT=DESCEND, THRESH=0.0)= all
produce the following output (note these output samples are excerpts):
Grid Point Kinetic Energy
Normal modes analysis, the user may request the kinetic energy at a set of grid points with the GPKE (Case)&lt;br&gt;
Case Control command:FREQUENCY =  1.000000E+00
M O D A L   S T R A I N   E N E R G Y
MODE NUMBER                       ACTUAL                        NORMALIZED                      FRACTIONAL
1                         2.415431E-02                    1.000000E+00                    7.359713E-01
2                         3.425556E-04                    1.418196E-02                    1.043752E-02
3                         1.639720E-04                    6.788520E-03                    4.996156E-03
4                         8.846080E-06                    3.662319E-04                    2.695362E-04
5                         6.052715E-03                    2.505853E-01                    1.844236E-01
MODE NUMBER =         1
M O D A L   K I N E T I C   E N E R G Y
FREQUENCY                         ACTUAL                        NORMALIZED                      FRACTIONAL
1.000000E+00                      8.147641E-04                    1.000000E+00                    9.924864E-01
2.000000E+00                      4.066131E-03                    1.000000E+00                    9.936854E-01
3.000000E+00                      1.411670E-02                    1.000000E+00                    9.955438E-01
4.000000E+00                      5.744822E-02                    1.000000E+00                    9.977741E-01
5.000000E+00                      7.744190E-01                    1.000000E+00                    9.996839E-01&lt;/p&gt;
&lt;h1&gt;695 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
The results of the Grid Point Kinetic Energy request GPKE have the same format as a DISPLACEMENT
output:
However, the values represent the relative amount of kinetic energy in each degree-of-freedom at each GRID
point. Note that the values are scaled such that the total kinetic energy is 1.0 and the printed values are
further scaled to be a percentage of the total.
For models using the lumped mass formulation, the Grid Point Kinetic energy can be used to examine the
distribution of kinetic energy among the grid points and is computed as:
Where  indicates that the mass-normalized eigenvectors so that the total grid point kinetic energy is
scaled to be unity and the operator  indicates term-wise matrix multiplication. The Grid Point Kinetic
Energy output has limited meaning for a coupled mass formulation. Because the coupled mass formulation
produces a coupling of mass across grid points, the sharing of kinetic energy among grid points can occur.&lt;br&gt;
In general, this obscures the meaning of the computation as a means of identifying important model
parameters to control modal behavior.
Element Strain Energy
Element strain energy is supported by both real and complex Solution Sequences. Note that even though the
solution is complex in frequency response, the strain element energy will be output in real numbers.
Element strain energy is requested by the ESE Case Control command. The format of the Case Control
command for ESE (Case)  is as follows:GPKEPRINT
NOPRINTPUNCH,  THRESH e=   ALL
n
NONE&lt;/h1&gt;&lt;p&gt;EIGENVALUE =  1.914339E+01                                                                                &lt;br&gt;
CYCLES =  6.963531E-01         G R I D   P O I N T   K I N E T I C   E N E R G Y   (  P E R C E N T  )&lt;br&gt;
MODE NUMBER =        4&lt;/p&gt;
&lt;p&gt;POINT ID.   TYPE          T1             T2             T3             R1             R2             R3   &lt;br&gt;
1      G       .0             .0             .0             .0             .0             .0       &lt;br&gt;
2      G       .0             .0             .0             .0             .0             .0       &lt;br&gt;
3      G      2.164691E-03   2.262123E+00    .0             .0             .0             .0       &lt;br&gt;
4      G      2.164691E-03   2.262123E+00    .0             .0             .0             .0       &lt;br&gt;
5      G      2.466655E-32   1.828525E-01    .0             .0             .0             .0       &lt;br&gt;
6      G      1.783813E-03   3.179767E+00    .0             .0             .0             .0       &lt;br&gt;
7      G      1.783813E-03   3.179767E+00    .0             .0             .0             .0       &lt;br&gt;
8      G      2.985233E-32   2.590253E-01    .0             .0             .0             .0       &lt;br&gt;
9      G      7.929645E-04   1.179093E+01    .0             .0             .0             .0       &lt;br&gt;
10      G      7.929645E-04   1.179093E+01    .0             .0             .0             .0       &lt;br&gt;
11      G      2.003826E-03   3.253929E+01    .0             .0             .0             .0       &lt;br&gt;
12      G      2.003826E-03   3.253929E+01    .0             .0             .0             .0       &lt;br&gt;
101      G       .0             .0             .0             .0             .0             .0       &lt;br&gt;
102      G       .0             .0             .0             .0             .0             .0       &lt;br&gt;
103      G      7.125677E-36   9.556570E-08    .0             .0             .0            4.026777E-04
105      G       .0             .0             .0             .0             .0             .0       &lt;br&gt;
106      G       .0             .0             .0             .0             .0             .0
EkggmassMgggmass   =
gmass
&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Element Strain Energy696
Main Index
Format
Examples
ESE=ALL
ESE (PUNCH, THRESH=.0001)=19
For frequency response analysis, the energy may be computed in one of three ways as selected by
AVERAGE:
AMPLITUDE:
PEAK:Describer Meaning
PRINT Write energies to the print file. (default)
PUNCH Write energies to the punch file.
PLOT Do not write energies to either the punch file or the print file.
AVERAGE Requests average energy in frequency response analysis only. (default)
AMPLITUDE Requests amplitude of energy in frequency response analysis only.
PEAK Requests peak energy for frequency response analysis only. PEAK is the sum of
AVERAGE and AMPLITUDE.
THRESH Energies for elements having an energy value of less than p% will be suppressed in all
output files–print, punch, plot, op2, and xdb. THRESH overrides the value of TINY
described in Remark 1.  (Default=0.001)
ALL Energy for all elements will be computed.
n Set identification number.  Energy for all elements specified on the SET n command
will be computed. The SET n command must be specified in the same subcase as the
ESE command or above all subcases. (Integer&amp;gt;0)
NONE Element Strain Energy will not be outputted.ESEPRINT, PUNCH
PLOTAVERAGE
AMPLITUDE
PEAKTHRESH p=  
     ALL
n
NONE&lt;/h1&gt;&lt;p&gt;Eo1
4&amp;mdash;urTKeur uiTKeui +   =
Ea1
4&amp;mdash; urTKeur uiTKeui –  22urTKeui  2+ =&lt;/p&gt;
&lt;p&gt;697 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
where:
Limitations
In SOL 111, ESE can only be requested if PARAM,DDRMM,-1 is used. Element data recovery for thermal
loads is not currently implemented in dynamics.
Following is a .f06 excerpt of average element strain energy output in frequency response analysis:
Element Kinetic Energy
Element kinetic energy computation can be requested by the EKE Case Control command that supports
normal modes analysis as well as frequency response analysis. Note that even though the solution is complex
in frequency response, the kinetic element energy will be output in real numbers.
The format of the Case Control command for EKE (Case)  is as follows:
Format
Examples
EKE=ALL
EKE (PUNCH, THRESH=.0001)=19=elemental energy
=displacement - real part
=displacement - imaginary part
=elemental stiffnessEpeakEo= Ea+
E
ur
ui
Ke
FREQUENCY =  1.000000E+00                                                                                        &lt;br&gt;
E L E M E N T   S T R A I N   E N E R G I E S   ( A V E R A G E )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      ELEMENT-TYPE = BAR                 * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   1.195547E+05         
      SUBCASE               2            * TOTAL ENERGY OF ALL ELEMENTS IN SET      -1 =   1.195547E+05         
                                                                                                                
                          ELEMENT-ID          STRAIN-ENERGY           PERCENT OF TOTAL    STRAIN-ENERGY-DENSITY 
                                 101          2.102871E-05                  .0000              1.051435E-07     
                                 102          2.893353E-02                  .0000              1.446677E-04     
                                 103          2.029759E-01                  .0002              1.014879E-03 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;Describer Meaning
PRINT Write energies to the print file. (Default)EKEPRINT, PUNCH
PLOTAVERAGE
AMPLITUDE
PEAKTHRESH p=  
     ALL
n
NONE&lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Element Kinetic Energy698
Main Index
For frequency response analysis, the energy may be computed in one of three ways as selected by
AVERAGE:
AMPLITUDE:
PEAK:
where:
Limitations
In SOL 111, EKE can only be requested if PARAM,DDRMM,-1 is used. Element data recovery for thermal
loads is not currently implemented in dynamics.PUNCH Write energies to the punch file.
PLOT Do not write energies to either the punch file or the print file.
AVERAGE Requests average energy in frequency response analysis only. (Default)
AMPLITUDE Requests amplitude of energy in frequency response analysis only.
PEAK Requests peak energy for frequency response analysis only. PEAK is the sum of
AVERAGE and AMPLITUDE.
THRESH Strain energies for elements having a energy value of less than p% will be
suppressed in all output files –print, punch, plot, op2, and xdb. THRESH overrides
the value of TINY described in Remark 1.  (Default=0.001)
ALL Strain energy for all elements will be computed.
n Set identification number.  Energy for all elements specified on the SET n
command will be computed. The SET n command must be specified in the same
subcase as the EKE command or above all subcases. (Integer&amp;gt;0)
NONE Element Kinetic Energy will not be outputted.
=elemental energy
=velocity - real part
=velocity - imaginary part
=elemental massEo1
4&amp;mdash;vrTMevr viTMevi +   =
Ea1
4&amp;mdash; vrTMevr viTMevi –  22vrTMevi  2+ =
EpeakEo= Ea+
E
vr
vi
Me&lt;/p&gt;
&lt;p&gt;699 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Following is a .f06 excerpt of average element kinetic energy output in frequency response analysis:
Element Energy Loss
Element energy loss per cycle (element damping energy) can be requested by the EDE Case Control
command for frequency response analysis. Note that even though the solution is complex in frequency
response, the element energy loss will be output in real numbers.
The format of the Case Control command for EDE (Case)  is as follows:
Format
Examples
EDE=ALL
EDE (PUNCH, THRESH=.0001)=19FREQUENCY =  1.000000E+00                                                                                        &lt;br&gt;
E L E M E N T   K I N E T I C   E N E R G I E S   ( A V E R A G E )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      ELEMENT-TYPE = BAR                 * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   5.959510E+02         
      SUBCASE               2            * TOTAL ENERGY OF ALL ELEMENTS IN SET      -1 =   5.959510E+02         
                                                                                                                
                          ELEMENT-ID         KINETIC-ENERGY           PERCENT OF TOTAL   KINETIC-ENERGY-DENSITY 
                                 101          4.627901E+01                 7.7656              2.313951E-01     
                                 102          3.740206E+01                 6.2760              1.870103E-01 
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;Describer Meaning
PRINT Write energies to the print file. (default)
PUNCH Write energies to the punch file.
PLOT Do not write energies to either the punch file or the print file.
AVERAGE Requests average energy in frequency response analysis only. (Default)
AMPLITUDE Requests amplitude of energy in frequency response analysis only.
PEAK Requests peak energy for frequency response analysis only. PEAK is the sum of
AVERAGE and AMPLITUDE.
THRESH Energies for elements having an energy value of less than p% will be suppressed in
all output files–print, punch, plot, op2, and xdb. THRESH overrides the value of
TINY described in Remark 1.  (Default =0.001)
ALL Energy for all elements will be computed.
n Set identification number.  Energy for all elements specified on the SET n
command will be computed. The SET n command must be specified in the same
subcase as the EDE command or above all subcases. (Integer &amp;gt;0)
NONE Element Energy Loss will not be outputted.EDEPRINT, PUNCH
PLOTAVERAGE
AMPLITUDE
PEAKTHRESH p=  
     ALL
n
NONE&lt;/h1&gt;&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Total Energy Output for Defined SETs700
Main Index
For frequency response analysis, the energy may be computed in one of three ways as selected by
AVERAGE:&lt;br&gt;
AMPLITUDE:
PEAK:
where:
Limitations
In SOL 111, EDE can only be requested if PARAM,DDRMM,-1 is used.
Element data recovery for thermal loads is not currently implemented in dynamics.
Only damping from the viscous dampers (e.g., CVISC, CDAMPi, etc.) are included. Structural
damping is not included in the calculation.
Following is a .f06 excerpt of average element energy loss output in frequency response analysis:
Total Energy Output for Defined SETs
Total Energy outputs can be requested for user defined element SETs. The Case Control command, SETP
(Case)  is used to define the list of element SETs, which are referenced by the ESE (Case)  , EKE (Case)  or
EDE (Case)  output requests.  The defined lists of SET identifications are processed individually for data
recovery:
Formats
SETP n = {i1[,i2,i3 THRU i4 EXCEPT i5,i6,i7,i8 THRU i9]}=elemental energy
=displacement - real part
=displacement - imaginary part
=elemental dampingEourTBeur uiTBeui +   =
Ea urTBeur uiTBeui –  22urTBeui  2+ =
EpeakEo= Ea+
E
ur
ui
Be
FREQUENCY =  1.000000E+00                                                                                     &lt;br&gt;
E L E M E N T   E N E R G Y   L O S S   P E R   C Y C L E   ( A V E R A G E )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;      ELEMENT-TYPE = DAMP2               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   3.100174E+00      
      SUBCASE               2            * TOTAL ENERGY OF ALL ELEMENTS IN SET      -1 =   3.100174E+00      
                                                                                                             
                          ELEMENT-ID         ENERGY LOSS              PERCENT OF TOTAL   LOSS ENERGY-DENSITY 
                                3042          9.836801E-01                31.7298                            
                                5042          2.116494E+00                68.2702 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;701 CHAPTER 15
Guidelines and Tools for Effective Dynamic Analysis
Main Index
Remarks
1.A SETP command may be more than one physical command. A comma at the end of a physical
command signifies a continuation command. Commas may not end a set. THRU may not be used
for continuation. Place a number after the THRU.
2.Set identification numbers following EXCEPT within the range of the THRU must be in ascending
order.
In SET 88 above, the numbers 77, 78, etc., are included in the set because they are outside the prior
THRU range.
3.SETP usage is limited to the EDE, EKE, and ESE Case Control Commands.
Output ExampleDescriber Meaning
n SETP identification number. Any SETP may be redefined by reassigning its
identification number. SETPs specified under a SUBCASE command are recognized
for that SUBCASE only. (Integer &amp;gt;0)
SET Identification numbers. If no such identification number exists, the request is
ignored. (Integer &amp;gt;0)
EXCEPT Set identification numbers following EXCEPT will be deleted from output list as
long as they are in the range of the set defined by the immediately preceding THRU.
An EXCEPT list may not include a THRU list or ALL.
0                                                                                                         SUBCASE 1001&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                       E L E M E N T   S T R A I N   E N E R G I E S

            ELEMENT-TYPE = QUAD4               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   4.593646E+00
            SUBCASE            1001            * TOTAL ENERGY OF ALL ELEMENTS IN SET       1 =   2.973878E-03
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0
ELEMENT-ID          STRAIN-ENERGY           PERCENT OF TOTAL    STRAIN-ENERGY-DENSITY
1          2.973878E-03                 0.0647              1.631036E+00
TYPE = QUAD4    SUBTOTAL        2.973878E-03                 0.0647&lt;/p&gt;
&lt;p&gt;0                                                                                                         SUBCASE 1001&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                       E L E M E N T   S T R A I N   E N E R G I E S

            ELEMENT-TYPE = QUAD4               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   4.593646E+00
            SUBCASE            1001            * TOTAL ENERGY OF ALL ELEMENTS IN SET       2 =   1.778719E-03
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0
ELEMENT-ID          STRAIN-ENERGY           PERCENT OF TOTAL    STRAIN-ENERGY-DENSITY
2          1.778719E-03                 0.0387              5.811762E-01
TYPE = QUAD4    SUBTOTAL        1.778719E-03                 0.0387&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Total Energy Output for Defined SETs702
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide Nastran Dynamic Analysis User’s Guide
Chapter 16: Results Processing
16 Results Processing
Overview
Structure Plotting
X-Y Plotting&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview704
Main Index
Overview
Plotted output is important in verifying your model and understanding its results.  Plots show information
in a format that is much easier to interpret than printed output.  Plots are especially important for dynamic
analysis because the analysis can produce voluminous output.  For example, consider a transient response
analysis for which there are 1000 output time steps, 100 grid points of interest, and 10 elements of interest.&lt;br&gt;
Printed output is too large to interpret efficiently and effectively, and it does not easily show the time
variation.  Plotted output overcomes these problems.
There are two kinds of plotted output:  structure plots and X -Y plots.  Structure plots can depict the entire
structure or a portion of it.  Structure plots are useful for verifying proper geometry and connectivity.  They
also can be used to show the deformed shape or stress contours at a specified time or frequency.  X-Y plots,
on the other hand, show how a single -response quantity, such as a grid point displacement or element stress,
varies across a portion or all of the time or frequency range.
There are numerous commercial and in -house plotting programs that interface to MSC Nastran for structure
and/or X -Y plotting. PATRAN and SimX are two good interactive programs for plotting.
The commercial programs are similar because they operate interactively.  The MSC Nastran plot capabilities,
on the other hand, are performed as a batch operation, which means that you predefine your plots when you
make your MSC Nastran run.
Interactive plots are easier to change and to zoom or fly around the model. The batch operations can be very
useful for design studies where the plot requests stay the same over many jobs.
This chapter briefly describes the kinds of plots available in MSC Nastran.
Structure Plotting
Structure plotting is performed to verify the model’s geometry and element connectivity prior to performing
a dynamic analysis.
After (or during) the analysis, structure plotting is performed to view deformed shapes and contours.  For
dynamic response, deformed shape and contour plots can be made for normal modes analysis (for which there
is a plot, or set of plots, per mode), frequency response analysis (for which there is a plot, or set of plots, per
output frequency), and transient response analysis (for which there is a plot, or set of plots, per output time).
Structure plot commands are described in the MSC Nastran Reference Guide . In the MSC Nastran input file,
structure plotting commands are listed in the OUTPUT(PLOT) Commands , which immediately precedes the Bulk
Data Section.  The structure plotting commands define the set of elements to be plotted ( SET), the viewing
axes ( AXES), the viewing angles ( VIEW) as well as the plot type and parameters ( PLOT).  Optionally, the scale of
the plotted deformation ( MAXIMUM DEFORM ) can be specified; if not specified, the plotted deformation is scaled
such that the maximum deformation is 5% of the maximum dimension of the structure.
Listing 16-1 shows the structure plotting commands applied to a normal modes analysis of the bracket model.
See Install_dir//mscxxxx/dynamics/tpl6/bd15bkt.dat. Figure 16-1 shows the resulting structure plots.  The
first plot shows the undeformed shape, and the next two plots show the undeformed shape overlaid on the
deformed shapes for modes 1 and 2.  The default is chosen such that the maximum plotted deformation is
5% of the maximum dimension of the bracket; the actual maximum deformation is printed at the top of the&lt;/p&gt;
&lt;p&gt;705 CHAPTER 16
Results Processing
Main Index
plot.  The plots shown in this chapter were converted to PostScript format for printing on a
PostScript -compatible printer.
Listing 16-1  Normal Modes Structure Plot Commands for the Bracket Model
$  PLOT COMMANDS FOR BRACKET NORMAL MODES ANALYSIS
&amp;hellip; Executive, Case Control &amp;hellip;
$
$  OUTPUT REQUESTS
DISPLACEMENT(PLOT) = ALL
$
$  STRUCTURE PLOTS
OUTPUT(PLOT)
CSCALE = 3.0
SET 333 = ALL
AXES MX,MY,Z
VIEW 20.,20.,20.
FIND SCALE, ORIGIN 5, SET 333
$  PLOT UNDEFORMED SHAPE
PLOT SET 333, ORIGIN 5
$  PLOT DEFORMED, UNDEFORMED SHAPES
PLOT MODAL DEFORMATION 0,1
PLOT MODAL DEFORMATION 0,2
$
BEGIN BULK
$
&amp;hellip; Bulk Data &amp;hellip;
$
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Structure Plotting706
Main Index
Figure 16-1  Normal Modes Structure Plots for the Bracket Model
Listing 16-2 shows the structure plotting commands applied to a modal frequency response analysis of the
cantilever beam model.  See MSC_DOC_DIR/tpl6/dynamics/bd15bar1.dat. The displacements are
computed in magnitude/phase form.  PARAM, DDRMM ,-1 and PARAM, CURVPLOT ,1 are required in the Bulk
Data to create structure plots at specified frequencies.  (Note that PARAM,DDRMM, -1 generally increases
the amount of computer time and is not recommended unless otherwise required.)  Figure 16-2 shows the
resulting plots.  The first plot shows the undeformed shape, and the next plot shows the magnitude of
response at 2.05 Hz, which is overlaid on the undeformed shape.  The default is chosen such that the
maximum plotted deformation is 5% of the length of the bar; the actual maximum deformation is printed
at the top of the plot.
Listing 16-2  Frequency Response Structure Plot Commands for the Bar Model – Magnitude/Phase
$  PLOT COMMANDS FOR BAR MODAL FREQUENCY RESPONSE
$  &amp;mdash; MAGNITUDE, PHASE &amp;mdash;
&amp;hellip; Executive, Case Control &amp;hellip;
Undeformed
Mode 1
Mode 2Max. Def. = 3.82
Max. Def. = 5.06&lt;/p&gt;
&lt;p&gt;707 CHAPTER 16
Results Processing
Main Index
$
$  OUTPUT REQUESTS
$  MAGNITUDE, PHASE
DISPLACEMENT(PHASE,PLOT) = ALL
$
$  STRUCTURE PLOTS
OUTPUT(PLOT)
$  DEFINE ELEMENTS IN PLOT SET
SET 333 = ALL
$  PLOT AXES:  R=-Z, S=X, T=Y
AXES MZ,X,Y
VIEW 0.,0.,0.
FIND SCALE, ORIGIN 5, SET 333
$  PLOT UNDEFORMED SHAPE
PLOT SET 333, ORIGIN 5
$  PLOT DEFORMED SHAPE AT 2.05 HZ
PLOT FREQUENCY DEFORMATION 0 RANGE 2.05,2.051 MAGNITUDE SET 333
$
BEGIN BULK
$
$ REQUIRED FOR &amp;ldquo;FREQUENCY FROZEN&amp;rdquo; STRUCTURE PLOTS
PARAM,DDRMM,-1
PARAM,CURVPLOT,1
$
&amp;hellip; rest of Bulk Data &amp;hellip;
$
ENDDATA
Figure 16-2  Frequency Response Structure Plots for the Bar Model &amp;ndash; Magnitude/Phase
The same plots are regenerated except that now the displacements are in real/imaginary format (the default).&lt;br&gt;
Listing 16-3 shows the plot commands.  See MSC_DOC_DIR/tpl6/dynamics/bd15bar2.dat. Note that the
imaginary component is selected by PHASE LAG -90.  Figure 16-3 shows the resulting plots.  The default is
chosen such that the maximum plotted deformation is 5% of the length of the bar; the actual maximum
deformation is printed at the top of the plot.
Listing 16-3  Frequency Response Structure Plot Commands for the Bar Model &amp;ndash; Real/Imaginary
$  PLOT COMMANDS FOR BAR MODAL FREQUENCY RESPONSE
$  &amp;mdash; REAL, IMAGINARY &amp;mdash;
&amp;hellip; Executive, Case Control &amp;hellip;
$
$  OUTPUT REQUESTS
$  REAL, IMAGINARY
DISPLACEMENT(PLOT) = ALL
$Frequency 2.05Undeformed Shape
Max. Def. = 0.394&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Structure Plotting708
Main Index
$  STRUCTURE PLOTS
OUTPUT(PLOT)
$  DEFINE ELEMENTS IN PLOT SET
CSCALE = 1.8
SET 333 = ALL
$  PLOT AXES:  R=-Z, S=X, T=Y
AXES MZ,X,Y
VIEW 0.,0.,0.
FIND SCALE, ORIGIN 5, SET 333
$  PLOT UNDEFORMED SHAPE
PLOT SET 333, ORIGIN 5
$  PLOT DEFORMED SHAPE&amp;ndash;REAL
PLOT FREQ DEFORM 0 RANGE 2.05,2.051 SET 333
$  PLOT DEFORMED SHAPE&amp;ndash;IMAGINARY
PLOT FREQ DEFORM 0 RANGE 2.05,2.051 PHASE LAG -90. SET 333
$
BEGIN BULK
$
$ REQUIRED FOR &amp;ldquo;FREQUENCY FROZEN&amp;rdquo; STRUCTURE PLOTS
PARAM,DDRMM,-1
PARAM,CURVPLOT,1
$
&amp;hellip; rest of Bulk Data &amp;hellip;
$
ENDDATA
Figure 16-3  Frequency Response Structure Plots for the Bar Model &amp;ndash; Real/Imaginary
Listing 16-4 shows the structure plotting commands applied to a modal transient response analysis of the
cantilever beam model.  See MSC_DOC_DIR/tpl6/dynamics/bd15bar3.dat. PARAM,DDRMM, -1 is
required in the Bulk Data in order to create structure plots at various times and/or frequencies.  (Note that
PARAM,DDRMM, -1 generally increases the amount of computer time and is not recommended unless
otherwise required.)  Figure 16-4 shows the resulting plots.  The plots show the displacements at the following
times:  0.25, 0.50, and 0.75 seconds, which are overlaid on the undeformed shape.  The default is chosen Max. Def. = 0.185
Frequency 2.05             Phase 0.
Max. Def. = 0.348
Frequency 2.05             Phase -90.00Undeformed Shape&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P37</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_037/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_037/</guid>
      <description>
        
        
        &lt;p&gt;709 CHAPTER 16
Results Processing
Main Index
such that the maximum plotted deformation is 5% of the length of the bar; the actual maximum deformation
is printed at the top of the plot.  For this case it may be better to specify a maximum deformation so that the
plots will show relative amplitudes.
Listing 16-4  Transient Response Structure Plot Commands for the Bar Model
$  PLOT COMMANDS FOR BAR MODAL TRANSIENT RESPONSE
&amp;hellip; Executive, Case Control &amp;hellip;
$
$  OUTPUT REQUESTS
DISPLACEMENT(PLOT) = ALL
$
$  STRUCTURE PLOTS
OUTPUT(PLOT)
$  DEFINE ELEMENTS IN PLOT SET
SET 333 = ALL
$  PLOT AXES:  R=-Z, S=X, T=Y
AXES MZ,X,Y
VIEW O.,O.,O.
FIND SCALE, ORIGIN 5, SET 333
$  PLOT DEFORMED SHAPE AT TIMES 0.25,0.5,0.75
PLOT TRANSIENT DEFORMATION 0 RANGE 0.25,0.251 SET 333
PLOT TRANSIENT DEFORMATION 0 RANGE 0.50,0.501 SET 333
PLOT TRANSIENT DEFORMATION 0 RANGE 0.75,0.751 SET 333
$
BEGIN BULK
$
$  REQUIRED FOR &amp;ldquo;TIME FROZEN&amp;rdquo; STRUCTURE PLOTS
PARAM,DDRMM,-1
$
&amp;hellip; rest of Bulk Data &amp;hellip;
$
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting710
Main Index
Figure 16-4  Transient Response Structure Plots for the Bar Model
Although structure plotting is best performed in an interactive environment outside of MSC Nastran, the
batch structure plotting capability in MSC Nastran is nevertheless a useful tool for model verification and
results processing.  The batch plotting capability can save time and effort when many plots are required for
a model that is run repeatedly.
X-Y Plotting
X-Y plots are used to display frequency and transient response results where the x -axis is frequency or time
and the y -axis is any output quantity.  Unlike structure plotting, which is often performed in an interactive
environment, X -Y plotting is ideal for the MSC Nastran batch environment due to the large volume of data.
X-Y plot commands are contained in the X-Y PLOT Commands  Section that immediately precedes the Bulk Data
Section.  You define the titles ( XTITLE  and YTITLE ) and plots ( XYPLOT ).  You can specify the plots to be generated
in log format ( XLOG and YLOG), and you can specify different line styles.  You can also specify that the plots
are to be made in pairs (with a top and a bottom plot), which is particularly useful for frequency response
results when you want to display magnitude/phase or real/imaginary pairs.  Details about X -Y plotting and
its commands are located in Plotting  in the MSC Nastran Reference Guide .
Element force and stress component numbers are also described in the manual.  The X -Y plot commands use
numbers to identify a single component of grid point and element data.  Note that frequency response
requires the use of complex force and stress components.
Once a good set of X -Y plot commands is established, it is wise to use this set repeatedly.  The examples that
follow provide a good starting point.
Max. Def. = 0.040
Time 0.25
Max. Def. = 0.069
Time 0.50
Max. Def. = 0.057
Time 0.75&lt;/p&gt;
&lt;p&gt;711 CHAPTER 16
Results Processing
Main Index
Listing 16-5 shows X -Y plot commands for a modal frequency response analysis of the cantilever beam model.
See Install_dir/mscxxxx/dir/dynamics/bd15bar4.dat. Plots are made in pairs in magnitude/phase format.&lt;br&gt;
The “t” as the second letter in XTGRID, YTGRID, YTLOG, and YTTITLE corresponds to the top plot of
each pair; the letter “b” corresponds to the bottom plot (XBGRID, YBGRID, etc.)  Plots are made for the
applied loads (OLOAD) at grid points 6 and 11, displacements (DISP) of grid points 6 and 11, bending
moment (ELFORCE) at end A in plane 1 for element 6, and modal displacements (SDISP) for modes 1 and
2.  For CBAR elements, force component  2 is the bending moment component at end A in plane 1 for real
or magnitude output, and force component 10 is the similar component for imaginary or phase output.&lt;br&gt;
Figure 16-5 shows the resulting plots.  The plots in this chapter were converted to PostScript format for
printing on a PostScript -compatible printer. The plots in the output do not exactly follow the input request
order due to sorting for processing efficiency.
The X -Y plotter makes reasonable choices of upper and lower bounds for the axes for both the x - and y -axes
on most plots.  If it does not, the bounds can be fixed with the XMIN, XMAX , YMIN, YMAX , and their variations
for half -frame curves.  Instances where setting bounds explicitly results in better plots include the following
situations:
If you expect a variable to be constant or vary only slightly but want to plot it to confirm that it
indeed does not vary, set the YMIN and YMAX to include the expected value, but separate them by
at least 10 percent of their average value.
For this case the automatic bound selection chooses bounds very close to each other to make the
data fill up the plot.  This selection causes the bounds to be nearly equal and magnifies the scale of
the plot orders of magnitude larger than other plots made of varying functions.  The response
appears to be erratic when, in fact, it is smooth within engineering criteria.  The extreme cases occur
when the function varies only in its last digit.  Then the function appears to be oscillating between
the upper and lower limits or it can even cause a fatal error due to numerical overflow when it
attempts to divide numbers by the difference YMAX -YMIN.
The automatic bound selector tends to round up the bounds to integer multiples of 100.  When
plotting phase angles, bounds that cause grid lines at 90 degrees are more readable.  For example, for
a plot that traverses the range of 0 to 360 degrees, the usual selected bounds are 0 to 400 degrees.  If
you prefer to have grid lines drawn at integer multiples of 90 degrees, set YMIN to 0.0 and YMAX
at 360.0 degrees.
When plotting log plots, any bounds you input may be rounded up or down to a value that the
plotter considers more reasonable.  In general, changing bounds on log plots sometimes requires
experimentation before a reasonable set can be found.
Producing good quality plots is an interactive process whether the plot is produced by an interactive
or batch plotter.  The restart feature discussed in Restarts In Dynamic Analysis  can reduce the computer
costs for this iteration since restarts performed to change only plot requests are made efficiently.
Listing 16-5  X-Y Plot Commands for the Bar Frequency Response Analysis
$  X-Y PLOT COMMANDS FOR BAR MODAL FREQUENCY RESPONSE
$  &amp;mdash; MAGNITUDE, PHASE &amp;mdash;
&amp;hellip;Executive, Case Control &amp;hellip;
$
$  APPLIED LOAD OUTPUT
SET 15 = 6,11&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting712
Main Index
OLOAD(PHASE,PLOT) = 15
$
$  PHYSICAL OUTPUT REQUEST
SET 11 = 6,11
DISPLACEMENT(PHASE,PLOT) = 11
$
$  MODAL SOLUTION SET OUTPUT
SET 12 = 1,2
SDISP(PHASE,PLOT) = 12
$
$  ELEMENT FORCE OUTPUT
SET 13 = 6
ELFORCE(PHASE,PLOT) = 13
$
OUTPUT(XYPLOT)
XTGRID = YES
YTGRID = YES
XBGRID = YES
YBGRID = YES
$
$  PLOT RESULTS
XTITLE = FREQUENCY
$
YTLOG = YES
YTTITLE = DISPL. MAG. 6
YBTITLE = DISPL. PHASE 6
XYPLOT DISP /6(T2RM,T2IP)
YTTITLE = DISPL. MAG. 11
YBTITLE = DISPL. PHASE 11
XYPLOT DISP /11(T2RM,T2IP)
$
YTTITLE = SDISP. MAG. MODE 1
YBTITLE = SDISP. PHASE MODE 1
$ XYPLOT SDISP /mode(T1)
XYPLOT  SDISP  /1(T1RM,T1IP)
YTTITLE = SDISP. MAG. MODE 2
YBTITLE = SDISP. PHASE MODE 2
XYPLOT  SDISP   /2(T1RM,T1IP)
$
YTTITLE = BEND. MOMENT A1 EL. 6 MAG.
YBTITLE = BEND. MOMENT A1 EL. 6 PHASE
XYPLOT ELFORCE /6(2,10)
$
YTLOG = NO
YBMAX = 90.0
YBMIN = 0.0
CURVELINESYMBOL = -2
YTMAX = 4.0
YTMIN = 0.0
YTTITLE = LOAD MAG. 6
YBTITLE = LOAD PHASE 6
XYPLOT OLOAD /6(T2RM,T2IP)
YTMAX = 8.0
YTMIN = 0.0
YTTITLE = LOAD MAG. 11
YBTITLE = LOAD PHASE 11
XYPLOT OLOAD /11(T2RM,T2IP)
$
BEGIN BULK&lt;/p&gt;
&lt;p&gt;713 CHAPTER 16
Results Processing
Main Index
$
&amp;hellip; Bulk Data &amp;hellip;
$
ENDDATA
Figure 16-5  X-Y Plots for the Bar Frequency Response Analysis400
01.
1.0E-5
400
0
0 20 Frequency (Hz)1.0
1.0E-4
Displ. Mag. 6 Displ. Phase 6 Displ. Mag. 11 Displ. Phase 11&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting714
Main Index
Figure 16-5  X-Y Plots for the Bar Frequency Response Analysis (continued)Sdisp. Mag. Mode 2 Sdisp. Phase Mode 2200
01.0
1.0E-4
360
160
020 Frequency (Hz)1.0E-2
1.0E-4
Sdisp. Mag. Mode1 Sdisp. Phase Mode1&lt;/p&gt;
&lt;p&gt;715 CHAPTER 16
Results Processing
Main Index
Figure 16-5  X-Y Plots for the Bar Frequency Response Analysis (continued)400
0
0 20 Frequency (Hz)1.0E3
1.0E-1
Bend. M oment A1 El. 6 M ag. Bend. M oment A1 El. 6 Phase&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting716
Main Index
Figure 16-5  X-Y Plots for the Bar Frequency Response Analysis (continued)
Listing 16-6 shows X -Y plot commands for a modal transient response analysis of the cantilever beam model.&lt;br&gt;
See MSC_DOC_DIR/tpl6/dynamics/bd15bar5.dat. Plots are made for the applied loads (OLOAD) at grid
points 6 and 11, displacements (DISP) of grid points 6 and 11, accelerations (ACCE) for grid points 6 and
11, bending moment (ELFORCE) at end A in plane 1 for element 6, and modal displacements (SDISP) for
modes 1 and 2.  Figure 16-6 shows the resulting plots.
Listing 16-6  X-Y Plot Commands for the Bar Transient Response Analysis
$  X-Y PLOT COMMANDS FOR BAR MODAL TRANSIENT RESPONSE
&amp;hellip; Executive, Case Control &amp;hellip;
$
$  PHYSICAL OUTPUT REQUEST
SET 11 = 6,11
DISPLACEMENT(PLOT) = 11
ACCELERATION(PLOT) = 11
$
$  MODAL SOLUTION SET OUTPUT
SET 12 = 1,20 20Frequency (Hz)1008.01004.0
0
0
0
0Load Mag. 6 Load P hase 6 Load M ag. 1 1 LoadP hase 1 1&lt;/p&gt;
&lt;p&gt;717 CHAPTER 16
Results Processing
Main Index
SDISP(PLOT) = 12
$
$  ELEMENT FORCE OUTPUT
SET 13 = 6
ELFORCE(PLOT) = 13
$
$  APPLIED LOAD OUTPUT
SET 15 = 6,11
OLOAD(PLOT) = 15
$
OUTPUT(XYPLOT)
XGRID = YES
YGRID = YES
$
$  PLOT RESULTS
XTITLE = TIME
$
YTITLE = DISPL. 6
XYPLOT DISP /6(T2)
YTITLE = DISPL. 11
XYPLOT DISP /11(T2)
YTITLE = ACCEL. 6
XYPLOT ACCE /6(T2)
YTITLE = ACCEL. 11
XYPLOT ACCE /11(T2)
$
YTITLE = SDISP. 1
XYPLOT SDISP /1(T1)
YTITLE = SDISP. 2
XYPLOT SDISP /2(T1)
$
YTITLE = BEND. MOMENT A1, EL. 6
XYPLOT ELFORCE /6(2)
$
YTITLE = LOAD 6
XYPLOT OLOAD /6(T2)
YTITLE = LOAD 11
XYPLOT OLOAD /11(T2)
$
BEGIN BULK
$
&amp;hellip; Bulk Data &amp;hellip;
$
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting718
Main Index
Figure 16-6  X-Y Plots for the Bar Transient Response Analysis
0.0
-0.020.0
0.08
-0.060.0
0.0 2.0 Time (sec)Displ. 6 Displ. 1 1&lt;/p&gt;
&lt;p&gt;719 CHAPTER 16
Results Processing
Main Index
Figure 16-6  X-Y Plots for the Bar T ransient Response Analysis (continued)
4.0
-6.00.0
10.0
-15.00.0
0.0 2.0 Time (sec)Accel. 6 Accel. 11&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting720
Main Index
Figure 16-6  X-Y Plots for the Bar Transient Response Analysis (continued)
-20.00.0
0.0 2.0
Time (sec)Bend. M oment A1, El. 625.0&lt;/p&gt;
&lt;p&gt;721 CHAPTER 16
Results Processing
Main Index
Figure 16-6  X-Y Plots for the Bar T ransient Response Analysis (continued)
0.08
-0.100.0
0.0015
-0.00100.0
0.0 2.0 Time (sec)Sdisp. 1 Sdisp. 2&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
X-Y Plotting722
Main Index
Figure 16-6  X-Y Plots for the Bar Transient Response Analysis (continued)
3.0
-3.00.0
6.0
-6.00.0
0.0 2.0 Time (sec)Load 6 Load 1 1&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran D ynamic Analysis User’s Guide
Chapter 17: MSC Nastran/ADAMS Interface
17MSC Nastran/ADAMS
Interface
Introduction   &lt;br&gt;
Benefits   &lt;br&gt;
Theory   &lt;br&gt;
Inputs   &lt;br&gt;
Outputs   &lt;br&gt;
Guidelines and Limitations   &lt;br&gt;
Examples&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Introduction724
Main Index
Introduction
MSC Nastran allows the use of residual structure only or any superelement or any part super element to be
used as a component for an ADAMS/Flex flexible body. Flexible body analysis, including large rigid body
motions, are available by combining the ADAMS/Flex formulation with reduced flexible component
dynamics provide by MSC Nastran. This allows designers take a component-level Finite Element Analysis
and move its characteristic shapes to a system-level motion study for improved design accuracy.
Typical applications are: Elasto-kinematic analysis of vehicular suspensions, engine crankshaft-drivetrain
interaction, aircraft landing conditions, satellite panel deployment.
Benefits
The MSC Nastran/ADAMS integration provides an easy method to move from a FE analysis to a system
analyses study by providing the direct generation within MSC Nastran of the ADAMS Modal Neutral File
(MNF) required for the ADAMS/Flex solver.
The interface is initiated by the simple MSC Nastran Case Control command ADAMSMNF&lt;br&gt;
FLEXBODY=YES and the addition of a Bulk Data entry, DTI,UNITS. The interface is applicable in SOL
103, SOL 111, SOL 112, or SOL 103 from a nonlinear SOL 106 restart using standard MSC Nastran
PARAM,NMLOOP .
The user can easily define the flexible body attachment points in MSC Nastran by either defining the
component as a superelement or part super element, in which case, the physical external (a-set) grids become
the attachment points; or for a residual only type model, using standard MSC Nastran ASET Bulk Data
entries to define the attachment points.
If the component requires prestiffening which does not entail large deformation standard MSC Nastran Case
Control STATSUB can be used in SOL 103, SOL 111, or SOL 112 to provide the required loading.
For a component that will experience nonlinear deformation a standard SOL 106 run can be made and then
using standard PARAM,NMLOOP  the component can be restarted into SOL 103 with advantage that ASET
Bulk Data entries can be used at restart time to define the attachment points.
The component modes determined by MSC Nastran automatically represent a set of constraint modes for
boundary coordinates plus a truncated set of fixed-interface normal modes; this combination is referred to as
the Craig-Bampton modes. These modes, by default, are augmented by residual flexibility modes to give a
correct representation of spatial loads. The spatial loads may include physical loads and inertia relief loads.
Theory
Basic Component Mode Equations
This section briefly describes the equations used in MSC Nastran/ADAMS interface.
In MSC Nastran modal solutions, the physical nodal displacements are related to modal amplitudes
by the relationship: u
&lt;/p&gt;
&lt;p&gt;725 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
where  is the matrix of mode shapes containing the Craig-Bampton  modes and any residual flexibility
modes
The above transformation is then applied to the physical mass, stiffness, and load matrices. The resulting
matrices are then reduced to analysis size (a-set) matrices. For modal analysis, the a-set consists of the modal
amplitudes and the physical boundary grids external to a superelement or the modal amplitudes and the
physical grids defined using an ASET Bulk Data entry. The resulting form, symbolically using the stiffness
matrix as an example is:
with appropriate similar result for the mass and load matrices.
To isolate rigid body modes as well as any other mechanisms or poorly-conditioned modes and to insure
orthonormaliztion, an a-set eigenvalue problem is solved. This results in a new matrix of shapes  where
the  may be equal or fewer than the initial a-set modes. The modal stiffness, modal mass, and modal load
a-set matrices are then transformed as:
for stiffness
for modal mass
and for modal loads
Additionally, a diagonal matrix of a-set unit boundary displacements is formed and taken through standard
MSC Nastran transformations up to g-set size. This matrix, say , is transformed as:
The above four orthonormal matrices and the physical mass matrix are then exported to ADAMS  in MNF
format. The matrix  is also used to obtain stress and strain shapes.
Mass Invariant Calculations
When executing the MSC Nastran/ADAMS interface, MSC Nastran will export to ADAMS up to nine mass
invariants. Briefly, these invariants are obtained as follows.
The instantaneous location of a grid point p can be expressed as:u =

KaagaTKggga =
a

KaTKaaa =
MaTMaaa =
PaTPa =
ga
ggaa =
g
rp&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Theory726
Main Index
where
is the position vector from the origin of a ground reference frame to the origin of a reference frame
attached to the flexible body.
is the direction cosine matrix between the ground reference and the reference frame attached to the
flexible body.
is the position vector from the origin of the reference frame attached to the flexible body to the
undeformed position of a grid point p.  are the components of  in the ground reference
frame.
is the translational deformation of the grid point p in the reference frame attached to the flexible body.
are the components in the ground reference frame.
The velocity  is defined as:
Since the columns of  are unit vectors along the coordinate axes of the reference frame attached to the
flexible body, we can use the angular velocity of the reference frame attached to the flexible body relative
to the ground reference to determine . We get, expressing the results in a body fixed system:
where  is a skew symmetric matrix containing the components of the angular velocity.
The generalized coordinates of the flexible body are defined as:
where  is a body fixed 3-1-3 set of Euler angles,  is the vector of modal coordinates used to define
the generalized coordinates of the flexible body, and  is defined above.
Then  can be defined as:
rp x Asp Aup + + =
x
A
sp
Asp sp
up
Aup
vp
vp x· A·spupAup· + + + =
A

A·
A· A˜ =
˜
x

q=
 q
x

 B· =&lt;/p&gt;
&lt;p&gt;727 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
where  is the matrix of sines and cosines representing the Euler angles.
We can define the following transformations:&lt;/p&gt;
&lt;p&gt;where  is the partitioned orthogonal modal matrix that corresponds to the translational degrees of
freedom of grid p and  is the partitioned orthogonal modal matrix that corresponds to the rotational
degrees of freedom of grid p.
Then the velocity  can be expressed as:&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;is a skew symmetric matrix of coordinate locations and translations.
The kinetic energy of the flexible body is then approximated by the relationship:&lt;/p&gt;
&lt;p&gt;where  represent a row matrix and  is the inertia tensor of grid p.
It is this approximation to the kinetic energy and the need to keep the  matrix out of the mass invariant
calculations that currently restricts the MSC Nastran/ADAMS interface analysis to a lumped mass
formulation.
Expanding the relationship for kinetic energy, we obtain the following nine mass invariants:
B
uppq =
up·pq· =
p B·pq· + =
p
p
vp
vp IAX˜B – Ap· =
X˜ s˜pu˜p + =
T1
2&amp;mdash;mpvpvp1
2&amp;mdash;pIpp
p+
p=
Ip
A
I1
11mp
p1=N
=
I2
31mpsp
p1=N
=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Theory728
Main Index&lt;/p&gt;
&lt;p&gt;where  are the coordinates of grid point p in basic and
is the skew-symmetric vector cross product operator.  is the partitioned orthogonal modal matrix that
corresponds to the translational degrees of freedom of grid p,  is the inertia tensor of grid p,  is the
partitioned orthogonal modal matrix that corresponds to the rotational degrees of freedom of grid p.  is I3
j
3Mmpp   j 1M =
p1=N
=
I4
3Mmps˜ppIpp*+
p1=N
=
I5
j
3Mmp˜pjp   j 1M =
p1=N
=
I6
M MmppTpp&lt;em&gt;TIpp&lt;/em&gt;+
p1=N
=
I7
33mps˜pTs˜p
p1=N
= Ip+
I8
j
33mps˜p˜pj   j 1M =
p1=N
=
I9
jk
33mp˜pj˜pk
p1=N
= jk1M =
spxyzT=
s˜p0z–y
z0x–
y–x0=
p
Ipp*
˜pf&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P38</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_038/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_038/</guid>
      <description>
        
        
        &lt;p&gt;729 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
the skew-symmetric matrix formed for each grid translational degree of freedom for each mode. M is the
number of modes and N is the number of grids.
Inputs
If MSC Nastran/ADAMS interface is desired, only two unique entries  are required . They are:
Case Control Unique to ADAMS/Flex Interface
ADAMSMNF FLEXBODY=YES which causes the ADAMS/Flex MNF to be generated.
Bulk Data Entries Unique to ADAMS/Flex Interface
DTI,UNITS used to specify the unit system to be used by ADAMS/Flex.
Typical File Management for ADAMS/Flex Interface
ASSIGN MASTER=’location_of_106_database’ - used in a SOL 103, SOL 111, or SOL 112 run to
locate the SOL 106 database for restart.
•RESTART - used in a modal solution to indicate that run is a restart for a SOL 106 run. This is
a standard MSC Nastran restart.
•DBLOC - used in a modal solution run to extract files from a SOL 106 data base. This is used for
a nonstandard MSC Nastran restart.
An alternate method for data recovery in SOL112
•ASSIGN OUTPUT2=&amp;rsquo;&amp;lt;EXTSE_FILE_NAME&amp;gt;.op2&amp;rsquo; UNIT=n DELETE- used in a SOL 103
for usage of EXTSEOUT capability for data recovery in sol112
•ASSIGN INPUTT2=&amp;rsquo;&amp;lt;EXTSE_FILE_NAME&amp;gt;.op2&amp;rsquo; UNIT=n - used in a SOL 112 run, to
locate the external super element created in SOL103 run for data recovery, user needs to provide
PARAM, ADMEXTU, n.
Examples
Sample SOL 103 STEP 1: MNF File Generation
$ BEGIN FMS
$
ASSIGN OUTPUT2=&amp;lsquo;extse100.op2&amp;rsquo; UNIT=25 DELETE
$ END OF FMS
$                                   &lt;br&gt;
SOL 103
CEND
TITLE = Sample Nastran Input File with external SE OTM
ECHO = NONE&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Inputs730
Main Index
$ Direct Text Input for Global Case Control Data
ADAMSMNF FLEXBODY=YES, OUTGSTRS=NO, OUTGSTRN=NO
EXTSEOUT(DMIGOP2=25, EXTID=100,ASMBULK)
SUBCASE 1
$ Subcase name : Default
SUBTITLE=Default
$SPC=1
METHOD = 1
DISPLACEMENT(PLOT) = ALL
ACCEL(PLOT)        = ALL&lt;br&gt;
ELFORCE(PLOT)      = ALL
BEGIN BULK
$
$ADAMS&lt;br&gt;
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
EIGRL,1,,,10
$
ASET,110,123456
ASET,114,123456
ASET,119,123456
$
SPOINT, 10001,thru,10016
QSET1,0,10001,thru,10016
$PARAM,AUTOQSET,YES
$
$PARAM,COUPMASS,1
PARAM,GRDPNT,0
DTI,UNITS,1,MGG,N,MM,S
$
$Slut ADAMS relaterat
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
PARAM,POST,0
PARAM   PRTMAXIM YES
$ Direct Text Input for Bulk Data&lt;/p&gt;
&lt;p&gt;731 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$ Elements and Element Properties for region : meteorProp
$       V       V       V       V       V       V       V       V       V
$234567812345678123456781234567812345678123456781234567812345678123456781234
5678
PBAR     1       1      1000.   8.+6    8.+6    4.+6
+
0.
PBAR     2       2      1000.   8.+6    8.+6    4.+6
+
0.
$ Pset: &amp;ldquo;meteorProp&amp;rdquo; will be imported as: &amp;ldquo;pbar.1&amp;rdquo;
CBAR     1       1       1       2       0.     1.       0.
CBAR     2       1       2       3       0.     1.       0.
CBAR     3       1       3       4       0.     1.       0.
CBAR     4       1       4       5       0.     1.       0.
CBAR     5       1       5       6       0.     1.       0.
CBAR     6       1       6       7       0.     1.       0.
CBAR     7       1       7       8       0.     1.       0.
CBAR     8       1       8       9       0.     1.       0.
CBAR     9       1       9       10      0.     1.       0.
CBAR     10      1       10      11      0.     1.       0.
CBAR     11      1       11      12      0.     1.       0.
CBAR     12      1       12      13      0.     1.       0.
CBAR     13      1       13      14      0.     1.       0.
CBAR     14      1       14      15      0.     1.       0.
CBAR     15      1       15      16      0.     1.       0.
CBAR     16      1       16      17      0.     1.       0.
CBAR     17      1       17      18      0.     1.       0.
CBAR     18      1       18      19      0.     1.       0.
CBAR     19      1       19      20      0.     1.       0.
CBAR     20      1       20      21      0.     1.       0.
$
$       V       V       V       V       V       V       V       V       V
$234567812345678123456781234567812345678123456781234567812345678123456781234
5678
CBAR     30      2       10      110     0.     1.       0.
CBAR     31      2       14      114     0.     1.       0.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Inputs732
Main Index
CBAR     32      2       19      119     0.     1.       0.
$
$ Referenced Material Records
$ Material Record : meteorMat
$ Description of Material : Date: 07-Apr-08           Time: 14:44:16
$       V       V       V       V       V       V       V       V       V
$234567812345678123456781234567812345678123456781234567812345678123456781234
5678
MAT1     1      71000.          .3      5.1-8
MAT1     2      500000.         .3      1.0E-10
$ Nodes of the Entire Model
GRID     1              -2087.   0.     201.
GRID     2              -1904.15 0.     201.
GRID     3              -1721.3  0.     201.
GRID     4              -1538.45 0.     201.
GRID     5              -1355.6  0.     201.
GRID     6              -1172.75 0.     201.
GRID     7              -989.9   0.     201.
GRID     8              -807.05  0.     201.
GRID     9              -624.2   0.     201.
GRID     10             -341.35  0.     201.
GRID     11             -258.5   0.     201.
GRID     12             -75.65   0.     201.
GRID     13             107.2    0.     201.
GRID     14             290.05   0.     201.
GRID     15             472.9    0.     201.
GRID     16             655.75   0.     201.
GRID     17             838.6    0.     201.
GRID     18             1021.45  0.     201.
GRID     19             1150.0   0.     201.
GRID     20             1387.15  0.     201.
GRID     21             1570.    0.     201.
$
GRID    110             -341.35  0.     180.
GRID    114             290.05   0.     180.
GRID    119             1150.0   0.     180.
$&lt;/p&gt;
&lt;p&gt;733 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$
CONM2,101,1,,0.0,,,,,0.05
CONM2,102,2,,0.0,,,,,0.05
CONM2,103,3,,0.0,,,,,0.05
CONM2,104,4,,0.0,,,,,0.05
CONM2,105,5,,0.0,,,,,0.05
CONM2,106,6,,0.0,,,,,0.05
CONM2,107,7,,0.0,,,,,0.05
CONM2,108,8,,0.0,,,,,0.05
CONM2,109,9,,0.0,,,,,0.05
CONM2,110,10,,0.0,,,,,0.05
CONM2,111,11,,0.0,,,,,0.05
CONM2,112,12,,0.0,,,,,0.05
CONM2,113,13,,0.0,,,,,0.05
CONM2,114,14,,0.0,,,,,0.05
CONM2,115,15,,0.0,,,,,0.05
CONM2,116,16,,0.0,,,,,0.05
CONM2,117,17,,0.0,,,,,0.05
CONM2,118,18,,0.0,,,,,0.05
CONM2,119,19,,0.0,,,,,0.05
CONM2,120,20,,0.0,,,,,0.05
CONM2,121,21,,0.0,,,,,0.05
$ Loads for Load Case : Default
$ Referenced Coordinate Frames
ENDDATA
$ &amp;mdash;- Sample SOL 111 STEP 2: Data Recovery &amp;mdash;&amp;mdash;&amp;ndash;
Sample SOL 112 STEP 2: Data Recovery
$ Assign the Superelement databases that have been stored
$ on the .op2 files
assign inputt2=&amp;lsquo;extse100.op2&amp;rsquo; unit=25
$  Assign the ADAMS modal coordinates&lt;br&gt;
ASSIGN INPUTT2=&amp;lsquo;missile_modal_coords.mdf&amp;rsquo; UNIT=31&amp;hellip;
SOL 112
DIAG 8, 15
CEND
SET 1001 = 110,114,119&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Inputs734
Main Index
SET 2001 = 30
SET   99 = 0.025
TITLE    = Modal recovery based on modal coords from Adams
SUBTITLE = yyy
$ GLOBAL CASE
ECHO   = NONE
LABEL  = ADAMS MNF
METHOD =  1
DLOAD  = 31
ACCEL(PRINT) = 1001
DISP(PRINT) = 1001
ELFORCE(PRINT)      = 2001
BEGIN BULK
PARAM, ADMPOST, 1
PARAM, ADMEXTU, 25
include &amp;lsquo;fe_missile.asm&amp;rsquo;
ENDDATA
Typical Case Control for ADAMS/Flex Interface
ADAMSMNF FLEXBODY = YES — required for interface run. See the ADAMSMNF case
description for a complete list of options and interface rules.&lt;br&gt;
STRESS(PLOT) — necessary for stress shapes.
GPSTRESS(PLOT) — necessary for grid stress shapes to be included in MNF.
STRAIN(PLOT) — necessary for strain shapes.
GPSTRAIN(PLOT) — necessary for grid strain shapes to be included in MNF.
METHOD = n — required above or in first subcase for modal solutions.
RESVEC = character_value — controls calculation of residual flexibility (including inertia relief)
modes. SOL 111 and SOL 112, residual flexibility is defaulted to on for both component (o-set) and
system modes (a -set). In SOL 103, residual flexibility is defaulted to on for only component modes
(o-set).
LOAD = n — used if modal loads are desired. A different subcase will define different load
conditions.
STATSUB(PRELOAD) = subcase_ID — necessary if a linear preload condition is to be included in
the MNF.
SUPORT1=seid — necessary to select a static support set for a residual only linear preload run.
SPCF(PLOT) = ALL — necessary with preload to insure complete preload reaction condition is to
be included in the MNF.&lt;/p&gt;
&lt;p&gt;735 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
MPCF(PLOT) = ALL — necessary with preload to insure complete preload reaction condition is to
be included in the MNF.
OUTPUT(POST) — necessary to define volume and surface for grid stress or strain shapes.
•SET nnn = list  — set of elements for surface definition for grid stress or strain shapes.
•SURFACE nnn SET nnn NORMAL z3  — surface definition - Only one FIBER selection is
allowed for all SURFACEs.
•VOLUME nnn SET nnn  — volume definition.
•The default SYSTEM BASIC is required with SURFACE or VOLUME.
OUTPUT(PLOT) — necessary to define elements used to select grids to display the component in
ADAMS.
•SET nj = list of elements used to select grids to display the component.
NLPARM=n — used to select nonlinear parameters on a bulk entry NLPARM.
PARAM,NMLOOP,m — necessary for a SOL 103 restart from SOL 106. Describes the nonlinear
iteration loop m to use for modal analysis.
SUPER=n,SEALL=n — useful with multiple superelement model to select an individual
superelement as a flexible body. Cannot be used with a linear STATSUB(PRELOAD) run.
Typical Bulk Data for ADAMS/Flex Interface
DTI,UNITS,1,MASS,FORCE,LENGTH,TIME &amp;ndash; required for interface run . See the
ADAMSMNF case description for a complete description of ADAMS unit requirements and
interface rules. For parts super elements, must reside in the main Bulk Data Section.
SPOINT,id_list — used to define and display modal amplitude.
SESET,SEID,grid_list — used to define a superelements (see GRID and BEGIN BULK SUPER=).
The exterior grids will represent the attachment points along with the q-set.
SEELT,SEID,element_list — used to reassign superelement boundary elements to an upstream
superelement.
RELEASE,SEID,C,Gi — optional entry that removes DOFs from an attachment grid for which no
constraint mode is desired. For example, this allows the removal of rotational DOFs from an
analysis where only translational DOFs are required.
SEQSET, SEID,spoint_list — use to define modal amplitudes of a superelement (see SEQSET1).
SENQSET,SEID,N — used to define modal amplitudes of a part super element. Must reside in the
main Bulk Data Section.
ASET,IDi,Ci — used to define attachment points for a residual only run (see ASET1). This entry
cannot exist in the SOL 106 run of a restart into SOL 103. It must be added in the SOL 103 restart.
QSET1,C,IDi — used to define modal amplitudes for the residual structure or modal amplitudes
for a part super element (see QSET). This entry cannot exist in the SOL 106 run of a restart into
SOL 103. It must be added in the SOL 103 restart.
SUPORT1,SID,IDi,Ci — used to define the static support for a preload condition with a residual
only run. This entry is case control selectable. Do Not Use SUPORT .&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Outputs736
Main Index
PLOTEL,EID,Gi — can be used, along with existing model elements, to define elements used to
select grids to display the component in ADAMS.
EIGR,SID,METHOD,&amp;hellip; — used to obtain real eigenvalue extraction (see EIGRL).
PARAM,GRDPNT,value — mass invariants , , and  will be computed using results of
MSC Nastran grid point weight generator execution in the basic coordinate system.
PARAM,LGDISP — used to turn on large displacement theory in SOL 106.
NLPARM,N,INC,&amp;hellip; — used to select nonlinear parameters.
Outputs
Outputs unique to the MSC Nastran/ADAMS interface run is the MNF for export to the ADAMS/Flex run
and if ADMOUT=YES on the ADAMSMNF Case Control, the op2 file described on the ADAMSMNF
Case Control command description.
Guidelines and Limitations
The following guide lines are associated with the capability:
1.Superelements and parts super elements require a superelement license.
2. Lumped mass formulation (default) is required. Either leave PARAM,COUPMASS out of the input
file or supply PARAM,COUPMASS,
-1 (default) to insure lumped mass .
3.If for preload conditions a simple static support system and a self equilibrating load can be used, the
SPCF(PLOT) and MPCF(PLOT) statements are not required.
4.For nonlinear SOL 106 runs, if the MATS1 entry is included, an incremental approach between
MSC Nastran and ADAMS/Flex should be adopted because of the path dependent load history.
5.For a standard MSC Nastran restart (using RESTARTF File Management statement) from a SOL
106 (nonlinear) in to SOL 103 (modal with MSC Nastran/ADAMS interface) the SPOINTS must
be in the SOL 106 run and the associated QSET1s must be in the SOL 103 run.
6.If a user has legacy SOL 106 runs or forgets to put the SPOINTs in the SOL 106 run, the SPOINTS
and associated QSET1s can be placed in the modal run which then must use a nonstandard restart
using the DBLOCATE file management command. The command must contain the following six
data blocks: bulk, estnl, ugni, qgni, qmgni, pgni. The command must also have a dbname that
corresponds to the dbname on the ASSIGN command. The command takes the form:
• dblocate datablk=(bulk,estnl,ugni,qgni,qmgni,pgni) where (version=1), logi=dbname
7.When restarting  with a RESTART or DBLOCATE commands from a SOL 106 run into a modal
run (SOL 103, SOL 111, SOL 112) the first SUBCASE in the modal run must contain the LOAD=
entry  that reflects the load condition of the chosen converged nonlinear solution. Other SUBCASES
with their own load conditions may follow the first SUBCASE to be used for generation of modal
load shapes. This is required for both labeling reasons and proper column alignment.I1I2I7&lt;/p&gt;
&lt;p&gt;737 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
8.When supplying SPOINTS/QSETS combinations there should be enough supplied to capture
accurately the modal shapes. If n is the number of modes specified on the EIGR or EIGRL Bulk Data
entries and p is the number of load cases specified, then the number of SPOINTS(ns) should at least
be  assuming that residual flexibility is on. In general, there cannot be too many
SPOINTS as excess ones will be simply truncated with no performance penalty.
9.For FLEXBODY=YES runs, residual vectors for the component should always be calculated as they
result in very accurate representation of the component shapes at little additional cost.
10. The current ADAMS/Flex does not support OMIT or OMIT1 Bulk Data entries.
11. PLOTELs or other elements may be used to define FE mesh detail for ADAMS/Flex using the
PSETID=set_entry on the ADAMSMNF Case Control command.  With superelement analysis, for
any of these elements that lie entirely on the superelement boundary (all of the elements grids
attached only to a-set or exterior grids), a SEELT Bulk Data entry MUST be specified to keep that
display element with the superelement component. The SEELT entry would not be required with
parts superelements as boundary elements stay with their component.
12. PARAM,WTMASS,value with a value other then 1.0 may be used with an MSC
Nastran/ADAM/Flex run when generating a MNF. It must have consistent units with regard to the
DTI,UNITS Bulk Data entry as discussed on the ADAMSMNF Case Control command. Before
generating the MNF, MSC Nastran will appropriately scale the WTMASS from the physical mass
matrix and the mode shapes.
13. There are two types of loads in MSC Nastran; those that are element specified (such as a PLOAD4
entry) and those that are grid specific (such as a FORCE entry). When doing a standard MSC
Nastran run, the distinctions not important. When doing an ADAMSMNF FLEXBODY=YES run
there is a subtle distinction when superelements are used. Element specified type loads always stay
with the superelement. The superelement sees the total element specified applied load. For grid
specified loads, any grid specified load attached to an external grid will move down stream with the
grid. That is to say, it is part of the boundary and not part of the superelement (or ADAMS/Flex
component). This distinction applies only to a superelement run and not to a residual only or a parts
super element run.
14. The loads specified in MSC Nastran in general fall into two categories: non follower or fixed direction
loads (non circulatory) and follower loads (circulatory). The follower loads are nonconservative in
nature. Examples of a fixed direction load is the FORCE entry or a PLOAD4 entry when its direction
is specified via direction cosines. Examples of a follower load is the FORCE1 entry or the PLOAD4
entry when used to apply a normal pressure. By default in MSC Nastran, the follower loads are always
active in SOL 103 and SOL 106 and will result in follower stiffness being added to the differential
stiffness and elastic stiffness of the structure. In an ADAMSMNF FLEXBODY=YES with
superelements, if the follower force is associated with a grid description (such as a FORCE1) and the
grid is external to the superelement (or ADAMS/Flex component), the follower load will move down
stream with the grid. Thus, for an ADAMSMNF FLEXBODY=YES run, the down stream follower
contribution to the components stiffness will be lost. This could yield poor results. This caution
applies only to a superelement run and not to a residual only or a parts superelement run.nsn= 6p+ +&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples738
Main Index
15. In the following Examples 4-8, an in plane tensioning preload is applied to the plate structure. If a
non follower type load such as a FORCE entry is used as in Example 4, two rigid body modes will be
lost (a rotation about the y-axis and a rotation about the z-axis). This is due to the fact that when the
pre load is applied, the FORCE entry, which is fixed in direction, does not rotate with the structure.
Since a preload condition requires at least a set of static supports, the resulting internal stress system
used to form the differential stiffness reflects this support state and when added the elastic stiffness
will add stiffness to two rotational rigid body modes. The FORCE1 entry used in Examples 5-8 are
follower loads and are applied in such a manner as to rotate with the structure. The differential
stiffness still has the constraints discussed for Example 4, however, for these examples a corrective
follower stiffness is added which cancels out the differential stiffness and the component sees six rigid
body modes.
16. For the MSC Nastran 2004 release, the ADAMS/Flex tool kit does not support the combination of
both preload and stress or strain shapes. Therefore, when using preload do not include GPSTRESS
or GPSTRAIN Case Control commands.
17. For MSC Nastran 2004, to insure compatibility with the ADAMS msc2mnf tool kit, if the
ADAMSMNF Case Control command has the keyword ADMOUT=YES, the MSC Nastran
SYSTEM word OP2NEW is automatically set to OP2NEW=0.  This means that any output2 files
generated will have a pre-MSC Nastran 2004 format.
Examples
Eight small examples are discussed below that are intended to show salient features of the MSC
Nastran/ADAMS interface with the following options:
1.Flexible body component as a superelement.
2.Flexible body component as a residual only run.
3.Flexible body component as a part superelement.
4.Flexible body component with preload as a superelement &amp;ndash; no follower load.
5.Flexible body component with preload as a residual only run &amp;ndash; with follower load.
6.Flexible body component with preload as a part superelement &amp;ndash; with follower load.
7.A structural component with nonlinear effects run in SOL 106 and restarted into SOL 103 as a
flexible body component using standard restart  — with follower load.
8.A structural component with nonlinear effects run in SOL 106 and restarted into SOL 103 as a
flexible body component using nonstandard dblocate restart  — with follower load.
The basic model is a square plate divided into a 10 x 10 mesh. The four corner points, grid point 1 (.0,.0,.0),
grid point 11 (0.,1.,0.), grid point 111 (1.,0.,0.), and grid point 121 (1.,1.,0.) are considered the attachment
points. The basic geometry, material, and loads are given by the include file shown at the end of the examples.
The Case Control commands and Bulk Data entries shown in the examples try to highlight features
important to the interface run.&lt;/p&gt;
&lt;p&gt;739 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
Ex:1 Component Modeled as a Superelement
This example represents a MSC Nastran/ADAMS interface run with the component modeled as
superelement 200 as defined by the SESET Bulk Data entries. Grids listed on this entry represent the
component, grids not listed (in this case grid point 1, grid point 11, grid point 111, and grid point 121) are
exterior to the superelement and are used as the attachment points for ADAMS.
The ADAMSMNF Case Control command initiates the interface run with the required  FLEXBODY=YES
entry. Also include on this entry is the optional PSETID=7772 which provides a set of PLOTEL elements
whose grids are retained in the MNF and whose connectivity defines face geometry for ADAMS display. The 11
1121
111&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples740
Main Index
OUTPUT(PLOT) section is used to define the set of elements for the PSETID. For this case, PLOTELs were
used and these are defined at the end of the bulk section.  The SEELT is used so that the plotels defined on
the boundary stay with the component.
Grid point stress and strain shapes are desired, thus the sequence of STRESS, STRAIN, GPSTRESS,
GPSTRAIN commands. The (PLOT) item suppresses output of these items to the f06 file. The
OUTPUT(POST) section is used to define the surface for the grid point stress and strain requests.
The DTI,UNITS in the Bulk Data Section is required  for the interface run. This defines the units to be used
by ADAMS/Flex.
Standard SUBCASE is used to define two pressure load conditions. No constraints are applied to the
component, hence the modal analysis will represent a free structure.
The PARAM,WTMASS  is not recommended with interface runs and this is noted by explicitly setting it to
its default value of 1.
The PARAM,GRDPNT  will cause the MSC Nastran grid point weight generator (GPWG) to run and
display a summary of the mass properties of the model. Any physical grid location may be chosen for the
display purpose, however with the ADAMS interface if PARAM,GRDPNT is present, GPWG will be run a
second time always  at the origin of the basic system and its results will be used for mass invariants , ,
and  computations for MNF export.
The SPOINT and SEQSET1 Bulk Data entries are used to define the component modes. These entries must
specify enough degrees of freedom or modal amplitudes to capture the shape of the component and residual
flexibility for any loading conditions.
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
$ Generate stress and strain grid shapes
$
STRESS(PLOT) = ALL
STRAIN(PLOT) = ALL
GPSTRESS(PLOT) = ALL
GPSTRAIN(PLOT) = ALLI1I2
I7&lt;/p&gt;
&lt;p&gt;741 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$
SUBCASE 5
LABEL= one atu overpressure - uniform
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
load =50
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
$ Define surface for stress and strain grid shapes
$
OUTPUT(POST)
SET 9998 = ALL
SURFACE 9998 SET 9998 NORMAL X3
$
BEGIN BULK
$
$ ADAMS REQUIRES following DTI
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Select number of modes:
$
$ =====================================================================
EIGR    300     LAN                             10
$ =====================================================================
$
$ Define interior grids as superelement 200
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
SESET,200,2,THRU,10
SESET,200,12,THRU,110
SESET,200,112,THRU,120
$
$ SCALAR Point and SEQSET1 to define DOFs to use for component modes
$
SPOINT,80001,THRU,80018
SEQSET1,200,0,80001,THRU,80018
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples742
Main Index
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ SEELT to put element 1003 and 1004 into SE 200
$
SEELT2001000310004
$
$ Get model data and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:2 Component Modeled as a Residual Only Run
This example represents a MSC Nastran/ADAMS interface run with the component modeled as residual
only structure. Grid point 1, grid point 11, grid point 111, and grid point 121 are to be used as the
attachment points for ADAMS. This is accomplished by use of the ASET1 Bulk Data entry.
The ADAMSMNF Case Control entry initiates the interface run with the required  FLEXBODY=YES entry.
Also include on this entry is the optional PSETID=7772 which provides a set of PLOTEL elements whose
grids are retained in the MNF and whose connectivity defines face geometry for ADAMS display. The
OUTPUT(PLOT) section is used to define the set of elements for the PSETID. For this case, PLOTELs were
used and these are defined at the end of the Bulk Data Section.
For this run, it is desired to generate in addition to the MNF for export to ADAMS, op2 files for export into
MSC.Fatigue. This op2 files generation is initiated by the ADMOUT=YES entry the ADAMSMNF Case
Control command. The ASSIGN statement in the MSC Nastran File Management Section will cause the
op2 file to be written with the file name residual_op2.out to fortran unit 20.
The additional OUTSTRS=YES on the ADAMSMNF Case Control command will cause element stress
shapes to be output to the op2. This requires the STRESS command in Case Control command.
Grid point stress and strain shapes are desired for export to the MNF , thus the sequence of STRESS,
STRAIN, GPSTRESS, GPSTRAIN commands. The (PLOT) item suppresses output of these items to the
f06 file. The OUTPUT(POST) section is used to define the surface for the grid point stress and strain
requests.
The DTI,UNITS in the Bulk Data Section is required  for the interface run. This defines the units to be used
by ADAMS/Flex.
Standard SUBCASE is used to define two pressure load conditions. No constraints are applied to the
component, hence the modal analysis will represent a free structure.
The PARAM,WTMASS  is not recommended with interface runs and this is noted by explicitly setting it to
its default value of 1.
The PARAM,GRDPNT  will cause the MSC Nastran grid point weight generator (GPWG) to run and
display a summary of the mass properties of the model. Any physical grid location may be chosen for the
display purpose, however with the ADAMS interface if PARAM,GRDPNT is present, GPWG will be run a
second time always  at the origin of the basic system and its results will be used for mass invariants , ,
and  computations for MNF export. I1I2
I7&lt;/p&gt;
&lt;p&gt;743 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
The SPOINT and QSET1 Bulk Data entries are used to define the component modes. These entries must
specify enough degrees of freedom or modal amplitudes to capture the shape of the component and residual
flexibility for any loading conditions.
$ ADAMS/Durability with MSC.Fatigue requires op2 generation
$
ASSIGN OUTPUT2=’e2_residual_op2.out’ STATUS=UNKNOWN UNIT=20 FORM=UNFORM
$
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$  admout=yes also output op2 file for ADAMS/Durability with MSC.Fatigue
$  outstrs=yes output element stress shapes to op2 file
$
ADAMSMNF flexbody=yes, psetid=7772, admout=yes,
outstrs=yes
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
$ Generate stress and strain grid shapes
$
STRESS(PLOT) = ALL
STRAIN(PLOT) = ALL
GPSTRESS(PLOT) = ALL
GPSTRAIN(PLOT) = ALL
$
SUBCASE 5
LABEL= one atu overpressure - uniform
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
load =50
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
$ Define surface for stress and strain grid shapes
$
OUTPUT(POST)
SET 9998 = ALL
SURFACE 9998 SET 9998 NORMAL X3
$
BEGIN BULK&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples744
Main Index
$
$ ADAMS REQUIRES following DTI
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Select number of modes:
$
$ ===================================================================
EIGR    300     LAN                             10
$ ===================================================================
$
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
ASET1,123456,1,11,111,121
$
$ SCALAR Point and QSET1 to define DOFs to use for component modes
$
SPOINT,80001,THRU,80018
QSET1,0,80001,THRU,80018
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ Get model data and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:3 Component Modeled as a Part Superelement
This example represents a MSC Nastran/ADAMS interface run with the component modeled as part
superelement 200 as defined by the BEGIN BULK SUPER = 200 entry. Grids listed in this section represent
the complete component as a substructure (including in this case grid point 1, grid point 11, grid point 111,
and grid 121). The main bulk section  identified by BEGIN BULK includes GRID entries for grid point 1,
grid point 11, grid point 111, and grid point 121 which identify the boundaries and are exterior to the part
super element and are used as the attachment points for ADAMS.
The ADAMSMNF Case Control command initiates the interface run with the required  FLEXBODY=YES
entry. Also include on this entry is the optional PSETID=7772 which provides a set of PLOTEL elements
whose grids are retained in the MNF and whose connectivity defines face geometry for ADAMS display. The&lt;/p&gt;
&lt;p&gt;745 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
OUTPUT(PLOT) section is used to define the set of elements for the PSETID. For this case, PLOTELs
were used and these are defined at the end of the Bulk Data Section.
Grid point stress and strain shapes are desired, thus the sequence of STRESS, STRAIN, GPSTRESS,
GPSTRAIN commands. The (PLOT) item suppresses output of these items to the f06 file. The
OUTPUT(POST) section is used to define the surface for the grid point stress and strain requests.
The DTI,UNITS in the Bulk Data Section is required  for the interface run and must be placed in the main
bulk section . This defines the units to be used by ADAMS/Flex.
Standard SUBCASE is used to define two pressure load conditions. No constraints are applied to the
component, hence the modal analysis will represent a free structure.
The PARAM,WTMASS is not recommended with interface runs and this is noted by explicitly setting it to
its default value of 1.
The PARAM,GRDPNT will cause the MSC Nastran grid point weight generator (GPWG) to run and
display a summary of the mass properties of the model. Any physical grid location may be chosen for the
display purpose, however with the ADAMS interface if PARAM,GRDPNT is present, GPWG will be run a
second time always  at the origin of the basic system and its results will be used for mass invariants , ,
and  computations for MNF export.
The SENQSET Bulk Data entry is used to define the component modes and must be placed in the main
bulk section. This entry must specify enough degrees of freedom or modal amplitudes to capture the shape
of the component and residual flexibility for any loading conditions.Instead of the SENQSET in the main
bulk section, SPOINT and QSET1 Bulk Data entries could have been used in the BEGIN BULK SUPER
= 200 section.
Note that the EIGR entry occurs in both the BEGIN BULK and BEGIN BULK SUPER = 200 sections.
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
$ Generate stress and strain grid shapes
$I1I2
I7&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples746
Main Index
STRESS(PLOT) = ALL
STRAIN(PLOT) = ALL
GPSTRESS(PLOT) = ALL
GPSTRAIN(PLOT) = ALL
$
SUBCASE 5
LABEL= one atu overpressure - uniform
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
load =50
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
$ Define surface for stress and strain grid shapes
$
OUTPUT(POST)
SET 9998 = ALL
SURFACE 9998 SET 9998 NORMAL X3
$
BEGIN BULK
$
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
GRID    1               0.0     0.0     0.0
GRID    11              0.0     1.0     0.0
GRID    111             1.0     0.0     0.0
GRID    121             1.0     1.0     0.0
$
$ SENQSET to define DOFs to use for component modes -
$ must be in main Bulk Data Section
$
SENQSET 200     18
$
$ ADAMS REQUIRES following DTI -
$ with PARTS this must be in main Bulk Data Section
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Select number of modes:
$
$ ==================================================================
EIGR    300     LAN                             10
$ ==================================================================
$
BEGIN BULK SUPER = 200
$
$ This PART defines interior grids as superelement 200
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$&lt;/p&gt;
&lt;p&gt;747 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$ Default value -
$ ADAMS must use the DTI,UNITS defined in main Bulk Data Section
$
PARAM,WTMASS,1.0
$
$ Select number of modes - for PART (Substructure) 200
$
$ ==================================================================
EIGR    300     LAN                             10
$ ==================================================================
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ Get model data for PART 200 and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:4 Component Modeled as a Superelement with Preload
This example is the same as Ex:1, but since preload requires a static solution, the following additions are
needed:
In each of the SUBCASEs that define the pressure loads, SPC=100 entries have been added to supply static
supports. Additionally, a SUBCASE 200 has been added, with SPC=100 and LOAD=100 entries, to define
the preload condition. This condition is defined by the FORCE 100 entries added to the Bulk Data Section.&lt;br&gt;
The resultant differential stiffness matrix will add stiffness to modes with rotation about the y-axis and z-axis
and only four rigid body modes will be present. In this run, the FORCE entries should not be replaced with
equivalent follower load FORCE 1 entries because the follower stiffness will move down stream with grids
1, 11, 111, 121 and not contribute to the component.
Also in the Bulk Data Section, SPC1 100 entries have been included to supply a static support system at the
attachment points.
A SUBCASE 300 has been included that identifies the preload condition with the
STATSUB(PRELOAD)=200 entry. Note that this subcase contains no SPC entry, hence the modal analysis
will represent a free — free solution.
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples748
Main Index
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
SUBCASE 5
LABEL= one atu overpressure - uniform
spc=100 $
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
spc=100 $
load =50
SUBCASE 200
LABEL= static stiffening load in plane of plate use a preload
spc=100 $
load=100
$
$ Select preload and generate free-free component shapes
$
SUBCASE 300
LABEL= Select SC200 as preload - modes as free-free structure
STATSUB((PRELOAD) = 200
$
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
BEGIN BULK
$
$ ADAMS REQUIRES following DTI
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Add in plate stiffining load
$
$ For an ADAMS/Flex run do not use follower
$ FORCE1 etc. entries with this example as the
$ loads at grids 1,11,111,121 will move
$ down stream with these boundary grids
$ and their contribution to the follower
$ stiffness will be lost to the compont&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P39</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_039/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_039/</guid>
      <description>
        
        
        &lt;p&gt;749 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$
FORCE   100     111             500.    6.
FORCE   100     112             1000.   6.
FORCE   100     113             1000.   6.
FORCE   100     114             1000.   6.
FORCE   100     115             1000.   6.
FORCE   100     116             1000.   6.
FORCE   100     117             1000.   6.
FORCE   100     118             1000.   6.
FORCE   100     119             1000.   6.
FORCE   100     120             1000.   6.
FORCE   100     121             500.    6.
$
FORCE   100     1               500.    -6.
FORCE   100     2               1000.   -6.
FORCE   100     3               1000.   -6.
FORCE   100     4               1000.   -6.
FORCE   100     5               1000.   -6.
FORCE   100     6               1000.   -6.
FORCE   100     7               1000.   -6.
FORCE   100     8               1000.   -6.
FORCE   100     9               1000.   -6.
FORCE   100     10              1000.   -6.
FORCE   100     11              500.    -6.
$
$ static support set for preload -
$ note because of differential stiffness formulation,
$ only 4 zero modes now exist. The zero modes
$ for y-axis and z-axis rotation will be lost
$
SPC1    100     123     1
SPC1    100     13      11
SPC1    100     3       111
$
$
$ Select number of modes:
$
$ ==================================================================
EIGR    300     LAN                             10
$ ==================================================================
$
$ Define interior grids as superelement 200
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
SESET,200,2,THRU,10
SESET,200,12,THRU,110
SESET,200,112,THRU,120
$
$ SCALAR Point and SEQSET1 to define DOFs to use for component modes
$
SPOINT,80001,THRU,80019
SEQSET1,200,0,80001,THRU,80019
$
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples750
Main Index
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ SEELT to put element 1003 and 1004 into SE 200
$
SEELT   200     10003   10004
$
$ Get model data and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:5 Component Modeled as a Residual only Run with Preload
This example is the same as Ex:2, but since preload requires a static solution, the following additions are
needed:
In each of the SUBCASEs that define the pressure loads, SUPORT1=100 entries have been added to supply
static supports. Additionally, a SUBCASE 200 has been added, with SUPORT1=100 and LOAD=100
entries, to define the preload condition. This condition is defined by the follower FORCE1 100 entries added
to the Bulk Data Section. Also in the Bulk Data Section, SUPORT1 100 entries have been included to supply
a static support system at the attachment points. This run requires the use of SUPORT1 entries rather than
SPC or SPC1 entries in order to avoid conflict between s-set points defined via SPC or SPC1 and a-set points
defined via the ASET1 entry.
A SUBCASE 300 has been included that identifies the preload condition with the
STATSUB(PRELOAD)=200 entry. Note that this subcase contains no SUPORT1 entry, hence the modal
analysis will represent a free — free solution.
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
SUBCASE 5
LABEL= one atu overpressure - uniform&lt;/p&gt;
&lt;p&gt;751 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
suport1=100 $
load=5
$
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
suport1=100 $
load =50
$
SUBCASE 200
LABEL= static stiffining load in plane of plate use a preload
suport1=100 $
load=100
$
$ Select preload and generate free-free component shapes
$
SUBCASE 300
LABEL= Select SC200 as preload -  modes as free-free structure
STATSUB((PRELOAD) = 200
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
BEGIN BULK
$
$ ADAMS REQUIRES following DTI
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Add in plate tensioning follower load
$
FORCE1  100     111     3000.   1       111
FORCE1  100     112     6000.   2       112
FORCE1  100     113     6000.   3       113
FORCE1  100     114     6000.   4       114
FORCE1  100     115     6000.   5       115
FORCE1  100     116     6000.   6       116
FORCE1  100     117     6000.   7       117
FORCE1  100     118     6000.   8       118
FORCE1  100     119     6000.   9       119
FORCE1  100     120     6000.   10      120
FORCE1  100     121     3000.   11      121
$
FORCE1  100     1       3000.   111     1
FORCE1  100     2       6000.   112     2
FORCE1  100     3       6000.   113     3
FORCE1  100     4       6000.   114     4
FORCE1  100     5       6000.   115     5
FORCE1  100     6       6000.   116     6
FORCE1  100     7       6000.   117     7
FORCE1  100     8       6000.   118     8&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples752
Main Index
FORCE1  100     9       6000.   119     9
FORCE1  100     10      6000.   120     10
FORCE1  100     11      3000.   121     11
$
$ Select number of modes:
$
$ ===================================================================
EIGR    300     LAN                             10
$ ===================================================================
$
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
ASET1,123456,1,11,111,121
$
$ SCALAR Point and QSET1 to define DOFs to use for component modes
$
SPOINT,80001,THRU,80019
QSET1,0,80001,THRU,80019
$
$ Static support for preload
$
$ Note use of SUPORT1 entry and not SPC entry! This is to aviod
$ fatal conflict of grids 1, 11, and 111 of being in s-set and a-set
$ SUPORT1 places them in r-set which is a subset of a-set
$ SUPORT1 chosen over SUPORT as it is subcase selectable
$
SUPORT1 100     1       123
SUPORT1 100     11      13
SUPORT1 100     111     3
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ Get model data and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:6 Component Modeled as a Part Superelement with Preload
This example is the same as Ex:3, but since preload requires a static solution, the following additions are
needed:
In each of the SUBCASEs that define the pressure loads, SPC=100 entries have been added to supply static
supports. Additionally, a SUBCASE 200 has been added, with SPC=100 and LOAD=100 entries, to define&lt;/p&gt;
&lt;p&gt;753 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
the preload condition. This condition is defined by the follower FORCE1 100 entries added to the BEGIN
BULK SUPER = 200 section. Also in the main BEGIN BULK Section, SPC1 100 entries have been included
to supply a static support system at the attachment points. For this run, the SPC1 100 entries could have
been placed in the BEGIN BULK SUPER = 200 section.
A SUBCASE 300 has been included that identifies the preload condition with the
STATSUB(PRELOAD)=200 entry. Note that this subcase contains no SPC entry, hence the modal analysis
will represent a free — free solution.
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
SUBCASE 5
LABEL= one atu overpressure - uniform
spc=100 $
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
spc=100 $
load =50
SUBCASE 200
LABEL= static stiffining load in plane of plate use a preload
spc=100 $
load=100
$
$
$ Select preload and generate free-free component shapes
$
SUBCASE 300
LABEL= Select SC200 as preload - modes as free-free structure
STATSUB((PRELOAD) = 200
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
BEGIN BULK
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples754
Main Index
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
GRID    1               0.0     0.0     0.0
GRID    11              0.0     1.0     0.0
GRID    111             1.0     0.0     0.0
GRID    121             1.0     1.0     0.0
$
$ static support set for preload
$
SPC1    100     123     1
SPC1    100     13      11
SPC1    100     3       111
$
$ SENQSET to define DOFs to use for component modes -
$ must be in main Bulk Data Section
$
SENQSET 200     19
$
$ ADAMS REQUIRES following DTI -
$ with PARTS this must be in main Bulk Data Section
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Select number of modes:
$
$ ====================================================================
EIGR    300     LAN                             10
$ ====================================================================
$
BEGIN BULK SUPER = 200
$
$ This PART defines interior grids as superelement 200
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
$
$ Turn on gridpoint weight generator
$
PARAM,GRDPNT,0
$
$ Default value -
$ ADAMS must use the DTI,UNITS defined in main Bulk Data Section
$
PARAM,WTMASS,1.0
$
$ Add in plate tensioning follower load
$
FORCE1  100     111     3000.   1       111
FORCE1  100     112     6000.   2       112
FORCE1  100     113     6000.   3       113
FORCE1  100     114     6000.   4       114
FORCE1  100     115     6000.   5       115
FORCE1  100     116     6000.   6       116
FORCE1  100     117     6000.   7       117
FORCE1  100     118     6000.   8       118
FORCE1  100     119     6000.   9       119
FORCE1  100     120     6000.   10      120
FORCE1  100     121     3000.   11      121
$&lt;/p&gt;
&lt;p&gt;755 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
FORCE1  100     1       3000.   111     1
FORCE1  100     2       6000.   112     2
FORCE1  100     3       6000.   113     3
FORCE1  100     4       6000.   114     4
FORCE1  100     5       6000.   115     5
FORCE1  100     6       6000.   116     6
FORCE1  100     7       6000.   117     7
FORCE1  100     8       6000.   118     8
FORCE1  100     9       6000.   119     9
FORCE1  100     10      6000.   120     10
FORCE1  100     11      3000.   121     11
$
$ Select number of modes - for PART (Substructure) 200
$
$ ====================================================================
EIGR    300     LAN                             10
$ ====================================================================
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
$ Get model data for PART 200 and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:7a Nonlinear Static Analysis of Component for Standard Restart
This example represents a MSC Nastran nonlinear SOL 106 run with the component a standard residual
structure.
SUBCASE 200 defines with SPC=100 and LOAD=100 entries, a preload condition or stiffening load
condition. This condition is defined by the follower FORCE1 100 entries added to the Bulk Data Section.
Also in the Bulk Data Section, SPC1 100 entries have been included to supply a static support system at the
plate corner points; these will become the attachment points in the restart SOL 103 run.
NLPARM in Case Control command selects the Bulk Data entry NLPARM to define nonlinear parameters.
The PARAM,LGDISP ,1 is required to turn on large displacement.
The SPCF(PLOT) = ALL generates forces of constraints. These will be used to form the total reactive preload
in SOL 103.
SPOINT entries are required  to be in the nonlinear run. They have no effect on the nonlinear solution but
are place holders for the restart. The associated QSET1 entries must not  appear in the nonlinear run as they
will cause SOL 106 to fail because by current definition in MSC Nastran, the q-set and a-set are synonyms
and nonlinear requires a physical a-set.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples756
Main Index
When the job is submitted, SCR=NO must be invoked to insure that the data base is saved.
$ The data base must be saved for this run therefore SCR=NO required
SOL 106
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Get nonlinear stress output
$
NLSTRESS = ALL
$
SUBCASE 200
LABEL= static stiffining load in plane of plate for preload
SPCF(PLOT) = ALL $ Generate forces of constraint
SPC = 100 $
LOAD=100
$
$ Select nonlinear parameters
$
NLPARM = 1
$
BEGIN BULK
$
$ Turn on large displacements
$
PARAM,LGDISP,1
$
$ Nonlinear parameters
$
NLPARM,1,4,,,,,UPW,YES
$
$ ADAMS REQUIRES following DTI
$ either in nonlinear run or Sol 103 run but not both
$
$DTI,UNITS,1,KG,N,M,SEC
$
$ If wanted, turn on gridpoint weight generator
$ either in nonlinear run or Sol 103 run but not both
$
$PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Add in plate tensioning follower load
$
FORCE1  100     111     3000.   1       111
FORCE1  100     112     6000.   2       112
FORCE1  100     113     6000.   3       113
FORCE1  100     114     6000.   4       114
FORCE1  100     115     6000.   5       115
FORCE1  100     116     6000.   6       116
FORCE1  100     117     6000.   7       117
FORCE1  100     118     6000.   8       118
FORCE1  100     119     6000.   9       119
FORCE1  100     120     6000.   10      120
FORCE1  100     121     3000.   11      121&lt;/p&gt;
&lt;p&gt;757 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$
FORCE1  100     1       3000.   111     1
FORCE1  100     2       6000.   112     2
FORCE1  100     3       6000.   113     3
FORCE1  100     4       6000.   114     4
FORCE1  100     5       6000.   115     5
FORCE1  100     6       6000.   116     6
FORCE1  100     7       6000.   117     7
FORCE1  100     8       6000.   118     8
FORCE1  100     9       6000.   119     9
FORCE1  100     10      6000.   120     10
FORCE1  100     11      3000.   121     11
$
$
$ static support set for preload
$
SPC1    100     123     1
SPC1    100     13      11
SPC1    100     3       111
$
$
$ ===================================================================
$
$ scalar points must be added here for modal sol103 nmloop restart
$ because to add them in the modal 103 run would cause restart
$ to generate whole model over since changing grids and elements
$ flags model as new
$ The Qsets and Asets must be added to the sol103 run
$ They can not exist in the sol106 run
$
SPOINT,80001,THRU,80019
$
$ Get model data and load data
$
include ‘model1.dat’
$
ENDDATA
Ex:7b Nonlinear Static Analysis Restart into SOL103
This example represents a restart for SOL 106 into SOL 103 to perform a MSC Nastran/ADAMS interface
run with the component modeled as residual only structure. Grid point 1, grid point 11, grid point 111, and
grid point 121 are to be used as the attachment points for ADAMS. This is accomplished by use of the
ASET1 Bulk Data entry which is inserted in this file. The nonlinear run cannot contain this ASET entry.
The restart is indicated by the presence of the ASSIGN MASTER and RESTART file management
commands in the file management section of the MSC Nastran input stream.
The PARAM,NMLOOP in Case Control selects the converged nonlinear solution to use for the restart.
The ADAMSMNF Case Control command initiates the interface run with the required  FLEXBODY=YES
entry. Also include on this entry is the optional PSETID=7772 which provides a set of PLOTEL elements
whose grids are retained in the MNF and whose connectivity defines face geometry for ADAMS display. The
OUTPUT(PLOT) section is used to define the set of elements for the PSETID. For this case, PLOTELs
were used and these are defined at the end of the Bulk Data Section.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples758
Main Index
The DTI,UNITS in the Bulk Data Section is required  for the interface run. This defines the units to be used
by ADAMS/Flex. This entry could have been placed in the SOL 106 run but it cannot be placed in both
because of standard MSC Nastran restart requirements.
Standard SUBCASE is used to define two pressure load conditions. No constraints are applied to the
component, hence the modal analysis will represent a free structure.
The PARAM,WTMASS is not recommended with interface runs and this is noted by explicitly setting it to
its default value of 1 in the SOL 106 run. Hence, it is not reinserted in the SOL 103 restart run.
The PARAM,GRDPNT will cause the MSC Nastran grid point weight generator (GPWG) to run and
display a summary of the mass properties of the model. Any physical grid location may be chosen for the
display purpose, however with the ADAMS interface if PARAM,GRDPNT is present, GPWG will be run a
second time always  at the origin of the basic system and its results will be used for mass invariants , ,
and  computations for MNF export.
The SPOINT and QSET1 Bulk Data entries are used to define the component modes. The SPOINT , as
required , were placed in the SOL 106 run. The QSET1 is required  to be placed in the restart SOL 103 run.
These entries must specify enough degrees of freedom or modal amplitudes to capture the shape of the
component and residual flexibility for any loading conditions.
$
$ Get the data base for the nonlinear run
$
ASSIGN MASTER=’e7a_residual_106.MASTER’
$
$ Indicate a restart run
$
RESTART VERSION=1 KEEP
$
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface run
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
$ Select the desired converged nonlinear solution
$
PARAM,NMLOOP,4I1I2
I7&lt;/p&gt;
&lt;p&gt;759 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$
$ include preload condition from sol 106 for labeling
$ must be first subcase
$
SUBCASE 2
LABEL=Sol 106 preload
load=100
$
SUBCASE 5
LABEL= one atu overpressure - uniform
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
load =50
$
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
BEGIN BULK
$
$ ADAMS REQUIRES following DTI
$ either in nonlinear run or Sol 103 run but not both
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator in this run
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$ Already done is Sol 106 run
$
$PARAM,WTMASS,1.0
$
$ Select number of modes:
$
$ ===================================================================
EIGR    300     LAN                             10
$ ===================================================================
$
$ define attachment points
$
ASET1,123456,1,11,111,121
$
$ SCALAR Points supplied in sol106 run should match following QSET
$ QSET to define DOFs to use for normal modes
$
QSET1,0,80001,THRU,80019
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples760
Main Index
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
ENDDATA
Ex:8a Nonlinear Static Analysis of Component for dblocate Restart
This example represents a MSC Nastran nonlinear SOL 106 run with the component a nonlinear residual
structure.
SUBCASE 200 defines with SPC=100 and LOAD=100 entries, a preload condition or stiffening load
condition. This condition is defined by the follower FORCE1 100 entries added to the Bulk Data  Section.
Also in the Bulk Data Section, SPC1 100 entries have been included to supply a static support system at the
plate corner points; these will become the attachment points in the restart SOL 103 run.
NLPARM in Case Control selects the Bulk Data entry, NLPARM, to define nonlinear parameters.
The PARAM,LGDISP ,1 is required to turn on large displacement.
The SPCF(PLOT) = ALL generates forces of constraints. These will be used to form the total reactive preload
in SOL 103.
No SPOINT entries ( required  for a standard restart form SOL 106 to SOL 103) are given. Thus a
nonstandard restart into SOL 103, using dblocate in SOL 103 will be required. QSET1 entries must not&lt;br&gt;
appear in the nonlinear run as they will cause SOL 106 to fail because by current definition in MSC Nastran,
the q-set and a-set are synonyms and nonlinear requires a physical a-set.
$ The data base must be saved for this run therefore SCR=NO required
SOL 106
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Get nonlinear stress output
$
NLSTRESS = ALL
$
SUBCASE 200
LABEL= static stiffening load in plane of plate use a preload
SPCF(PLOT) = ALL $ Generate forces of constraint
SPC = 100 $
LOAD=100
$
$ Select nonlinear parameters
$
NLPARM = 1
$
BEGIN BULK
$
$ Turn on large displacements
$
PARAM,LGDISP,1
$
$ Nonlinear parameters
$&lt;/p&gt;
&lt;p&gt;761 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
NLPARM,1,4,,,,,UPW,YES
$
$ ADAMS REQUIRES following DTI
$either in nonlinear run or Sol 103 run but not both
$
$DTI,UNITS,1,KG,N,M,SEC
$
$ If wanted, turn on gridpoint weight generator
$ either in nonlinear run or Sol 103 run but not both
$
$PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the DTI,UNITS
$
PARAM,WTMASS,1.0
$
$ Add in plate tensioning follower load
$
FORCE1  100     111     3000.   1       111
FORCE1  100     112     6000.   2       112
FORCE1  100     113     6000.   3       113
FORCE1  100     114     6000.   4       114
FORCE1  100     115     6000.   5       115
FORCE1  100     116     6000.   6       116
FORCE1  100     117     6000.   7       117
FORCE1  100     118     6000.   8       118
FORCE1  100     119     6000.   9       119
FORCE1  100     120     6000.   10      120
FORCE1  100     121     3000.   11      121
$
FORCE1  100     1       3000.   111     1
FORCE1  100     2       6000.   112     2
FORCE1  100     3       6000.   113     3
FORCE1  100     4       6000.   114     4
FORCE1  100     5       6000.   115     5
FORCE1  100     6       6000.   116     6
FORCE1  100     7       6000.   117     7
FORCE1  100     8       6000.   118     8
FORCE1  100     9       6000.   119     9
FORCE1  100     10      6000.   120     10
FORCE1  100     11      3000.   121     11
$
$ static support set for preload
$
SPC1    100     123     1
SPC1    100     13      11
SPC1    100     3       111
$
$ ===============================================================
$
include ‘model1.dat’
$
ENDDATA
Ex:8b Nonlinear Static Analysis dblocate Restart into SOL103
This example represents a restart for SOL 106 into SOL 103 to perform a MSC Nastran/ADAMS interface
run with the component modeled as residual only structure. Grid point 1, grid point 11, grid point 111, and&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples762
Main Index
grid point 121 are to be used as the attachment points for ADAMS. This is accomplished by use of the
ASET1 Bulk Data entry which is inserted in this file. The nonlinear run cannot contain this ASET entry.
Since the SOL 106 run did not contain SPOINT Bulk Data entries, the nonstandard restart is indicated by
the presence of the ASSIGN MASTER and DBLOCATE file management commands in the file
management section of the MSC Nastran input stream.
The PARAM,NMLOOP in case control selects the converged nonlinear solution to use for the restart.
The ADAMSMNF Case Control command initiates the interface run with the required  FLEXBODY=YES
entry. Also include on this entry is the optional PSETID=7772 which provides a set of PLOTEL elements
whose grids are retained in the MNF and whose connectivity defines face geometry for ADAMS display. The
OUTPUT(PLOT) section is used to define the set of elements for the PSETID. For this case, PLOTELs were
used and these are defined at the end of the Bulk Data Section.
The DTI,UNITS in the Bulk Data Section is required  for the interface run. This defines the units to be used
by ADAMS/Flex. This entry could have been placed in the SOL 106 run but it cannot be placed in both
because of standard MSC Nastran restart requirements.
Standard SUBCASE is used to define two pressure load conditions. No constraints are applied to the
component, hence the modal analysis will represent a free structure.
The PARAM,WTMASS is not recommended with interface runs and this is noted by explicitly setting it to
its default value of 1 in the SOL 106 run. Hence, it is not reinserted in the SOL 103 restart run.
The PARAM,GRDPNT will cause the MSC Nastran grid point weight generator (GPWG) to run and
display a summary of the mass properties of the model. Any physical grid location may be chosen for the
display purpose, however with the ADAMS interface if PARAM,GRDPNT is present, GPWG will be run a
second time always  at the origin of the basic system and its results will be used for mass invariants , ,
and  computations for MNF export.
The SPOINT and QSET1 Bulk Data entries are used to define the component modes. The SPOINT entry
are placed in this restart run and is what causes the use of a DBLOCATE nonstandard restart run. The
QSET1 is required  to be placed in the restart SOL 103 run. These entries must specify enough degrees of
freedom or modal amplitudes to capture the shape of the component and residual flexibility for any loading
conditions.
$
$ Get the data base for the nonlinear run
$
ASSIGN MASTER=’e8a_residual_106_db.MASTER’
$
$ A dblocate run
$
dblocate datablk=(bulk,estnl,ugni,
qgni,qmgni,pgni) where(version=1) logi=master
$
SOL 103
CEND
$
TITLE= SIMPLE PLATE MODEL 10 X 10 ELEMENTS
$
$ Initiate an Nastran/ADAMS interface runI1I2
I7&lt;/p&gt;
&lt;p&gt;763 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
$  flexbody=yes is REQUIRED
$  psetid will define face geometry for adams component display
$
ADAMSMNF flexbody=yes, psetid=7772
$
$ Select real eigen value parameters - must be above or in first subcase
$
METHOD=300
$
$ Starting with v2004, residual vectors are by default always computed.
$ They should be controlled with the following case control command:
$ It is recommended that the Nastran defaults be taken.
$ The defaults result in numerically improved shapes.
$
RESVEC = COMPONENT
$
$ Select the desired converged nonlinear solution
$
PARAM,NMLOOP,4
$
$ include preload condition from sol 106 for labeling
$ must be first subcase
$
SUBCASE 2
LABEL=Sol 106 preload
load=100
$
$ Generate two modal loads
$
SUBCASE 5
LABEL= one atu overpressure - uniform
load=5
SUBCASE 50
LABEL= spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
load =50
$
$
$ Set to define component shapes
$
OUTPUT(PLOT)
SET 7772 = 10001 THRU 10010
$
$ Define surface for stress and strain grid shapes
$
BEGIN BULK
$
param,respath,old
$
$ ADAMS REQUIRES following DTI
$ either in nonlinear run or Sol 103 run but not both
$
DTI,UNITS,1,KG,N,M,SEC
$
$ Turn on gridpoint weight generator in this run
$
PARAM,GRDPNT,0
$
$ Default value - ADAMS must use the above DTI,UNITS
$ Already done is Sol 106 run
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples764
Main Index
$PARAM,WTMASS,1.0
$
$ Select number of modes:
$
$ ================================================================
EIGR    300     LAN                             10
$ ================================================================
$
$ The corner grids 1, 11, 111, 121 are the exterior
$ or attachment point grids
$
ASET1,123456,1,11,111,121
$
$ SCALAR Point and QSET1 to define DOFs to use for component modes
$
SPOINT,80001,THRU,80019
QSET1,0,80001,THRU,80019
$
$ Define plotel’s for set 7772 in output(plot) section
$
PLOTEL,10001,1,12
PLOTEL,10002,12,121
PLOTEL,10003,121,111
PLOTEL,10004,111,1
PLOTEL,10006,2,10
PLOTEL,10007,22,110
PLOTEL,10008,120,112
PLOTEL,10009,12,100
$
ENDDATA
Model Data for the Examples
The following data defines the plate model data.
$
$ START GRID SPECS
$
GRID, 1,, 0.0, 0.0, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 2,, 0.0, 0.1, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 3,, 0.0, 0.2, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 4,, 0.0, 0.3, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 5,, 0.0, 0.4, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 6,, 0.0, 0.5, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 7,, 0.0, 0.6, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 8,, 0.0, 0.7, 0.0&lt;/p&gt;
&lt;p&gt;765 CHAPTER 17
MSC Nastran/ADAMS Interface
Main Index
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 9,, 0.0, 0.8, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 10,, 0.0, 0.9, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
GRID, 11,, 0.0, 1.0, 0.0
=,&lt;em&gt;11,,&lt;/em&gt;.10,==
=9
$
$ START ELEMENT SPECS
$
CQUAD4, 1,1,1,2,13,12
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 11,1,2,3,14,13
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 21,1,3,4,15,14
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 31,1,4,5,16,15
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 41,1,5,6,17,16
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 51,1,6,7,18,17
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 61,1,7,8,19,18
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 71,1,8,9,20,19
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 81,1,9,10,21,20
=,*1,=,*11,*11,*11,*11
=8
CQUAD4, 91,1,10,11,22,21
=,*1,=,*11,*11,*11,*11
=8
$
$ ELEMENT PROPERTIES INPUT
$
PSHELL,1,1,0.010,1
$
$ MATERIAL PROPERTIES INPUT
$
MAT1,1,.2223+12,.0855+12,0.3,7803.0
$
$ Modal load set 5: one atu overpressure - uniform
$
PLOAD451101344.THRU100
$
$
$ Modal load set 50: spin about edge (Y-Axis) at 1 revs/sec (60 RPM)
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples766
Main Index
RFORCE,50,1,,1.0,0.0,1.0,0.0
$
$&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s
Guide&lt;br&gt;
Chapter 18: Multiple Mass Configuration
18Multiple Mass Configuration
Introduction
Benefits
User Interface
Sample MMC Nastran Input File
Guidelines
Limitations
Examples&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Introduction768
Main Index
Introduction
Typical aerospace and automotive vehicle analysis requires consideration of multiple mass configurations or
cases (MMC) involving different structural mass, payloads, fuel conditions and environmental conditions.
The MMC capability described here provides the user with a convenient method for constructing and
analyzing additional mass cases in Nastran.
Benefits
Multiple mass cases were analyzed in Nastran—before the introduction of MMC capability—using
workarounds such as subcase dependent MPCs and overlapping grids etc. These workarounds not only
involved significant bookkeeping effort but were also prone to user error. The MMC capability provides the
user a convenient method for specifying mass increments which are then used to construct additional mass
combinations or cases and conduct the required analysis in a single run. The mass increments are specified
using the MASSID bulk data section. Mass combinations are then specified using MASSSET bulk data entry.
The mass combinations are subcase selectable to provide an appropriate method—similar to selecting SPCs
and MPCs boundary conditions in a subcase—to conduct the analysis using appropriate mass.
The MMC capability is supported in following Nastran solution sequences:
Sol 101: Static analysis with inertia relief and gravity load applied to user specified mass cases.
Sol 103, 107, 110: Modes calculated for the user specified mass cases.
Sol 108, 109: Response calculated for user specified mass cases.
Sol 111, 112: Modes, modal mass, response calculated for user specified mass cases.
Sol 144-146: Aeroelastic analysis for user specified mass cases.
Sol 200: Optimization is supported with invariant mass increments.
Sol 400: nonlinear static, transient and linear perturbation analysis with user specified mass cases.
One of the important aspect of the MMC capability is support of part superelements (list superelements are
not supported) in all the above solution sequences except of Sol 200 and Sol 101 inertia relief.
User Interface
The ability to conduct a MMC analysis is straightforward and requires the specification of mass increments
using MASSID bulk data section which are then used to construct mass combinations using the MASSSET
bulk data entry. Finally, a particular mass combination is used in the analysis by selecting it at the subcase
level using the MASSSET case control.
MASSID Bulk Data Section
The base mass case, massid = 0, is defined in the main bulk data section as in the case of non-MMC analysis.
Explicitly specifying, massid = 0, on the main bulk data section is optional:
BEGIN BULK massid=0 label=&amp;lsquo;base mass condition&amp;rsquo;
Is the same as specifying:&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P4</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_004/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_004/</guid>
      <description>
        
        
        &lt;p&gt;49 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Lanczos Method
The Lanczos method overcomes the limitations and combines the best features of the other methods. It
requires that the mass matrix be positive semidefinite and the stiffness be symmetric. Like the transformation
methods, it does not miss roots, but has the efficiency of the tracking methods, because it only makes the
calculations necessary to find the roots requested by the user. This method computes accurate eigenvalues
and eigenvectors. Unlike the other methods, its performance has been continually enhanced since its
introduction giving it an advantage. The Lanczos method is the preferred method for most medium- to large-
sized problems, since it has a performance advantage over other methods.
Also, Lanczos uses Sturm sequence logic to ensure that all modes are found. The Sturm sequence check
determines the number of eigenvalues below a trial eigenvalue, then finds all of the eigenvalues below this
trial eigenvalue until all modes in the designated range are computed. This process helps to ensure that modes
are not missed.
Givens  and Householder  Methods
The Givens and Householder modal extraction methods require a positive definite mass matrix (all degrees-
of-freedom must have mass). There is no restriction on the stiffness matrix except that it must be symmetric.
These matrices always result in real (positive) eigenvalues. The Givens and Householder methods are the
most efficient methods for small problems and problems with dense matrices when a large portion of the
eigenvectors are needed. These methods find all of the eigenvalues and as many eigenvectors as requested.
While these methods do not take advantage of sparse matrices, they are efficient with the dense matrices
sometimes created using dynamic reduction (see Dynamic Reduction ).
The Givens and Householder methods fail if the mass matrix is not positive definite. T o minimize this
problem, degrees-of-freedom with null columns are removed by the automatic application of static
condensation (see Dynamic Reduction ) called auto-omit. Applying the auto-omit process is a precaution and
may not remove all possible causes of mass matrix singularity, such as a point mass offset from a grid point,
but it greatly improves the reliability and convenience of the Givens and Householder methods.
Givens and Householder methods use different transformation schemes to obtain the eigenvalues. For
problems in which no spill occurs (i.e., all of the matrices fit in your computer&amp;rsquo;s main memory), the
Householder method costs about half as much as the Givens method for vector processing computers. In
addition, the Householder method can take advantage of parallel processing computers.
Modified Givens  and Modified Householder  Methods
The modified Givens and modified Householder methods are similar to their standard methods with the
exception that the mass matrix can be singular. Although the mass matrix is not required to be nonsingular
in the modified methods, a singular mass matrix can produce one or more infinite eigenvalues. Due to round
off error, these infinite eigenvalues appear in the output as very large positive or negative eigenvalues. To
reduce the incidence of such meaningless results, degrees-of-freedom with null masses are eliminated by
automatic static condensation as in the case of the unmodified methods.
The modified methods require more computer time than the standard methods.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface for Real Eigenvalue Analysis50
Main Index
Automatic Givens  and Automatic Householder  Methods
Many times you may not know whether the mass matrix is singular. To assist you in choosing the appropriate
method, two options–automatic Givens and automatic Householder–are available. Initially the automatic
methods use the standard methods. In the first step of the method, if the mass matrix is not well-conditioned
for decomposition, the method shifts to the corresponding modified method. The modified methods are
more expensive and may introduce numerical noise due to the shift, but they resolve most of the numerical
problems of the ill-conditioned mass matrix. The automatic methods, therefore, use the modified methods
when necessary for numerical stability but use the standard methods when the numerical stability is accurate.
Inverse Power Method
The inverse power method is a tracking method since the lowest eigenvalue and eigenvector in the desired
range are found first. Then their effects are “swept” out of the dynamic matrix, the next higher mode is found,
and its effects are “swept” out, and so on. Hence, the term “tracking,” which means that one root at a time is
found. In addition, each root is found via an iterative procedure. (The classical literature often refers to this
method as the inverse iteration method with sweeping.)
However, the inverse power method can miss modes, making it unreliable. The Sturm modified inverse
power method is a more reliable tracking method.
Sturm Modified Inverse Power Method
This method is similar to the inverse power method except that it uses Sturm sequence logic to ensure that
all modes are found. The Sturm sequence check determines the number of eigenvalues below a trial
eigenvalue, then finds all of the eigenvalues below this trial eigenvalue until all modes in the designed range
are computed. This process helps to ensure that modes are not missed.
The Sturm modified inverse power method is useful for models in which only the lowest few modes are
needed. This method is also useful as a backup method to verify the accuracy of other methods
User Interface for Real Eigenvalue Analysis
The EIGR and EIGRL Bulk Data entries define the method and select the parameters that control the
eigenvalue extraction procedure. The EIGRL entry is used for the Lanczos method, and the EIGR entry is
used for all of the other methods.
User Interface for the Lanczos Method
The Bulk Data entry EIGRL  has the following format:
Format:
Example:1 2 3 4 5 6 7 8 9 10
EIGRL SID V1 V2 ND MSGLVL MAXSET SHFSCL NORM
option_1=value_1, option_2=value_2, etc.&lt;/p&gt;
&lt;p&gt;51 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Examples of the results of using explicit or default values for the V1, V2, and ND fields are shown in
Table 3-1. The defaults on the EIGRL entry are designed to provide the minimum number of roots in cases
where the input is ambiguous.EIGRL 1 0.1 3.2 10
NORM=MAX NUMS=2
Field Contents
SID Set identification number. (Unique Integer &amp;gt; 0)
V1, V2 For vibration analysis: frequency range of interest. For buckling analysis: eigenvalue range
of interest. (Real or blank, )
ND Number of roots desired. (Integer &amp;gt;0 or blank)
MSGLVL Diagnostic level. (0 &amp;lt;Integer &amp;lt;4; Default =0)
MAXSET Number of vectors in block or set. Default is machine dependent.
SHFSCL Estimate of the first flexible mode natural frequency. (Real or blank)
NORM Method for normalizing eigenvectors (Character: “MASS” or “MAX”)
MASS Normalize to unit value of the generalized mass. Not available for buckling
analysis. (Default for normal modes analysis.)
MAX Normalize to unit value of the largest displacement in the analysis set.&lt;br&gt;
Displacements not in the analysis set may be larger than unity. (Default for
buckling analysis.)
ALPH Specifies a constant for the calculation of frequencies (Fi) at the upper boundary segments
for the parallel method based on the following formula. (Integer &amp;gt;0.0; Default =1.0):
,
,
NUMS Number of frequency segments for the parallel method. (Integer &amp;gt;0; Default =1)
Fi Frequency at the upper boundary of the i -th segment. (Real or blank;
)
option_i=
value_iAssigns a value to the fields above except for SID. ALPH, NUMS, and Fi must be specified
in this format. V1, V2, ND, MSGLVL, MAXSET , SHFSCL, and NORM may be specified
in this format as long as their corresponding field is blank in the parent entry.5– 1016 V1 V2 5. 1016
ALPH1.0 FiV1 V2V1–1ALPHi–
1.ALPHNUMS–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- + =
ALPH 1.0= FiV1 V2V1–i
NUMS&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; + =
V1F1F2F15V2 &lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface for Real Eigenvalue Analysis52
Main Index
The MSGLVL field of the EIGRL entry is used to control the amount of diagnostic output . The value of 0
produces no diagnostic output. The values 1, 2, or 3 provide more output with the higher values providing
increasingly more output. In some cases, higher diagnostic levels may help to resolve difficulties with special
modeling problems.
The MAXSET field is used to control the block size . The default value of 7 is recommended for most
applications. There may be special cases where a larger value may result in quicker convergence of many
multiple roots or a lower value may result in more efficiency when the structure is lightly coupled. However,
the default value has been chosen after reviewing the results from a wide range of problems on several different
computer types with the goal of minimizing the computer time. A common occurrence is for the block size
to be reset by MSC Nastran during the run because there is insufficient memory for a block size of 7.
Computational efficiency tends to degrade as the block size decreases. Therefore, it is, important to examine
the eigenvalue analysis summary output to determine that MSC Nastran has sufficient memory to use an
efficient block size. A smaller block size may be more efficient when only a few roots are requested. The
minimum recommended block size is 2.
The SHFSCL field allows a user-designated shift  to be used to improve performance especially when large
mass techniques are used in enforced motion analysis (see Enforced Motion ). Large mass techniques can cause a
large gap between the rigid body (see Rigid Body Modes ) and flexible frequencies, which can degrade
performance of the Lanczos method or cause System Fatal Message 5299. When SHFSCL is used, its value
should be set close to the expected first nonzero natural frequency.
The Lanczos method normalizes  (i.e., scales) the computed eigenvectors using the MASS or MAX method.
These methods are specified using the NORM field. The MASS method normalizes to a unit value of the
generalized mass (i.e., ). The MAX method normalizes to a unit value of the largest component
in the a-set (see Dynamic Reduction ). The default is MASS.
You can use the continuation entry to specify V1, V2, ND, MSGLVL, MAXSET, SHFSCL and NORM if
you have not specified them on the parent entry. T o apply the continuation entry use the following format:&lt;br&gt;
&amp;lsquo;option_i=value_i&amp;rsquo;, e.g., ND=6. Using the continuation entry is the only way to specify the three new
options, ALPH, NUMS and Fi.Table 3-1  Number and Type of Roots Found with the EIGRL Entry
Case V1 V2 ND Number and Type of Roots Found
1 V1 V2 ND Lowest ND in range or all in range, whichever is smaller
2 V1 V2 All in range
3 V1 ND Lowest ND in range [V1, ]
4 V1 Lowest root in range [V1, ]
5 ND Lowest ND roots in [- , ]
6 Lowest root
7 V2 ND Lowest ND or all in range [- , V2], whichever is smaller
8 V2 All below V2
mj1.0=&lt;/p&gt;
&lt;p&gt;53 CHAPTER 3
Real Eigenvalue Analysis
Main Index
If you specify both ALPH and Fi, then Fi takes precedence over ALPH as long as they are consistent. If ALPH
is multiplied by 100, it may be specified on the FRQSEQ keyword of the NASTRAN statement.
User Interface for the Other Methods
The data entered on the EIGR  entry selects the eigenvalue method and the frequency range or number of
required roots. The basic format of the Bulk Data entry EIGR is as follows:NUMS The number of segments that a frequency range will be broken into for parallel processing. You
must define a value greater than 1 to take advantage of parallel processing. You may also specify
NUMS using the NUMSEG keyword on the NASTRAN statement. If you specify both, then
NUMS takes precedence.
Fi Directly specifies the upper frequencies of each segment, such that
V1&amp;lt;F1&amp;lt;F2&amp;lt;&amp;hellip;F15&amp;lt;V2.
ALPH Automatically generates the Fi values based on the following formula:
1 2 3 4 5 6 7 8 9 10
EIGR SID METHOD F1 F2 NE ND
NORM G C
Field Contents
SID Set identification number. (Unique Integer &amp;gt;0)
METHOD Method of eigenvalue extraction. (Character)
Modern Methods:
LAN Lanczos Method
AHOU Automatic selection of HOU or MHOU method.
Obsolete Methods:
INV Inverse Power method.
SINV Inverse Power method with enhancements.
GIV Givens method of tridiagonalization.
MGIV Modified Givens method.
HOU Householder method of tridiagonalization.
MHOU Modified Householder method.
AGIV Automatic selection of METHOD = “GIV” or “MGIV”.
NORM Method for normalizing eigenvectors.  (Character: “MASS,” “MAX,” or “POINT”;
Default =“MASS”)Fi V2V1–1.0ALPHi– 1.0ALPHNUMS–    =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface for Real Eigenvalue Analysis54
Main Index
There is an interrelationship among the F1, F2, NE and ND fields on the EIGR entry as defined in Table 3-2.
.
The rules for METHOD = GIV, HOU, MGIV, MHOU, AGIV, and AHOU are identical. If any of these
methods are selected, MSC Nastran finds all of the eigenvalues but only computes the eigenvectors specified
by F1 and F2 or those specified by ND (the desired number). F1 and F2 specify the lower and upper bounds
of the frequency range in which eigenvectors are computed, and ND specifies the number of eigenvectors,
beginning with the lowest (or the first rigid-body mode, if present). If F1, F2, and ND entries are present,
ND takes precedence.
If METHOD = SINV, the values of F1, F2, and ND determine the number of eigenvalues and eigenvectors
that are computed. These entries also provide hints to help MSC Nastran find the eigenvalues. F1 and F2
specify the frequency range of interest within which MSC Nastran searches for modes. MSC Nastran MASS Normalize to unit value of the generalized mass. (Default)
MAX Normalize to unit value of the largest component in the analysis set.
POINT Normalize to a positive or negative unit value of the component defined
in fields 3 and 4. The POINT option is not supported for METH=LAN.
(Defaults to “MASS” if defined component is zero.)
G Grid or scalar point identification number.  Required only if NORM =“POINT”.
(Integer &amp;gt;0)
C Component number. Required only if NORM =“POINT” and G is a geometric grid
point. (1 &amp;lt;Integer &amp;lt;6)
Table 3-2  Relationship Between METHOD Field and Other Fields for Obsolete Methods
FieldMETHOD Field
INV or SINV GIV, MGIV, HOU, or MHOU
F1, F2 Frequency range of interest. F1 must be
input. If METHOD =“SINV” and
ND, is blank, then F2 must be input .
(Real &amp;gt;0.0)Frequency range of interest. If ND is not blank, F1
and F2 are ignored. If ND is blank, eigenvectors are
found with natural frequencies that lie in the range
between F1 and F2. (Real &amp;gt;0.0; F1 &amp;lt;F2)
NE Estimate of number of roots in range
(Required for METHOD =“INV”).
Not used by “SINV” method.
(Integer &amp;gt;0)Not used.
ND Desired number of roots. If this field is
blank and METHOD =“SINV”, then
all roots between F1 and F2 are
searched and the limit is 600 roots.
(Integer &amp;gt;0, Default is  for
METHOD =“INV” only.)Desired number of eigenvectors. If ND is zero, the
number of eigenvectors is determined from F1 and
F2. If all three are blank, then ND is automatically
set to one more than the number of degrees-of-
freedom listed on SUPORTi entries. (Integer &amp;gt;0;
Default =0)Field Contents
3NE&lt;/p&gt;
&lt;p&gt;55 CHAPTER 3
Real Eigenvalue Analysis
Main Index
attempts to find all of the modes in the range between F1 and F2 or the number specified by ND, whichever
is less. If searching stops because ND modes are found, there is no guarantee that they are the lowest
eigenvalues. If ND modes are not found in the range of interest, SINV usually finds one mode (or possibly
more) outside the range F1 and F2 before stopping the search.
The SINV method is particularly efficient when only a small number of eigenvalues and eigenvectors are to
be computed. Often only the lowest mode is of interest. The following example illustrates an EIGR entry
which extracts only the lowest nonzero eigenvalue.
It is assumed in the example above that the frequency of the lowest mode is greater than 0.01 cycles per unit
time. MSC Nastran finds one eigenvalue outside the range F1, F2, and then stops the search. The eigenvalue
found is the lowest nonzero eigenvalue (or a member of the lowest closely spaced cluster of eigenvalues in
cases with close roots) provided that there are no negative eigenvalues and that the SUPORT entry has been
used to specify the correct number of zero eigenvalues (see Rigid Body Modes ).
The following examples demonstrate the use of the EIGR Bulk Data entry.
In this example, the automatic Householder method is selected, and the lowest 10 modes are requested. Since
the default MASS eigenvector normalization is requested, no continuation entry is needed.
In this example, the same method is requested, but all the modes below 100 cycles per unit time are requested
with MAX vector normalization.
In this example, the Sturm modified inverse power method is requested for the first six modes found in the
range specified (0.1 to 100 Hz). The POINT normalization method is requested with each eigenvector scaled
such that grid point 32 in the T3 direction has a magnitude of 1.0. Note that this degree-of-freedom must
be in the a-set.
Solution Control for Analysis
This section describes input required for the selection and control of normal modes analysis.1 2 3 4 5 6 7 8 9 10
EIGR 13 SINV 0.0 0.01 1
1 2 3 4 5 6 7 8 9 10
EIGR 1 AHOU 10
EIGR 2 AHOU 100.
MAX
EIGR 3 SINV 0.1 100.0 6
POINT 32 3&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Solution Control for Analysis56
Main Index
Executive Control Section
You can run a normal modes analysis in SOL 103 of the Structured Solution Sequences. The Executive
Control Section can also contain diagnostic DIAG 16, which prints the iteration information used in the INV
or SINV method. You may also run a normal modes analysis as part of the other solution sequences (such as
modal transient response, modal frequency response, design optimization, and aeroelasticity).
Case Control Section
The most important eigenanalysis command in the Case Control is the METHOD  (Case)  command. This
command is required. The set identification number specified by the METHOD Case Control command
refers to the set identification number of an EIGR  or EIGRL  entry in the Bulk Data.
When a modal analysis is performed, the MSC Nastran output file contains various diagnostic messages and
an eigenvalue analysis summary. Optional grid and element output are available using standard Case Control
output requests. Eigenvectors are printed only if a DISPLACEMENT  or VECTOR  command is included.
These requests are summarized in Table 3-3.
Table 3-3  Eigenvalue Extraction Output Requests
Grid Output
DISPLACEMENT
(Case)  (or
VECTOR)Requests the eigenvector (mode shape) for a set of grid points.
GPFORCE (Case) Requests the modal grid point force balance table to be computed for each mode for
a set of grid points.
GPKE (Case) Requests the output of the modal kinetic energy at selected grid points in normal
modes analysis only.
GPSTRESS (Case) Requests modal grid point stresses to be computed for a set of grid points. This
request must be accompanied by the ELSTRESS Case Control request and the
definition of stress surfaces and/or stress volumes in the OUTPUT(POST) section
of the Case Control. This request also requires the use of Rigid Format Alter RF3D81
when used in SOL 3.
SPCFORCES (Case) Requests modal forces of single-point constraint to be computed for a set of grid
points for each mode.
Element Output
ELSTRESS  (or
STRESS  (Case) )Requests the computation of modal stresses for a set of elements for each mode.
ESE (Case) Requests the computation of modal element strain energies for a set of elements for
each mode.&lt;/p&gt;
&lt;p&gt;57 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Bulk Data Section
In addition to Bulk Data entries required to define the structural model, the only other required Bulk Data
entry is the eigenvalue selection entry EIGR  or EIGRL .  The EIGR entry is used to select the modal
extraction parameters for the inverse power, Lanczos, and automatic Householder methods. The EIGRL
entry is used to select the modal extraction parameters for the Lanczos method, see the User Interface for Real
Eigenvalue Analysis
Performance
The solution time associated with eigenvalue extraction can be significantly improved for large models by
using parallel processing that is activated by using DMP on the nastran command and the
DOMAINSOLVER Executive Control statements. There are two methods:
1.Modes
2.Automated Component Mode Synthesis method (ACMS)
The first method, MODES, solves the full system using Lanczos but over multiple frequency ranges. This
method can be used effectively in SOL 103,110, 111, or 112 simulations. It is most effective when the
number of modes is moderate, or the number of chips is large in a true distributed environment. It is not
necessary to use the DOMAINSOLVER option; but if used, one activates the FREQ partitioning method.
As one is running in DMP mode, one sets RUNOPT to PARCHILD .
The second method, ACMS, decomposes the large eigenvalue problem into a set of smaller problems. This
can be used for SOL 103, 111, or 112. This is very effective when a large number of modes (high frequencies)
need to be obtained.
Beginning with the MSC Nastran 2017 release use:
DOMAINSOLVER ACMS (VERSION=NEW)
The DOF partitioning method is the most appropriate than the purely geometric partition methods (GRID
or ELEM) for models which contain a large number of RBEs or connector elements such as CFAST,
CWELD, or CSEAM. In such cases, the number of domains will be automatically determined by the
number of retained degrees of freedom in the system. For true distributed processing, it is recommended to
use RUNOPT PARCHILD ; while for a shared memory machine (SMP), it is recommended to use
RUNOPT MULTIPAR . For modern computers (with multi-core chips), using both DMP and SMP is
recommended.ELFORCE (or
FORCE (Case) )Requests the computation of modal element forces for a set of elements for each
mode.
STRAIN (Case) Requests the computation of modal element strains for a set of elements.
Miscellaneous
MODES (Case) A special Case Control request that permits selective output requests to be processed
on selective modes.Table 3-3  Eigenvalue Extraction Output Requests  (continued)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Massless Mechanism Identification and Control58
Main Index
Massless Mechanism Identification and Control
A massless mechanism (MM) mode is defined as a modeshape that results in very little strain energy and
kinetic energy for the mode. The ratio of strain energy to kinetic energy is proportional to the eigenvalue of
this mode. This result is an indeterminate quantity produced by two terms approaching zero. If applied loads
excite this shape, small loads can cause very large deflections. If a normal mode analysis can be forced to
produce a solution in the presence of this condition, the mode produced with this shape can have any
eigenvalue from positive to negative infinity. These frequencies may change drastically for small changes in
the model or when run on a different computer.  Eigensolution failures due to Sturm number inconsistencies
are often due to the presence of massless mechanisms.
The presence of such modes reduces the reliability and repeatability of eigensolutions and dynamic analysis
solutions.  A method is now provided to automatically constrain massless mechanisms for eigensolutions,
controlled by the parameter PARAM,MECHFIX,AUTO, which is turned on by default. When this method
is used, it is unlikely that the eigensolution will fail because of three failed shifts, and the solution produced
will be repeatable for small changes in the model, loading condition, or computer type used in the solution.
The goal of this capability is to allow the real eigensolvers to produce an eigensolution every time a proper
non-zero stiffness and mass matrix are provided.
Input
The massless mechanism feature is controlled by several parameters. The following is a list of the primary
parameters along with their functions:
The following secondary parameters have default values that work well in most circumstances. They are
provided for tuning unusual circumstances.MECHFIX Default = AUTO
Controls for fixing the massless mechanism problem. The capability is provided
automatically for the default of this parameter, listed above. The capability is executed
only when the eigensolution does not provide answers because of symptoms consistent
with the presence of massless mechanisms. The MMs are removed, and a second
eigensolution is made. If MECHFIX is set to YES, the constraint modes are removed
before attempting an eigensolution. When set to NO, the capability is blocked, the
eigensolution will fail, and User Fatal Message 9117 will be printed in the F06 file.&lt;br&gt;
MECHPRT Default = NO
For SOL 103 only, if massless mechanisms are found, the constraint modes are printed
with a format similar to eigenvectors when this parameter is set to YES. They are labeled
CONSTRAINT MODES, and are numbered sequentially. Grid points with only zero
values in a mode are not printed. This parameter should be used when performing initial
checkout of a model and a goal is to remove all massless mechanisms before starting
production analysis. The number of each “mode” matches the corresponding GID,C
pair in the high ratio message. If there are many (thousands) of such modes, the output
file will be large. There is no method to plot these shapes at present.&lt;/p&gt;
&lt;p&gt;59 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Prestiffened Normal Mode Analysis
So far, all the discussion about normal modes has been for unloaded structures. In this section, normal modes
analysis of structures which have a static pre-load applied to them will be considered. Typical real-world
examples are: MAXRATIO Default = 1.E7
This is another traditional parameter whose other functions are described in the MSC
Nastran Quick Reference Guide . It is also the criterion for identifying massless mechanisms. A
lower value is more conservative in that it is likely to identify and control more
mechanisms. If blocking of this capability is desired, use PARAM,MECHFIX,NO
instead of modifying this parameter. The rationale is that if the user wants to set it high
enough that it never identifies a mechanism, it is better not to request massless
mechanism control.
MECHFIL Default = 1.E-6
Criterion for discarding massless mechanism modes with small generalized mass. A
smaller value will result in more marginal constraint modes being retained.
MMFIL Default = 1.e-10
Filter value used to distinguish between MM modes and rigid body modes. A smaller
value may discard rigid body modes. The default value has been effective on all problems
solved to date.
MMMETH Default = NEW
Selects method for searching for massless mechanisms. The default value is generally the
most reliable method. Use PARAM,MMMETH,BETA to invoke a new procedure that
can sometimes find massless mechanisms when the default does not find any. Specify
PARAM,MMMETH,OLD to use the original procedure.
NLMAX Default = 60
The number of suspected MMs is determined from the number of high ratio messages.
If this number exceeds NLMAX, the number of trial MMs is reduced to NLMAX. This
avoids an expensive debug run when there may be thousands of MMs due to systematic
modeling error, such as having CONM2 elements on many grid points for which
structural elements have been left out through oversight. The value of this parameter may
be increased on initial debug runs where many high ratio DOFs may be present, and the
user prefers to see them all at once, rather than on successive runs where only a part are
removed at one time.
NLMIN Default = 10
In the case of only one or a few high ratio DOFs more MMs may be present. More trial
MM vectors are used, and those that do not indicate true problems are discarded. A
smaller value could be considered on a stable model undergoing small modeling changes.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Prestiffened Normal Mode Analysis60
Main Index
Thin walled pressure vessels where the pressurization dominates stiffness and hence, the natural
frequencies, such as rocket fuel tanks and satellite oxygen tanks
Structures subject to significant dead weight loading, such as suspension cable bridges and oil
tankers
Tensioning of strings in musical instruments to achieve required frequencies
Structures subject to centrifugal loading such as jet engine turbine and fan blades
The objective of applying a static load to a structure during a normal modes analysis is to use the loaded
structure in obtaining the stiffness matrix for the modal analysis.
The eigenvalue problem equation corresponding to pre-stiffened structures is:
(3-18)
where  is the differential stiffness matrix resulting from the applied load.
In general, there are three terms/effects that can influence the stiffness matrix:
Material nonlinearity, e.g. elastic-plastic behavior
Geometric stiffness, due to changes in the structural shape&amp;hellip; these can be due to small or large
displacement behavior
Follower-force stiffness, arising as the loading changes its line of action relative to the
displacements&amp;hellip; these can be due to small or large displacement behavior
Since the normal modes analysis is linear, only the geometric and follower force stiffness changes due to small
displacements will be considered.   For incorporating the full nonlinear effects of the loading, a nonlinear
static solution is required.
The basic approach for incorporating the pre-loaded stiffness in the normal modes run is to run SOL 103
with two subcases, the first subcase being used to obtain the differential stiffness matrix from a linear static
analysis, and the second subcase being used to solve the eigenvalue problem using the differential stiffness
from the prior subcase.  The primary trigger for this is the STATSUB  (Case)  Case Control command. The
second subcase will contain the STATSUB command to identify the static subcase from which the differential
stiffness is to be used.
A case study of this method is now shown. The normal modes analysis of a simple thin walled cylinder with
closed ends is considered under two conditions:
No pre-load
Internal pressurization with 100 psi
Geometry of the Cylinder2M – KKD+  +   0 =
KD&lt;/p&gt;
&lt;p&gt;61 CHAPTER 3
Real Eigenvalue Analysis
Main Index
MSC_DOC_DIR/ tpl6/dynamics/prestiff103.dat is the normal modes analysis without prestiffening.
MSC_DOC_DIR /tpl6/ dynamics/prestiff103pl.dat is the normal modes analysis with prestiffening.
MSC_DOC_DIR /tpl6/ dynamics/prestiff106.dat is the nonlinear statics analysis run for comparison.
Listing 3-1 shows part of the Nastran input file for prestiffening for 103pl.dat.
Listing 3-1  Part of prestiff103pl.dat
SOL 103
CEND
TITLE = Pre-stiffened Normal Modes Analysis
ECHO = NONE
RESVEC = NO
SUBCASE 1
SUBTITLE=This is the static subcase.
SPC = 2
LOAD = 2
DISPLACEMENT(PLOT,SORT1,REAL)=ALL
SPCFORCES(PLOT,SORT1,REAL)=ALL
STRESS(SORT1,REAL,VONMISES,BILIN)=ALL
SUBCASE 2
SUBTITLE=This is the Normal Modes subcase.
STATSUB = 1
METHOD = 1
SPC = 2
VECTOR(PLOT,SORT1,REAL)=ALL
SPCFORCES(PLOT,SORT1,REAL)=ALL
$
BEGIN BULK
PARAM    POST    0
PARAM   PRTMAXIM YES
EIGRL    1                       10      0                       MASS
Listing 3-2  Eigenvalue table from the SOL 103 normal modes analysis, without prestiffeningCylinder Wall Thickness 0.01625 inches
Cap Thickness 0.25 inches
Length (l) 10 inches
Diameter (d) 2 inches
Elastic Modulus 1.0E7 psi
Material Density 0.101 lbm/in3
Poisson Ratio 0.33t
ld&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Prestiffened Normal Mode Analysis62
Main Index
Listing 3-3  Eigenvalue table from the SOL 103 normal modes analysis, with prestiffening R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        7.578808E+07        8.705635E+03        1.385545E+03        1.000000E+00        7.578808E+07
2         2        7.578847E+07        8.705657E+03        1.385548E+03        1.000000E+00        7.578847E+07
3         3        8.052795E+07        8.973736E+03        1.428214E+03        1.000000E+00        8.052795E+07
4         4        8.052826E+07        8.973754E+03        1.428217E+03        1.000000E+00        8.052826E+07
5         5        1.871432E+08        1.368003E+04        2.177244E+03        1.000000E+00        1.871432E+08
6         6        1.871440E+08        1.368006E+04        2.177249E+03        1.000000E+00        1.871440E+08
7         7        2.133802E+08        1.460754E+04        2.324862E+03        1.000000E+00        2.133802E+08
8         8        2.133841E+08        1.460767E+04        2.324883E+03        1.000000E+00        2.133841E+08
9         9        2.603917E+08        1.613666E+04        2.568229E+03        1.000000E+00        2.603917E+08
10        10        2.603947E+08        1.613675E+04        2.568243E+03        1.000000E+00        2.603947E+08
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.365975E+08        1.168749E+04        1.860122E+03        1.000000E+00        1.365975E+08
2         2        1.365977E+08        1.168750E+04        1.860124E+03        1.000000E+00        1.365977E+08
3         3        2.401212E+08        1.549584E+04        2.466240E+03        1.000000E+00        2.401212E+08
4         4        2.401227E+08        1.549589E+04        2.466248E+03        1.000000E+00        2.401227E+08
5         5        3.519227E+08        1.875960E+04        2.985684E+03        1.000000E+00        3.519227E+08
6         6        3.519234E+08        1.875962E+04        2.985686E+03        1.000000E+00        3.519234E+08
7         7        4.099749E+08        2.024784E+04        3.222543E+03        1.000000E+00        4.099749E+08
8         8        4.099752E+08        2.024784E+04        3.222544E+03        1.000000E+00        4.099752E+08
9         9        4.993418E+08        2.234596E+04        3.556469E+03        1.000000E+00        4.993418E+08
10        10        4.993436E+08        2.234600E+04        3.556476E+03        1.000000E+00        4.993436E+08&lt;/p&gt;
&lt;p&gt;63 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Listing 3-4  Eigenvalue table from the nonlinear pre-stiffened normal modes analysis
As long as the nonlinear effects are minimal, these would match the SOL 103 method.
Investigation of the first mode for the two analysis shows that the presence of the pressurization has also
changed the mode shape from 3 lobes to 2 lobes.
Examples
This section provides several normal-modes analysis examples showing the input and output. These examples
are as follows: R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.364892E+08        1.168286E+04        1.859385E+03        1.000000E+00        1.364892E+08
2         2        1.364894E+08        1.168287E+04        1.859386E+03        1.000000E+00        1.364894E+08
3         3        2.399139E+08        1.548915E+04        2.465175E+03        1.000000E+00        2.399139E+08
4         4        2.399153E+08        1.548920E+04        2.465183E+03        1.000000E+00        2.399153E+08
5         5        3.512732E+08        1.874228E+04        2.982927E+03        1.000000E+00        3.512732E+08
6         6        3.512738E+08        1.874230E+04        2.982929E+03        1.000000E+00        3.512738E+08
7         7        4.097554E+08        2.024242E+04        3.221680E+03        1.000000E+00        4.097554E+08
8         8        4.097556E+08        2.024242E+04        3.221681E+03        1.000000E+00        4.097556E+08
9         9        4.988593E+08        2.233516E+04        3.554751E+03        1.000000E+00        4.988593E+08
10        10        4.988609E+08        2.233519E+04        3.554756E+03        1.000000E+00        4.988609E+08
First mode for normal modes analysis for
pre-stiffened structureFirst mode for normal modes analysis&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples64
Main Index
These examples are described in the sections that follow.
Two-DOF Model
This example is a restrained two-DOF model with two springs and two masses as illustrated in Figure 3-5.ModelNumber of
Grid PointsElement
TypesOutput
RequestsAnalysis
Method Units
bd03two 3 CELAS2
CONM2DISPLACEMENT
SPCFORCE
ELFORCEAHOU Metric
bd03bar1,
bd03bar211 CBAR DISPLACEMENT SINV Metric
bd03bkt 236 CQUAD4
CONM2
RBE2DISPLACEMENT
STRESS
ESE
MODESLanczos English
bd03car 972 CQUAD4
CTRIA3
CELAS2DISPLACEMENT
ESELanczos English
bd03fix 8157 CHEXA
CPENTADISPLACEMENT Lanczos English
bd03plt1, bd03plt2 81 CQUAD4 DISPLACEMENT Lanczos Metric
bd03dmi 7 CBAR
DMIGNone Lanczos Metric&lt;/p&gt;
&lt;p&gt;65 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Figure 3-5  Two-DOF Model
The masses are constrained to deflect in only the y-direction. The example illustrates normal modes analysis
(SOL 103) using automatic selection of the Householder or modified Householder method (METHOD =
AHOU  on the EIGR entry). The eigenvectors are normalized to the unit value of the largest displacement
component (NORM = MAX on the EIGR  entry). The input file is shown in Listing 3-5, see
MSC_DOC_DIR /tpl6/ dynamics/bd03two.dat.
Listing 3-5&lt;br&gt;
$  FILE bd03two.dat
$
$  TWO DOF SYSTEM
$  CHAPTER 3, NORMAL MODES
$
TIME 5
SOL 103     $  NORMAL MODES ANALYSIS
CEND
$
TITLE = TWO DOF SYSTEM
SUBTITLE = NORMAL MODES ANALYSIS
$
$  SELECT SPC
SPC = 10
$
$  SELECT EIGR ENTRY
METHOD = 99
$
$  SELECT OUTPUT
SET 1 = 1,2
DISPLACEMENT = 1
SET 2 = 3
SPCFORCE = 2
SET 3 = 11,12
ELFORCE = 3
$Grid Point 1
Grid Point 2y
zm10.1 kg =
k1100 N/m =
m210 kg =
k21.0E4 N/m =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples66
Main Index
BEGIN BULK
$
$&amp;hellip;&amp;hellip;2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..$
$
$EIGR   SID     METHOD  F1      F2      NE      ND                      +EIG
$+EIG   NORM    G       C
EIGR    99      AHOU    0.      200.                                    +EIG1
+EIG1   MAX
$
GRID    1               0.      2.      0.
GRID    2               0.      1.      0.
GRID    3               0.      0.      0.
GRDSET                                                  13456
CONM2   1       1               0.1
CONM2   2       2               10.0
CELAS2  11      100.0   1       2       2       2
CELAS2  12      1.0E4   2       2       3       2
SPC     10      3       2
$
ENDDATA
The printed output is shown in Listing 3-6. The eigenvalue summary lists the eigenvalue , circular
frequency  (radians per second), natural frequency  (cycles per second), generalized mass (see
Eq.(3-13)), and generalized stiffness  (see Eq. (3-15)) for each mode. The eigenvectors, SPC forces, and spring
forces are shown for each mode.n2
nfn&lt;/p&gt;
&lt;p&gt;67 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Cantilever Beam Model
This example is a fixed-free aluminum cantilever beam with properties as shown in Figure 3-6.
Figure 3-6  Cantilever Beam Model
The  term is the weight density  and must be converted to mass density   for consistency of units.
PARAM,WTMASS  is used to convert this weight density to mass density.  Listing 3-6  Output from the Two-DOF System
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        9.048751E+02        3.008114E+01        4.787562E+00        1.904875E-01        1.723674E+02
2         2        1.105125E+03        3.324342E+01        5.290854E+00        2.105125E-01        2.326426E+02&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  EIGENVALUE =  9.048751E+02
      CYCLES =  4.787562E+00         R E A L   E I G E N V E C T O R   N O .          1
  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            1.000000E+00   0.0            0.0            0.0            0.0
         2      G      0.0            9.512492E-02   0.0            0.0            0.0            0.0
  EIGENVALUE =  1.105125E+03
      CYCLES =  5.290854E+00         R E A L   E I G E N V E C T O R   N O .          2

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            1.000000E+00   0.0            0.0            0.0            0.0
         2      G      0.0           -1.051249E-01   0.0            0.0            0.0            0.0
  EIGENVALUE =  9.048751E+02
                           F O R C E S   O F   S I N G L E - P O I N T   C O N S T R A I N T

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         3      G      0.0           -9.512491E+02   0.0            0.0            0.0            0.0

EIGENVALUE =  1.105125E+03
                           F O R C E S   O F   S I N G L E - P O I N T   C O N S T R A I N T

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         3      G      0.0            1.051249E+03   0.0            0.0            0.0            0.0
  EIGENVALUE =  9.048751E+02
                          F O R C E S   I N   S C A L A R   S P R I N G S        ( C E L A S 2 )
  ELEMENT         FORCE            ELEMENT         FORCE            ELEMENT         FORCE            ELEMENT         FORCE
    ID.                              ID.                              ID.                              ID.
       11      9.048751E+01             12      9.512491E+02
  EIGENVALUE =  1.105125E+03
                          F O R C E S   I N   S C A L A R   S P R I N G S        ( C E L A S 2 )
  ELEMENT         FORCE            ELEMENT         FORCE            ELEMENT         FORCE            ELEMENT         FORCE
    ID.                              ID.                              ID.                              ID.
       11      1.105125E+02             12     -1.051249E+03
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;L
ry
x zy
wm&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples68
Main Index
where  is the acceleration of gravity in .
Therefore, .  The nonstructural  weight
of 2.414 N/m is added to the beam. This nonstructural weight per length is also scaled by
PARAM,WTMASS.
The example illustrates normal modes analysis (SOL 103) using the Sturm modified inverse power method&lt;br&gt;
(METHOD = SINV on the EIGR entry). Mass normalization (the default) is chosen for the eigenvectors.
All frequencies between 0 and 50 Hz are requested. T wo models are run. In the first model, manufacturing
tolerances make the cross section slightly out of round, making I1 and I2 slightly different. In the second
model, the cross section is perfectly round, making I1 and I2 identical.
Consider the first model. Due to the manufacturing tolerances,  and .
The input file is shown in Listing 3-7. (See MSC_DOC_DIR /tpl6/ dynamics/bd03bar1.dat)
Listing 3-7  Input File for the First Beam Model
$  FILE bd03bar1.dat
$
$  CANTILEVER BEAM MODEL
$  CHAPTER 3, NORMAL MODES
$
SOL 103     $  NORMAL MODES ANALYSIS
TIME 10
CEND
$
TITLE =  CANTILEVER BEAM
SUBTITLE =  NORMAL MODES
LABEL = MODEL 1 (I1 NE I2)
$
SPC = 1
$
$  OUTPUT REQUEST
DISPLACEMENT = ALLL 3.0 m =
A 6.158E-4 m2=
E 7.1E10 N/m2=
Nonstructural
Weight2.414 N/m =r 0.014 m =
I1 I2 3.0E-8 m4= =
 0.33 =J 6.0E-8 m4=
w2.65E4 N/m3=
WTMASS 1g 19.81 0.102 sec2m = = = g m/sec2
mwWTMASS  2.65E40.102 2703 kg/m3= = =
I1 2.9E-8 m4= I2 3.1E-8 m4=&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P40</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_040/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_040/</guid>
      <description>
        
        
        &lt;p&gt;769 CHAPTER 18
Multiple Mass Configuration
Main Index
BEGIN BULK
Mass increments are defined using a MASSID bulk data section, “BEGIN MASSID=yyy”, where yyy &amp;gt; 0 is
the integer ID of the mass increment case. The only data that will be used from the incremental mass bulk
data section is element connections and element mass properties including materials (grid data included in
the incremental mass section will be ignored). The incremental mass will be computed based on the grid data
supplied in the base mass bulk data section and the element properties supplied in the incremental mass
section. MASSID bulk can be given a label using the label describer which is optional.
Typically, the user will construct the incremental mass by adding concentrated masses (e.g. CONM2,
CMASS1 etc.) or by changing the material or element properties of the set of elements defined in incremental
mass bulk data section. Examples of a MASSID bulk data section are given below:
$ INCREMENTAL MASS CASE: MASSID = 101, For Residual
BEGIN massid=101 label=&amp;lsquo;Mass increment using conm2s&amp;rsquo;
conm2   98002   22046           250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
conm2   98004   23183           250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
&amp;hellip;
$ INCREMENTAL MASS CASE: MASSID = 102, For Residual
BEGIN massid=102 label=&amp;lsquo;Mass using soft material&amp;rsquo;
PARAM    WTMASS  .00259
MAT1     5       2.85+7  1.12+7  .27     .16
MAT8     74      2.06+7  1.13+6  .34     580000. 580000. 580000. .028
&amp;hellip;
If part superelements (SE) are used in the model, mass increment related to these SEs can be specified in a
separate bulk data section, “BEGIN SUPER=zzz MASSID=yyy”, where zzz &amp;gt; 0 is the SE ID and yyy is the
mass increment ID.
$ INCREMENTAL MASS CASE for SE 2: MASSID = 102
BEGIN SUPER=2 massid=101 label=&amp;lsquo;mass increment using conm2s&amp;rsquo;
$ Additional Conm2 on Super=2 Grids
conm2   6002    70              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface770
Main Index
conm2   6004    31              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
&amp;hellip;
MASSSET Bulk Data Entry
The MASSSET bulk data entry defines a linear combination of mass cases to form the subcase-dependent
mass which is selected by associated MASSSET case control. The subcase mass is defined as follows by the
MASSSET bulk:
Where i, refers to the MASSID qualifier: i = 0 is the base mass case, i &amp;gt; 0 are the incremental mass cases. IDs
of mass combinations defined by MASSSET bulk data entry and mass increments defined by MASSID bulk
data sections should be unique.
The MASSSET bulk data entry has the following format:
Format:
Example:
MASSSET Case Control
Format:
MASSSET = n1 2 3 4 5 6 7 8 9 10
MASSSET ID S0 S1 ID1 S2 ID2 S3 ID3
S4 ID4 &amp;hellip; &amp;hellip;
MASSSET 11 1.0 1.0 0 1.0 101
Describer Meaning
ID Set identification number referenced by MASSSET case control. (Integer &amp;gt; 0; Required)
S0 The overall scale factor for the linear combination (Real &amp;gt;= 0.0; Default = 0.0)
Si The scale factor for the ith mass increment (Default = 0.0)
IDi The MASSID for the ith mass increment (Integer &amp;gt; 0; No Default)MIDS0SiMi
i=&lt;/p&gt;
&lt;p&gt;771 CHAPTER 18
Multiple Mass Configuration
Main Index
Example:
MASSSET = 11
Selecting a particular mass combination in the analysis requires referencing the mass combinations ID in
MASSSET case control at the subcase level (or step level in Sol 400). If no MASSSET is defined in the
SUBCASE then (like traditional non MMC analysis) the base mass is used as the mass for that subcase.
Example for selecting mass combinations at the subcase level:
SUBCASE 101
&amp;hellip;
MASSSET = 11 $
&amp;hellip;
SUBCASE 102
&amp;hellip;
MASSSET = 12 $
Sample MMC Nastran Input File
This section presents an abridged sample Nastran input file for using the MMC capability:
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ MMC Capability Supported in                           $
$ XXX = 101, 103, 107-112, 144-146, 200, 400            $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
SOL    XXX
CEND
TITLE = Sample Nastran Input File for MMC Capability
SUBCASE 100
&amp;hellip;
$ No MASSSET case control present for this subcase, the Analysis will
be
$ done using the Base Mass
SUBCASE 101
&amp;hellip;
$ Mass case selection for this subcaseDescriber Meaning
n Set ID of a MASSSET bulk data entry (Integer &amp;gt; 0).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Sample MMC Nastran Input File772
Main Index
MASSSET = 11 $
&amp;hellip;
SUBCASE 102
&amp;hellip;
$ Mass case selection for this subcase
MASSSET = 12 $
&amp;hellip;
$ BASE MASS CASE: is defined in Main Bulk Section
BEGIN BULK massid=0 label=&amp;lsquo;Base Mass Condition&amp;rsquo;
$ Could also just be “BEGIN BULK” and the label is optional
&amp;hellip;
PARAM    WTMASS  .00259
$ Define Elements, Nodes, Properties, Mat. Etc.
MAT1     5       2.85+7  1.12+7  .27     .283
MAT8     74      2.06+7  1.13+6  .34     580000. 580000. 580000. .056
&amp;hellip;
GRID     22046          10.      0.     5.6
GRID     23183          11.5     0.     5.8
&amp;hellip;
$ Define additional Mass Combination
$ By using MASSSET bulk data entry
MASSSET  11      1.0     1.0     0       1.0     101
MASSSET  12      1.0     0.0     0       1.0     102
GRID          13       0 323.228-356.388 92.5291       0
GRID          14       0 386.965-352.307 53.1588       0
&amp;hellip;
$ INCREMENTAL MASS CASE for Residual: MASSID = 101
BEGIN massid=101 label=&amp;lsquo;Mass increment using conm2s&amp;rsquo;
conm2   98002   22046           250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
conm2   98004   23183           250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
$ INCREMENTAL MASS CASE For Residual: MASSID = 102
BEGIN massid=102 label=&amp;lsquo;Mass using soft material&amp;rsquo;
PARAM    WTMASS  .00259
MAT1     5       2.85+7  1.12+7  .27     .16
MAT8     74      2.06+7  1.13+6  .34     580000. 580000. 580000. .028
&amp;hellip;
$ BASE MASS CASE for SE 2
BEGIN SUPER=2 label=&amp;lsquo;Base Mass Condition for SE 2&amp;rsquo;
$ Define Super Element as done in traditional SE Analysis&lt;/p&gt;
&lt;p&gt;773 CHAPTER 18
Multiple Mass Configuration
Main Index
$ massid = 0 is implicitly assumed
&amp;hellip;
GRID     70             80.      1.4    4.6
GRID     31             82.5     1.     5.8
$ INCREMENTAL MASS CASE for SE 2: MASSID = 102
BEGIN SUPER=2 massid=101 label=&amp;lsquo;mass increment using conm2s&amp;rsquo;
$ Additional Conm2 on Super=2 Grids
conm2   6002    70              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
conm2   6004    31              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
&amp;hellip;
ENDDATA
Guidelines
The following guidelines are associated with the capability:
1.MASSSET bulk data entry ID cannot have the same ID as a mass increment defined by the MASSID
bulk data sections. IDs of mass combinations defined by MASSSET bulk data entry and mass
increments defined by MASSID bulk data sections should be unique.
2.If a subcase does not have a MASSSET case control then the base mass will be used in the analysis
for that subcase. For example:
SUBCASE 101
SPC = 1
MPC = 10
SUBCASE 102
SPC = 2
MPC = 11
MASSSET = 12 $
In the above example SUBCASE 101 will use base mass in its analysis.
3.MASSSET bulk data entries defining the mass combinations should only be present in the main bulk
data section, i.e., “BEGIN BULK” or “BEGIN SUPER=0”.
4.While defining a mass combination using the MASSSET bulk data entry the user can employ
negative scale factors (Si &amp;lt; 0.0).  For example, mass increment 102 employs a negative scale factor
below,
MASSSET  12      1.0     0.0     0       -0.1     102
the above should be done carefully as it can cause the mass matrix to become indefinite.
5.Gravity loading changes in accord with the change in mass when a subcase employs a mass case
different from the base mass case.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Limitations774
Main Index
6.If a SE does not define a particular mass increment that mass increment is assumed to be zero for this
SE. For example,
BEGIN SUPER=1
&amp;hellip;
GRID     770           180.      1.4    4.6
GRID     331           182.5     1.     5.8
&amp;hellip;
BEGIN SUPER=2
&amp;hellip;
GRID     70             80.      1.4    4.6
GRID     31             82.5     1.     5.8
&amp;hellip;
BEGIN SUPER=2 massid=101
conm2   6002    70              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
conm2   6004    31              250.0   0.      0.      -12.
4500.0  0.      50250.  0.      0.      50250.
ENDDATA
in the above example SE 1 does not define a mass increment 101, hence, this mass increment is
assumed to be zero for SE 1.
7.Labels are optional while defining incremental mass cases using the MASSID bulk data sections.
Limitations
1.MMC capability is not supported with old IFP, restarts, auxiliary models and rotors.
2.List SE are not supported with MMC capability (only Part SE are supported).
3.Non Structural Mass change is not supported with the MMC capability.
4.Sol 200 MMC capability only supports optimization with invariant mass increments.
5.MMC capability with more than one MASSSET is not supported with SE analysis and inertia relief
in Sol 101.
6.MMC capability is not supported with SE analysis in Sol 200.
Examples
Several examples and test cases using the MMC capability for all the supported solutions sequence are
provided. Assuming the user installed Nastran in directory %NASTRAN_INSTALL_DIR%, these examples
can be found in: %NASTRAN_INSTALL_DIR%\msc20224 \tpl\mmc&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide MSC Nastran Dynamic Analysis User’s
Guide&lt;br&gt;
Chapter 19: AVL EXCITETM Interface
19 AVL EXCITETM Interface
Introduction
Benefits
User Interface
Guidelines and Limitations
Sample Input Files&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Introduction776
Main Index
Introduction
MSC Nastran 2018.2 offers streamlined workflows with AVL EXCITETM, which is a major software for the
simulation of rigid and flexible multi-body dynamics of powertrains in the automotive and aerospace
industries. Previous workflows relied on version dependent DMAP alters and generation of multiple OP2
and OP4 output files. These new workflow have eliminated the need for DMAP alters and reduced the
number of output files.
Direct export of AVL EXCITETM EXB input file from Normal Modes (SOL 103) and Implicit Nonlinear
(SOL 400) solution sequences is now possible. The EXB file includes FE model data, condensed system
matrices, Output T ransfer Matrices (OTM) and inertia (mass) invariants. Export of EXB file from MSC
Nastran is referred to as Step-1 and the data recovery in MSC Nastran by reading the results of AVL
EXCITETM simulation as Step-2 in this chapter. This release enables an enhanced streamlined workflow:
Step 1: MSC Nastran to directly export EXB file thereby eliminating the need to maintain version
dependent DMAP alters and making the process of creating EXB file from MSC Nastran Direct,
Simple and Fast.&lt;br&gt;
Step 2: MSC Nastran to directly read the results from an AVL EXCITETM simulation for data recovery .
Data recovery in Modal Frequency Response and Modal T ransient Response was limited to only one subcase
prior to V2022.4 release. MSC Nastran 2022.4 release enables multiple subcase/loadcase data recovery for
AVL EXCITE™ by supporting the extended format of INP4 file output by AVL EXCITE™.
MSC Nastran SOL 103  AVL EXCITETM  SOL 111/112 Workflow
Figure 19-1  MSC Nastran SOL 103   AVL EXCITE™   SOL 111/112 Workflow
The workflow summarized in Figure 19-1, shows the steps the user has to take to conduct a MBD analysis in
AVL EXCITETM using a flexible component from MSC Nastran SOL 103 and the subsequent data recovery
in MSC Nastran SOL 111/112:&lt;/p&gt;
&lt;p&gt;777 CHAPTER 19
AVL EXCITETM Interface
Main Index
Step 1:  SOL 103 analysis of flexible FE part is conducted requesting the direct output of EXB file
which condenses the FE part. EXTSEOUT feature is leveraged to minimize data storage
requirements and enable efficient data recovery.
AVL EXCITETM Simulation:  EXB file is read directly into AVL EXCITETM to complete the
multibody system (MBS) model. Transient MBD analysis is done by the user in AVL EXCITETM
and the output from the simulation is saved in form of the OP4 file with frequency/time domain
loading.
Step 2: The AVL EXCITETM output OP4 file is directly read into MSC Nastran using the
EXTSEOUT feature for efficient Sol 111/112 data recovery. If acoustical analysis is to be done next
the surface velocities are saved by MSC Nastran.
Acoustical/Durability analysis:  Desired acoustical/durability analysis is conducted in next by using
the output from MSC Nastran.
MSC Nastran SOL 400  AVL EXCITETM  SOL 400 Workflow
Figure 19-2  MSC Nastran SOL 400  AVL EXCITE™ SOL 400 Workflow
The workflow summarized in Figure 19-2, details the steps the user has to take to conduct a MBD analysis in
AVL EXCITETM using a pre-loaded flexible component from MSC Nastran SOL 400 and the subsequent
data recovery in Nastran SOL 400:
Step 1: SOL 400 analysis of flexible FE part is conducted requesting the direct output of EXB file
which condenses the FE part after pre-loading it. EXTSEOUT feature is leveraged to minimize data
storage requirements and enable efficient data recovery.
AVL EXCITETM Simulation:  EXB file is read directly into AVL EXCITETM to complete the MBS
model of the Engine. Transient MBD analysis is done by the user in AVL EXCITETM and the
output form the simulation is saved in form of the OP4 file with frequency/time domain loading.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Benefits778
Main Index
Step 2:  The AVL EXCITETM output is read into Nastran directly using the EXTSEOUT feature for
efficient Sol 400 data recovery in MSC Nastran.
Benefits
This functionality will be of benefit by providing the analyst that uses MSC Nastran and AVL EXCITETM—
in their workflow to perform various analysis (like dynamic, vibrational, acoustical ) – a direct, convenient
and efficient method to exchange data.
The enhanced MSC Nastran-AVL EXCITETM Interface introduced in this release has multiple advantages
over the currently used DMAP alters method:
1.Direct:  creation of EXB file from MSC Nastran rather than exporting multiple op2/op4 files from
MSC Nastran which are converted by another standalone proprietary program into an EXB file.
2.Simple:  only two files are created during step-1 (EXB and external superelement op2) as opposed to
multiple op2/op4 files (GEOMUNIT, EIGNUNIT, PSTUNIT, GPSRUNIT, MKAAUNIT,
MFFUNIT, TRANUNIT).
3.Fast: For step-1, shared memory parallelization (SMP) would be enabled to make the calculation of
computationally intensive higher order mass invariants faster. For step-2, EXTSEOUT feature is
leveraged to minimize data storage and enable efficient data recovery in MSC Nastran.
4.Convenient: Allows for quick export of EXB file to AVL and quick import of AVL results back into
MSC Nastran.
It is also noteworthy to mention that step-1 in MSC Nastran supports Automated Component Modal
Synthesis (ACMS) and virtual mass.
User Interface
The ability to export the EXB file from MSC Nastran is straightforward and simply requires specification of:
1.AVLEXB Case Control:  specifies the control for MSC Nastran-AVL EXCITETM Interface EXB file.
2.ASET/ASET1 and QSET/QSET1 Bulk Data Cards: Specifies the attachment and retained modes
for the EXB flexbody.
3.EXTSEOUT and associated ASSIGN Statement:  Create external superelement .op2 to minimize
data storage requirements and enable efficient data recovery.
For the most basic requirements, a user can request the generation of the EXB by simply adding the case
control in or above the first subcase entry.
AVLEXB EXBBODY=YES
Furthermore, AVLEXB entry allows user to run applications that are more sophisticated through solution
flow control, analysis control on sets and frequency bounds, inertia invariant control, and output control.
The ASSIGN and EXTSEOUT follow the standard MSC Nastran external superelement procedures.&lt;/p&gt;
&lt;p&gt;779 CHAPTER 19
AVL EXCITETM Interface
Main Index
AVLEXB Case Control
AVLEXB Case Control command provides the control for MSC Nastran-AVL EXCITETM Interface: (1)
EXB file export from SOL 103 and SOL 400, (2) AVL EXCITETM results import and data recovery in SOL
111, 112 and 400.
Format:
AVLEXB [EXBBODY = {YES, NO}],
[MASINVAR = {FULL, FIRST, NONE}],
[RECOVRYM = {YES, NO}],
[EXBOSET =   {U1-U5, ALL}],
[OUTGSTRS = {YES, NO}],
[OUTGSTRN = {YES, NO }],
[V1ORTHO = {-1.0, value1}],
[V2ORTHO = {1.0e8, value2}],
[MFFEXP = {YES, NO}],
[NOD6 = {YES, NO}],
[AVLPOST = {YES, NO}],
[POSTUNT = {INP4_UNIT_NUM}]
[EXBONLY = { YES, NO }],
Examples
EXB file export
AVLEXB EXBBODY = YES
AVL EXCITETM results import and data recovery
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=130&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
User Interface780
Main Index
Describer Meaning
EXBBODY Controls the output of MSC Nastran/AVL EXCITETM interface (Default = NO):
1.NO: Do not output AVL EXB Flexible body.
2.YES: Output AVL EXB Flexible body.
MASINVAR Requests the type of mass invariants to be computed (Default = FULL) :
1.FULL: All inertia invariants are computed.
2.FIRST: Only first order inertia invariants are computed.
3.NONE: No inertia invariants are computed.
RECOVRYM Controls the output of recovery (output transformation) matrix (Default = No) :
1.YES: Output A-set to (O+M)-set recovery matrix.
2.NO: Do not output the A-set to (O+M)-set recovery matrix.
EXBOSET Selects a set of DOFs for controlling the output of recovery matrix  (Default =
ALL):
1.U1-U5: DOFs in the user defined set only are included in the O-set output
to the EXB file and the partial recovery matrix output for these DOFs.
These need to be defined in the bulk data using the USET/USET1 bulk
data entry.
2.ALL: Complete O-set in the model is retained for recovery.
OUTGSTRS Outputs Grid Point Modal Stresses (Default = NO) to the MSC Nastran op2
requires PARAM,POST,1 or PARAM,POST,-1.
OUTGSTRN Outputs Grid Point Modal Strains (Default = NO) to the MSC Nastran op2
requires PARAM,POST,1 or PARAM,POST,-1.
V1ORTHO Lower frequency bound of the Craig-Bampton modes in cycles/unit time.
value1: Value of the lower bound.
V2ORTHO Higher frequency bound of the Craig-Bampton modes in cycles/unit time.
value2: Value of higher bound.
MFFEXP Requests output of Mass matrix of O+M set (Default = No). MFFEXP = YES
requires the user to request full recovery (RECOVRYM=YES and EXBOSET =
ALL).&lt;/p&gt;
&lt;p&gt;781 CHAPTER 19
AVL EXCITETM Interface
Main Index
Guidelines and Limitations
1.It is highly recommended that the user should run MSC Nastran for Step-1 with maximum smp
setting. Calculation of higher order mass invariants are very computation intensive; to make their
calculation faster MSC Nastran leverages efficient shared memory parallelization (SMP).
2.To minimize the data storage and enable efficient data recovery in MSC Nastran, the use of MSC
Nastran-AVL EXCITETM Interface requires the use of EXTSEOUT feature. The use of this feature
would be in its standard MSC Nastran capacity in SOL 103 or 400, e.g.:
ASSIGN OUTPUT2=&amp;lsquo;crankextse.op2&amp;rsquo;,UNIT=80,DELETE
&amp;hellip;
EXTSEOUT(ASMBULK,EXTBULK,EXTID=20) DMIGOP2=80
&amp;hellip;
During step-1 (EXB file export), to limit the size of external superelement (SE) .op2 the user should
only request outputs for sets of physical quantities that are of interest. For, e.g., displacement and
velocities on surface nodes: NOD6 If model is pure bar/beam elements with concentrated masses, this option can
output the element dictionary table as well as element stiffness matrix (Default =
No):
1.YES: Output KDICT &amp;amp; KELM
2.NO: Do not output KDICT &amp;amp; KELM
If NOD6 = YES these parameters are automatically set MASINVAR = NONE,
RECOVRYM = NO, MFFEXP = NO, EXBOSET = YES
AVLPOST Requests data recovery using the INP4 file generated by AVL EXCITETM (Default
= No):
1.YES: Request data recovery
2.NO: Data recovery
AVLPOST = YES requires EXBBODY = NO as the MSC Nastran AVL interface
cannot generate the EXB file and conduct data recovery in the same run.
POSTUNT Unit number of the assigned INP4 file generated by AVL EXCITETM which will
be used for data recovery.
EXBONLY Requests standard DMAP solution and data recovery following
MSC Nastran AVL EXCITETM interface (Default = NO):
1.NO: Proceed with standard DMAP solution and data recovery after
generating EXB file.
2.YES: Executes only MSC Nastran-AVL EXCITETM interface.Describer Meaning&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Guidelines and Limitations782
Main Index
DISP(PLOT) = 101
&amp;hellip;
STRESS(PLOT) = 102
above, the displacement and velocity can only be recovered on set 101 and stresses on set 102 during
step-2 (data recovery).
DISP=ALL, STRESS=ALL, STRAIN=ALL, etc., should be used carefully for large models during
step-1 as it could lead to significant performance degradation and large external SE .op2 file size.
3.AVL EXCITETM supports the following flexbody types which will be set automatically based on the
user inputs of AVLEXB case controls:
a.CON6: Is General large motion flexbody which is selected when the user enters “NOD6=NO”
and “MASINVAR=FULL/FIRST”.
b.SMOT: Is Small motion flexbody which is selected when the user enters “NOD6=NO” and
“MASINVAR=NONE”.
c.NOD6: Is a special flexbody model consisting of pure bar/beam (1-D) elements with
concentrated masses. It is selected when the user enters “NOD6=YES”. Here the dictionary table
for bar/beam elements for each bear/beam element shall be outputted into the EXB file. NOD6
automatically means that the following are not calculated and output into the EXB file: (1) Mass
invarients, (2) Recovery Matrix, (3) A-set Orthonormalization and associated
Eigenvalue/Eigenvector and (4) Component modes.
4.MSC Nastran does not export KELM to EXB file for NOD6 body. AVL EXCITETM v2018 provides
a utility to calculate and write KELM to existing EXB file.
5.Degree of freedom (dof) table (DOFTtable) is written to EXB file for the following dof sets:
a.A-set : Dof table for a-set are always written out to the EXB file.
b.O+M-set : Dof table for o+m-set are only written out to the EXB file if the recovery matrix is
requested by the user. In case the user selects partial recovery by specifying the EXBOSET only a
subset of o+m-set would be output in the dof Table.
6.GEOM table contains the coordinates of nodes in MSC Nastran basic coordinate system. Two table
of coordinates are always written to the EXB file: (1) A-set and (2) F+M-set.
7.OUTGSTRS or OUTGSTRN entries require the use of the standard MSC Nastran STRESS= or
STRAIN= Case Control commands used in conjunction with GPSTRESS= or GPSTRAIN= Case
Control commands to produce modal grid point stress or strain. They also require the use of
PARAM,POST,-1 or PARAM,POST,1. GSTRESS(PLOT)= or GPSTRAIN(PLOT)= will suppress
grid stress or strain output to the MSC Nastran .f06 file. The modal grid point stress or strain are not
output to the EXB file but to standard MSC Nastran .op2 file.
8.The default value of “MASINVAR = FULL” calculates all the mass invariants. In case of large models
the calculations of higher order mass invariants can be time consuming; hence, it is recommended
that the user first run with either “MASINVAR = FIRST” or “MASINVAR =NONE” to validate the
model.
9.MFFEXP = YES requests output of Mass matrix of F+M set and requires the user to request full
recovery (RECOVRYM=YES and EXBOSET = ALL).
10. Typically SOL 400 is used to produce a preloaded EXB file.&lt;/p&gt;
&lt;p&gt;783 CHAPTER 19
AVL EXCITETM Interface
Main Index
a.Standard SOL 400 nonlinear analysis prohibits the existence of an o-set; hence the EXTSEOUT
case control must be used (see above Remark 2.).
b.In the preload run the structure should be statically supported and follower loading must be
applied as a self equilibrating load set (not with SPC relationships!). In the ANALYSIS=MODES
step, usually, the structure should be a free-free structure to preserve its six rigid body modes. In
order to produce modal amplitudes and mode shapes and to ensure residual vector calculations,
SPOINTs and Q-sets are required. The definition of the attachment a-set for identifying
attachment points and for q-set for specifying the desired number of modal amplitudes for
orthonormalization should be done in the main bulk data section.
c.If CONTACT is required as part of the preloading, it is highly recommended that the friction
option be turned on by using an appropriate BCPARA bulk data entry setting, e.g.,
$ Select bilinear Coulomb friction for all subcases
BCPARA, 0, FTYPE, 6
If contact friction is not turned on, the tangential motion between the two parts coming into
contact will most likely not be constrained and incorrect or fatal results will occur.
11. The AVL EXCITETM solver expects singularities, other than the rigid body modes, of the model to
be constrained; hence, it is recommended that the user constrain singularities automatically using the
PARAM,AUTOSPC in SOL 103 and AUTOSPC (RESIDUAL) command in SOL 400.
12. After conducting the AVL EXCITETM simulation the data recovery is conducted in SOL 111, SOL
112 and SOL 400 using the EXTSEOUT feature. Using External SE to conduct data recovery would
make the data recovery faster and minimize the database size by storing only the information required
for recovery. The user interface for data recovery is straightforward requiring the attachment of the
SE databases, stored on the .op2 file, generated in the SE generation step during EXB file export
together with the ASM and PCH files.
13. During the data recovery it should be noted that PARAM,POST setting for the External SE are not
picked up from the main bulk. If physical quantities inside External SE (stresses,etc) are to be output
to op2 the user can add PARAM,POST in the case control if they want it applied globally or add
PARAM,POST manually to the External SE pch file.
14. Virtual mass is supported in MSC Nastran-AVL EXCITETM Interface through the use of standard
VMOPT parameter entry.
Sample Input Files
SOL 103 STEP 1 : EXB File Generation
ASSIGN OUTPUT2=&amp;lsquo;crankextse.op2&amp;rsquo;,UNIT=80,DELETE
$
$
SOL    103
$
CEND
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Sample Input Files784
Main Index
TITLE = Sample Nastran Input File for Generating EXB File
$ AVLEXB Case Control Above Subcase Level
$ Export EXB Flexbody with Full Mass Invariants
$ Output GP Stress/Strain Modes to Nastran Op2
$ Partial Recovery Matrix involving user defined set U5
AVLEXB EXBBODY=YES, EXBONLY=YES, RECOVRYM=YES, EXBOSET=U5,
OUTGSTRS=YES, OUTGSTRN=YES&lt;br&gt;
METHOD = 103
&amp;hellip;
$ To minimize the size of External Superelement .op2 the user should only
$ request outputs for sets of physical quantities that of
$ interest. For, e.g., displacement and velocities on surface nodes
EXTSEOUT(ASMBULK,EXTBULK,EXTID=20) DMIGOP2=80
&amp;hellip;
DISP(PLOT)=100
$
STRESS(PLOT)=102
GPSTRESS(PLOT)=ALL
$
STRAIN(PLOT)=102
GPSTRAIN(PLOT)=ALL
$
$
OUTPUT(POST)
SET 323=ALL
VOLUME 626 SET 323 DIRECT
$
BEGIN BULK
$
PARAM,VMOPT,2
PARAM,GRDPNT,0
PARAM,WTMASS,1.E-3
PARAM,POST,-1
$
EIGRL,103,,,12
$ Retained Modal DOFs:
SPOINT,90000001,THRU,90000012
QSET1,0,90000001,THRU,90000012
$ A-set Cards
ASET1,123456,70801, THRU, 70850
$ USET Defination
USET1, U2, 123456, 60, THRU, 70
&amp;hellip;
ENDDATA&lt;/p&gt;
&lt;p&gt;785 CHAPTER 19
AVL EXCITETM Interface
Main Index
SOL 111 STEP 2 : Data Recovery
$ Assign the Superelement databases that have been stored
$ on the .op2 files
assign inputt2=&amp;lsquo;crankextse.op2&amp;rsquo; unit=80
$ Assign the AVL physical space displacement vector
assign inputt4=&amp;lsquo;crk_soln_freq.inp4&amp;rsquo;,UNIT=130,FORM=FORMATTED
&amp;hellip;
SOL 111
&amp;hellip;
$ AVLEXB Case Control for Data Recovery
$ “EXBBODY=NO AVLPOST=YES” Required
$ “POSTUNT” specifies unit number 130
$ for INP4 file generated by AVL EXCITE™
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=130
&amp;hellip;
FREQUENCY=122
&amp;hellip;
PARAM,POST,-1
VELOCITY(PLOT)=100
STRESS(PLOT)=102
STRAIN(PLOT)=ALL
&amp;hellip;
BEGIN BULK
&amp;hellip;
$
$  User Specifies Frequency Steps, the number of frequency
$  steps should be equal to number of frequency steps in
$  INP4 file generated by AVL EXCITE™
$
FREQ,122,0.00,16.64,33.29,49.93,66.57,83.22,99.86,
,116.50,133.15,149.79,166.44,183.08,199.72,216.37,233.01, &amp;hellip;
$
$  These files are used to attach the external superlement
$
INCLUDE &amp;lsquo;crank.asm&amp;rsquo;
INCLUDE &amp;lsquo;crank.pch&amp;rsquo;
ENDDATA
SOL 112 STEP 2 : Data Recovery
$ Assign the Superelement databases that have been stored
$ on the .op2 files
assign inputt2=&amp;lsquo;crankextse.op2&amp;rsquo; unit=80&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Sample Input Files786
Main Index
$  Assign the AVL physical space displacement vector
assign inputt4=&amp;lsquo;crank_soln_trans.inp4&amp;rsquo;,UNIT=130,FORM=FORMATTED
&amp;hellip;
SOL 112
&amp;hellip;
$ AVLEXB Case Control for Data Recovery
$ “EXBBODY=NO AVLPOST=YES” Required
$ “POSTUNT” specifies unit number 130
$ for INP4 file generated by AVL EXCITE™
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=130
&amp;hellip;
TSTEP=133
&amp;hellip;
PARAM,POST,-1
VELOCITY(PLOT)=100
STRESS(PLOT)=102
STRAIN(PLOT)=ALL
&amp;hellip;
BEGIN BULK
&amp;hellip;
$
$ The number of columns in INP4 file generated by
$ AVL EXCITE™ which represent displacement, velocity,
$ and acceleration for each output time step) should be
$ three times the number of user specified output
$ time steps
TSTEP,133,704,2.76e-4
$
$  These files are used to attach the external superlement
$
INCLUDE &amp;lsquo;crank.asm&amp;rsquo;
INCLUDE &amp;lsquo;crank.pch&amp;rsquo;
ENDDATA
SOL 400 STEP 1: EXB File Generation
ASSIGN OUTPUT2=&amp;lsquo;secrk400.out2&amp;rsquo;,UNIT=80,DELETE
$
SOL    400
$
CEND
$
TITLE = Sample Nastran Input File for Generating EXB File&lt;/p&gt;
&lt;p&gt;787 CHAPTER 19
AVL EXCITETM Interface
Main Index
$ AVLEXB Case Control Above Subcase Level
$ Export EXB Flexbody with Full Mass Invariants and
$ Full Recovery Matrix
AVLEXB EXBBODY=YES RECOVRYM=YES $
AUTOSPC(RESIDUAL)=YES
$
DISP(PLOT)=100
STRESS(PLOT)=102
STRAIN(PLOT)=102
$
SUBCASE 1
$ Preload
STEP 10
$ Static load and support for preload
SUBTITLE = PRELOAD
ANALYSIS = NLSTATICS
NLSTEP = 110
LOAD = 120
SPC = 130
BCONTACT = 140
&amp;hellip;
$ Modal Step for Producing EXB file
$ Default: Select the end of previous load step to output
$ AVL EXCITE™  EXB
STEP 20
$ EXTSEOUT must be used to as Standard SOL 400 nonlinear
$ analysis prohibits the existence of an o-set
EXTSEOUT(ASMBULK,EXTBULK,EXTID=100) DMIGOP2=80
ANALYSIS = MODES
$ Select real Eigen Value Parameters
METHOD = 210
$ Turn residual vectors on
RESVEC = COMPONENT
STRESS(PLOT) = ALL
STRAIN(PLOT) = ALL
GPSTRESS(PLOT) = ALL
GPSTRAIN(PLOT) = ALL
&amp;hellip;
$
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
$       B U L K D A T A     S T A T E M E N T S                     &lt;br&gt;
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
BEGIN BULK
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Sample Input Files788
Main Index
PARAM,LGDISP,1
PARAM,POST,1
PARAM,GRDPNT,0
$
EIGRL,103,,,20
$ Retained Modal DOFs:
SPOINT,90000001,THRU,90000020
QSET1,0,90000001,THRU,90000020
$ A-set Cards
ASET1,123456,  80001, THRU, 90003
&amp;hellip;
ENDDATA
SOL 400 ANALYSIS=MFREQ STEP 2: Data Recovery
$ Assign the Superelement databases that have been stored
$ on the .op2 files
assign inputt2=&amp;lsquo;secrk400.out2&amp;rsquo;,unit=80
$ Assign the AVL physical space displacement vector
assign inputt4=&amp;lsquo;exbcrkmfq.INP4&amp;rsquo;,UNIT=33,FORM=FORMATTED
&amp;hellip;
SOL 400
&amp;hellip;
$ AVLEXB Case Control for Data Recovery
$ “EXBBODY=NO AVLPOST=YES” Required
$ “POSTUNT” specifies unit number 33
$ for INP4 file generated by AVL EXCITE™
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=33
AUTOSPC(RESIDUAL)=YES
&amp;hellip;
SET 100 =  26583 thru 95567
SET 101 = 3000 thru 3010
PARAM,POST,1
SUBCASE 2
ANALYSIS=MFREQ
FREQUENCY=122
VELOCITY(SORT1,PHASE)=100
STRESS(PRINT)=101
STRAIN(PRINT)=101
BEGIN BULK
&amp;hellip;
$
$  User Specifies Frequency Steps, the number of frequency
$  steps should be equal to number of frequency steps in&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P41</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_041/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_041/</guid>
      <description>
        
        
        &lt;p&gt;789 CHAPTER 19
AVL EXCITETM Interface
Main Index
$  INP4 file generated by AVL EXCITE™
$
FREQ,122,0.00,16.64,33.29,49.93,66.57,83.22,99.86,
,116.50,133.15,149.79,166.44,183.08,199.72,216.37,233.01, &amp;hellip;
$
$  These files are used to attach the external superlement
$
INCLUDE &amp;rsquo;exbcrk400.asm&amp;rsquo;
INCLUDE &amp;rsquo;exbcrk400.pch&amp;rsquo;
ENDDATA
SOL 400 ANALYSIS=MTRAN STEP 2 : Data Recovery
$ Assign the Superelement databases that have been stored
$ on the .op2 files
assign inputt2=&amp;lsquo;secrk400.out2&amp;rsquo;,unit=80
$ Assign the AVL physical space displacement vector
assign inputt4=&amp;lsquo;exbcrkmtr.INP4&amp;rsquo;,UNIT=33,FORM=FORMATTED
&amp;hellip;
SOL 400
&amp;hellip;
$ AVLEXB Case Control for Data Recovery
$ “EXBBODY=NO AVLPOST=YES” Required
$ “POSTUNT” specifies unit number 33
$ for INP4 file generated by AVL EXCITE™
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=33
AUTOSPC(RESIDUAL)=YES
&amp;hellip;
SET 100 =  26583 thru 95567
SET 101 = 3000 thru 3010
PARAM,POST,1
SUBCASE 2
ANALYSIS=MTRAN
TSTEP=133
VELOCITY(SORT1,PHASE)=100
STRESS(PRINT)=101
STRAIN(PRINT)=101
BEGIN BULK
&amp;hellip;
$ The number of columns in INP4 file generated by
$ AVL EXCITE™ which represent displacement, velocity,
$ and acceleration for each output time step) should be
$ three times the number of user specified output
$ time steps&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Multiple Subcase Data Recovery790
Main Index
TSTEP,133,704,2.76e-4
$
$  These files are used to attach the external superlement
$
INCLUDE &amp;rsquo;exbcrk400.asm&amp;rsquo;
INCLUDE &amp;rsquo;exbcrk400.pch&amp;rsquo;
ENDDATA
Multiple Subcase Data Recovery
MSC Nastran 2022.4 enables multiple subcase/loadcase data recovery for AVL EXCITE™ by supporting
extended format of INP4 file output by AVL EXCITE™. The extended format INP4 file output by AVL
EXCITE™ for frequency response consists of a pair of matrices for each loadcase (where xxxx is the four
character long load case number):
&amp;rsquo;FREQxxxx&amp;rsquo; corresponds to frequency response step list.
&amp;rsquo;DISPxxxx&amp;rsquo; or &amp;lsquo;VELOxxxx&amp;rsquo; or &amp;lsquo;ACCExxxx&amp;rsquo; corresponds to a-set displacement/velocity/acceleration
frequency response. This matrix has the size, Number of Rows = Number of Frequency Response
Steps and Number of Columns = a-set size.
It should be noted that AVL EXCITE™ can generate a solution as a displacement, velocity or acceleration
response. MSC Nastran will accept only one type (displacement, velocity, or acceleration) of frequency
response from AVL EXCITE™ in INP4. The velocity or acceleration frequency response is converted to
displacement response by using the assumption of a harmonic solution therefore,
where,
The extended format INP4 file output by AVL EXCITE™ for transient response consists of a pair of matrices
for each loadcase (where xxxx is the four character long load case number):
&amp;rsquo;TIMExxxx&amp;rsquo; corresponds to time step list.
&amp;rsquo;LC  xxxx&amp;rsquo; corresponds to the a-set displacement/velocity/acceleration transient response. This
matrix has the size, Number of Rows = Number of Transient Response Steps*3 and Number of
Columns = a-set size.= displacement
= velocity
= displacement
 = circular natural frequencyuu·
i&amp;mdash;&amp;mdash;&amp;mdash; =
uu··
2&amp;mdash;&amp;mdash;&amp;mdash;–=
u
u·
u··&lt;/p&gt;
&lt;p&gt;791 CHAPTER 19
AVL EXCITETM Interface
Main Index
It should be noted that as the frequency or time step list is available in the extended format INP4 file the
analyst is not required to input the consistent frequency response step list (using FREQ entry) or time step
list (using TSTEP entry) directly in Nastran input file.
The consumption of multiple subcase extended format INP4 file for data recovery in Nastran is primary the
same as doing data recovery using the single subcase INP4 file. The only exception being under each subcase
the DLOAD case control will identify which loadcase in the INP4 file to use for the data recovery. A
representative input file for using the extended format INP4 file for multiple subcase data recovery is
provided below:
$ SOL 111/112 : Data Recovery for multiple subcases
$ Assign the Superelement databases
assign inputt2=&amp;lsquo;crankextse.op2&amp;rsquo; unit=80
$ Assign the AVL EXCITE™   exported solution: Extended format INP4 file
assign inputt4=&amp;lsquo;crank_soln_avl.inp4&amp;rsquo;,UNIT=130,FORM=FORMATTED
&amp;hellip;
SOL 111/112
&amp;hellip;
$ AVLEXB Case Control for Data Recovery
$ “EXBBODY=NO AVLPOST=YES” Required
AVLEXB EXBBODY=NO AVLPOST=YES POSTUNT=130
&amp;hellip;
VELOCITY(PLOT)=100
STRESS(PLOT)=102
STRAIN(PLOT)=ALL
&amp;hellip;
SUBCASE 1
$ DLOAD specifies the LOAD case in INP4 to use for data recovery
$ Subcase 2 uses load case 20 from INP4 file
DLOAD = 20
SUBCASE 2
$ DLOAD specifies the LOAD case in INP4 to use for data recovery
$ Subcase 2 uses load case 30 from INP4 file
DLOAD = 30
BEGIN BULK
&amp;hellip;
$ No need to specify frequency/time they will be picked up from the INP4
$ file
INCLUDE &amp;lsquo;crank.asm&amp;rsquo;
INCLUDE &amp;lsquo;crank.pch&amp;rsquo;
&amp;hellip;
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Multiple Subcase Data Recovery792
Main Index
References
1.Excite EXB library 2.0.
2.EXCITETM Power Unit Theory users guide.
3.Modelling of condensed flexible bodies considering non-linear inertia effects resulting from gross
motions, G Offner, Proc. IMechE Vol. 225 Part K: J. Multi-body Dynamics.&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 20: Nastran Smart S uperelement
MSC Nastran Linear Static Analysis User’s Guide20 Nastran Smart S uperelement
Introduction to Nastran Smart S uperelement
Benefits
Workflow
The SSE P rocess and the User Interface
Case Control, Bulk Data Entries and New Parameters
Guidelines and Limitations
References&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
Introduction to Nastran Smart S uperelement794
Main Index
Introduction to Nastran Smart S uperelement
MSC Nastran smart s uperelement ( SSE) capability employs ODYSSEE machine learning technology for
reduced order modeling (ROM) t o create parameterized superelements [1]. The SSE i s parameterized with
model (geometric, material, etc.) parameters so that the user can readily change the superelement&amp;rsquo;s p roperties
in each simulation to explore the design space without having to completely reprocess the superelement (SE) .
Figure 20-1  Schematic Diagram of MSC Nastran Model using Multiple SSEs
The SSE capability is supported in the following MSC Nastran solution sequences:
Sol 101: Linear Static analysis.
Sol 103, 107, 110: Normal modes and complex modes.
Sol 108, 109: Linear direct frequency and transient response.
Sol 111, 112: Linear modal frequency and transient response.
Sol 400: Nonlinear static and transient analysis.
Here, we discuss the linear SS E capability for the dynamic solution sequences.
Benefits
Using the SSE capability the user will be able to explore the design space by conducting MSC Nastran
simulation s with different SSE p arameters. Additionally, an analysis using SSE is typically much faster than
a traditional MSC Nastran assembly model , as there is no need to reprocess the entire superelement each
time.&lt;/p&gt;
&lt;p&gt;795 CHAPTER 20
Nastran Smart S uperelement
Main Index
Workflow
The basic SSE p rocess is a 2-Step procedure:
Figure 20-2  2-Step Generate/Consume SSE Procedure
1.Generate Linear Dynamic SSE ( done outside MSC Nastran, i.e. off-line):
A MSC Nastran base external superelement generation ( EXTSEOUT ) finite element model of the
SSE c omponent is developed. The input file i s the same as a traditional EXTSEOUT input file w ith
the additional option to output the reduced matrices, loads, displacement OTM required to
generate the SSE t o a HDF5 file.
User identifies SSE p arameters in ODYSSEE CAE – Lunar[2] using the DOE generator tool.
In the Lunar DOE generator, the user creates a design-of-experiments (DOEs) table to train the
SSE ( the choice of DOEs is model specific and requires domain knowledge). The SSE i s trained to
predict the output matrices for a given set of input parameters. A batch simulation of DOEs is run:
each instance/experiment of this step requires an updated valid MSC Nastran input file
(automatically created by Lunar). The output of each experiment is automatically extracted (Lunar
supports extracting output data from MSC Nastran HDF5 format) to create a dataset (X, Y) for
training and validating the SSE:
X: User identified, input parameters of SSE.
Y: Output to be supplied by SSE. For the linear case  this clearly is,
[M]a×a : reduced mass matrix (a-size)
[K]a×a : reduced stiffness matrix (a-size)
[B]a×a : reduced viscous damping matrix (a-size)
[K4]a×a : reduced structural damping matrix (a-size)
[F]a×nl : reduced load vector (a row size × nl), where nl is the n umber of loads (referred to as PA
in HDF5 file)
[DISP-OTM]a x a : the two displacement output transformation matrices (OTMs),
a.[MUG1]&lt;em&gt;×a : The free boundary displacement OTM, (&lt;/em&gt; = number of user requested
output grids × a-row size )
b.[MUG10]&lt;em&gt;×a : The free boundary displacement OTM, (&lt;/em&gt; = number of user requested
output grids × nl)
For linear statics, only the [K], [F], and [DISP-OTM] are created.&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
Workflow796
Main Index
Creating the SSE Functional Mock-up Unit (F MU) in Lunar by training it with dataset (X,Y): After
training, a good SSE m odel should be able to predict Y for a yet unseen value of X with acceptable
accuracy. In essence, the linear SSE is a parametrized SE which can change its representation
instantly by changing the input parameters X.
Figure 20-3  Linear Dynamic SSE W orkflow
Figure 20-4  ODYSSEE Linear Dynamic SSE FMU
2.Consumption of SSE ( done in MSC Nastran, On-line):
The SSE will be consumed in MSC Nastran with a process that is similar to the inclusion of a Part
SE in a MSC Nastran Analysis except that a SSE is indicated by the presence of a SEBULK entry with
SETYPE=EXTROM. The SSE p arameters are specified inside the SE’s bulk data through the
presence of pairs of DESVAR/DVMREL1 or DESVAR/DVPREL1 bulk data entries.&lt;/p&gt;
&lt;p&gt;797 CHAPTER 20
Nastran Smart S uperelement
Main Index
The SSE P rocess and the User Interface
Linear Dynamic SSE G eneration
Obtaining Baseline Modes (BASELINE run)
As SSE p arameters change the eigenvalues and associated eigenvectors change too. The ordering of the
eigenvectors needs to be maintained so that the basis of reduced matrices, loads, displacement OTM do not
change from run to run while generating the SSE. Hence, the user starts by creating a base line normal modes
MSC Nastran analysis which outputs the base line mode  shapes and natural frequencies.  These base line
modes will be used while doing the DOE batch simulation and will reorder the modes as required so that the
basis of output matrices of the SSE r emains same. The baseline modes run is a traditional SOL 103 run with
the specification of MAPMODES(BASELINE) case control which specifies the .op2 FORTRAN unit
number for outputting baselines modes.
$ Assign Baseline Modes (output) .op2 to FORTRAN unit # in MSC NASTRAN FMS
assign output2 = &amp;lsquo;baseline_modes.op2&amp;rsquo;,unit=50, delete
SOL 103
CEND
$ Mapmodes(baseline) case control specifies FORTRAN unit to output
$ baseline modes&lt;br&gt;
MAPMODES(BASELINE) = 50
Mode mapping consists of a BASELINE run and any number of MAPPING runs. In the BASELINE run,
the command MAPMODES(BASELINE) = unitno  is used.
In this command unitno  is the FORTRAN unit number used by OUTPUT2 to write the baseline mode
information.
EXTSEOUT Input File
After the generation of baseline modes the user prepares the EXTSEOUT analysis file which will be used by
Lunar to generate the SSE. This file is just a traditional EXTSEOUT analysis file for the SSE c omponent,
which outputs the external superelement data to a HDF5 (instead of OP2/OP4/etc.) file supported by Lunar
as follows:
$ Assign Baseline Modes (input) .op2 to FORTRAN unit # in MSC NASTRAN FMS
assign inputt2 = &amp;lsquo;baseline_modes.op2&amp;rsquo;,unit=50
SOL 103
CEND
$ DISPLACEMENT output request is required to generate displacement OTMs
$ which will be employed in interior data recovery for the SSE
$ in the assembly run
$ Note: include all SPOINTS in the displacement output set
$ For example here 1000001-1000030 are the SPOINTS&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface798
Main Index
SET 200 = 34,566, 445,&amp;hellip;,1000001,thru,1000030
DISP=200
SPC=10
LOAD=20
METHOD=100
&amp;hellip;
$ Mapmodes(MAP) case control specifies FILE unit to input
$ Baseline modes
MAPMODES(MAP) = 50
&amp;hellip;
EXTSEOUT(ASMBULK=MANQ,EXTBULK,EXTID=20,HDF5)
BEGIN BULK
EIGRL,100,,,20
$ Retained Modal DOFs selection:
$ The mode-mapping run should request more modes
$ than the baseline run
SPOINT,1000001,THRU,1000030
QSET1,0,1000001,THRU,1000030
$ Attachment points (A-set) selection:
ASET1,123456,70801, THRU, 70850
&amp;hellip;
$ Element Property : Thickness, Tagged as SSE Parameter in Lunar
PSHELL  1       1       .56      1
$ Referenced Material Records: E, Tagged as SSE Parameter in Lunar
MAT1    1       10.E6           .3      2.588-4 1.E-6   0. .05
$ Load Vector
FORCE,20,111,,100.,1.,1.,1.
&amp;hellip;
$ Displacement Constraints
SPC1     10      123456  101     201
&amp;hellip;
ENDDATA
The EXTSEOUT input file has mode mapping enabled using the MAPMODE S(MAP) case control. The
form of the command is:
MAPMODES(MAPPING) = unitno
In this case, unitno  is the FORTRAN unit created in the BASELINE run.
The EXTSEOUT case control with HDF5 option w ill store the output matrices on a HDF5 ( .h5) file which
is required as Lunar currently only supports the import of HDF5 file from MSC Nastran, e.g.,
EXTSEOUT(ASMBULK=MANQ,EXTBULK,EXTID=20,HDF5)
After running the EXTSEOUT analysis, MSC Nastran will produce two files (.asm and .pch) that define the
necessary connection information for consuming the SSE in Assembly run. These files assume that the&lt;/p&gt;
&lt;p&gt;799 CHAPTER 20
Nastran Smart S uperelement
Main Index
connection nodes in the assembly run will have the same IDs as the grids in the reduction run. If this is not
the case, the user can modify the SEBULK entry to use the AUTO method, or manually provide the pairs.
The EXTSEOUT input file is then imported into Lunar to generate the SSE F MU using the workflow
shown in Figure 20-3.
Lunar - DOE Generator: In Lunar the user creates a design-of-experiments (DOEs) table for the
SSE i nput parameters. These DOEs should span the design space of the SSE.
Figure 20-5  Lunar - DOE Generator&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface800
Main Index
Lunar - Parser : The user then imports the EXTSEOUT file into Lunar using the MSC Nastran
parser tool. The SSE p arameters are then tagged and linked with the DOE table. A batch simulation
of DOEs is run: each experiment here uses an u pdated valid MSC Nastran input file with
parameters substituted from a column of the DOE table. The HDF5 output of each experiment is
automatically extracted to create a dataset (X = DOE, Y = HDF5 output from EXTSEOUT
analysis) for generating the SSE.
Figure 20-6  Lunar - MSC Nastran Parser&lt;/p&gt;
&lt;p&gt;801 CHAPTER 20
Nastran Smart S uperelement
Main Index
Lunar - HDF5 Import : The HDF5 output of each experiment is automatically extracted to create a
dataset (X = DOE, Y = HDF5 output from EXTSEOUT analysis) for generating the SSE u sing the
user chosen machine learning algorithm.
Figure 20-7  HDF5 Import&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface802
Main Index
Lunar - FMU Export : The generated SSE i s then exported as an FMU.
Figure 20-8  Lunar - FMU Export
Linear Dynamic SSE C onsumption in a MSC Nastran Assembly Run
The process of consuming a SSE i n MSC Nastran assembly run is similar to that of using an external SE with
the exception of specifying the parameter s of the SSE and also providing the interior bulk data entries (mesh,
material properties, element properties) for the SSE to facilitate data recovery. The user first needs to identify
the FMU of the SS E using the assign userfile statement in the file management section and associate it with
FORTRAN unit number, e.g.,
$ &amp;ldquo;STATUS = OLD, FORM=UNFORMATTED, DEFER&amp;rdquo; Options are required
ASSIGN userfile=&amp;rsquo; ssefilename&amp;rsquo;, unit=25, STATUS=OLD,
FORM=UNFORMATTED, DEFER
The ssefilename.fmu  (the .fmu extention is assumed and should not be part name provided above) is the
name of an FMU created by Lunar and 25 is the FORTRAN unit number associated with this FMU. Just
like using the external SE, assembling the SSE requires the inclusion of the .asm and .pch generated earlier.
An example of the .asm  and .pch  files defining the default SSE connections are shown below:
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&lt;/p&gt;
&lt;p&gt;803 CHAPTER 20
Nastran Smart S uperelement
Main Index
$
$ ASSEMBLY PUNCH (.ASM) FILE FOR EXTERNAL SUPERELEMENT       20
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
$
$ THIS FILE CONTAINING BULK DATA ENTRIES PERTAINING TO
$ EXTERNAL SUPERELEMENT       20 IS MEANT FOR INCLUSION
$ ANYWHERE IN THE MAIN BULK DATA PORTION OF THE ASSEMBLY RUN
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; COLUMN NUMBERS &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
$00000000111111111122222222223333333333444444444455555555556666666666777
$23456789012345678901234567890123456789012345678901234567890123456789012
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.0
SEBULK        20  EXTROM          MANUAL                25
$
SECONCT       20       0
107     107     207     207
10001    THRU   10012   10001    THRU   10012
SPOINT     10001    THRU   10012
$
$ BOUNDARY GRID DATA
$
GRID    107             6.      0.      0.                                   &lt;br&gt;
GRID    207             6.      1.      0.                                   &lt;br&gt;
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
The SEBULK bulk data entry is used to define the SSE with the TYPE field = EXTROM associate it with
the FMU above using its assigned FORTRAN unit number 25, e.g.,
$ SEID = 20 is SSE (EXTROM) with FORTRAN unit number of FMU = 25
SEBULK,20,EXTROM,,MANUAL,,,25
An example of the .pch files defining the default SSE boundary and interior data are shown below:
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$
$ STANDARD PUNCH (.PCH) FILE FOR EXTERNAL SUPERELEMENT       20
$ &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface804
Main Index
$
$ THIS FILE CONTAINING BULK DATA ENTRIES PERTAINING TO
$ EXTERNAL SUPERELEMENT       20 IS MEANT FOR INCLUSION
$ AT THE VERY END OF THE MAIN BULK DATA PORTION OF THE ASSEMBLY RUN
$
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; COLUMN NUMBERS &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
$00000000111111111122222222223333333333444444444455555555556666666666777
$23456789012345678901234567890123456789012345678901234567890123456789012
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$
BEGIN SUPER       20
$
EXTRN        107  123456     207  123456   10001       0   10002       0
10003       0   10004       0   10005       0   10006       0
10007       0   10008       0   10009       0   10010       0
10011       0   10012       0
$
$ BOUNDARY GRID DATA
$
GRID    107             6.      0.      0.                                   &lt;br&gt;
GRID    207             6.      1.      0.                                   &lt;br&gt;
$
ASET         107  123456     207  123456
$
QSET1          0   10001    THRU   10012
$
SPOINT     10001    THRU   10012
$
$ INTERIOR MESH, PROPERTIES TO FACILITATE DATA RECOVERY
$&lt;br&gt;
CQUAD4  1       1       101     102     202     201                          &lt;br&gt;
CQUAD4  2       1       102     103     203     202                          &lt;br&gt;
CQUAD4  3       1       103     104     204     203                          &lt;br&gt;
CQUAD4  4       1       104     105     205     204                          &lt;br&gt;
CQUAD4  5       1       105     106     206     205&lt;/p&gt;
&lt;p&gt;805 CHAPTER 20
Nastran Smart S uperelement
Main Index
CQUAD4  6       1       106     107     207     206                          &lt;br&gt;
GRID    101             0.      0.      0.                                   &lt;br&gt;
GRID    102             1.      0.      0.                                   &lt;br&gt;
GRID    103             2.      0.      0.                                   &lt;br&gt;
GRID    104             3.      0.      0.                                   &lt;br&gt;
GRID    105             4.      0.      0.                                   &lt;br&gt;
GRID    106             5.      0.      0.                                   &lt;br&gt;
GRID    201             0.      1.      0.                                   &lt;br&gt;
GRID    202             1.      1.      0.                                   &lt;br&gt;
GRID    203             2.      1.      0.                                   &lt;br&gt;
GRID    204             3.      1.      0.                                   &lt;br&gt;
GRID    205             4.      1.      0.                                   &lt;br&gt;
GRID    206             5.      1.      0.                                   &lt;br&gt;
MAT1    1       10.E6           .3      2.588-4 1.E-6   0. .05                   &lt;br&gt;
PSHELL  1       1       .1      1
The correct order is to include all of the .asm  files, followed by the .pch  files. Note that the .pch  files have
a BEGIN SUPER entry which means the entries after the include  .pch  will be applicable to the
superelement. If the .asm  and .pch  files are part of FMU&amp;rsquo;s /resource/mesh folder they can be included
directly in the MSC Nastran assembly run. For example if there are four SSE with FMU named
Bottom.fmu , Pillar.fmu , Front.fmu  and Roof.fmu  and these fmu&amp;rsquo;s have .asm  and .pch  files
provided in their /resource/mesh folder then these can be included directly in MSC Nastran assembly run as
follows:
BEGIN BULK
&amp;hellip;
$ SSE ASM FILES
include &amp;lsquo;Bottom/resources/mesh/nas.asm&amp;rsquo;
include &amp;lsquo;Pillar/resources/mesh/nas.asm&amp;rsquo;
include &amp;lsquo;Front/resources/mesh/nas.asm&amp;rsquo;
include &amp;lsquo;Roof/resources/mesh/nas.asm&amp;rsquo;
$ SSE PCH FILES: BEGIN SUPER&amp;rsquo;S
include &amp;lsquo;Bottom/resources/mesh/nas.pch&amp;rsquo;
include &amp;lsquo;Pillar/resources/mesh/nas.pch&amp;rsquo;
include &amp;lsquo;Front/resources/mesh/nas.pch&amp;rsquo;
include &amp;lsquo;Roof/resources/mesh/nas.pch&amp;rsquo;
The user also has the option to modify the .asm  and .pch  files and include them directly in the MSC
Nastran assembly run.&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface806
Main Index
The SSE&amp;rsquo;s input parameter should be defined in the bulk data section of the SSE ( i.e. within its BEGIN
SUPER  section ). Each parameter&amp;rsquo;s name and value is defined by a DESVAR entry. The name of the
parameter should correspond with the name of the parameter chosen while generating the SSE F MU in
Lunar. Each parameter is linked to a material or element property through the use of DVMREL1 and
DVPREL1 respectively. Therefore each SSE p arameter is completely defined within t he SE&amp;rsquo;s bulk data
through the presence of pairs of DESVAR/DVMREL1 or DESVAR/DVPREL1 bulk data entries. The input
parameter names are specified in the LABEL field of the DESVAR and  their l ength is limited to eight
characters. For example, say SSE 10 has three input parameter named {YNG, DNS, RHO} and these
correspond to {MAT1 (MID=1) Young&amp;rsquo;s Modulus, MAT1 (MID=10) Density, PSHELL (PID=2)
Thickness} then the following bulk data entry should be specified within BEGIN SUPER 10 to give them a
value {2.0+7, 0.00024, 0.085}.
BEGIN SUPER 10
$ Specify Value for Parameter Named YNG
DESVAR, 1 , YNG, 2.0+7&lt;br&gt;
$ Relate YNG to MAT1 (MID=1) Young&amp;rsquo;s Modulus
DVMREL1, 1, MAT1, 1, E
, 1, 1.0
$ Specify Value for DNS
DESVAR, 2 , DNS, 0.00024
$ Relate DNS to MAT1 (MID=10) Density
DVMREL1, 2, MAT1, 10, RHO
, 2, 1.0
$ Specify Value for THK
DESVAR, 3, THK, 0.085
$ Relate THK to PSHELL (PID=2) Thickness
DVPREL1, 3, PSHELL, 2, T
, 3, 1.0
Sample Input File for SSE c onsumption in a MSC Nastran Assembly
This section presents an abridged sample of MSC Nastran input file for consuming two SSEs  in a MSC
Nastran assembly:
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$ SSE Capability Supported in                        $
$ SOL XXX = 101, 103, 107-112                           $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
ASSIGN userfile=&amp;rsquo; SSE_1&amp;rsquo;, unit=32, STATUS=OLD,
FORM=UNFORMATTED, DEFER
ASSIGN userfile=&amp;rsquo; SSE_2&amp;rsquo;, unit=33, STATUS=OLD,&lt;/p&gt;
&lt;p&gt;807 CHAPTER 20
Nastran Smart S uperelement
Main Index
FORM=UNFORMATTED, DEFER
SOL    XXX
CEND
TITLE = SSE DEMO
SET 1 = 104,111,202,&amp;hellip;
SET 2 = 1,4,8, &amp;hellip;
DISP(PRINT)=1
STRESS(PRINT)=2
&amp;hellip;
SUBCASE 1
&amp;hellip;
SPC = 1
DLOAD = 2
&amp;hellip;
$ Main Bulk
BEGIN BULK
MDLPRM,HDF5,1
&amp;hellip;
$ SSE Assembly Entries for Main Bulk (ASM File)
include &amp;rsquo; SSE_1.asm&amp;rsquo;&lt;br&gt;
include &amp;rsquo; SSE_2.asm&amp;rsquo;&lt;br&gt;
&amp;hellip;
$ Elements and Element Properties in Residual
PSHELL   2       1      .1       1      .833333&lt;br&gt;
CQUAD4   4       2       104     105     205     &amp;hellip;
CQUAD4   5       2       105     106     206     &amp;hellip;
&amp;hellip;
$ Description of Material in Residual
MAT1    1       10.E6           .3      &amp;hellip;
&amp;hellip;
$ Nodes in Residual
GRID     105            4.       0.      0.
GRID     106            5.       0.      0.
GRID     107            6.       0.      0.
&amp;hellip;
$ Load&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
The SSE P rocess and the User Interface808
Main Index
DLOAD    2      1.      1.       6       1.       10
&amp;hellip;
$ Boundary Condition
SPC1,1,1345,101,201
$ SSE Bulk Data Entries (PCH File) which has BEGIN SUPER
include &amp;lsquo;SSE_1.pch&amp;rsquo;&lt;br&gt;
$ SSE&amp;rsquo;s Parameter Definition should be within BEGIN SUPER of SSE
$ SSE Parameter are Defined through pairs of
$ DESVAR/DVMREL1 and DESVAR/DVPREL1
$ Parameter for this SSE are (YNG, DNS, THK)
$ Specify Value for YNG
DESVAR, 1 , YNG, 2.0+7&lt;br&gt;
$ Relate YNG to MAT1 (MID=1) Young&amp;rsquo;s Modulus
DVMREL1, 1, MAT1, 1, E
, 1, 1.0
$ Specify Value for DNS
DESVAR, 2 , DNS, 0.00024
$ Relate DNS to MAT1 (MID=10) Density
DVMREL1, 2, MAT1, 10, RHO
, 2, 1.0
$ Specify Value for THK
DESVAR, 3, THK, 0.085
$ Relate THK to PSHELL (PID=2) Thickness
DVPREL1, 3, PSHELL, 2, T
, 3, 1.0
$ SSE Bulk Data Entries (PCH File)
include &amp;lsquo;SSE_2.pch&amp;rsquo;&lt;br&gt;
$ SSE&amp;rsquo;s Parameter Definition should be within BEGIN SUPER of SSE
$ Parameter for this SSE is just (THK)
$ Specify Value for THK
DESVAR, 3, THK, 0.01
$ Relate THK to PSHELL (PID=5) Thickness
DVPREL1, 3, PSHELL, 5, T
, 3, 1.0
ENDDATA&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P42</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_042/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_042/</guid>
      <description>
        
        
        &lt;p&gt;809 CHAPTER 20
Nastran Smart S uperelement
Main Index
Case Control, Bulk Data Entries and New Parameters
Case Control Commands
Instructs MSC Nastran to either write the modes from the current run to an op2 file or map the modes from
the current run to those from a prior run.
Format:
Example:
MAPMODES(BASELINE) = 50
MAPMODES(MAPPING) = 51
Remarks:
1.Mode mapping is performed in two steps. In the initial (BASELINE) run, the mode shapes and
eigenvalue table are written to an OUTPUT2 file. Otherwise, processing in the baseline run is
unchanged, except that the CLEANVEC parameter is automatically set to YES to make the
eigenvectors from repeated roots &amp;lsquo;clean&amp;rsquo; and repeatable.
2.In the second step, the eigenvalue problem is solved, then the baseline modes are read in from
UNITNO and cross-orthogonality is used to map the new modes into the same order as the baseline
modes. Once again the CLEANVEC parameter is set to YES in this run to make the eigenvectors for
repeated roots &amp;lsquo;clean&amp;rsquo;.
3.Two parameters are used in the cross-orthogonality, MINORTH O (default=0. 9) and MINORTH R
(default = 0.7). These are the criteria used in the mode-mapping. In the original modes, the cross-
orthogonality between a baseline mode and new mode must be greater than or equal to
MINORTHO in order for the mapping to occur. Residual vectors are not real modes, so the cross-
orthogonality requirement on those is MINORTH R. MAPMODES (Case) Perform mode mapping between two runs
Describer Meaning
BASELINE The current run is a baseline run and the modes from this run will be written using
OUTPUT2 to UNITNO.
MAPPING The current run will perform mode-mapping using the modes written using
OUTPUT2 to UNITNO in a previous run.
UNITNO Unit number of an OUTPUT2 or INPUTT2 file assigned to the current run.MAPMODES BASELINE
MAPPING    
   UNITNO =&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
Case Control, Bulk Data Entries and New Parameters810
Main Index
4.If the mode mapping fails, the run will terminate with a fatal message containing the values of cross
orthogonality calculated which could help guide MINORTHO and MINORTHR parameters
choices.
5.If the mode mapping succeeds, an additional eigenvalue summary table will be printed with the
subheading AFTER MODE MAPPING HAS BEEN PERFORMED. In this table, the MODE NO
is the mode number in the baseline run and the EXTRACTION ORDER is the mode number in the
mapping run. Note that the natural frequencies of the modes may not be in ascending order, as it is
possible that the mode order may change with model changes.
New option HDF5 is added to EXTSEOUT in addition to DMIGOP2/DMIGPCH/MATOP4/etc. to
support the generation of SSE by exporting the required reduced matrices, loads, displacement OTM.
Example:
EXTSEOUT(ASMBULK=MANQ,EXTBULK,EXTID=20,HDF5)
Bulk Data Entry
New option HDF5 is added to EXTSEOUT in addition to DMIGOP2/DMIGPCH/MATOP4/etc. to
support the generation of SSE by exporting the required reduced matrices, loads, displacement OTM.
Example:
$ SEID = 20 is a  SSE (EXTROM) with FORTRAN unit number of FMU = 25
SEBULK,20,EXTROM,,MANUAL,,,25
Remark:
1.TYPE = “EXTROM” indicates a smart s uperelement with FMU attached to FORTRAN unit
number specified in field=UNITNO.EXTSEOUT (Case) External Superelement Creation Specification with new HDF5 option
Describer Meaning
HDF5 Output the required reduced matrices, loads, displacement OTM The current run to
support the generation of SSE to the file to jobname.odys.h5
SEBULK Partition Superelement Connection with new SE type EXTROM
Describer Meaning
TYPE Superelement type. (Character; no Default)
EXTROM SSE. See Remark 1.&lt;/p&gt;
&lt;p&gt;811 CHAPTER 20
Nastran Smart S uperelement
Main Index
Parameters
CLEANVEC
Default=NO
CLEANVEC is used when solving for the real modes of a system. If CLEANVEC is set to YES, then if two
or modes appear to be repeated roots, the program will attempt to find a set of clean, repeatable eigenvectors
for them. As the eigenvectors of repeated roots can be any combination of the actual eigenvectors, obtaining
clean eigenvectors can make them easier to identify. In the case of SSE model creation, this is essential for
mode-mapping.
CLNVCTOL
Default = 0.01
Tolerance for fractional change in eigenvalue to be used in CLEANVEC module to determine if modes are
potential repeated roots. Input is percentage, so the default of 0.01 gives a tolerance of .0001 in the module.
F2
Default = 0.0
F2 is only used in a real eigenvalue solution. If F2 &amp;gt; 0.0, the program will perform a shift at that frequency
(Hz) and determine the number of modes below F2, then terminate.
MINORTHO
Default = 0.9
When Mode Mapping is used, this is the minimum acceptable cross-orthogonality between the baseline and
current modes. If this minimum is not met, the program will terminate with a fatal error .
MINO RTHR
Default = 0.7
When Mode Mapping is used, this is the minimum acceptable cross-orthogonality between residual vectors
in the baseline and current run. As residual vectors are not necessarily modes, the cross-orthogonality criteria
is relaxed for them.&lt;br&gt;
Guidelines and Limitations
The following guidelines and limitation are associated with the capability:
1.In the EXTSEOUT ( SSE g eneration) analysis the displacement output request is required to generate
displacement OTMs which will be employed in interior data recovery for the SSE in the assembly
run. If the size of these OTMs are very large then both the training time and time required to conduct
interior data recovery for the SSE may be long. It is therefore recommended that the user only request
the displacement at grids of interest in EXTSEOUT analysis, e .g. using,
$ Note: include all ASET and SPOINTS in the displacement output
set
$ For example here 10001 - 10020 are the SPOINTS&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
Guidelines and Limitations812
Main Index
SET 200 = 34,566, 445,&amp;hellip; ,10001, thru, 10020
DISP=200
Additionally, as shown above, please include all ASET and SPOINTS in the displacement output set
in case of conducting partial data recovery.
2.When performing the EXTSEOUT analysis (MAPPING run), it is suggested that you obtain more
modes than those obtained in the BASELINE run. The reason for this is that when you modify the
model, the natural frequencies and even the order of the modes can change and it is possible that
modes that were found in the BASELINE run might map to higher or lower frequency modes in the
MAPPING run. If all BASELINE modes cannot be mapped, the program will print messages, telling
you which BASELINE modes could not be mapped and terminate.
3.Repeating or mi rroring of a SSE is not supported. As a workaround, the user can reuse same FMU
multiple times for creating a new SSE together with a SELOC entry and a modified SECONCT
entry.
4.All the FMU files used in the assembly run should be placed in the same directory as the MSC Nastran
input file.
5.To maintain consistency between MSC Nastran Input File and the parameter values in DOE table,
it is recommended to use Nastran large field format or comma separated format.
Examples
Several examples using the SSE capability for linear dynamics are provided in  MSC Nastran Documentation
Installation  directory: tpl\odyssee (Please note, running these examples requires an existing installation of&lt;br&gt;
ODYSSEE CAE 2022.2).
The INCLUDE files referenced by the above .dat  files are in the tpl\include  directory. The basic model
is a door frame assembly with four components roof, pillar, front and bottom, refer Figure 20-9. The Pillar is
modeled as a linear dynamic SSE with three parameters and following design space:
•t [1 mm, 5 mm]
•E [78 GPa, 210 GPa]Model Description
asm_103_sse.dat SOL 103 Analysis with Pillar modeled as a SSE
asm_103_mult_sse.dat SOL 103 Analysis with each component of door
frame assembly modeled as a SSE.
asm_111_sse.dat SOL 111 Analysis with Pillar modeled as a SSE.
RLOAD1 loading.
asm_112_sse.dat SOL 112 Analysis with Pillar modeled as a SSE.
TLOAD1 loading .
asm_111_mult_sse.dat SOL 111 Analysis with each component of door
frame assembly modeled as a SSE.&lt;/p&gt;
&lt;p&gt;813 CHAPTER 20
Nastran Smart S uperelement
Main Index
• [2 g/cm3, 10 g/cm3]
The assembly model has been prepared with MPCs so that the sections connect via labeled nodes. The
boundary nodes for the Pillar are 1, 2 and 3 ( Figure 20-10) hence, it has 3 × 6 = 18 a-set DOFs. While
generating the SSE a s model parameters change (dimensions, material properties, etc.), the eigenvalues
associated with modes and the mode shapes change. This can re-order the modes in the superelement data.
MAPMODES case control is therefore employed to generate a baseline model and order all superelements
datasets generated relative to this baseline while generating the SSE.
Figure 20-9  Door Frame Assembly Components&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
Guidelines and Limitations814
Main Index
Figure 20-10  Door Frame Assembly Model with Labeled Connection Nodes
The Pillar SSE and multiple SSEs are c onsumed in a SOL 103 (normal modes), assembly analysis with Node
(labeled) 9 Fixed (see asm_103_sse.dat  and asm_103_mul_sse.dat ) and the results are
compared to modeling pillar by traditional Part SE, refer Table 20-1.
The Pillar SSE is also consumed in a SOL 111 (modal frequency response) and SOL 112 (modal transient
response), assembly analysis with Nodes 2 and 9 Fixed (see asm_111_sse.dat  and Table 20-1  Comparison SOL 103 (normal modes), Assembly Analysis
Pillar Part SE Pillar SSE All Four SSE
Mode No. Eigenvalue Eigenvalue % Error Eigenvalue % Error
1 19.8746 19.8580 0.0832 20.1640 1.4561
2 208.8707 208.7858 0.0406 213.3731 2.1556
3 340.0127 339.0568 0.2811 347.5821 2.2262
4 816.6480 816.8730 0.0276 837.5496 2.5594
5 1603.7140 1593.5430 0.6342 1615.6140 0.7420
6 4161.6420 4154.9330 0.1612 4232.4720 1.7020
7 5786.7590 5771.7760 0.2589 5911.2570 2.1514
8 37803.2600 37673.2500 0.3439 38362.2400 1.4787
9 54018.5600 53917.3600 0.1873 55104.4300 2.0102&lt;/p&gt;
&lt;p&gt;815 CHAPTER 20
Nastran Smart S uperelement
Main Index
asm_112_sse.dat ). For SOL 111 analysis RLOAD1 in -Z direction is applied to Node 6 and the
acceleration at this Node is compared to modeling Pillar by traditional Part SE, refer Figure 20-11. For SOL
112 analysis TLOAD1 in -Z direction (see Figure 20-12) is applied to Node 6 and the displacement magnitude
and Z displacement at this Node is compared to modeling Pillar by traditional Part SE, refer Figure 20-13.
Figure 20-11  SOL 111, Assembly Analysis. Comparison of using Pillar as a SSE a nd PART SE
Figure 20-12  Relative Force Applied to Node labeled 6 in -Z Direction&lt;/p&gt;
&lt;p&gt;MSC Nastran Linear Statics Analysis User’s Guide
References816
Main Index
Figure 20-13  SOL 112, Assembly Analysis. Comparison of using Pillar as a SSE a nd PART SE
References
1.MSC Nastran Superelements and Modules User’s Guide.
2.ODYSSEE CAE – Lunar User’s Guide.&lt;/p&gt;
&lt;p&gt;Main Index
MSC Nastran Dynamic Analysis User’s Guide
Chapter 21: Special Topics
21 Special Topics
Direct Matrix Input Dynamics
DMIGs, Extra Points, and Transfer Functions
Dynamic Reduction
Superelement Analysis
Nonlinear Transient Response Analysis
Nonlinear Transient Response Analysis Elements
Nonlinear Harmonic Response
Design Optimization and Sensitivity Overview
Control System Analysis
Fourier Transform
Squeeze Film Damper Nonlinear Force
Aeroelastic Analysis
Viscoelastic Material Properties
DDAM Processor&lt;/p&gt;
&lt;p&gt;Main Index
Direct Matrix Input Dynamics
If structural matrices are available externally, you can input the matrices directly into MSC Nastran without
providing all the modeling information. Direct Matrix Input  (Ch. 12) in the MSC Nastran Linear Static Analysis
User’s Guide  provides the basic overview of this capability. The extensions into dynamics will be discussed
here.
The direct matrix input feature can be used to input stiffness, mass, damping, and load matrices attached to
the grid and/or scalar points in dynamic analysis.  These matrices are referenced in terms of their external grid
IDs and are input via DMIG Bulk Data entries.  As shown in Table 21-1, there are seven standard kinds of DMIG
matrices available in dynamic analysis, but only three in statics.
The symbols for g -type matrices in mathematical format are , , , and { }.  The three
matrices K2GG, M2GG, and B2GG must be real and symmetric.  These matrices are implemented at the
g-set level (see The Set Notation System Used in Dynamic Analysis  for a description of the set notation for dynamic
analysis).  In other words, these terms are added to the corresponding structural matrices at the specified
DOFs prior to the application of constraints (MPCs, SPCs, etc.).
The symbols for p -type matrices in standard mathematical format are , , and .  The
p-set is a union of the g -set and extra points.  These matrices need not be real or symmetric.  The p -type
matrices are used in applications such as control systems.  Only the g -type DMIG input matrices are covered
in this guide.
The DMIG Bulk Data user interface is described in the DMIG Bulk Data User Interface  and the Case Control user
interface in the  DMIG Case Control User Interface  in the MSC Nastran Linear Static Analysis User’s Guide .
.Use of the DMIG entry for inputting mass and stiffness is illustrated in the DMIG Example  and in the Stiffness
Matrix Using DMIG , Mass Matrix Using DMIG , and Load Matrix Using DMIG  in the MSC Nastran Linear Static Analysis
User’s Guide .
DMIGs , Extra Points, and Transfer Functions
In dynamics modeling, we frequently need to include special nonfinite element effects such as mechanical
devices, servomechanisms, smart structures, and matrices from external structures.  These effects can usually
be included as extra terms in the system matrices along with extra degrees -of-freedom in the generalized
displacement vectors.Table 21-1  Types of DMIG Matrices in
Dynamics
Matrix G Type P Type
Stiffness K2GG K2PP
Mass M2GG M2PP
Damping B2GG B2PP
Load P2G –
Kgg2Mgg2Bgg2 Pg2
Kpp2Mpp2 Bpp2&lt;/p&gt;
&lt;p&gt;819 CHAPTER 21
Special Topics
Main Index
The major difference between extra points ( EPOINT  data) and normal scalar points ( SPOINT  data) is that the
extra points are added to the system after the finite element matrix assembly and real eigenvalue solution.&lt;br&gt;
Therefore, structural elements, constraints, and static loads may not be connected to EPOINTs.  Also, as
with scalar points, they are processed only in the residual superelement in SE formulations.
The EPOINT Set
Using standard set notation (see The Set Notation System Used in Dynamic Analysis ), the extra point set merges with
the structural degrees -of-freedom according to the following diagram:
For Direct Formulations
In direct solutions, the system matrices are formed by merging structural points and e -points into the p -set.
The actual solution matrices are assembled and added together at the reduced, d -set level.
The set logic for modal formulations is as follows:
In modal solutions the system matrices are transformed to the modal coordinates and merged with the extra
point degrees -of-freedom.  The modal coordinates include free body modes, , and flexible modes, .&lt;br&gt;
Note that the coupling between the structural motions and the extra points is only approximated by the
truncated modal solution.m
.
.
.
.
etc.
q
r
c
b
ea
dg
p
0
fe
h
0f&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DMIGs, Extra Points, and Transfer Functions820
Main Index
Modal Transformations
When extra points are included in the modal formulation, a transformation is needed between the physical
displacements and the modal coordinates.  The displacements, , are defined by the transformation
(21-1)
where:
and  are the real eigenvectors.  The loads and direct input matrices are transformed consistently with the
displacements.  For the applied loads, ,
(21-2)
Direct input matrices, K2PP , are transformed similarly in the form
(21-3)
Mass and damping matrices are also transformed similarly.
Note that the extra points remain in the modal formulation.  These are useful for modeling transfer functions,
initial conditions, and simple nonlinear functions.
Because these matrix terms couple the modal coordinates, this option is more expensive than solving the
simple uncoupled modal equations of motion.  The coupled solution requires the same type of matrix
operations as the direct method.
Direct Matrix Inputs
Since direct matrix input ( DMIG) data is covered in the MSC Nastran Linear Static Analysis User’s Guide , this section
will be brief.
For dynamics modeling, the direct input matrices are defined for the p -set of degrees -of-freedom for mass,
damping, and stiffness matrices.  The actual values are defined by the user and may represent any type of
linear solution, including fluids, electrical circuits, and external structures. However, some practical
recommendations are as follows:=up
upug
ue&amp;mdash;&amp;ndash;
ph
ue= =
phg0
0I
g
P
PhphTPp =
Khh2phTKpp2ph =
Note:   DMIG matrices are selected by the K2PP =, B2PP =, and the M2PP = Case Control commands.&lt;/p&gt;
&lt;p&gt;821 CHAPTER 21
Special Topics
Main Index
1.Use the double field bulk data format (DMIG*) if more than three significant digits of the input
values are desired.  Note that these solutions are sensitive to the precision of the matrix terms.  Use
DMAP modules, INPUTi, for full double-precision input.
2.Use the automatic selection of single- or double-precision data for the system.  The program sets the
size depending on the word size of the computer.
3.Use the symmetric matrix option if possible.  The asymmetric flag will force all operations into the
asymmetric mode, costing time and storage space.
An example problem that uses DMIG data for generating friction forces is given in Complex Eigensolutions .
Transfer Functions
The MSC Nastran transfer functions ( TF inputs) are actually a convenient method for generating special
asymmetric matrix input.  When used with extra points they can define second order operators with one
output and multiple inputs.  The basic equation defining individual TF input is
(21-4)
Here  is the dependent degree -of-freedom,  are the selected input degrees -of-freedom, and the
coefficients  and  are user -specified.
Internally, these coefficients are simply added to a single row in the matrix equation:
(21-5)
The terms are added to the matrices in the following positions:
1.All terms in a single function are added to the row of the matrices corresponding to .
2. is added to the diagonal term of .  is added to the  matrix, and  is added to the
matrix on the diagonals, respectively.
3.For each independent point , , , , and  are added to the column corresponding to
, and the row corresponding to , of the stiffness, damping, and mass matrices, respectively.
Limitations
If the TF terms are the only occupants of the  row of the matrix equation, the dynamic solution will
include the basic equation.  However, no internal checks are made for additional terms in the TF row in the
matrices or loads.  To avoid conflicts, the following rules apply:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;should be the dependent variable for only one TF.B0B1pB2p2+ +  ud
iAoiA1ipA2ip2+ +  ui + 0=
udui
A B
Mp2BpK + +  u P =
ud
B0KB1B B2
M
uiA0iA1iA2i
uiud
ud
ud&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DMIGs, Extra Points, and Transfer Functions822
Main Index
2.  should not be a component of a structural grid point unless the transfer function defines a load
(see the discussion of transfer functions below).
3.External excitation signals, dynamic loads (DLOAD), and nonlinear functions (NOLINi) may be
applied to the  point.
4.Unlike the multipoint constraints, the TF equations do not conserve energy.  The matrix terms are
not symmetric, and no reciprocity forces are generated.
Pickups  and Trans ducers
Connections to the structure may be needed for both inputs and outputs from the transfer functions.  T o
specify inputs, the structural displacements, velocities, or accelerations may be referenced on the  and&lt;br&gt;
input fields.  The  may be an extra point defining the pickup voltage.  This signal may then be processed
by a series of transfer functions (including feedback loops) until a servo generates a load on the structure.
It is recommended that the transfer function results applied to the structure be represented by a force or
moment.  An enforced displacement, velocity, or acceleration is difficult to model within the limitations
described above.
To generate a force,  on a structural point, , with a transfer function,
(21-6)
define a TF function of the form
(21-7)
The  coefficients must be zero since the structural point  is already connected to the finite elements.&lt;br&gt;
This transfer function is equivalent to adding a positive force on the right -hand side of the matrix equation.
If the force or moment is acting on an actuator with a feedback loop, include the feedback as another transfer
function.
Higher -Order Transfer Functions
In many cases the control system includes a polynomial transfer function of order greater than two and
cannot be modeled directly.  Since the TF inputs are limited to second -order polynomials, the larger
polynomials must be subdivided into several TF inputs with intermediate extra points.  For instance, if a
point, , is defined by the polynomial
(21-8)
this may be subdivided into two equations suitable for the TF format:ud
ud
Aiui
ud
Fjuj
FjA0A1pA2p2+ +  ue=
0ujA0A1pA2p2+ +  ue– 0=
Bjuj
ua
ABpCp2Dp3Ep4+ + + +  ubGpua=&lt;/p&gt;
&lt;p&gt;823 CHAPTER 21
Special Topics
Main Index
(21-9)
and
(21-10)
Here,  is an intermediate extra point which is coupled to the  degree -of-freedom in both equations.
Note that this method may produce a singular mass matrix that causes problems for certain complex
eigenvalue options.  This would occur in the example above if .  A solution is discussed in Complex
Eigensolutions .
Alternate Method
If the polynomial is available in factored form, i.e., , a series of TF transfer
functions can be used as illustrated in the following sketch.
If  is the dependent degree -of-freedom, the TF equations will be in the following form:
For polynomials in the denominator of a transfer function, use a feedback loop or coupled equations as
shown in the previous example.  See the example below for a realistic application.
Example
As an example of the general approach, consider the control system shown in Figure 21-1, which might
represent a simplified model of an optical device.  It contains many of the components found in control
systems including attitude and rate sensors, signal conditioners, and a nonlinear mechanical actuator with
local feedback.  The structure is represented in Figure 21-1 by the displacement components, which are sensed
by the control system, or to which loads are applied.
The transfer functions ( TFs) of the control system are listed in Table 21-2.  The first five transfer functions give
the outputs of the devices labeled 1 to 5 in Figure 21-1 in terms of their inputs.  TF 6 defines the force on the
structure, at point , which is a function of the input to the mechanical actuator.ABpCp2+ + ubp2ue1Gpua– + 0=
ue1DpEp2+ ub– 0=
ue1ub
E 0=
G1pG2pG3p 
ua
G1G2G3ue1ue2ub
ub
ue1G1ua– 0=
ue2G2ue1– 0=
ubG3ue2– 0=
u11&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DMIGs, Extra Points, and Transfer Functions824
Main Index
In the analysis, an extra point is assigned to each of the new variables, , &amp;hellip;, .  The coefficients of the
transfer functions, expressed by TFs 1 to 6, are listed in Table 21-3.  Note the coefficient of 0.0 for the
structural degree-of -freedom, , on TF 6.  The existing structure provides the stiffness and mass for this
displacement.u4u10
u11&lt;/p&gt;
&lt;p&gt;825 CHAPTER 21
Special Topics
Main Index
Figure 21-1  Example Control SystemMechanical
ForceStructureInput
Signal
Filter
Attitude
Sensor
Rate
Gyros
Actuator
Displacement
FeedbackSignal
Conditioner
43
2
1
6
5u6
u3
u8u11u2u1
u4u5t
u7&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DMIGs, Extra Points, and Transfer Functions826
Main Index
Table 21-2  Equations of Example Control System
Equation TF Number
1
2
3
4
5
6
Table 21-3  Transfer Function Table
Transfer
Function
No.
1 1 –A
–B
2 1 –Ru41
11p+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Apu2Bpu3+  =
u51
12p+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Ru1=
u61
13p+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;u10=
u7A0A1p +
B0B1pB2p2+ +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;Cu4Du5Eu6+ +   =
u8Gu11
14p+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
0u11ku7u8– –=
udb0b1b2uia0a1a2
u41u2
u3
u52u1&lt;/p&gt;
&lt;p&gt;827 CHAPTER 21
Special Topics
Main Index
Input Data File
The actual structure is a beam -like optical pointing device pivoting on the center.  The data file for a complex
eigenvalue analysis is shown in Listing 21-1.  The attitude sensor ( ), the first rate gyro ( ),
and a lumped mass are located on the right end ( GRID 1).  The second rate gyro is attached to the next point
(GRID 3).  The actuator is connected to the left end (GRID 11) in the  direction.  The units for the
mechanical model are millimeters, kilograms, seconds, milliNewtons, and radians.  The units for the control
system variables ( EPOINT s 4,5,6,7,8,10) are volts.
See MSC_DOC_DIR /tpl6/ dynamics/bd16tfande.dat
Listing 21-1  Data Listing for Optical Device Control System
$
$ FILE bd16tfande.dat
$
SOL 107
CEND
TITLE = CONTROL SYSTEM EXAMPLE FOR ADUG
SUBTITLE = TRANSFER FUNCTIONS AND EXTRA POINTS
LABEL = COMPLEX MODES
SPC = 10
TFL = 6
CMETHOD = 200
SDISP=ALL
BEGIN BULK
$
EIGC,200,INV,MAX,,,,,,+EIG1
+EIG1,0.0,-1.0,0.0,1200.,20.0,10
$
$ STRUCTURE IS A BOX BEAM PIVOTING AT THE CENTER3 1 –1
4
5 1 –G
6 0.0 –k
+kTable 21-3  Transfer Function Table  (continued)
Transfer
Function
No.udb0b1b2uia0a1a2
u63u10
u7B0B1B2u4
u5
u6CA0–
DA0–
EA0–CA1–
DA1–
EA1–
u84u11
u11u7
u8
u5z= u2uy=
y&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Reduction828
Main Index
GRDSET,,,,,,,1345
GRID,1,,500.0
GRID,3,,250.0
GRID,14,,0.0
GRID,15,,-250.0
GRID,11,,-500.0
CBEAM,1,1,1,3,,,1.0
CBEAM,2,1,3,14,,,1.0
CBEAM,3,1,14,15,,,1.0
CBEAM,4,1,15,11,,,1.0
PBEAM,1,1,1000.,125+6,125+6,,250.+6
MAT1,1,69.0+6,,0.3,5.0-6
$ OPTICAL DEVICE ON THE END
CONM2,6,1,,10.0,,,,,+CNM2
+CNM2,8.0+5,,4.0+5,,,4.0+5
$                   PIVOT ON THE CENTER
SPC,10,14,12
$                    EXTRA POINTS ARE VOLTAGES
EPOINT,4,5,6,7,8,10
$           TRANSFER FUNCTIONS IN ORDER
$                  RATE GYROS PICK UP VELOCITIES
TF,6,4,,1.0,0.015,,,,+TF101
+TF101,1,2,,-0.25,,,,,+TF102
+TF102,3,2,,-0.5
$                   ATTITUDE SENSOR MEASURES ROTATION RZ
TF,6,5,,1.0,0.02,,,,+TF201
+TF201,1,6,-1.2
$                   INPUT SIGNAL, E10, IS FILTERED
TF,6,6,,1.0,0.001,,,,+TF301
+TF301,10,,-1.0
$                   SIGNAL CONDITIONER COMBINES THE VOLTAGES
TF,6,7,,39.48,8.885-2,1.0-4,,,+TF401
+TF401,4,,-20.0,-0.4,,,,,+TF402
+TF402,5,,-200.0,-4.0,,,,,+TF403
+TF403,6,,100.,-20.0
$                   DISPLACEMENT FEEDBACK TO THE ACTUATOR
TF,6,8,,1.0,0.005,,,,+TF501
+TF501,11,2,-1.0
$                ACTUATOR FORCES ARE ADDED TO ROW OF STRUCTURAL MATRICES
TF,6,11,2,0.0,,,,,+TF601
+TF601,7,,-1.0+5,,,,,,+TF602
+TF602,8,,1.0+5
$                   TEMPORARILY GROUND POINT 10 WITH A DIAGONAL TERM
TF,6,10,,1.0
ENDDATA
Dynamic Reduction
Dynamic reduction is an optional numerical approach that can be used in MSC Nastran to reduce a dynamic
model to one with fewer degrees -of-freedom.  Typically, the intent of dynamic reduction is to increase the
efficiency of a dynamic solution by working with smaller matrices while maintaining the dynamic
characteristics of the system.
Dynamic reduction is used for a number of reasons.  One possible reason may be that a particular model may
be too large from a computer resource standpoint (computer runtime and/or disk space) to be solved without
using reduction.  A related issue is that the model may have more detail than required.  Many times dynamic
analyses are performed on models that were initially created for detailed static stress analyses, which typically&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P43</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_043/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_043/</guid>
      <description>
        
        
        &lt;p&gt;829 CHAPTER 21
Special Topics
Main Index
require refined meshes to accurately predict stresses.  When these static models are used in a dynamic analysis,
the detailed meshes result in significantly more detail than is reasonably required to predict the natural
frequencies and mode shapes accurately.
Two methods are available in MSC Nastran for the dynamic reduction of the eigenequation prior to modal
extraction:  static condensation  (also called Guyan reduction ) and dynamic reduction (also called component
mode synthesis).  Once the natural frequencies and mode shapes are calculated for the reduced model, these
modes can be used in the transient or frequency response solution process.
Static Condensation
In the static condensation process you select a set of dynamic DOFs called the a -set; these are the retained
DOFs that form the analysis set.  The complementary set is called the o -set and is the set of DOFs that are
omitted from the dynamic analysis through a reduction process.  The process distributes the o -set mass,
stiffness, and damping to the a -set DOFs by using a transformation that is based on a partition of the stiffness
matrix (hence the term static condensation).  This reduction process is exact only for static analysis, which
leads to approximations in the dynamic response.  The a -set DOFs are defined by the ASET or ASET1  Bulk
Data entires, and the o -set DOFs are defined by the OMIT or OMIT1  Bulk Data entries.
Dynamic Reduction
Dynamic reduction offers a more accurate solution by including an approximation of the dynamic effects
when forming the transformation.  Bulk Data entries for dynamic reduction are BSET, BSET1 , CSET, CSET1 ,
QSET, and QSET1 .
It is emphasized that dynamic reduction is an optional technique and is best left to the dynamic analysis
specialist.  Whereas dynamic reduction was required in the days of small computer memory and disk space,
now it is no longer required due to increased computer resources and better eigenanalysis methods (in
particular, the Lanczos method).
Theoretical Basis for Reduction Methods
In the following development we will start from the full -size structural matrix equations and derive the
equations for Static Condensation , Guyan Reduction , Dynamic Reduction , and Component Mode
Synthesis .  These operations will apply to both single structures and superelement models.  We will also try
to explain the physical consequences of the assumptions involved in reducing the systems.
Definition
The basic dynamic equation before reduction is given in the  set (after SPC and MPC constraints have been
applied, but before DMIGs and extra points).  The standard matrix equation to be reduced is:
(21-11)uf
MaaMao
MoaMoou··a
u··o BaaBao
BoaBoou·a
u·o KaaKao
KoaKooua
uo+ +Pa
Po=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Reduction830
Main Index
where:
Note that all free -body motions must be included in the  partition.  Otherwise,  will be singular.&lt;br&gt;
The bar quantities ( , etc.) indicate unreduced values.
Statics
For statics problems, we may ignore the mass and damping effects and solve the lower partition of Eq. (21-11)
for :
(21-12)
The two parts of Eq. (21-12) become the Guyan matrix  and the static corrective displacement :
(21-13)
(21-14)
The exact static solution system is obtained by substituting Eq. (21-12) through Eq. (21-14) into the upper
partition terms of Eq. (21-11), resulting in the reduced equations used in the static solution
(21-15)
and
(21-16)
where:&lt;br&gt;
(21-17)
(21-18), , =the displacements, velocities, and accelerations of the analysis (a) set, to be retained.
, , =the displacements, velocities, and accelerations of the omit (o) set, to be eliminated.
M, B, K =the mass, damping, and stiffness matrices (assumed to be real and symmetric).
, =the applied loads.uau·au··a
uou·ou··o
PaPo
uaKoo
P
uo
uo Koo1–Koaua Po +   –=
Gouoo
Go Koo1–Koa –=
uoo Koo1–Po =
Kaaua Pa =
uo Goua uoo + =
Kaa KaaKaoGo + =
Pa Pa GoTPo + =&lt;/p&gt;
&lt;p&gt;831 CHAPTER 21
Special Topics
Main Index
In actual practice the size of the  set is usually small compared to , but the reduced matrices are dense,
resulting in no savings in cost.  The savings in solving Eq. (21-15) are usually offset by the costs of calculating
and .&lt;br&gt;
However, for dynamics, we also may approximate the vectors  and  to reduce the order of the system.&lt;br&gt;
A good place to start is to use the static properties.  From Eq. (21-16), define the transformation
(21-19)
where:
(21-20)
(21-21)
Here  are the incremental displacements relative to the static shape.  The system described in Eq. (21-11)
may be transformed to the new coordinates with no loss of accuracy.  The stiffness matrix in the transformed
system is
(21-22)
Performing the multiplication and substituting Eq. (21-13) results in
(21-23)
Although the stiffness matrix becomes decoupled, the mass and damping matrices tend to have more
coupling than the original system.  Since the damping terms have the same form as the mass, we will not
include them here.  The exact transformed system becomes
(21-24)
where:uauo
Gouoo
u··ou·o
ufua
uoHfuf = =
ufua
uoo=
HfI0
GoI=
uoo
KffIGoT
0IKaaKao
KoaKooI0
GoI=
KffKaa0
0Koo=
MaaMao
MoaMoou··a
u··o Kaa0
0Kooua
uo+Pa
Po=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Reduction832
Main Index
(21-25)
(21-26)
(21-27)
The damping matrix terms of  are similar in form to the mass matrix partitions.  An alternative derivation
which does not rely on symmetric transformation is given below.  Starting from Eq. (21-11) through Eq.
(21-18), we may estimate the acceleration effects of the omitted points by the equation
(21-28)
Substituting Eq. (21-28) into the lower partition of Eq. (21-11), and solving for , with damping neglected,
we obtain the approximation
(21-29)
Substituting Eq. (21-13) for  and Eq. (21-26) for the mass terms into Eq. (21-29), we obtain
(21-30)
Substituting Eqs. (21-28) and (21-30) into the upper half of Eq. (21-11) (ignoring damping), we obtain
(21-31)
Combining the terms, we obtain the same results as Eq. (21-24) through Eq. (21-27).
The significance of this exercise is to show that the Guyan transformation has very interesting properties,
namely:
1.The approximation occurs only on the acceleration terms Eq. (21-28).
2.The stiffness portion of the reduced system is exact.
3.The interior displacements defined by Eqs. (21-30) and (21-24) are nearly identical.
The significant aspects of the partially decoupled system described by Eqs. (21-19) through (21-31) are that
most of the MSC Nastran reduction methods are easily developed from this form and the approximations are
conveniently explained in these terms.  The Guyan reduction, the Dynamic reduction process, and the modal
synthesis methods are described below.
Guyan Reduction
In the MSC Guyan reduction process, the omitted relative accelerations, , in Eq. (21-24) are approximated
by Eq. (21-28) and the solution system isMaa MaaMaoGoGoTMoaMooGo+  + + =
Mao MoaT MaoGoTMoo + = =
Moo Moo =
Bff
u··o Gou··a 
uo
uo Koo1–Po Koaua MoaMooGo+ u··a – –  
Koa
uo GouaKoo1–Po Moau··a –  + 
MaaMaoGo+ u··a KaaKaoGo+ ua KaoKoo1–MoaMooGo+ u··a – +
Pa KaoKoo1–Po – =
u··oo&lt;/p&gt;
&lt;p&gt;833 CHAPTER 21
Special Topics
Main Index
(21-32)
The system described by Eq. (21-28) has several desirable properties.  The overall mass and center of gravity
properties are preserved in the mass matrix.  Also note that the static stiffness is exact.  If accelerations occur,
the errors may be estimated by solving for  after  is obtained.  The omitted points, , could be
recovered by solving the lower part of Eq. (21-24).
However, in most applications, the stiffness terms of Eq. (21-24) dominate and the normal modes of the
omitted degrees -of-freedom are of higher frequency than the solution set.  Therefore, we may ignore the
left-hand mass and solve for  directly from Eq. (21-12) by the equation
(21-33)
The errors in Eq. (21-33) are proportional to the vector , which becomes small when the individual
masses and applied loads in the omit set are small.  Because of the same assumption, the errors of the upper
half of Eq. (21-24) are also small.  (In MSC Nastran,  is neglected in the dynamic data recovery process.)
General Dynamic Reduction
In most applications, dynamic reduction is used directly to find the modes of the  set and no  points
are retained.  The method then becomes a straightforward Rayleigh -Ritz/Lanczos procedure.  However, it is
a recommended practice in MSC Nastran to extend the  set to include any large masses to avoid numerical
roundoff problems and provide more accurate results.
Approximate Mode Shapes
If  grid point displacements are retained in the dynamic reduction process, the  set is approximated
by a set of generalized coordinates, , where
(21-34)
where  are a set of approximate eigenvectors or natural shapes.  In its simple form (where in these
solution sequences  includes  and the previous equations for the  set are replaced by the
set) with  replacing , the dynamic reduction transformation corresponding to
Eq. (21-29) is
(21-35)Maau··a Kaaua + Pa =
uoouauoo
uo
uo Goua =
uoo
uoo
ufua
ua
uauoo
uq
uoooquq 
oq
uauqua
utubucur+ + = utua
ut
uo I0
Gooqut
uq=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Dynamic Reduction834
Main Index
The transformed matrix system is then
(21-36)
where  is defined by Eq. (21-25) with  replacing , as follows:
(21-37)
(21-38)
(21-39)
(21-40)
(21-41)
(21-42)
Error Analysis
Note that, as in Guyan Reduction, the exact static stiffness is retained.  If accelerations exist, errors will occur
when the modal displacements do not match the exact solution for .  Assume that the displacement error,
, is:
(21-43)
The modal force error is
(21-44)
However, from Eq. (21-24), we obtain
(21-45)
and from the lower half of Eqs. (21-36) and (21-40) through (21-42), we obtain
(21-46)
Substituting Eqs. (21-45) and (21-46) into (21-44), we obtainMttMtq
MqtMqqu··t
u··q Ktt0
0Kqqut
uq+Pt
Pq=
Mttutua
Mtq MotToqGoTMoooq + =
MqqoqtMoooq  =
Ktt KttKtoGo + =
KqqoqTKoooq  =
Pt Pt GoTPo + =
PqoqTPo =
uoo
o
ooquq uoo – =
qoqTKooo KqquqoqTKoouoo – = =
Koouoo Po Moou··oo – Motu··t – =
KqquqoqTPooqTMoooq u··qoqTMotu··t – – =&lt;/p&gt;
&lt;p&gt;835 CHAPTER 21
Special Topics
Main Index
(21-47)
Therefore, we observe that the loading errors for dynamic reduction will be proportional to the size of the
omitted masses, , and with the quality of the approximation
(21-48)
Relative to Eq. (21-47), the equivalent load error for Guyan reduction was
(21-49)
Even when the mode shapes are only approximate, as in Dynamic reduction, we conclude that the results
(for the same  set) will be improved from the Guyan results.  However, note that when a  set is not
used, the modes of the  system have the same lower frequencies as the system modes and the
approximation might not improve.  In other words, the use of physical  points in the dynamic reduction
process combines the best parts of both Guyan and Rayleight -Ritz reductions.
Component Mode Synthesis
In MSC Nastran, the Component Mode Synthesis procedure is identical to the Dynamic reduction process
except that:
1.The approximate eigenvectors are replaced with results from the module which calculates modes of
the superelement.
2.Boundary set points ( , , or ) will be retained for connection to other superelements.
3.Special operations are performed for free -body motions.
Note that in Guyan Reduction the relative displacements, , for the omitted point are only approximated
in dynamics.  In the dynamic reduction and modal synthesis methods, interior results are obtained by solving
for its eigenvector displacements and added directly into the matrix solution system.
A special case, known as the inertia relief effect, occurs when the structural component is excited at low
frequencies (below the first modal frequency).  The effect is defined by Eq. (21-30) when  is a low
frequency excitation, having little effect on the vibration modes, resulting in a relative quasi -static
displacement, , where
(21-50)qoqTMoou··oo
oqu··q –
   =
Moo
u··ooqu··q 
o Moou··oo =
uout
uoo
ut
utucur
uoo
u··a
uoo
uoo Koo –1–Moau··a =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Superelement Analysis836
Main Index
The displacement vector is called the inertial relief shape when  is a rigid body acceleration vector.  It may
cause a significant redistribution of the internal forces in the structure.
In the solution of a single structural component, the inertia relief effects may be obtained after the solution,
, is obtained.  However, for multiple superelements connected at the  boundary points, the load
distributions on the boundary will be affected by these internal loads.  Note that the errors defined in Eqs.
(21-33) and (21-44) will be affected since the eigenvectors may only approximate the vectors defined in Eq.
(21-47).
The solution used in MSC Nastran provides for inertia relief modes by adding six vectors to the
approximation set .  These vectors are obtained from Eq. (21-50) and use the equation:
(21-51)
where  is a matrix of six rigid body motions defined by the grid point geometry.  Each column of the
matrix  is scaled to a reasonable value and added to the  matrix, and a corresponding  displacement
is also included.
Superelement Analysis
Superelement analysis  is a form of substructuring  wherein a model is divided into pieces with each piece
represented by a reduced stiffness, mass, and damping matrix.  Each superelement is processed individually,
and the solutions are then combined to solve the entire model.  The final analysis (in which all of the
individual superelement solutions are combined) involves much smaller matrices than would be required if
the entire model were solved in a one -step process.  An example of a superelement model is shown in
Figure 21-2.
Superelement analysis has the advantage of reducing computer resource requirements, especially if changes
are made to only one portion (superelement) of the model; in this case, only the affected superelement needs
to be reanalyzed and the final analysis repeated.
Superelement analysis presents procedural advantages as well, particularly when multiple engineering
contractors are involved in an analysis.  Imagine a model of a rocket and payload:  one contractor models the
booster, another contractor models the engines, and another contractor models the satellite.  Each contractor
can reduce his model to its boundary degrees -of-freedom, which is suitable for superelement analysis.  The
systems integrator then combines these reduced models into one model for a liftoff analysis.  Superelement
analysis has the advantage that matrices can be passed from one organization to another without revealing
proprietary modeling details or concern about whether the same superelement interior grid point and
element numbers are used by every participant.u··a
uaut
o
oir Koo1–MoaDa =
Da
oirouq&lt;/p&gt;
&lt;p&gt;837 CHAPTER 21
Special Topics
Main Index
Figure 21-2  Superelements Used to Model a Car Door
Component Modal Synthesis
Component modal synthesis  (CMS) is a form of superelement dynamic reduction wherein matrices are
defined in terms of modal coordinates (corresponding to the superelement modes) and physical coordinates
(corresponding to the grid points on the superelement boundaries).  CMS is advantageous because there are
fewer modal coordinates than physical coordinates—perhaps only one percent as many.  In addition, CMS
can utilize modal test data, thereby increasing the accuracy of the overall analysis.
Acceleration Method
If the acceleration is uniform over the structure, a time-dependent gravity load has exactly the same form as
the last term of Eq. (2-21), and the GRAV input load data may be used.
An example data input for a dynamic acceleration load is shown below.
Case Control
LOADSET (Case)  = 20 $ Requests LSEQ Id. 20 Process
DLOAD (Case)  = 200 $ Requests Dynamic Load #200
Bulk Data&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Superelement Analysis838
Main Index
The net result is that the time -dependent inertia loads are applied to all points on the structure in the -x
direction in proportion to the time-dependent function specified on the TLOADi or RLOADi Bulk Data
entry.  The base points should be constrained and the displacements will be calculated relative to the moving
base. However, note that the accelerations output from the solution will also be relative to the base motion
and should be corrected before being compared with accelerometer data.
A simpler alternative to base motion is the large mass approach , described in Enforced Motion with Loads .
Automatic Q-Set ( AUTOQSET )
Component modes (or dynamic reduction) are computed if the following items are defined in the input file:
1.Mass is present
2.EIGR or EIGRL  Bulk Data entry is requested by METHOD  (Case)  command (or PARAM,METHCMRS)
3.Generalized coordinates (q-set degrees-of-freedom) are defined
The q-set DOFs are defined on QSETi entries (SEQSETi for superelements) and associated SPOINT  or GRID
entries.  It is the user’s responsibility to define a sufficient number of q-set DOFs to capture all of the
eigenvectors in the desired frequency range defined on the EIGR or EIGRL entry and residual vectors.  If too
few q-set DOFs are defined then modal truncation occurs and accuracy may suffer.  If too many then the
dynamically reduced matrices will have null columns for the unused q-set DOFs and may result in a
performance degradation.
The user may replace all q-set related Bulk Data entries with the user parameter PARAM, AUTOQSET ,YES.  The
number of component modes computed is determined by the frequency range and/or number of desired
eigenvectors specified on the selected EIGR or EIGRL Bulk Data entry.
Since the generalized coordinates are automatically defined, the following entries may not be specified:&lt;br&gt;
QSETi, SEQSETi, SENQSET, or PARAM,NQSET .  Also, those GRID and/or SPOINT entries used to
define the q-set may be left in the Bulk Data Section but it is recommended that they be removed.
In superelement analysis, the calculation of component modes is attempted on all superelements including
the residual structure. Also, all generalized coordinates for all superelements will become interior to the
residual structure and also assigned to the q-set in the residual structure.  In other words, component modes
may not be assigned interior to a superelement and they may not be removed (constrained).
This feature is currently not supported with:
1.Multiple boundary conditions
2.Design optimization (SOL 200)
3.Aerodynamic analyses (SOLs 144, 145, 146)GRAV, 386,  , 386.4, -1.0 $ Defines Gravity Load in -x direction
LSEQ, 20, 201, 386 $ Assembles GRAV load vector
$ Added to DAREA Id. 201
TLOAD1 , 200, 201, etc. $ Dynamic Load using DAREA Id. 201Case Control&lt;/p&gt;
&lt;p&gt;839 CHAPTER 21
Special Topics
Main Index
4.Cyclic symmetry analyses (SOLs 114, 115, 116, 118)
5.Restarts
Example
In the following example the user defines six q-set DOFs for natural frequencies up to 1200 cycles per unit
time.
SOL 103
DIAG 8,15
CEND
TITLE= AUTOQSET DEMONSTRATION PROBLEM                          &lt;br&gt;
SUBTITLE= TWENTY CELL BEAM
SPC=1002
METHOD=1
BEGIN BULK
EIGRL11200.
QSET1   0       101     THRU    106
SPOINT  101     THRU    106
GRID    10000           0.0     0.0     0.0             1246
=       *(1)    =       *(5.)   == $
=(19)
CBAR    101     100     10000   10001   0.0     0.0     1.      1
=       *(1)    =       *(1)    *(1)    == $
=(18)
PBAR    100     1000    0.31416 0.15708
MAT1    1000    3.+7            .3      7.764-4
SPC     1002    10020   3               10000   3
ENDDATA
The results of the f06 show that six q-set are insufficient to capture the residual vectors as shown by the
messages below:
R E A L   E I G E N V A L U E S
(BEFORE AUGMENTATION OF RESIDUAL VECTORS)
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.881936E+04        1.371837E+02        2.183346E+01        1.000000E+00        1.881936E+04
2         2        3.011058E+05        5.487311E+02        8.733327E+01        1.000000E+00        3.011058E+05
3         3        1.524259E+06        1.234609E+03        1.964941E+02        1.000000E+00        1.524259E+06
4         4        4.816616E+06        2.194679E+03        3.492940E+02        1.000000E+00        4.816616E+06
5         5        1.175494E+07        3.428547E+03        5.456702E+02        1.000000E+00        1.175494E+07
6         6        2.435711E+07        4.935292E+03        7.854762E+02        1.000000E+00        2.435711E+07
7         7        4.506449E+07        6.713009E+03        1.068409E+03        1.000000E+00        4.506449E+07
^^^  &lt;br&gt;
^^^ USER   WARNING MESSAGE 9144 (SEMR4)
^^^ THERE ARE NO Q-SET DEGREES-OF-FREEDOM LEFT TO ACCOMMODATE ANY   RESIDUAL VECTORS.&lt;br&gt;
^^^ USER INFORMATION:   NO RESIDUAL VECTORS WILL BE COMPUTED.&lt;br&gt;
^^^ USER ACTION:    SPECIFY AT LEAST            6 MORE Q-SET DEGREES-OF-FREEDOM.&lt;br&gt;
^^^  &lt;br&gt;
^^^  &lt;br&gt;
^^^ USER   WARNING MESSAGE 9145 (  RESLOAD ) &lt;br&gt;
^^^ THERE ARE NOT ENOUGH Q-SET DEGREES-OF-FREEDOM DEFINED TO    ACCOMMODATE ALL OF THE COMPUTED EIGENVECTORS AND/OR RESIDUAL   &lt;br&gt;
VECTORS. &lt;br&gt;
^^^ USER INFORMATION:   THE LAST            1 MODE(S) ABOVE WILL BE TRUNCATED. &lt;br&gt;
^^^ USER ACTION:    SPECIFY AT LEAST            1 MORE Q-SET DEGREES-OF-FREEDOM.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Superelement Analysis840
Main Index
If we replace the QSETi and SPOINT entries with PARAM,AUTOQSET ,YES:
SOL 103
DIAG 8,15
CEND
TITLE= AUTOQSET DEMONSTRATION PROBLEM                          &lt;br&gt;
SUBTITLE= TWENTY CELL BEAM
SPC=1002
METHOD=1
BEGIN BULK
EIGRL11200.
PARAM,AUTOQSET,YES
GRID    10000           0.0     0.0     0.0             1246
=       *(1)    =       *(5.)   == $
=(19)
CBAR    101     100     10000   10001   0.0     0.0     1.      1
=       *(1)    =       *(1)    *(1)    == $
=(18)
PBAR    100     1000    0.31416 0.15708
MAT1    1000    3.+7            .3      7.764-4
SPC     1002    10020   3               10000   3
ENDDATA
Then the results show that all of the eigenvectors and the residual vectors are now computed. R E A L   E I G E N V A L U E S
(BEFORE AUGMENTATION OF RESIDUAL VECTORS)
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.881936E+04        1.371837E+02        2.183346E+01        1.000000E+00        1.881936E+04
2         2        3.011058E+05        5.487311E+02        8.733327E+01        1.000000E+00        3.011058E+05
3         3        1.524259E+06        1.234609E+03        1.964941E+02        1.000000E+00        1.524259E+06
4         4        4.816616E+06        2.194679E+03        3.492940E+02        1.000000E+00        4.816616E+06
5         5        1.175494E+07        3.428547E+03        5.456702E+02        1.000000E+00        1.175494E+07
6         6        2.435711E+07        4.935292E+03        7.854762E+02        1.000000E+00        2.435711E+07
^^^ USER   WARNING MESSAGE 9144 (SEMR4)
^^^ THERE ARE NO Q-SET DEGREES-OF-FREEDOM LEFT TO ACCOMMODATE ANY   RESIDUAL VECTORS.&lt;br&gt;
^^^ USER INFORMATION:   NO RESIDUAL VECTORS WILL BE COMPUTED.&lt;br&gt;
^^^ USER ACTION:    SPECIFY AT LEAST            6 MORE Q-SET DEGREES-OF-FREEDOM.
R E A L   E I G E N V A L U E S
(BEFORE AUGMENTATION OF RESIDUAL VECTORS)
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.881936E+04        1.371837E+02        2.183346E+01        1.000000E+00        1.881936E+04
2         2        3.011058E+05        5.487311E+02        8.733327E+01        1.000000E+00        3.011058E+05
3         3        1.524259E+06        1.234609E+03        1.964941E+02        1.000000E+00        1.524259E+06
4         4        4.816616E+06        2.194679E+03        3.492940E+02        1.000000E+00        4.816616E+06
5         5        1.175494E+07        3.428547E+03        5.456702E+02        1.000000E+00        1.175494E+07
6         6        2.435711E+07        4.935292E+03        7.854762E+02        1.000000E+00        2.435711E+07
7         7        4.506449E+07        6.713009E+03        1.068409E+03        1.000000E+00        4.506449E+07
R E A L   E I G E N V A L U E S
(AFTER AUGMENTATION OF RESIDUAL VECTORS)
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.881936E+04        1.371837E+02        2.183346E+01        1.000000E+00        1.881936E+04
2         2        3.011059E+05        5.487311E+02        8.733327E+01        1.000000E+00        3.011059E+05
3         3        1.524259E+06        1.234609E+03        1.964941E+02        1.000000E+00        1.524259E+06
4         4        4.816615E+06        2.194679E+03        3.492940E+02        1.000000E+00        4.816615E+06
5         5        1.175493E+07        3.428547E+03        5.456702E+02        1.000000E+00        1.175493E+07
6         6        2.435711E+07        4.935292E+03        7.854761E+02        1.000000E+00        2.435711E+07
7         7        4.506449E+07        6.713009E+03        1.068409E+03        1.000000E+00        4.506449E+07
8         8        9.003539E+07        9.488698E+03        1.510173E+03        1.000000E+00        9.003539E+07
9         9        1.442988E+08        1.201244E+04        1.911840E+03        1.000000E+00        1.442988E+08&lt;/p&gt;
&lt;p&gt;841 CHAPTER 21
Special Topics
Main Index
Nonlinear Transient Response Analysis
The analysis techniques described thus far are applicable for linear -elastic analysis for which the mass,
stiffness, and damping matrices are constant over time and constant for all values of applied force.  However,
there are many cases for which the matrices are not constant, and these cases must be solved with nonlinear
analysis techniques.
Nonlinear analysis requires iterative solution methods, thereby making it far more computationally intensive
than a corresponding linear analysis.  Nonlinear transient response analysis is available in MSC Nastran in
SOL 129 (preferred).  Nonlinear problems are classified into three broad categories:  geometric nonlinearity,
material nonlinearity, and contact.
The geometric nonlinearity becomes discernible when the structure is subjected to large displacement and
rotation.  Geometric nonlinear effects are prominent in two different aspects: (1) geometric stiffening due to
initial displacements and stresses, and (2) follower forces due to a change in loads as a function of
displacements.  These effects are included in the current release of MSC Nastran, but the large deformation
effect resulting in large strains is yet to be implemented.
Material nonlinearity is an inherent property of any engineering material. Material nonlinear effects may be
classified into many categories.  Included in the current release of MSC Nastran are plasticity, nonlinear
elasticity, creep, and viscoelasticity.  Creep and viscoelasticity, implemented as a generalized nonlinear
viscoelastic capability, may be coupled with plasticity.  Many sophisticated options are available for yield
criteria and hardening behavior in plasticity.
The primary solution operations are load and time steps, iterations with convergence tests for acceptable
equilibrium error, and stiffness matrix updates.  The iterative process is based on the modified -Newton’s
method combined with optional methods such as the quasi -Newton (BFGS) update and the line search.  The
tangent matrix updates are performed automatically to improve the computational efficiency, and may be
overridden at the user’s discretion.
For static analysis, a number of options such as arc -length methods is available for snapthrough or
post-buckling analysis.  For the transient response analysis, a number of options is available for implicit direct
time integration, combined with adaptive and other iteration strategies similar to those implemented for
static analysis.
The adaptive method is implemented using the two -point recurrence (or one -step) formula as its foundation.&lt;br&gt;
The optimum time step size, which is required for accuracy and efficiency, changes continuously in the
transient dynamic environment.  The primary concept of automatic time step adjustment is that the proper
size of the time step can be predicted based on the dominant frequency in the incremental deformation
pattern at the previous time step.  This concept presents a deficiency of time lag involved in the prediction
process.  Furthermore, changes in nonlinearity cannot be predicted from the deformation pattern at the
previous time step.  This deficiency is overcome by the bisection process, which is activated when any
difficulties arise in terms of convergence during the iteration.
Geometric Nonlinearity
Geometrically nonlinear problems involve large displacements; “large” means that the displacements
invalidate the small displacement assumptions inherent in the equations of linear analysis.  For example,
consider a thin plate subject to an out -of-plane load.  If the deflection of the plate’s midplane is approximately&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis842
Main Index
equal to the thickness of the plate, then the displacement is considered large, and a linear analysis is not
applicable.
Another aspect of geometric nonlinear analysis involves follower forces.  Consider a clamped plate subject to
a pressure load.  As shown in Figure 21-3, the load has followed the plate to its deformed position.  Capturing
this behavior requires the iterative update techniques of nonlinear analysis.
Figure 21-3  Follower Forces on a Cantilever Beam
Material Nonlinearity
Material nonlinear analysis can be used to analyze problems where the stress -strain relationship of the material
is nonlinear.  In addition, moderately large strain values can be analyzed.  Examples of material nonlinearities
include metal plasticity, materials (such as soils and concrete), and rubbery materials (where the stress -strain
relationship is nonlinear elastic).  Various yield criteria, such as Von Mises or T resca (for metals) and
Mohr -Coulomb or Drucker -Prager (for frictional materials, such as soils or concrete), can be selected.  Three
hardening rules are available in MSC Nastran:  isotropic hardening, kinematic hardening, or combined
isotropic and kinematic hardening.  With such generality, most plastic material behavior with or without the
Bauschinger effect can be modeled.  In addition, gaps can be used to model the effects due to structural
separation.
Contact
Contact occurs when two or more structures (or portions of structures) collide.  Contact can be modeled as
point -to-point contact ( CGAP) or as contact along a line ( BLSEG ).
Nonlinear -Elastic Transient Response Analysis
There are numerous structures that contain nonlinear elastic elements.  These elements possess nonlinear
force -deflection relationships, yet they are elastic since they load and unload along the same force -deflection
curve.  Examples of the nonlinear elastic force -deflection curves are shown in Figure 21-4.  These types of
elements are common in many mechanical and structural systems including piping systems supported by
nonlinear springs, chains (stiffness in tension only), or constant force devices; base -mounted equipment and
structure supported by nonlinear shock isolation systems; structures with gaps (piping systems and
buildings); and soil or concrete structures (which only exhibit stiffness when in compression).  Other systems
exhibit nonlinearities that are proportional to the velocity, such as seat belts and piping supports.&lt;/p&gt;
&lt;p&gt;843 CHAPTER 21
Special Topics
Main Index
Figure 21-4  Examples of Nonlinear Elastic Systems
There are several methods in MSC Nastran for solving nonlinear elastic problems.  A general nonlinear
solution scheme can be used, in which the material properties are specified as nonlinear elastic (NLELAST
on the MATS1  entry).  Nonlinear element stiffness matrices are generated, and equilibrium iterations and
convergence checks are required at each load step.  The CBUSH  element adds some capabilities in this area,
also.  In addition, gap elements ( CGAP) can be used in conjunction with elastic elements to produce systems
with piece -wise linear force -deflection curves.  This process also requires the additional computations of
nonlinear element stiffness matrix generation, equilibrium iteration, and convergence testing.  Nonlinear (a)  Bilinear Spring(b)  Preload Constant Force Device with
Hard Stop
(c)  Gap and Spring in Series (d)  Stiffness in Compression Only
(e)  Softening System =(f)  Hardening SystemForce
Displacement
Force
DisplacementForce
Displacement
Force
DisplacementForce
Displacement
Force
Displacement&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis844
Main Index
analyses requiring these additional computations can be substantially more costly than an equivalent linear
analysis even if the nonlinearities are relatively few in number.
An efficient technique called the pseudoforce method exists in MSC Nastran, in which the localized
nonlinearities are treated so that they require no additional computer time when compared to a purely linear
analysis.  In this method, which is available only for transient response solutions (SOLs 109  and 112 , for
example), deviations from linearity are treated as additional applied loads.  The dynamic equations of motion
are written as
(21-52)
where , , and  denote the system mass, damping, and stiffness matrices, respectively.  The
vectors  and  denote applied nodal loads and system displacements, respectively, as
functions of time.  The vector  denotes the nonlinear forces, which are added to the right -hand side
of Eq. (21-52) (and hence are treated as additional applied loads).
The nonlinear forces are evaluated at the end of one time step for use in the successive time step.  The
equations of motion therefore become the following:
(21-53)
Note that the nonlinear force lags the true solution by a time step, which may require using small integration
time steps (i.e., smaller than those required for a purely linear analysis). Equation (21-53) can be solved in
physical or modal coordinates (the nonlinearity itself must be expressed in terms of physical coordinates).
A nonlinear force can be used in conjunction with a linear elastic element to produce the desired
force -deflection curve as illustrated in Figure 21-5.  The nonlinear dynamic force is formulated using a
NOLINi  entry and a TABLEDi entry, which contains a force -versus -deflection table describing the nonlinear
force.  For desired force -deflection curves more complicated than the bilinear stiffness shown in the figure,
the nonlinear force is made correspondingly more complex.
Figure 21-5  Formulation of a Nonlinear ElementMu··t Bu·t Kut + + Pt Nt + =
MB K
Pt ut
Nt
Mu··t Cu·t Kut + + Pt Ntt–  + =
= +
= +Nonlinear
ElementElastic
ElementNonlinear
ForceForce
Displacement
Force
Displacement
Force
Displacement&lt;/p&gt;
&lt;p&gt;845 CHAPTER 21
Special Topics
Main Index
Nonlinear Load Functions (NOLINi)
The nonlinear load functions ( NOLIN1 ,2,3,4) are available in all of the transient solutions for the purpose of
generating direct forces from simple displacement and velocity functions.  This is a mature capability in MSC
Nastran that preceded the development of the material and geometric nonlinear capabilities.  It was intended
to provide a direct method for modeling certain mechanisms and special effects at the local level where only
a few degrees-of -freedom are coupled.  It is not intended for general nonlinear analysis since the logic cannot
detect geometric changes and has no means of using element stresses or forces.
The main applications for the NOLINi  functions are for local devices such as contact problems, joints, and
nonlinear dampers.  For each nonlinear force component, the dependencies with displacement and velocity
degrees -of-freedom are explicitly defined on one or more bulk data entries.
The limitations on the use of these functions are caused primarily by their simplicity.  These limitations are:
1.They have no memory or other path dependencies.  Specifically, they provide no direct means for
including data from previous states.
2.Each input function only applies loads to a single degree -of-freedom, which requires a great deal of
effort to describe complex models.
3.The system treats these functions as simple forces rather than finite elements.  Therefore, the lack of
a tangent matrix results in potential stability problems.
4.In the linear solutions, all degrees -of-freedom in the NOLIN functions must be in the dynamic
solution set.
The input data starts with a case control request:  NONLINEAR (Case) , with one or more NOLINi Bulk Data
entries to define the set.  The four basic options to define a scalar nonlinear force, , in terms of the
degrees -of-freedom, , are summarized in the table below.
The variables, , may be displacement or velocity components of grid, scalar, or extra points in the solution
set.  In the DIRECT TRANSIENT solutions, the connected degrees -of-freedom,  and , etc., must
remain in the solution set, .  In the modal transient solutions, only extra points are available for use by
the NOLINi entries.  In nonlinear transient solutions all degrees -of-freedom are available, but unfortunately,
extra points are not supported.Option Function Comments
NOLIN1  is a TABLEDi input
NOLIN2 Product of two variables
NOLIN3  is an input exponent
NOLIN4 Same except for negative Ni
uj
NiSFuj = Fuj
NiSujuk=
NiSujA, uj0 = A
NiSuj–A, uj0 –= u
u
uiuj
ud&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis846
Main Index
Note that these functions mimic the basic nonlinear function generators used in passive analog computers
(MSC Software’s original business). They may be added together and combined with other functions such as
MPCs and scalar elements to handle a variety of problems.
Theory for the Standard Transient Solutions
The basic linear transient solution integrates the matrix equation
(21-54)
where  are the nonlinear forces which are dependent on variable displacements, , and velocities,
, of the unknowns. Note that if these functions were used to replace a stiffness term, the proper
definition of  would be .
There are several options in MSC Nastran for transient integration. For the basic purposes of this
introduction, we will discuss the simplest form, the three -point method which performs a step -by-step
calculation. At time step , the solution is  and the step size is . Dropping the brackets, the averaged
values of displacement, , velocity, , acceleration, , and load, , in terms of the three discrete steps are
as follows:
(21-55)
(21-56)
(21-57)
(21-58)
In the solution, the vectors at step  are obtained by substituting Eq. (2-7) through Eq. (2-10) in
Eq.(2-40).  This method is actually a variation of the Newmark -Beta method and is guaranteed to be stable
if . For consistency and stability, it would be desirable to have the  vector also in this form.&lt;br&gt;
Ideally, the nonlinear loads would be consistent with the linear displacements and loads, i.e.,
(21-59)
However,  is not available and can only be approximated by extrapolating the
equation:
(21-60)
Substituting this approximation into Eq. (21-59) we obtain the term used in MSC Nastran:
(21-61)Ma Bv Ku + + P N + =
N u
v
N N Ku–=
tnun h
u v a P
uun1+12–unun1–+ + =
v un1+un1–– 2h =
a un1+2un– un1++  h2 =
PPn1+12–PnPn+ + =
n1+
0.25 N
NNn1+12–NnNn1–+ + =
Nn1+Nun1+, vn1+  =
Nn1+2NnNn1––
NNn&lt;/p&gt;
&lt;p&gt;847 CHAPTER 21
Special Topics
Main Index
In other words, calculating the nonlinear function at the center step is a valid approximation to the value
averaged over three steps.  Unfortunately, when  is rapidly changing,  will lag behind and create unstable
oscillations.  The results of an unstable integration  usually grow with a period of two or three time steps per
cycle.  An alternate option for averaging nonlinear loads is available with DIAG 10 , although it is not
recommended.
Example of a Nonlinear Spring
An example of an unstable system can be illustrated with a single variable example.  Attach a nonlinear spring
function to a mass as shown in the sketch below.
For small motions, if we define the function as an equivalent spring with , the integration equation
for  is
(21-62)
For stability analysis, we will assume a uniform growth rate, , where  and .&lt;br&gt;
Substituting into Eq. (21-62) we obtain a quadratic equation for :
(21-63)
If the magnitude of  is greater than 1, the solution will potentially diverge (  may be complex).  It is easy
to show that if  the system will have a real root , which is an unstable oscillation that
changes sign every step.
In other words, the stability limit for the nonlinear stiffness for this case is
(21-64)
The cure for divergence is to either reduce the time step, , add linear stiffness to replace some of the
nonlinear portion, or add enough mass, , in parallel to the nonlinear function to satisfy the criteria for
every possible value of .  Scalar mass elements CMASS1 ,2,3,4 may be added to couple two scalar points, in
parallel with the nonlinear spring, without affecting the total mass of the structure.u N
Mu
Nu
N ku=
un1+
Mun1+2un– un1–+  h2 N kun– = =
r unrun1–= un1+run=
r
r22kh2
2M&amp;mdash;&amp;mdash;&amp;ndash;1–r1 + + 0=
r r
kh24M r 1–
N
u&amp;mdash;&amp;mdash;– k4M
h2&amp;mdash;&amp;mdash;&amp;ndash;=
h
M
k&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis848
Main Index
Velocity -Dependent Nonlinear Forces
When a NOLINi function references a velocity of a grid, scalar, or extra point component as an input, the
nonlinear force must be calculated from the existing displacements.  However, for consistency with the linear
damping terms in Eq. (21-54), the nonlinear force should be:
(21-65)
However, the current displacements  have not been calculated at this stage, so we again use the
assumption of Eq. (21-60) and obtain the approximation:
(21-66)
The stability of velocity -dependent NOLINi systems is very marginal for most applications. Replacing the
nonlinear spring ( ) in the example problem above with a nonlinear damper, , we obtain the following
system equation:
(21-67)
For stability analysis we may substitute  and  as in the stiffness example above, to obtain a quadratic
equation:
(21-68)
Unstable roots ( ) will occur when
(21-69)
Again, the problem will show up as a spurious diverging oscillation.  Divergence may be cured by decreasing
the time step size, , by changing part of the nonlinear function, , into a linear damper, or by adding mass
in parallel with the nonlinear function.  SOL 129 is better suited than SOL 109 for unstable or badly
conditioned problems.
Nonlinear Transient Solution Sequences
The general nonlinear transient solutions described in Nonlinear Transient Response Analysis  will also process the
NOLINi functions. They provide an advantage in that they will give the same stability as a linear solution,
and will control the diverging solutions. These methods make an attempt to calculate, for time step ,
the displacements and velocities by iterating on Eq. (21-54) through Eq. (21-59) in a loop. This will provide
more consistency with the linear terms. When the advanced methods such as line search and quasi -Newton
options are activated, the adverse effects of the nonlinear forces are corrected effectively, but at the cost of
additional solution steps.
However, the nonlinear methods may also attempt to change the tangent stiffness matrix when errors become
too large in the solution search. Unfortunately, the NOLINi functions only provide forces on the right side NvBu,v – un1+un1–– 2h  =
un1+
NvBu,vunun1–– hNunun1–– h    –
k b
Mun1+2un– un1–+  h2 N bunun1––  – h = =
runr2un
r2 bh
M&amp;mdash;&amp;mdash;2–r 1bh
M&amp;mdash;&amp;mdash;–+ + 0=
r1
b2Mh
h b
n1+&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P44</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_044/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_044/</guid>
      <description>
        
        
        &lt;p&gt;849 CHAPTER 21
Special Topics
Main Index
and do not contribute their changes to the matrices. Not only will results not be improved, cost will be
increased as well. Furthermore, since new self -adaptive method modifies the time step size based on the
current values of the critical nonlinear matrix terms, the NOLINi terms will be ignored and the process may
still diverge.
In summary, the nonlinear transient solutions may be adapted for severe cases of NOLINi - caused
instabilities but will need careful changes to the default control parameters on the TSTEPNL  inputs.
Recommendations for Using NOLIN1 Input
The following suggestions may be useful if problems occur because of nonlinear forces:
1.Use the nonlinear solution (SOL 129 ) for potentially better error controls and stability. This
approach may use more time and disk storage space and require additional effort to select the proper
control parameters. We recommend starting with the following approximate TSTEPNL  Bulk Data
parameters:
Method = “TSTEP”
KSTEP &amp;gt; NDT
MAXITER = 2
MAXLS = 6
MAXDIV = 10
LSTOL = 0.1
2.Avoid functions that will overwhelm the linear elements attached to the same points. See the
discussions on stability above. Most nonlinear functions can be defined as the sum of linear elements
and a nonlinear correction using NOLINi inputs. If the slope of the nonlinear correction function is
smaller in magnitude than the linear coefficients, the problem will be stable. Also, added mass in
parallel with the function always helps.
3.Never set up nonlinear functions in series, i.e., using the output of one NOLINi as an input to a
second NOLINi function. Each stage in effect causes a time delay of one or more time steps for the
resulting forces. If the results are a corrective force, they will act much like a control system with a
bad feedback loop. At a critical frequency the corrective forces will be applied with a delay that causes
them to have the wrong sign.
4.The forces, , must have the same sign and direction as an externally applied load on the structure.&lt;br&gt;
Note that this will have the opposite sign as the forces applied to the GRID points by the finite
elements.  (The  force for a spring element will have a negative value for a positive displacement.)&lt;br&gt;
This frequently causes some difficulty in debugging the input data.
5.Use MPC or TF data to simplify the NOLINi inputs.  A single nonlinear spring in three dimensions
connecting two points could require up to  nonlinear functions. Alternatively, one MPC
equation could be used to define the strain as an added scalar point, and one nonlinear function
would define the generalized force (force times length) on the scalar point. Because the MPC
constraints are consistent, the force will automatically be distributed to all six degrees -of-freedom.
6.Plan ahead to retain the nonlinear points in the solution set. Remember that in SOLs 109 and 112
the NOLINi  functions may not reference any dependent or eliminated degree -of-freedom. Note that
in a modal analysis, this leaves only extra points.N
N
66 36=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis850
Main Index
7.Use the full nonlinear solution (SOL 129) for small to medium -sized problems.
Application Example – Coupling of Rotating Structures
An advanced use for the NOLINi functions is the connection between a rotating structure and a flexible
supporting structure. The example below shows how to connect two grid points, with one rotating at a
constant rate relative to the other. This method could be used to analyze sudden transients in rotating
machinery. However, cost considerations would limit the analysis to a finite number of cycles.
As shown in the Figure 21-6, GRID 101 ( ) is attached to the rotating structure. The rate of rotation is
known, but the actual angle is a function of time. GRID 201 ( ) represents the fixed bearing point
coincident with point 101. It would typically be defined with an RBE3 as the average motion of the points
on the bearing race.
Figure 21-6&lt;br&gt;
The definition of the connection, as shown in the sketch is:
(21-70)
(21-71)
A simple MPC equation may be used to connect the axial coordinates . The rotations may have similar
definitions but are not shown. A similar equation defines the forces on the fixed point   in terms of the
rotating forces .
For the actual connection, we will use the Lagrange Multiplier technique  (see Lagrange Multiplier Technique  for
details) by defining another GRID  which defines the constraint forces on point 101.  The resulting
matrix partition equation for the three points isur
uf
fixed101
201rotating
uf1tur2ur1
ur1uf1t cos uf2t sin + =
ur2u–f1t sin uf2t cos + =
u3
Nf
Qr
Qr&lt;/p&gt;
&lt;h1&gt;851 CHAPTER 21
Special Topics
Main Index
(21-72)
where:
In order to generate the sine and cosine terms, we will add two scalar points and connect unit masses and
springs .  Using initial conditions, these are the sine and cosine functions defined as scalar
displacements.  The following input data will solve the connection:
In Case Control
IC = 100 $ For sine and cosine
K2PP = RCOUP  $ For matrix terms
NONLINEAR=10 $ For NOLIN2
In Bulk Data
$ 50 radian/sec oscillators ( Note: Don’t use PARAM,G)
SPOINT,2001,2002  $ sine and cosine
CMASS4,2001,1.0,2001
CMASS4,2002,1.0,2002
CELAS4,2003,2500.0,2001
CELAS4,2004,2500.0,2002
TIC,100,2001,,,50.0   $ sine
TIC,100,2002,,1.0       $ cosine
$ Lagrange Multiplier Grid and unit Matrix Terms.
GRID,3001, , , , , ,3456
DMIG,RCOUP,0,6,1,2
DMIG,RCOUP,101,1,,3001,1,1.0
DMIG,RCOUP,101,2,,3001,2,1.0
$ Note that other half is generated when using the SYM option
$ Nonlinear Functions = Products of Two Dof., Qr and sine/cosine
NOLIN2,10,201,1,1.0,3001,1,2002
NOLIN2,10,201,1,-1.0,3001,2,2001
NOLIN2,10,201,2,1.0,3001,1,2001
NOLIN2,10,201,2,1.0,3001,2,2002
$
$ Products of U1 and sine/cosine
NOLIN2,10,3001,1,1.0,201,1,2002=
=Mff00
0mrr0
000U··
f
ur··
Q··
r
Kff00
0KrrI
0I0Uf
ur
Qr
+PfNf+
Pr
Nq&lt;/h1&gt;&lt;p&gt;Nf Pr1t cos Pr2t sin –
Pr1t sin Pr2t cos +    
Nq uf1t cos ur2t sin –
u–f1t sin ur2t cos +    
k2=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements852
Main Index
NOLIN2,10,3001,1,1.0,201,2,2001
NOLIN2,10,3001,2,-1.0,201,1,2001
NOLIN2,10,3001,2,1.0,201,2,2002
$ end for one pair of points
Any type of structure may be connected to the axis points.  However, for best stability place all of the mass
at the axis on the active side, GRID 201, where the nonlinear force is applied.  For inertia effects such as
centripetal and Coriolis forces , the rotating body may require matrix inputs described in the section on
moving coordinates.  In order to keep these terms from affecting the fixed structure, superelement
partitioning is recommended.
Nonlinear Transient Response Analysis Elements
Nonlinear effects in structures occur mainly due to nonlinear materials, preloads, and large rotations. Contact
problems exhibit nonlinear effects due to changes in boundary conditions.  All of these effects may be
represented by nonlinear elements.
The nonlinear element library of MSC Nastran consists of :
RODs, CONRODs, and TUBEs for unidirectional truss members.
BEAMs for axially and laterally deforming line members.
QUAD4s and TRIA3s for membrane, plate and shell modeling.
HEXAs, PENTAs, and TETRAs for solid modeling.
GAPs for contact and friction simulation.
BCONPs for slideline contact.
Nonlinear elements may be combined with linear elements for computational efficiency if the nonlinear
effects can be localized.  Primary operations for nonlinear elements are the updating of element coordinates
and applied loads for large displacements and the internal relaxation iteration for material nonlinearity.  Refer
to Table 21-4 for a summary of the nonlinear element properties.
Table 21-4  Summary of Nonlinear Elements
Element Connectivity
BCONP Connection and type for slideline.
CBEAM Connection for beam element.
CGAP Connection for gap or frictional element.
CHEXA Connection for six -sided solid element.
CONROD Connection and properties for rod.
CPENTA Connection for five -sided solid element.
CQUAD4 Connection for quadrilateral element with bending and membrane stiffness.
CQUADX Properties for axisymmetric hyperelastic solid.
CROD Connection for rod with axial and torsional stiffness.
CTETRA Connection for four -sided solid element.&lt;/p&gt;
&lt;p&gt;853 CHAPTER 21
Special Topics
Main Index
Nonlinear Transient Response Analysis Interface
User Interface
The input data required for SOL 129 is a combination of direct time integration control data, similar to SOL
109 (for direct linear transient with superelements), and nonlinear modeling data similar to SOL 106 (for
nonlinear statics).  The nonlinear properties and/or effects are defined by nonlinear material data ( MATS1  and
TABLES1 ), gap elements (GAP) for nonlinear interfaces, and PARAM, LGDISP  for geometric nonlinearity.  The
transient effects are produced by time -dependent loading functions (TLOADi, DAREA, etc.), damping
(parameters, elements and material data), and mass properties.
The unique data required for SOL 129 is supplied on the TSTEPNL  Bulk Data entry.  The TSTEPNL entry
in itself is a combination of the TSTEP  entry for direct time integration and the NLPARM  entry for nonlinear
iteration control.  Restarts are controlled by parameters (LOOPID, STIME, SLOOPID and SDATA) which
can be specified either in the Case Control Section or Bulk Data Section.  Some optional parameters
(TSTATIC, NDAMP) are provided for additional control or capabilities.
Case Control
Each subcase defines a time interval starting from the last time step of the previous subcase, subdivided into
smaller time steps.  The output time is labeled by the cumulative time, including all previous subcases.  There
are advantages in dividing the total duration of analysis into many subcases so that each subcase does not
have excessive number of time steps.  The data blocks containing solutions are generated at the end of each
subcase for storage in the database for output processing and restarts.  As such, converged solutions are apt
to be saved at many intermediate steps in case of divergence and more flexible control becomes possible with
multiple subcases.CTRIA3 Connection for triangular element with bending and membrane stiffness.
CTUBE Connection for a tube.
Element Properties
PBCOMP Properties for composite CBEAM.
PBEAM Properties for CBEAM.
PCOMP Properties for composite material laminate.
PGAP Properties for CGAP .
PLSOLID Hyperelastic properties for CHEXA, CPENTA, and CTETRA.
PROD Properties for CROD.
PSHELL Properties for CTRIA3 and CQUAD4.
PSOLID Properties for CHEXA, CPENTA, and CTETRA.
PTUBE Properties for CTUBE.Table 21-4  Summary of Nonlinear Elements  (continued)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements854
Main Index
The input loading functions may be changed for each subcase or continued by repeating the same DLOAD
(Case)  request.  However, it is recommended that one use the same TLOAD1 ,TLOAD2  Bulk Data for all the
subcases in order to maintain the continuity between subcases, because TLOADi data defines the loading
history as a function of cumulative time.  Static loads (PLOADi, FORCEi, MOMENTi) may be associated
with time -dependent functions by matching the EXCITEID on the TLOADi entries.  However, no thermal
loads or enforced displacements (SPCD) are allowed in the nonlinear transient analysis.  Nonlinear forces as
functions of displacements or velocities (NOLINi) may be selected and printed by the Case Control
commands NONLINEAR (Case)  and NLLOAD (Case) , respectively.  Each subcase may have a different time step
size, time interval, and iteration control selected by the TSTEPNL request.  The Case Control requests that
may not be changed after the first subcase are SPC, MPC, DMIG, and TF .
Output requests for each subcase are processed independently.  Requested output quantities for all the
subcases are appended after the computational process for actual output operation.  Available outputs are
DISPLACEMENT, VELOCITY, ACCELERATION, OLOAD, STRESS, FORCE, SDISPLACEMENT,
SVELOCITY, SACCELERATION, NONLINEAR (NLLOAD), and SPCFORCE.  However, element
force output and GRID point stresses are not available for nonlinear elements.
Initial conditions (displacement or velocity) can be specified by the Bulk Data input, TIC, selectable by the
Case Control command IC (Case) .  If initial conditions are given, all of the nonlinear element forces and
stresses must be computed to satisfy equilibrium with the prescribed initial displacements.  On the other
hand, initial conditions can be generated by applying static analysis for the preload using PARAM, TSTATIC  in
the first subcase.  Then the transient analysis can be performed in the ensuing subcases.  Associated with the
adaptive time stepping method, the PARAM, NDAMP, NDAMPM  is used to control the stability in the ADAPT
method.  The parameter NDAMP represents the numerical damping (a recommended value for usual cases
is0.01), which is often required to improve the stability and convergence in contact problems.
All the superelement model generation options and matrix reduction options are allowed for the linear
portion of the structure.  The generalized dynamic reduction, component mode synthesis, and Guyan
reduction may be performed for upstream superelements.  The residual superelement may contain scalar
degrees -of-freedom representing linear modal formulations.
Implicit Integration Control: TSTEPNL
The input fields of the TSTEPNL  Bulk Data entry specify the time step size, the number of steps, and the output
interval as well as the nonlinear iteration options.  The TSTEPNL Bulk Data is selectable by the Case Control
command TSTEPNL (Case) .  Although the same TSTEPNL Bulk Data may be selected by more than one
subcase, it is recommended to select a different TSTEPNL entry for each subcase in preparation for changes
in the restarts.
The choice of time step size is determined primarily by the frequency content of the input load and the
highest frequency mode of interest.  A general guideline is that seven or more steps per cycle be provided for
reasonable accuracy.  Modes with shorter periods (higher frequency) will be attenuated by the numerical
process.  Highly nonlinear problems may require smaller step size.  However, the adaptive time stepping
capability will automatically adjust the time step size.  Nevertheless, the initial time step size should be
estimated by the user according to the aforementioned principles.&lt;/p&gt;
&lt;p&gt;855 CHAPTER 21
Special Topics
Main Index
A caution is necessary in using the automatic time step adjustment if the forcing function is a short duration
pulse.  Since the automatic time step adjustment algorithm does not consider the loading history, short pulses
could be skipped if the time step is automatically adjusted to a larger value than the pulse duration.  It is
advised that a drastic change in the time step size between subcases be avoided.  A drastic change—e.g., ratio
of the two time steps exceeding 1000—could cause a loss of accuracy upon subcase switch.  In this case, an
intermediate subcase should be provided for a transition period of short interval to reduce the ratio.
The parameters for controlling the accuracy and stability of the incremental and iterative process can be
specified in the TSTEPNL Bulk Data entry.  The controls are applicable to the automatic time step
adjustment and bisection process in addition to stiffness matrix updates, BFGS updates, and line searches
similar to those on the NLPARM Bulk Data entry.  Since default values have been selected from numerous
test runs, the analysis should be started with the default setting and changed if necessary.  The TSTEPNL  data
format is shown below with default values:
Format
Example with Defaults (x is Required Input)
The TSTEPNL Bulk Data entry is selected using ID via the Case Control command TSTEPNL.  Each
subcase (residual superelement solutions only) requires a TSTEPNL entry.  Multiple subcases are assumed to
occur sequentially in time.  Therefore, the initial conditions of each subcase are defined by the end conditions
of the previous subcase.
The NDT field specifies the number of time steps with DT as the size of each time step.  The total duration
for the subcase can be assessed by multiplying NDT and DT (i.e., NDT*DT).  The time increment ( )
remains constant during the analysis in AUTO and TSTEP options, and is equal to DT.  However, the time
increment ( ) changes during the analysis in the ADAPT option and the actual number of time steps will
not be equal to NDT.  In the ADAPT option, DT is used as an initial value for .
The NO field specifies the time step interval for output; i.e., every NO -th step solution is saved for output.&lt;br&gt;
The data will be output at steps 0, NO, 2NO, &amp;hellip;, etc., and the last converged step for printing and plotting
purposes.  The Case Control command OTIME may also be used to control the output points.
The METHOD field selects an option for direct time integration and the stiffness matrix update strategies
among ADAPT , AUTO and TSTEP .  If the AUTO option is selected, MSC Nastran automatically updates
the stiffness matrix to improve convergence while the KSTEP value is ignored.  If the TSTEP option is
selected, MSC Nastran updates the stiffness matrix every KSTEP -th increment of time.  If the ADAPT 1 2 3 4 5 6 7 8 9 10
TSTEPNL ID NDT DT NO METHOD KSTEP MAXITER CONV +TNL1
+TNL1 EPSU EPSP EPSW MAXDIV MAXQN MAXLS FSTRESS +TNL2
+TNL2 MAXBIS ADJUST MSTEP RB MAXR UTOL RTOLB
1 2 3 4 5 6 7 8 9 10
TSTEPNL x x x 1 ADAPT 2 10 PW +TNL1
+TNL1 1.E-2 1.E-3 1.E-6 2 10 2 0.2 +TNL2
+TNL2 5 5 0 0.75 16.0 0.1 20.
t
t
t&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements856
Main Index
option is selected, MSC Nastran automatically adjusts the incremental time and uses the bisection algorithm
in case of divergence.  During the bisection process in the ADAPT option, stiffness is updated at every
KSTEP -th successful bisection.  The ADAPT method allows linear transient analysis, but AUTO or TSTEP
will abort the run if the model does not have any data representing nonlinearity.  The stiffness matrix is always
updated for a new subcase or restart, irrespective of the option selected.
The number of iterations for a time step is limited to MAXITER.  If the solution does not converge in
MAXITER iterations, the process is treated as a divergent process; i.e., either a bisection or stiffness matrix
update takes place based on the value of MAXBIS.  The sign of MAXITER provides a control over reiteration
in case of failure in convergence or bisection.  If MAXITER is negative, the analysis is terminated when the
divergence condition is encountered twice during the same time step or the solution diverges for five
consecutive time steps.  If MAXITER is positive, MSC Nastran computes the best attainable solution and
continues the analysis.
The convergence test is controlled by convergence test flags (U for displacement error test, P for load
equilibrium error test, W for work error test) and the error tolerances (EPSU, EPSP and EPSW) which define
the convergence criteria.  All requested criteria (a combination of U, P , and/or W) are satisfied upon
convergence.  It should be noted that at least two iterations are necessary to check the displacement
convergence criterion.
The MAXDIV field provides control over diverging solutions.  Depending on the rate of divergence, the
number of diverging solutions (NDIV) is incremented by 1 or 2.  The solution is assumed to be divergent
when NDIV reaches MAXDIV during the iteration.  If the bisection option is used with the ADAPT
method, the time step is bisected upon divergence.  Otherwise, the solution for the time step is repeated with
a new stiffness based on the converged state at the beginning of the time step.  If NDIV reaches MAXDIV
twice within the same time step, the analysis is terminated with a fatal message.
In transient analysis, the BFGS quasi -Newton updates and the line search process work in the same way as
in static analysis (except for the default settings).  The MAXQN field defines the maximum number of
quasi -Newton vectors to be saved on the database and the MAXLS defines the number of line searches
allowed per iteration.  Nonzero values of MAXQN and MAXLS activate the quasi -Newton update and the
line search process, respectively.
The FSTRESS field defines a fraction of the effective stress ( ) which is used to limit the subincrement size
in the material routine.  The number of subincrements in the material routines is determined such that the
subincrement size is approximately  (equivalent stress).  FSTRESS is also used to establish a
tolerance for error correction in the elasto -plastic material, i.e.,
If the limit is exceeded at the converging state, MSC Nastran will exit with a fatal error message.  Otherwise,
the stress state is adjusted to the current yield surface.
In the ADAPT method, MAXBIS is the maximum number of bisections allowed for each time step
( ).  The bisection process is activated when divergence occurs and .&lt;br&gt;
The number of bisections for a time increment is limited to MAXBIS.  If MAXBIS is positive and the
solution does not converge after MAXBIS bisections, the best solution is computed and the analysis is 
FSTRESS
Error in yield functionFSTRESS 
9MAXBIS 9   – MAXBIS 0&lt;/p&gt;
&lt;p&gt;857 CHAPTER 21
Special Topics
Main Index
continued to the next time step.  If MAXBIS is negative and the solution does not converge in MAXBIS
bisections, the analysis is terminated.
The parameter ADJUST allows the user to control the automatic time stepping in the ADAPT option.  A
value of zero for ADJUST turns off the automatic adjustment completely.  If ADJUST is positive, the time
increment is continually adjusted for the first few steps until a good value of  is obtained.  After this initial
adjustment, the time increment is adjusted every ADJUST time steps only.  A value of ADJUST an order
greater than NDT will turn off adjustments after the initial adjustment.  Since the automatic time step
adjustment is based on the mode of response and not on the loading pattern, it may be necessary to limit the
adjustable step size when the period of the forcing function is much shorter than the period of dominant
response frequency of the structure.  It is the user’s responsibility to ensure that the loading history is properly
traced with the ADJUST option.  The ADJUST option should be suppressed for the duration of a short
pulse loading.  If unsure, the user should start with a value of DT that is much smaller than the pulse duration
in order to properly represent the loading pattern.
MSTEP defines the desired number of time steps to obtain the dominant period response accurately
( ).  RB defines bounds for maintaining the same time step for the stepping function in
the automatic time step adjustment method ( ).  Parameters MSTEP and RB are used to
adjust the time increment during the analysis in the ADAPT option.  The adjustment is based on the number
of time steps desired to capture the dominant frequency response accurately.  The time increment is adjusted
as
(21-73)
where:
with:
The recommended value of MSTEP for nearly linear problems is 20.  A larger value (e.g., 40) is required for
highly nonlinear problems.  In the default options, MSC Nastran automatically computes the value of
MSTEP based on the changes in the stiffness.=
=0.25 for
=0.5 for
=1.0 for
=2.0 for
=4.0 for t
10Integer200 
0.1Real1.0 
tn1+frtn=
r1
MSTEP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2
n&amp;mdash;&amp;mdash;1
tn&amp;mdash;&amp;mdash;&amp;ndash;
fr0.5RB
f0.5RBr2
fRBr2
f2.r3.RB
fr3.RB&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements858
Main Index
The MAXR field defines the maximum ratio for the adjusted incremental time relative to DT allowed for
time step adjustment ( ).  MAXR is used to define the upper and lower bounds for
adjusted time step size, i.e.,
(21-74)
The UTOL field defines the tolerance on displacement increment below which there is no time step
adjustment ( ).  UTOL is used to filter undesirable time step adjustment; i.e., no time
step adjustment is performed if
(21-75)
The RTOLB field defines the maximum value of incremental rotation (in degrees) allowed per iteration to
activate bisection ( ).  The bisection is activated if the incremental rotation for any
degree -of-freedom ( , , or ) exceeds the value specified for RTOLB.  This bisection strategy
based on the incremental rotation is controlled by the MAXBIS field.
Iteration Related Output Data
During the incremental and iterative computation, the process information consisting of iteration data is
printed at the end of each iteration or time step.  The data is printed under the following headings:
TIME Cumulative time for the duration of the analysis
ITER Iteration count for each time step
DISP Relative error in terms of displacements
LOAD Relative error in terms of load vectors
WORK Relative error in terms of work
LAMBDA(I) Rate of convergence in iteration
LAMBDA(T) Ratio of the load error for two consecutive time steps
LAMBDA -BAR Average of LAMBDA(T) over the last three steps, computed only for AUTO or
TSTEP method
DLMAG Absolute norm of the residual error vector, .  The absolute convergence is
defined using DLMAG by
FACTOR Final value of the line search parameter
E-FIRST Divergence rate error before line search
E-FINAL Error at the end of line search
NQNV Number of quasi -Newton vectors appended
NLS Number of line searches performed during the iteration1.0Real32.0 
MINDT
2MAXBIS&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;, DT
MAXR&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  tMAXRDT
0.001Real1.0
U·
n
U·
max&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;UTOL
Real2.0
xyz
R
R 1012–&lt;/p&gt;
&lt;p&gt;859 CHAPTER 21
Special Topics
Main Index
Method AUTO or TSTEP
The three -point method is chosen to be compatible with the MSC Nastran linear transient integration
method.   The Newmark Beta method based on the three -step integration is combined with the modifications
to Newton’s method for nonlinear solutions.  The additional iteration steps provide equilibrium solutions at
each time step, thereby guaranteeing stability and accuracy for arbitrary time step size.  This method can be
used by selecting the AUTO or TSTEP method in the TSTEPNL  Bulk Data entry.
Basic Equations
We may calculate the load equilibrium error vector,  at time step  by the equation
(21-76)
where:
The above equation is solved at the reduced ( ) displacement vector size.  The approximation errors due
to dynamic reduction methods are not included in the error vector .  Applying Newmark’s method
over a finite time period, , the average static forces are
(21-77)
where  is the Newmark Beta operator and  is the nonlinear force due to a generalized displacement
vector .  An identical definition occurs for  from the applied loads at each time step.
In summary, at each time step MSC Nastran will iterate the displacements and forces until  passes the
convergence tests or the number of passes reaches an iteration limit.  With a single step, i = i, calculating only ITR DIV Number of occurrences of divergence detected during the adaptive iteration by the
iteration module NLTRD2
MAT DIV Number of occurrences of bisection conditions in the material routine (excessive
stress increment) or in the rotation angle (excessive rotation) during the iteration
using the ADAPT method
NO. BIS Number of bisections executed for the current time interval
ADJUST Ratio of time step adjustment relative to DT within a subcase
=Average load over the time period ( ).
, =Corresponding acceleration and velocity vectors.
=Average elasto -plastic element total force vector. (  for linear problems.)Rn n
Rn PnMu··n– Bu·n– Fn–   =
Pn tn1–tntn1+
u··n
u·n
Fn F Ku=
ud
Rn
tn1–ttn1+
FFun1+12–FunFun1– + +   =
 Fun
un P
Rni&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements860
Main Index
, the results will be identical to the existing NOLINi results in MSC Nastran.  For faster convergence the
iterations may continue, the matrices may be updated, and/or the time step size may be reduced.  For more
details on this algorithm, refer to Chapter 9 of the MSC Nastran Nonlinear Handbook .
Method ADAPT
The multistep implicit integration method has difficulties when changing time step size.  Therefore, to allow
self-adapting time step sizes, the two -point integration method is introduced with module NLTRD2.  This
method can be selected by specifying the ADAPT method in the TSTEPNL Bulk Data entry.
Newmark Integration
For the adaptive scheme, Newmark’s method is employed with the two -point recurrence formula for one -step
integration, i.e.,
(21-78)
and
(21-79)
where , ,  and  denote displacement, velocity, acceleration and the time step increment,
respectively.  The subscript  designates the time step and the parameters (  and ) are to be selected for
the best solution.  An equilibrium equation to be satisfied at time step ( ) is
(21-80)
where  and  denote mass and damping matrices, and  and  denote internal and external
forces, respectively.
An alternative expression for the load vector can be derived for  by introducing
(21-81)
By virtue of Eq. (21-81) the residual load error at each time step is effectively carried over to the next step and
the error propagation is reduced, while the computation is significantly simplified.
(21-82)R0
Un1+ UntU·
n1
2&amp;mdash;t2U··
nt2U··
n1+ U··
n–  + + + =
U·
n1+ U·
ntU··
ntU··
n1+ U··
n–  + + =
UU·U··t
n 
n1+
MU··
n1+CU·
n1+ FUn1+   + + Pn1+ =
M C F Pn1+
 0.5=
MU··
nCU·
n + PnFn– =
Rn1+i Pn1+Fn1+i– 4
t&amp;mdash;&amp;ndash;MU·
n PnFn–
4
t2&amp;mdash;&amp;mdash;&amp;ndash;M2
t&amp;mdash;&amp;ndash;C+ Un1+iUn–  –+ + =&lt;/p&gt;
&lt;p&gt;861 CHAPTER 21
Special Topics
Main Index
The iteration method calculates new values of  until it is sufficiently small.  The results then become
the starting point for the next time step.
Adaptive Time Stepping
It is desirable to have a fully automated method of time integration that renders effective and accurate
solutions of nonlinear problems.  The dynamic response characteristics of the structure may change due to
the nonlinearity (geometric or material) or the mode of excitation.  When the type of nonlinear behavior
changes, the time step size should be adjusted.  The drawback is that in implicit methods, a change in the
time step size requires a decomposition of the tangent matrix.  After the solution is achieved for the original
time step, the usual procedure will be resumed for the next time step.
In the present implementation of the automatic time stepping for nonlinear applications, the adjustment is
designed to be adaptive to the severity of the nonlinearity in the problem by monitoring the changes in the
stiffness.  However, difficulties in the automatic time stepping have been discovered when plasticity or GAP
elements are involved.  In such cases an undesired time step adjustment can be caused by a drastic change in
the stiffness, which may only be a temporary difficulty.  A filtering scheme has been devised to suppress the
effects of the spurious mass or stiffness in the automatic time step adjustments.  In addition, the bisection
method is chosen to be activated only at the time when divergence occurs.  The bisection process is
coordinated with the stiffness matrix update so that changes in nonlinearities are properly reflected while the
bisection is in progress.
After the time step is completely converged, the integration proceeds to the next time step with the same
increment ( ).  Further bisection may be required after achieving converged solution at the intermediate
time steps.
If no further bisection is required and the solutions converge without any difficulty, some recovery process
such as doubling time step may be activated.  However, any adjustment to the time step would require
additional matrix decomposition that offsets the advantages of adjusting time step size.  Therefore, it has been
determined to continue stepping through the specified time interval to completion.  The normal process
should be resumed when the user -specified time step at which bisection is activated is fully processed.
When the automatic time stepping is combined with the bisection method and if the bisection is activated,
the automatic adjustment procedure will be deferred until the divergence is trapped and the solution process
is stabilized.  The solution process is considered stabilized when two successive solutions have converged
without requiring further bisection.  This is the time when the automatic time step adjustment is resumed.
The maximum number of bisections is limited by a user -specified parameter MAXBIS (defaulted to 5).  The
bisection process is activated on an as -needed basis. Users also have an option to suppress bisection by
specifying MAXBIS = 0.  If the bisection is required more than MAXBIS times, the solution process will
continue without bisection by activating the reiteration procedure, by which the same iteration process is
repeated to find the best attainable solution.  The best attainable solution is a solution obtained from the
iteration that yields the least average error.  The average error is defined by averaging relative errors in
displacements, loads and energy.  If the i -th iteration yields the least average error, the reiteration procedure
will end at the i -th iteration and the normal time stepping procedure will be resumed.Rn1+i
Atk&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements862
Main Index
Quasi -Newton and Line Searches
The BFGS update and the line search processes are fully operational during the iteration.  Quasi -Newton
(QN) vectors are continuously accumulated up to MAXQN pairs (MAXQN is a user -specified parameter)
until the new stiffness matrix is evaluated.  Once the number of QN vector pairs reaches MAXQN (defaulted
to 10), the QN vectors will be updated selectively based on the condition number of the QN update matrix.&lt;br&gt;
As a requirement for the reiteration procedure, the QN vectors to be accumulated are stored on a temporary
basis until a converged solution is obtained.  All the accumulated QN vectors are purged if the stiffness matrix
update or the decomposition (due to the change in ) is scheduled.
The iterative process for time step ( ) can be summarized as follows:
1.Given at the beginning of the time step are , , , , , , ,
, ,
and the triangularized matrices  for .
2.Adjust the time step size, if applicable.
3.Initialize , , and .
4.Decompose, , if .  Then, purge the QN vector file.
5.Compute .
6.Solve for  by forward and backward substitution, using the BFGS update if applicable.
7.Compute the line search error.
8.If divergence occurs, go to step 12.
9.Proceed to the next step if the line search error is less than the tolerance.  Otherwise, perform the line
search process and go back to step 7.
10. Compute the global error function and check convergence.
11. If the solution has converged, go to step 16.  Otherwise, save the QN vector on a temporary basis (if
applicable) and go to the next iteration in step 5.
12. If it is the first divergence or the divergence after the KSTEPth converged bisection step, update the
stiffness matrix, and go back to step 4.  Otherwise, proceed to the next step.
13. Bisect  and go back to step 3.  However, if the maximum number of bisections allowed for the
time step is reached, proceed to the next step.
14. Go to step 5 to continue iteration.  However, if the maximum number of iterations allowed for an
increment is reached, proceed to the next step.
15. Perform the reiteration procedure to find the best attainable solution.t
n1+
tnrefMCPnFnFn
UnU·
n
LDLT A4
t2&amp;mdash;&amp;mdash;&amp;ndash;M2
t&amp;mdash;&amp;ndash;CK˜+ + =
Un1+0Fn1+0 Pn1+0
A LKLT= tn1+tn
Rn1+i
Ui1+
t&lt;/p&gt;
&lt;p&gt;863 CHAPTER 21
Special Topics
Main Index
16. Accept the solution (  and ) and append temporary QN vectors to the permanent QN
vector file.
17. Compute the velocity .
18. Advance to the next time step with .
Restarts
Since SOL 106 and SOL 129 share the same database storage formats for nonlinear tables and matrices, the
restart system for transient analysis can use either a previous static or transient nonlinear analysis as its initial
conditions.
Restarting From SOL 106 Into SOL 129
The options for a restart from SOL 106 into SOL 129 are static to static and static to dynamic analysis.  For
a restart from a previous static analysis, only the first subcase is affected.  Simply provide a database created
in SOL 106 and specify the parameter
PARAM,SLOOPID,N
where N is the printed value of LOOPID for the desired static solution.  The initial transient load should be
identical to static loads at the restart state.  Constraint sets, direct input matrices, mass, and damping may be
changed.
Restarting Within SOL 129
Restarting within SOL 129 allows static to static, static to dynamic, and dynamic to dynamic analysis.&lt;br&gt;
Restarts from a previous nonlinear transient execution are available for a number of cases.  If the same model
is to be re executed, only the residual superelement needs to be reassembled.  If the final results from the
previous transient run are to be used as the initial conditions at t =0, add dummy SUBCASE commands,
corresponding to the previous run, to start the residual Case Control execution and set the parameter,
STIME =0.
The normal restart for a transient run is to be continued from the last step of a previous subcase with different
loads and/or TSTEPNL data.  For the normal restart provide the following parameters:
LOOPID = N:  Start from the Nth subcase
STIME = t:  Start from time t
Note that to avoid incompatible matrix sizes, constraint sets must not be changed.  The values of LOOPID
and STIME, which are printed with the iteration information for each subcase, can be directly read from the
printout of the previous run.  See the MSC Nastran Nonlinear Handbook  for more details and some examples.
(21-83)Un1+Fn1+
U·
n1+
n n1+=
t NDTi
i1=N
DTi =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Transient Response Analysis Elements864
Main Index
where  and  are the number of time steps and the time increment of the ith subcase, respectively.
If a SOL 129 run is terminated abnormally in the middle of a subcase, it may or may not be restartable
depending upon the cause of the abnormal exit.  If the job is stopped due to a diverging solution, it can be
restarted either from the end of a previous subcase or from the last saved solution step.  The restart procedure
for the former is identical to that for the normal restart as described in the preceding paragraph.  The latter
case also requires parameters LOOPID and STIME; however, the input value for STIME differs depending
on the value of METHOD specified on the TSTEPNL entry.
If METHOD = AUTO or TSTEP , STIME is the time corresponding to the last output step which may be
calculated based on the output skip factor (i.e., the NO on the TSTEPNL entry).  If METHOD = ADAPT,
the last converged solution is always treated as an output step and is always saved for the restart so that STIME
can be the time of the last converged step.  The values of STIME and LOOPID can also be found in the
printout, if the ADAPT method is used.&lt;br&gt;
Once STIME and LOOPID are known, determine the number of remaining time steps in the subcase and
create a new TSTEPNL entry for the remaining time.  Insert a new subcase that references the new
TSTEPNL entry prior to the remaining subcases in the Case Control Section.
A solution may be terminated in the middle of a subcase due to insufficient CPU time:  (1) the CPU time
specified in the Executive Control Section is insufficient so the run is forced to exit by MSC Nastran, or (2)
the CPU time exceeds the limit specified in the computer system which leads to a sudden job abortion by the
system.  In the first case, MSC Nastran is able to detect the specified CPU time in the Executive Control
Section and automatically activate the exit procedure before time expiration.  When completed, the solution
can be restarted from the termination point as in the solution diverging case.  In the second case, the solution
can only be restarted from the end of a subcase.
Restarts may also be performed solely for data recovery by providing the following parameters:
SDATA = -1 : Recover data without running the solution module
LOOPID = N : from the 1st through the Nth subcases
Note that solution sets DISP , VELO, ACCE, OLOAD, SPCF (printout and plotting) and NLLOAD
(plotting only) are recoverable while STRESS, SDISP , SVELO and SACCE sets are not.
Expedient Iteration Strategies
The dynamic tangent matrix may change for the following reasons:
1.Stiffness (K) changes due to geometric, material, and/or kinematic nonlinearity.
2.Bisection or time -step adjustment causes changes in the effective stiffness.
While the second case only requires decomposition, the first case requires reformulation of the new stiffness
matrix as well.  The adaptive method is based on the following matrix update strategies:
1.Stiffness is updated at the previously converged position when the divergence is detected for the first
time at a given time step.
2.Stiffness matrix update is allowed only once within the same time step.NDTiDTi&lt;/p&gt;
&lt;p&gt;865 CHAPTER 21
Special Topics
Main Index
3.If the bisection is in progress, additional K -updates are allowed within a given  at every KSTEPth
converged bisection, where KSTEP is a user -specified parameter in the TSTEPNL entry.
4.Decomposition is performed within the module at every bisection or time step adjustment.
5.Whenever the decomposition is performed, the iteration starts from the previously converged
position.
6.The stiffness matrix is updated at the beginning of each subcase.
Nonlinear Harmonic Response
Introduction
There is a class of dynamic response analyses where a structure exhibiting nonlinearities is subjected to a
harmonic excitation in which the response is essentially periodic. That is to say that the degree of nonlinearity
in the system is light enough that the response may be described as sufficiently accurate by a combination of
harmonic responses, i.e. periodic; this is achieved using a Fourier series.
Some examples of this class of dynamic response problems are rotor/stator contact under abnormal running
conditions, or an overload condition in an oscillating mechanism causing periodic contact. The response of
such systems may exhibit multiple solutions in a steady-state vibration response scenario, possibly with
amplitude jumps as the system moves from one frequency to another, such as might occur in a rotor that is
increasing or decreasing in speed. These jumps reveal different behavior of the dynamic system with
increasing or decreasing excitation frequency.
The nonlinear harmonic response solution sequence uses the harmonic balance method to calculate the
periodic response of a non-linear system under harmonic excitation. This requires the definition of a
frequency domain problem in the presence of nonlinearities. The harmonic balance method assumes the
steady-state response consists of a sum of sinusoidal responses finding the coefficients of the sinusoids to
satisfy the equations of motion. Harmonic balance is only efficient if a small number of sinusoids are
necessary to approximate the solution to a desired accuracy. This is why the nonlinearities in the system must
be mild.
As with any nonlinearity, it must only be present in the residual structure. However, this does not preclude
the use of superelements or ASET degrees of freedom to perform dynamic reduction using CMS. In fact, this
is a recommended technique in order to keep the number of degrees-of-freedom for harmonic balance to a
minimum.
Nonlinear harmonic response is available in the presence or absence of rotors, but there must be at least one
degree-of-freedom defined on nonlinear force type entries such as the NLRGAP , NLRSFD , and NOLINi entries.
Other types of nonlinearity that may be defined include the CBUSH2D  element or indeed any elements having
frequency dependent properties.  With MSC Nastran’s user-defined service, the NLRSFD entry is able to call
an external user-defined behavior to replace the standard NLRSFD behavior.T&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Harmonic Response866
Main Index
Input
The FMS Section
The FMS statement, related to the SCA UDS, is required if a user-defined service is to be used. When a user-
defined service (UDS) is to be utilized to describe the behavior of the NLRSFD type nonlinearity in nonlinear
harmonic response, the CONNECT  entry is used with the SERVICE qualifier to make the connection between
the GROUP name on the NLRSFD Bulk Data entry and the name of the external service.
Executive Control
Nonlinear harmonic response is available as SOL 128 or SOL SENLHARM. This solution sequence is based
around linear direct frequency response (SOL 108), but in which nonlinearities may be taken into account.
Case Control
The Case Control command NLHARM (Case)  for nonlinear harmonic response references the NLHARM
Bulk Data entry. The NONLINEAR (Case)  Case Control command may also be used in nonlinear harmonic
response to reference nonlinear force Bulk Data entries (NOLINi, NLRGAP , NLRSFD,…).
Bulk Data
The three Bulk Data entries (NLHARM, NLFREQ, and NLFREQ1) relate specifically to a nonlinear
harmonic response, and so does the table Bulk Data entry (TABLED5).  Bulk Data entries NLRGAP , NLRSFD&lt;br&gt;
and NOLIN1  are also used in a nonlinear harmonic response.
NLHARM
The NLHARM (Case)  Bulk Data entry is used to define the parameters for nonlinear harmonic response .
NLFREQ
The NLFREQ  entry is used to define the forcing frequencies for a nonlinear harmonic response.1 2 3 4 5 6 7 8 9 10
NLHARM ID SUBFAC NHARM NLFREQ
Field Contents
ID Identification number referenced by the NLHARM Case Control command. (Integer &amp;gt;
0)
SUBFAC Factor for capturing sub-harmonic response. See Remark 3. (Integer &amp;gt;1, Default =1)
NHARM The number of harmonics to include in the solution. See Remark 2. (Integer &amp;gt; 0)
NLFREQ Identification number of the NLFREQ or NLFREQ1 entry specifying the forcing
frequency list. (Integer &amp;gt;0)&lt;/p&gt;
&lt;p&gt;867 CHAPTER 21
Special Topics
Main Index
NLFREQ1
The NLFREQ  entry is used to define the forcing frequencies for a nonlinear harmonic response by using a start
frequency, a frequency interval and a number of intervals.
TABLED5
The TABLED5  entry is used generally to define a value as a function of two variables for use in generating
frequency-dependent and time-dependent dynamic loads. In nonlinear harmonic response it is used to define
an NLRGAP whose force-penetration characteristics vary with frequency.1 2 3 4 5 6 7 8 9 10
NLFREQ ID F1 F2 F3 &amp;hellip; Fn
Field Contents
ID Identification number referenced by the NLFREQ field (field 5) of an NLHARM Bulk
Data entry. (Integer &amp;gt; 0)
F1&amp;hellip;Fn Forcing frequency values in cycles per unit time. (Real &amp;gt; 0.0)
1 2 3 4 5 6 7 8 9 10
NLFREQ1 ID F1 DF NDF
Field Contents
ID Identification number referenced by the NLFREQ field (field 5) of an NLHARM Bulk
Data entry. (Integer &amp;gt; 0).
F1 First forcing frequency in the set. (Real &amp;gt; 0.0)
DF Frequency increment. See Remark 1. (Real &amp;lt; &amp;gt; 0.0; Required)
NDF Number of frequency increments/decrements. (Integer &amp;gt; 0, Default =1)
1 2 3 4 5 6 7 8 9 10
TABLED5 TID
X(1) TID(1) X(2) TID(2) X(3) TID(3) X(4) TID(4)
&amp;hellip; &amp;hellip; ENDT
Field Contents
TID Table identification number.  (Integer &amp;gt; 0)
X(i) X value for the function specified by TID(i) (Real; no Default).
TID(i) ID of a TABLED1, TABLED2, TABLED3 or TABLED4 defining the function Y for the
given value of X.  (Integer &amp;gt; 0; no Default).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Harmonic Response868
Main Index
Using Nonlinear Harmonic Response
The nonlinear + solution uses a combination of sinusoids to form the steady-state response. Its limitation
therefore is that it can only capture harmonic components, so any frequencies which are not pure sub- or
super-harmonics of the excitation will be lost. It is also possible that either no solution exists (an unstable
dynamic system), or that more than one solution is possible. The nonlinear system being studied may exhibit
bifurcation or turning points; points for which a small incremental change in frequency results in more than
one solution. In addition, the system may exhibit a step change in the response from one frequency to the
next in what is referred to in the literature as “jump phenomena”. In its present form, the presence of
bifurcation or turning points cannot be determined in nonlinear harmonic response analysis, and the
resulting solution is just one of the possible states. Jump phenomena are revealed by examining the response
curves.
In a system with bearing clearance, like hydrodynamic or magnetic bearings, the stiffness of the system
changes depending on whether the bearing forces overcome the clearance in the bearing, resulting in contact
or no-contact conditions. Each of the contact/no-contact states may have essentially linear behavior, but the
overall behavior is nonlinear if the system changes from one state to another. The simplest example of such a
system is the Duffing oscillator. The Duffing equation is:
(21-84)
and is defined in any text book on nonlinear dynamics. This equation exhibits jump phenomena for certain
frequency values where the solution “jumps” from one significantly different value to another for a small
change in frequency. T o complicate matters, the jump differs depending on whether the change in frequency
is positive or negative.
When the system is nonlinear, there is also the possibility of sub- and super-harmonic responses. The response
frequencies in linear harmonic analysis are the same as the forcing frequency. Permanent oscillations whose
frequencies are a fraction of the forcing frequency (½, ¼, &amp;hellip;) may occur in a nonlinear system. These
oscillations are known as subharmonic responses. Subharmonic responses require special conditions (e.g.
particular damping characteristics and a non-symmetric stiffness) whereas super-harmonic responses, i.e.
permanent oscillations whose frequencies are a multiple of the forcing frequency (2, 3, …), are always present.
Whether or not they show significant response levels depends on the damping in the system. These are
complex phenomena which may exhibit jumps, further complicating matters.
A nonlinear harmonic response uses an iterative procedure to find the coefficients for the combination of
sinusoids that form the steady-state response. Newton’s method of iteration is employed to solve a system of
nonlinear algebraic equations. A trial solution is attempted for displacements and the corresponding forces
in any NLRGAP , NLRSFD, or NOLINi entries are calculated from the user- supplied data on the relevant
tables. The residual forces in the system are calculated and a convergence error is obtained. Based on the size
of the convergence error, the solution is either accepted or an updated displacement scaling is calculated and
the new displacements calculated. The sequence loops until either a diverging system is detected or
convergence obtained.
Controlling Nonlinear Harmonic Response
The interface to nonlinear harmonic response is driven via only the few inputs defined above. The nonlinear
characteristics are defined on NOLINi, NLRSFD, or NLRGAP Bulk Data entries and accompanying tables. ax··bx·cxdx3+ + + ft cos =&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P45</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_045/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_045/</guid>
      <description>
        
        
        &lt;p&gt;869 CHAPTER 21
Special Topics
Main Index
The sequence of excitation frequencies is defined on NLFREQ or NLFREQ1 entries and harmonic response
control data supplied on the NLHARM entry. This allows specification of the number of harmonics and
subharmonics to consider for the nonlinear harmonic response analysis, as well as referencing the excitation
frequency Bulk Data entries NLFREQ or NLFREQ1.
PARAM, MXICODE0 , 5
In nonlinear harmonic response analysis, if the solution fails to converge more than MXICODE0 times in
succession, a new trial displacement vector is calculated. MXICODE0 allows the number of successive failed
convergences to be modified before a new trial displacement vector is calculated. (Default is 5).
PARAM, NHPLUS , 20
In nonlinear harmonic response analysis, in order to avoid aliasing in the calculation of the Fourier
coefficients, a certain number of extra evaluation points are used. NHPLUS allows the number of extra
points to be defined. .
PARAM, NLHTOL , 1.0E-5
During the iteration procedure of nonlinear harmonic response, the norm of the residual load vector for the
current step is divided by the norm of the residual load vector for the previously converged step. This value
is then compared with NLHTOL. If the value is smaller than NLHTOL, the system is assumed to have
converged. (Default is 1.0E-5).
PARAM, NLHTWK  , 1.1
In nonlinear harmonic response analysis, if convergence is not obtained, a line search procedure is initiated
to calculate a scaling factor for the displacement vector from which updated nonlinear loads are subsequently
calculated. If the solution fails to converge more than 5 times in succession (modifiable by
PARAM,MXICODE0), a new trial displacement vector is calculated using a push-off factor the size of which
is defined by NLHTWK. (Default is 1.1).
Handling Nonconvergence in Nonlinear Harmonic Response
During the ascending or descending sequence of excitation frequencies defined on the NLFRQi entries, if
instability is encountered at a particular frequency, the solution may fail to converge at that frequency.
Nonconvergence may be attributed to several causes, and the possibility must always be considered that there
is simply no solution to the system at a particular frequency because the system has become dynamically
unstable.
In most cases of nonconvergence that is not attributed to dynamically unstable conditions, either the number
of harmonics or the subharmonic content is insufficient, or the system has reached a bifurcation or turning
point. T ry increasing the number of harmonics or subharmonics (NLHARM entry) as well as adjusting the
parameters described above. If none of these are successful, the system may have struck a bifurcation point.
Try adjusting the excitation frequencies slightly. For example, if using the following excitation frequencies:
5.0, 10.0, 15.0, 20.0…etc., try adjusting these to 5.1, 10.1, 15.1, 20.1. In the current implementation, there&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Harmonic Response870
Main Index
is no automatic treatment for possible bifurcation points, and the subject of using a continuation strategy is
under discussion for a future development.
In the case of nonconvergence, the response quantities are set to zero, and the calculation continues to the
next excitation frequency in the sequence retaining the initial conditions of the solution from the last
converged frequency. If the solution at the next excitation frequency does not converge, the same procedure
is followed until a converged solution is found.
There may come a time when it is judicious to change the initial conditions, particularly when the next
excitation frequency becomes distanced from the last converged frequency after a sequence of failed attempts
to converge excitation frequencies. In this situation, where the initial conditions for an excitation frequency
have become somewhat distanced from the previously converged excitation frequency, it may not mean very
much physically to continue to use the initial conditions from that previously converged excitation frequency.
Therefore, it may be favorable to start from zero conditions as always happens for the first frequency of an
analysis starting from scratch. There is some difficulty in deciding how far away from the previously
converged excitation frequency is acceptable to return to zero initial conditions. There is presently no logic
for handling this situation and the only course available is to reset the initial conditions to zero by starting a
completely new analysis with a starting frequency somewhere after the instability point.
Example
A nonlinear harmonic response was developed to study rotor/stator contact problems, but the presence of a
rotor is not obligatory. The capability may be used to study any periodic response to a harmonic excitation
in the presence of light nonlinearities.
The following example  Figure 21-7 shows a rotor bearing system in which an out-of-balance load excites a rigid
overhung disk mounted on a flexible shaft turning in bearings exhibiting nonlinear stiffness.
Figure 21-7  Rotor Bearing
The round solid shaft of diameter 0.1 metres is 1.0 metre long and runs in two bearings, one located at one
end of the shaft while the other is positioned just inboard of the disk such that the disk is overhung. The
bearings are mounted on an isolation material that exhibits nonlinear stiffness varying with a cubic law. The
overhung massive rigid disk exhibits a small eccentricity in its mass distribution.&lt;/p&gt;
&lt;p&gt;871 CHAPTER 21
Special Topics
Main Index
Shaft Material Properties:
Disk Properties:
Bearing Stiffness and Damping (Symmetrical)
First, the analysis is run in a linear direct frequency response with linear-bearing properties. The analysis is
then repeated in the nonlinear harmonic solution sequence, still with linear bearing properties and the
answers compared. Finally, the nonlinear bearing stiffness properties are added, and the response is compared
against theory.
The bulk data for the direct linear frequency response analysis model is shown as Listing 21-2 and can found
in MSC_DOC_DIR /tpl6/ dynamics/nlrb108.dat&lt;br&gt;
Listing 21-2  Rotor Bearing example SOL 108
SOL 108
CEND
DISP(SORT2,PHASE)=ALL
SPC=1
RGYRO=66
DLOAD=77
FREQ=88
BEGIN BULK
$
$ BEARING STIFFNESS
CELAS2,10442,1.5+7,105,2,5,2
CELAS2,10443,1.5+7,105,3,5,3
CELAS2,10552,1.5+7,106,2,6,2
CELAS2,10553,1.5+7,106,3,6,3
$
FREQ1,88,9.549296,.0530516,240
$
$ Same for all runs
PARAM,GRDPNT,0
PARAM,COUPMASS,1
$
$ ROTORYoung’s modulus 2.07E+11 Nm-2
Density 7750 kgm-3
Mass of disk 2000 kg
Inertia (polar) 200 kgm2
Inertia (diametral) 100 kgm2
Linear stiffness 1.5E+7 Nm-1
Nonlinear stiffness 1E+12d3 Nm-3 (d is the value of displacement)
Damping 1.72E+4 Nsm-1&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Harmonic Response872
Main Index
ROTORG,1,1,2,3,4
RGYRO,66,SYNC,1,FREQ
RSPINR,1,1,4,FREQ,1.
GRID,1
GRID,2,,.5
GRID,3,,1.
GRID,4,,.99
CBEAM,1,1,1,2,,1.
CBEAM,2,1,2,4,,1.
CBEAM,3,1,4,3,,1.
PBEAM*,1,1,7.8539820-3,4.9087390-6
*,4.9087390-6,,9.8174780-6
+
+,.68,.68   $ k1 k2
MAT1,1,2.07+11,,.27,7.75+3
$
$ DISK MASS &amp;amp; INERTIA
CONM2,6,3,,2000.
,200.,,100.,,,100.
$
$ STATOR
GRID,5
GRID,6,,.99
$
$ ROTOR TO STATOR CONNECTION
RBE2,941,5,123456,1
RBE2,953,6,123456,4
$
$ GROUND
GRID,105
GRID,106,,.99
$
$ BEARING DAMPING
CDAMP2,20442,1.72+4,105,2,5,2
CDAMP2,20443,1.72+4,105,3,5,3
CDAMP2,20552,1.72+4,106,2,6,2
CDAMP2,20553,1.72+4,106,3,6,3
$
$ REMOVE SINGULAR DOFS
SPC1,1,14,2,3,5,6
SPC1,1,123456,105,106
$
$ OUT OF BALANCE FOR ROTOR
DLOAD,77,1.,60.,1001,60.,1002
RLOAD2,1001,1001,,,1000
RLOAD2,1002,1002,,1002,1000
DAREA,1001,2,2,9.4286-2
DAREA,1002,2,3,9.4286-2
DPHASE,1002,2,3,-90.
TABLED4,1000,0.,1.,0.,1000.
,0.,0.,39.47842,ENDT
ENDDATA&lt;/p&gt;
&lt;p&gt;873 CHAPTER 21
Special Topics
Main Index
This is to be compared with the nonlinear harmonic response with nonlinear forces defined with linear
behaviour.  The partial input showing the necessary changes to use SOL 128  is show in Listing 21-3 and the
complete input can be found in MSC_DOC_DIR /tpl6/ dynamics/nlrb128.dat
The same problem is now run as a nonlinear harmonic response which solves the problem in an iterative
manner. Half the stiffness of the linear bearings is replaced with nonlinear force definition on NOLIN1
entries. The force-displacement relationship is defined as linear.
Listing 21-3  Rotor Bearing example SOL 128
SOL 128
CEND
DISP(SORT2,PHASE)=ALL
SPC=1
RGYRO=66
DLOAD=77
NONLINEAR=1000
NLHARM=2000
BEGIN BULK
$
$ LINEAR BAERING STIFFNESS (HALVED)
CELAS2,10442,7.5+6,105,2,5,2
CELAS2,10443,7.5+6,105,3,5,3
CELAS2,10552,7.5+6,106,2,6,2
CELAS2,10553,7.5+6,106,3,6,3
$
$ LINEAR BEARING STIFFNESS (HALF PROVIDED BY NOLIN1)
NOLIN1,1000,5,2,-1.,5,2,1001
NOLIN1,1000,5,3,-1.,5,3,1001
NOLIN1,1000,6,2,-1.,6,2,1001
NOLIN1,1000,6,3,-1.,6,3,1001
TABLED1, 1001,
, -1.0, -7.5+6, 1.0, 7.5+6, ENDT
$
NLFREQ1,88,9.549296,.0530516,240
NLHARM,2000,1,1,88
$
When these two linear analyses are run, the magnitude response of GRID point 3 in the Y direction looks
like Figure 21-8:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Nonlinear Harmonic Response874
Main Index
Figure 21-8  Response of GRID Point 3
The linear frequency response curve and the nonlinear harmonic response curve are superposed. This shows
the linear problem can be solved using the 2 different methods (SOLs 108 and 128) and the response is the
same.
Now the bearing stiffness is replaced by a cubic stiffness defined by NOLIN3  and NOLIN4  entries. The partial
input required to change the example to cubic stiffness for the nonlinear harmonic response in SOL 128. is
shown as Listing 21-4 and the complete input can be found in
MSC_DOC_DIR /tpl6/ dynamics/nlrb128cs.dat
Listing 21-4  Rotor Bearing with Cubic Stiffness
SOL 128
CEND
DISP(SORT2,PHASE)=ALL
SPC=1
RGYRO=66
DLOAD=77
NONLINEAR=1000
NLHARM=2000
BEGIN BULK
$
$ BEARING STIFFNESS
CELAS2,10442,1.5+7,105,2,5,2
CELAS2,10443,1.5+7,105,3,5,3&lt;/p&gt;
&lt;p&gt;875 CHAPTER 21
Special Topics
Main Index
CELAS2,10552,1.5+7,106,2,6,2
CELAS2,10553,1.5+7,106,3,6,3
$
$ CUBIC NONLINEAR STIFFNESS (TENSION)
NOLIN3,1000,5,2,-1+12,5,2,3.
NOLIN3,1000,5,3,-1+12,5,3,3.
NOLIN3,1000,6,2,-1+12,6,2,3.
NOLIN3,1000,6,3,-1+12,6,3,3.
$ CUBIC NONLINEAR STIFFNESS (COMPRESSION)
NOLIN4,1000,5,2,-1+12,5,2,3.
NOLIN4,1000,5,3,-1+12,5,3,3.
NOLIN4,1000,6,2,-1+12,6,2,3.
NOLIN4,1000,6,3,-1+12,6,3,3.
$
$ Spin up
NLFREQ1,88,9.549296,.1591549,240
$ Spin down
$NLFREQ1,88,47.74648,-.1591549,240
NLHARM,2000,1,1,88
$
The analysis is run in two parts, the first starting from a cyclical frequency of 9.55 Hz (60 radians/second)
with an increasing frequency up to a frequency of 47.7 Hz (300 radians/second); this simulates a spin-up
event where each frequency is considered in its steady state condition. The second part of the analysis
simulates a spin-down event starting from a cyclical frequency of 47.7 Hz with a decreasing frequency.
The magnitude of the Y direction response of GRID point 3 is plotted against rotational frequency with the
resulting two curves is show in Figure 21-9:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Design Optimization and Sensitivity Overview876
Main Index
Figure 21-9  Response of GRID Point 3 showing Jumps
Clearly there is a zone of bifurcation just before 23 Hz; that is to say, after 23 Hz, two possible states exist. In
the spin-down case, the solution jumps from one solution to the other and then retraces the spin-up response
curve; an unstable condition exists between these two.
The results are in good agreement with those reported by Zu and Ji.1
Design Optimization and Sensitivity Overview
Design optimization  is used to produce a design that possesses some optimal characteristics, such as
minimum weight, maximum first natural frequency, or minimum noise levels.  Design optimization is
available in MSC Nastran in SOL 200, in which a structure or superelement can be optimized considering
simultaneous static, normal modes, buckling, transient response, frequency response, random analysis, and
aeroelastic analyses.
Possible analysis response types include:
1 Steady-State Response of Continuous Nonlinear Rotor-Bearing Systems Using Analytical Ap -
proach, J.W. Zu and Z.Y. Ji, Journal of Engineering for Gas T urbines and Power, ASME, 120, pp
751 - 758, 1998.&lt;/p&gt;
&lt;p&gt;877 CHAPTER 21
Special Topics
Main Index
Weight
Volume
Eigenvalues
Buckling load factor
Static displacement, stress, strain, and element force
Composite stress, strain, and failure criterion
Frequency response displacement, velocity, acceleration, stress, and force
Transient response displacement, velocity, acceleration, stress, and force
Damping level in a flutter analysis
Trim and stability derivative responses for static aeroelastic analysis
Plus many other uses, so many that this material has its own guide, the MSC Nastran  Design Sensitivity and
Optimization User’s Guide  has complete details on the use of the capability.
Control System Analysis
A control system  provides feedback (output) to an input.  In aircraft, sample control systems are flap settings
and actuator positions.
A control system involves a general input -output relationship called a transfer function.  T ransfer functions
are represented in MSC Nastran by the TF Bulk Data entry.  T ransfer functions can utilize grid points ( GRID),
extra points ( EPOINT ), and scalar points ( SPOINT ).  Nonlinearities can be simulated via the NOLIN1 ,i entries with
which nonlinear transient loads are expressed as functions of displacements or velocities.  Complex
eigenvalue analysis can be used to determine stability when control systems include damping and asymmetric
matrices.
Fourier Transform
The Fourier transform capability in MSC Nastran allows a transient analysis to be performed using a
frequency response solution.  Time -dependent applied loads are transformed to the frequency domain and
all frequency dependent matrix calculations are completed.  The frequency response solution variables are
then transformed back into the time domain.
Fourier transform methods have been implemented in MSC Nastran to integrate the equations of motion in
order to obtain the aeroelastic response of fixed wing aircraft.  This capability is especially important for this
type of analysis since the unsteady aerodynamic matrices are known only in the frequency domain.  The
Fourier transform method may also be used to solve for the transient response of conventional structural
models (no aerodynamic effects) subjected to periodic loads.
This capability is available in SOLs 108 and 111 for frequency response output data.  For transient type
output, SOL 146 must be used.  The transformation is performed when the requested load is the TLOAD1 ,2
form.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Fourier Transform878
Main Index
Theory
T wo forms of the Fourier transform are available:  the Fourier series and the Fourier integral.  Both methods
require necessary numerical compromises and hence produce numerical approximations.  The inverse
transform includes an infinite sum, for which only a finite number of terms are numerically evaluated.  The
inverse Fourier integral must be numerically integrated, which may result in integration errors.  The number
of frequencies at which the integrand is evaluated is limited by the cost of calculations.
In the Fourier series, the basic time interval is , with the function periodic.  The circular frequencies
are given by
where  is a large time equal to the period of the lowest forcing frequency.
The load transformation for a load at point  is given by
(21-85)
The response at point  is given by
(21-86)
where  is the frequency response of any physical variable due to unit load.  The response in the
time domain is given by
(21-87)
In the Fourier Integral, the time interval is the limit as , ,and  of the Fourier
series.  Here,  is a continuous variable. Equations (21-85), (21-86), and (21-87) take the form
(21-88)
(21-89)0tT
n2nf =
f1
T&amp;mdash;=

T
a
P˜an Pateint –td
0T
=
j
u˜jn HjanP˜an =
Hjan
ujt
&amp;mdash;&amp;mdash;&amp;ndash;1
2&amp;mdash;u˜j0 Reu˜jneint 
n1=
+ =
Tf0 2nf

P˜a Pateit–td
0
=
u˜j HjaP˜a =&lt;/p&gt;
&lt;p&gt;879 CHAPTER 21
Special Topics
Main Index
(21-90)
Transformation of Loads to the Frequency Domain
The transformation of the user -specified time dependent loads into the frequency domain is given in
Eq.(21-85).  With this transformation, the user must define a function that vanishes for .
For piecewise linear tabular functions ( TLOAD1 ), a table of pairs ( , )( ) prescribes  time
intervals.  If an X1 shift and an X2 scale factor are included, the time -dependent load at point  is given by
(21-91)
where  is an amplitude factor and  is a delay factor that may depend upon the loading point.  Applying
finite step -by-step integration to Eq. (21-85), the transformed load, , is obtained for each requested
frequency.
Likewise, the general function ( TLOAD2 ) is defined by
(21-92)
where
The value of  must be an integer for transient analysis by the Fourier method.  The transformation to the
frequency domain is also obtained by numerical integration.
These loads, which appear in the form required for frequency response, are transformed to the modal
coordinates exactly as in the modal frequency response method.
One other source of loads for aeroelastic problems is a one -dimensional gust.  The same time dependencies
are allowed as defined above; however, the amplitude ( ) and delays ( ) for the aerodynamic elements
are computed from areas, dihedrals, and coordinates in the flow direction.
Calculation of Frequency Response
Frequency responses are computed in the frequency domain by conventional MSC Nastran methods for
coupled equations.ujt1
&amp;mdash;Reu˜jeit d
0
=
tT
xiYii1,N = N1–
a
Pat AaYTta– X1–
X2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  =
Aaa
P˜a
PaTAat˜net˜2ft˜+ cos 0tT2T1–
0 Otherwise=
ttT1–a– =
n
Aaa&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Fourier Transform880
Main Index
Inverse Transformation of the Response to the Time Domain
The response in the time domain is found either from the Fourier integral approximation of Eq. (21-90) or
from the Fourier series result of Eq. (21-87) (which can be thought of as a special form of the integral
approximation.)  Three approximation methods are available to evaluate the inverse transform which may be
selected by the user via the parameter IFTM.  In all cases, the quantity  is first calculated at a set of
frequencies, , by the frequency response module where the ‘s do not need to be equally spaced.  For all
methods,  is set equal to zero outside the range of ’s computed.  These methods are:
Consider Method 2.  Solving the three -moment equations, the second derivatives , can be found for
each  for which a frequency response has been computed.  Then, in any interval ,
(21-93)
where:
Integrate Eq. (21-90) using Eq. (21-93) for , and sum over the integrals.  Then collect the terms for each
with the result,
(21-94)
(21-95)Method 0 Approximate  as a constant in each interval (the default method).  For equal
frequency intervals, this method reduces to the Fourier series approximation of
Eq. (21-87).
Method 1 Fit  with a piecewise linear function, and do not approximate .
Method 2 Fit  with a cubic spline function, and do not approximate .&lt;/h1&gt;&lt;p&gt;=u˜
ii
u˜ 
u˜eit
u˜ eit
u˜ eit
u˜
 ii1+
u˜ u˜isu˜i1+r + i1+i– 2
6&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
u˜iss3– ui1+rr3– +   – =
ri–
i1+i– &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
s 1r–
u˜
n
ut1
&amp;mdash;ReCntu˜nDntu˜n +  eint 
n1=N
=
Cntnn1––
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;E2itnn1––  – n1+n–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;E2itn1+n–    + =&lt;/p&gt;
&lt;p&gt;881 CHAPTER 21
Special Topics
Main Index
(21-96)
For the first terms in Eq. (21-94) ( ), use only the second terms on the right side of Eqs. (21-95) and
(21-96).  For the last term in Eq. (21-94) ( ), use only the first terms on the right side of Eqs. (21-95)
and (21-96).
(21-97)
(21-98)
The above form of the inverse transform has two advantages.  First, numerical problems for small values of
are efficiently evaluated by choosing the series form of Eq. (21-98).  Also, the other two methods are
easily derived as subcases.  If  terms are removed from Eq. (21-93), a piecewise linear fit occurs.  Thus,
Method 1 results by deleting  from Eq. (21-94), i.e.,
(21-99)
with  defined by Eq. (21-95).  Method 0 results if we replace  by 1.0 in Eq. (21-95).
The above procedure for Method 0 always multiplies the first and last terms in the series by one -half.  In
order to force agreement with the Fourier series, which is the limiting case of equal frequency intervals, the
first term in the series is multiplied by one -half only if the value of the first frequency is zero.
Some special considerations are given in the equal frequency interval case.  When all ’s are equal and the
first frequency is an integer multiple of , the time step  is adjusted to make ,
reducing the number of distinct values of  and  used in Eq. (21-99).  Also,  and
Eqs. (21-95) and (21-96) become independent of  and do not need to be computed at every
frequency.
Other important practical considerations must be observed to use these methods successfully. T o illustrate
one problem, consider the response of a simple damped oscillator to a pulse ( Figure 21-10).  The upper three
curves show the pulse and the response of the system if it is very stable and slightly stable.  Using the Fourier
method, the pulse is replaced by a series of pulses, with period .Dntnn1–– 3
24&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-Gitnn1––   n1+n– 
24&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;3
Gitn1+n–    – =
n 1=
n N=
Gz 2E2zE4z – =
EKzK!
zk&amp;mdash;&amp;mdash; ez zk
k!&amp;mdash;-
k0=kK=
–
1z
K1+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-z2
K1+K2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;z3
K1+K2+K3+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- + + +=
t
u
u˜
ut1
&amp;mdash;ReCntuneint 
n1=N
=
CnE2
f
f t ft 1integer=
nt sin nt cos Cnt
Dnt n
1f&lt;/p&gt;
&lt;h1&gt;MSC Nastran Dynamic Analysis User’s Guide
Fourier Transform882
Main Index
Figure 21-10  Response of a Single Degree -of-Freedom for Three Types of Periodic Loads
Guidelines for Use
As can be seen, this method gives good results if the system is damped, but an incorrect impression if the
system is lightly damped.  Thus, in order for the results of the Fourier method to be valid:
1.The system should be reasonably well damped.
2.The forcing function should be zero for some time interval to allow decay.
3.The frequency interval .
If the system has unstable modes, these will appear as a precursor before the pulse as a stable mode in the
reverse time.  In general, Methods 1 and 2 are more accurate than Method 0.  However, these methods
introduce positive artificial damping into the result that may lead to erroneous conclusions in stability
studies.  T o see this, consider the function  in Eq. (21-100).  If equal frequency intervals are chosen,
then
(21-100)
Thus, Method 1 (and also Method 2) produces a decaying envelope that the user may incorrectly interpret
as additional damping.
The use of equal frequency intervals versus unequal intervals has been studied and results are shown in the
MSC.Nastran Aeroelastic Analysis User’s Guide .Input
(a) True Transient
(b) Periodic RepresentationP(t) u(t) u(t)
t t t
P(t)
t t t1
f&amp;mdash;&amp;ndash;Damped Damped
f1TpulseTdecay+  
Cnt
Cnt1 t cos–
12t2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  11
6&amp;mdash;t2– +  = Method 0
Method 1 &lt;/h1&gt;&lt;p&gt;883 CHAPTER 21
Special Topics
Main Index
Squeeze Film Damper Nonlinear Force
Introduction
The requirement for high power output from modern gas turbine engines has resulted in highly flexible light
weight rotor designs. Control of vibration response in these engines is a major design problem. The use of
rolling element bearings with low inherent damping makes it difficult to reduce vibration amplitudes and
dynamic loads transmitted to the rotor supporting structure. Squeeze film dampers  (SFDs) are therefore used
to provide adequate damping to maintain low amplitude vibration levels and to reduce the dynamic loads
transmitted to the bearings and rotor support structures.
The general SFD model is incorporated into the MSC Nastran time-domain analysis and this capability
provides the means to design and analyze SFDs for general rotor orbits with multiple frequency content.  The
capability includes static loads and models the lift-off phenomenon important in the design of free-floating
dampers.
Squeeze Film Damper Model in Transient Solutions
The general SFD model is incorporated in MSC Nastran for transient analysis by inserting the SFD forces
in the right-hand (Force Vector) side of the equations of motion. The SFD is a form of a NOLIN type of
element similar to NLRGAP .  The NOLIN approach works with the NASTRAN time domain solutions (SOL
109 and SOL 129).  The SFD element is called NLRSFD.  The Bulk Data entry NLRSFD  is used to input the
SFD data (journal diameter, land length, oil viscosity, etc.).
As with the NOLIN’s, the NLRSFD will be selected by the NONLINEAR (Case)  Case Control command.
SFD uses as input the relative displacements and velocities  at the connecting grids and outputs
the forces  and  acting on the SFD damper journal grid point.  Equal and
opposite forces -  and -  are  applied to the stator (SFD housing) grid point.&lt;br&gt;
Referring to Figure 21-11, GRID I is on the damper journal and GRID J is on the damper housing.  The two
grids should be coincident and have parallel Cartesian coordinate systems.  The forces applied to the grids
are based on the relative displacements and velocities of the grids determined from the previous time steps in
the NASTRAN implicit time integration.  If a parallel centering spring is used, then this separate spring is
entered using the CELAS2  two-ended element.xx·yy·
Fxxx·yy· Fyxx·yy·
Fxxx·yy· Fyxx·yy·&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Squeeze Film Damper Nonlinear Force884
Main Index
Figure 21-11  Imbedding the SFD Model in MSC Nastran:  Grid I is on the Damper Journal and Grid J is on the
Damper Housing
Theory for General Squeeze Film Damper Model
The squeeze film damper model is based on work originally performed at Case Western Reserve University
(CWRU).  It incorporates a numerical solution of the Reynolds lubrication equation for incompressible
laminar isoviscous films that is described Adams, Padovan and Fertis. The model is capable of handling the
specified pressure boundaries at the feed (supply) and discharge (drain) ports of the SFD.  The SFD pressure
distribution is determined using a one-dimensional, finite difference scheme.  The scheme is a 1-D
adaptation of the 2-D finite difference method of Castelli and Shapiro. The one-dimensional finite-difference
approach permits the account of static as well as dynamic deflections and is thus capable of modeling general
damper orbits with broad frequency content.  The model computes the oil film forces by numerical
integration of the instantaneous film pressure distribution.&lt;br&gt;
Squeeze Film Damper Input Data Format
The squeeze film damper (SFD) is implemented as a nonlinear force similar to the NLRGAP .  The SFD forces
are activated from the Case Control Section using the NONLINEAR (Case)  command.
NONLINEAR= nHousingY
ZJournal
GRIDS
I &amp;amp; J&lt;/p&gt;
&lt;p&gt;885 CHAPTER 21
Special Topics
Main Index
The Bulk Data entry for the NLRSFD  has the following form:
Remarks
1.The XY, YZ, and ZX planes are relative to the displacement coordinates of GA and GB. The plane
coordinates correspond to the NLRSFD directions 1 and 2. GA and GB should be coincident grids
with parallel displacement coordinate systems. Wrong answers will be produced if this rule is not
followed.
2.The angular measurement is counterclockwise from the displacement x-axis for the XY plane, the y-
axis for the YZ plane, and the z-axis for the ZX plane.1 2 3 4 5 6 7 8 9 10
NLRSFD SID GA GB PLANE BDIA BLEN BCLR SOLN
VISCO PVAPCO NPORT PRES1 THETA1 PRES2 THETA2 NPNT
OFFSET1 OFFSET2
Field Contents
SID Nonlinear load set identification number. (Integer &amp;gt; 0, Required)
GA Inner (e.g., damper journal) grid for squeeze film damper. (Integer &amp;gt; 0, Required)
GB Outer (e.g., housing) grid for squeeze film damper. (Integer &amp;gt; 0, Required)
PLANE Radial gap orientation plane: XY, XZ, or ZX. See Remark 1. (Character, Default = XY)
BDIA Inner journal diameter. (Real &amp;gt; 0.0, Required)
BLEN Damper length. (Real &amp;gt; 0.0, Required)
BCLR Damper radial clearance. (Real &amp;gt; 0.0, Required)
SOLN Solution option: LONG or SHORT bearing. (Character, Default = LONG)
VISCO Lubricant viscosity. (Real &amp;gt; 0.0, Required)
PVAPCO Lubricant vapor pressure. (Real &amp;gt; 0.0, Required)
NPORT Number of lubrication ports: 1 or 2 (Integer, no default)
PRES1 Boundary pressure for port 1. (Real &amp;gt; 0.0, Required if NPORT = 1 or 2)
THETA1 Angular position for port 1. See Remark 2. (0.0 &amp;lt; Real &amp;gt; 360.0, Required if NPORT =
1 or 2).
PRES2 Boundary pressure for port 2. (Real &amp;gt; 0.0, Required if NPORT = 2).
THETA2 Angular position for port 2. See Remark 2. (0.0 &amp;lt; Real &amp;lt; 360.0, Required if NPORT =
2)
NPNT Number of finite difference points for damper arc. (Odd Integer &amp;lt; 201, Default = 101)
OFFSET1 Offset in the SFD direction 1. (Real, Default = 0.0)
OFFSET2 Offset in the SFD direction 2. (Real, Default = 0.0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Squeeze Film Damper Nonlinear Force886
Main Index
3.OFFSET1 = Damper housing ID center offset displacement relative to OD center in the horizontal
direction. Entered as a positive value for horizontally to the left (negative x-direction) displacement.
4.OFFSET2 = Damper housing ID center offset displacement relative to OD center in the vertical
direction. Entered as a positive value for downward (negative y-direction) displacement. Positive
entry typically used for -1 g compensation.
Squeeze-Film Damper Example
The following example demonstrates the use of the NLRSFD nonlinear force.  The model is shown in
Figure 21-12.  The MSC Nastran input file is shown in Listing 21-5.  (See
MSC_DOC_DIR /tpl6/ dynamics/sfd109ex.dat) The unbalance load of 20 Gm-cm is used to excite the
structure.  The resulting nonlinear forces are shown in Figure 21-13.
Figure 21-12  Model
Listing 21-5&lt;br&gt;
$ file sfd109ex.dat
$
SOL 109
CENDNote:   The OFFSET2 value represents an eccentric damper housing in the vertical direction and is
typically used to compensate for the -1g displacement of damper supported by a centering spring.
Rotor - Grid 101Support - Grid 102
NLRSFD
Spring to Ground&lt;/p&gt;
&lt;p&gt;887 CHAPTER 21
Special Topics
Main Index
TITLE = Simple test model, SOL 109, No damping
$
ECHO= UNSORT
$
$&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- Results requests &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
SET 101 = 100,101
DISP    (PRINT,SORT2) = 101
SET 102 = 101,102
ELFORCE (PRINT,SORT2) = 102
SET 103 = 100
OLOAD   = 103
$
TSTEP = 999
NONLINEAR=1
SUBCASE 200
LABEL = 1G down static load + 20 gm-in unbalance
$ LOADSET=100
DLOAD = 200
$
OUTPUT(XYPLOT)
XGRID= YES
YGRID= YES
XTITLE= TIME (SEC)
YTITLE= SFD FORCE (X)
XYPLOT  NONLINER/ 101(T1)
YTITLE= SFD FORCE (Y)
XYPLOT  NONLINEAR/ 101(T2)
BEGIN BULK
$
$               1/386.4
PARAM     WTMASS258799-8
PARAM     GRDPNT       0
$
TSTEP        999   30001 .000010     100
$
$===========================================================================
$                 Set up transient 1G down Load
$
$LSEQ         100     150     102
DLOAD        200     1.0     1.0     201    20.0     301    20.0     302
$
GRAV         102       0   386.4     0.0    -1.0     0.0
$TLOAD1       201     150                      99
TLOAD1       201     102                      99
TLOAD2       301     301            LOAD     0.0   100.0166.6667   270.0
TLOAD2       302     302            LOAD     0.0   100.0166.6667     0.0
$
$  DAREA card used to &amp;lsquo;bridge&amp;rsquo; static load case into transient solution
DAREA        150     100       1     0.0
$
$  F(f) = UNBAL * f&lt;strong&gt;2 * (1/453.5924 lbm/gm) * (2*pi)&lt;strong&gt;2 / 386.08858
in/sec&lt;/strong&gt;2
$       = UNBAL * f&lt;/strong&gt;2 * 2.25243e-4 (lb)
$         (where UNBAL is given in GM-IN, &amp;lsquo;freq&amp;rsquo; in Hertz)
$       =  1.0  * (10000.&lt;em&gt;2&lt;/em&gt;pi/60)^2 /453.6/386.4
$       = 6.2619 (for 10,000 RPM)
$
DAREA        301     100      1 6.256715
DAREA        302     100      2 6.256715
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Squeeze Film Damper Nonlinear Force888
Main Index
$  Impose 1G load instantaneously
TABLED1       99                                                        +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;       0.0      1.     1.0      1.    ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$
$===========================================================================
$                         Structural Model
$
GRID         100       0     0.0     0.0     0.0       0                 Spining
CONM2         99     100       0    100.                                 (No Ip)
GRID         101       0     0.0     0.0     0.0       0    3456         onStat
GRID         102       0     0.0     0.0     1.0       0                 forSpin
$
RBE2         100     101  123456     100     102
$
$ CENTERING SPRINGS FOR SQUEEZE-FILM DAMPER
$
CELAS2       101 100000.     101       1     103       1                 HorizK
CELAS2       102 100000.     101       2     103       2                 VertK
GRID         103       0     0.0     0.0     0.0       0    3456         almostg
$
$ Spring to ground added to &amp;ldquo;Bottom&amp;rdquo; of structure in order to keep GRID 103
$ in the A-set
CELAS2       111    1.+9     103       1     104       1                 HorizK
CELAS2       112    1.+9     103       2     104       2                 VertK
GRID         104       0     0.0     0.0     0.0       0  123456         onGrnd
$
$ SQUEEZE-FILM DAMPER INPUT
$
NLRSFD,1,101,103,XY,6.44,.727,.003,SHORT,+
+,7.-7,0.0,1,0.0,270.0,0.0,0.0,31,+
+,0.0,0.0
ENDDATA
.
Figure 21-13  SFD Force, X and Y Direction&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P46</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_046/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_046/</guid>
      <description>
        
        
        &lt;p&gt;889 CHAPTER 21
Special Topics
Main Index
Aeroelastic Analysis
The MSC Nastran: Aeroelastic Analysis User’s Guide  describes the theoretical aspects; the numerical techniques
used to perform aeroelastic analyses; and how to setup, run and interpret the results using MSC Nastran. The
Aeroelastic Guide is the best source for information, only an overview of this important capability is
presented here.
Overview of Aeroelastic Analysis
MSC Nastran provides efficient solutions to the problems of aeroelasticity, which is a branch of applied
mechanics that deals with the interaction of aerodynamic, inertial, and structural forces.  It is important in
the design of airplanes, helicopters, missiles, suspension bridges, and even tall chimneys and power lines.&lt;br&gt;
Aeroservoelasticity is a variation in which the interaction of automatic controls requires additional
consideration.
The primary concerns of aeroelasticity include flying qualities (stability and control), flutter, and structural
loads arising from maneuvers and atmospheric turbulence.  Methods of aeroelastic analysis differ according
to the time dependence of the inertial and aerodynamic forces that are involved.  For the analysis of flying
qualities and maneuvering loads wherein the aerodynamic loads vary relatively slowly, quasi -static methods
are applicable.  The remaining problems are dynamic, and methods of analysis differ according to whether
the time dependence is arbitrary (transient or random) or simply oscillatory in the steady state.
MSC Nastran considers three classes of problems in aeroelasticity:
Static Aeroelastic Response
Aerodynamic Flutter
Dynamic Aeroelastic Response
Each is described in the text that follows.  In addition, information is provided on the ability to include
aeroelastic responses within the MSC Nastran optimization capability, the aerodynamic methods available,
and on special features that make the MSC Nastran aeroelastic capability unique.
Static Aeroelastic Response
For the analyses of flying qualities and maneuvering loads, the assumption of quasi -steady motion is valid,
i.e., the dynamics of the flexible structure are neglected and quasi -static methods are applicable.  By assuming
linear behavior of the aerodynamic, inertial and structural forces during the motion, the equations of
equilibrium in quasi -steady flight are solved in closed algebraic (matrix) form.  Linear and/or surface splines
may be used to connect the aerodynamic and structural grid points.
The static aeroelastic analysis solves for the trim condition in a prescribed maneuver.  The formulation of the
equilibrium equations provides the aerodynamic stability and control derivatives as an integral part of the
trim process.  The external flight loads and the corresponding internal loads and stresses on the finite
elements, are available as postprocessing operations on the trim solution.
Static aeroelastic divergence is a non-oscillatory instability condition that can occur when the aerodynamic
forces overpower the stiffness of the structure.  For free -flying vehicles, this phenomenon is typically not of
concern, but it can be critical in the structural design of restrained wind tunnel models.  Static aeroelastic
divergence analysis can be performed as an option within the overall static aeroelastic capability.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis890
Main Index
Aerodynamic Flutter
Flutter is the oscillatory aeroelastic instability that occurs at some airspeed at which energy extracted from the
airstream during a period of oscillation is exactly dissipated by the hysteretic damping of the structure.  The
motion is divergent in a range of speeds above the flutter speed.  Flutter analysis utilizes complex eigenvalue
analysis to determine the combination of airspeed and frequency for which the neutrally damped motion is
sustained (see Figure 21-14).
Figure 21-14  Flutter Stability Curve
Three methods of flutter analysis are provided:  the American flutter method (called the K -method in MSC
Nastran), an efficient K -method (called the KE -method) for rapid flutter evaluations, and the British flutter
method (called the PK -method) for more realistic representation of the unsteady aerodynamic loads as
frequency dependent stiffness and damping terms.  The complex eigenvalue analysis is specified by the user
with the K -method, and the QR -transformation method is used with the KE - and PK -methods.  Again,
linear and/or surface splines may be used to connect the aerodynamic and structural grid points.
Dynamic Aeroelastic Response
The dynamic aeroelastic response problem is one of determining the response of the aircraft to time -varying
excitations.  Atmospheric turbulence is the primary example of this type of excitation, but store ejection loads
and landing gear impact can also have an aeroelastic component.  Methods of generalized harmonic (Fourier) 1st Mode
2nd Mode0.2
0.1
0.0
-0.1
-0.2
0 500 1000 1500 2000Damping, g
Velocity (ft/sec)Flutter Divergence&lt;/p&gt;
&lt;p&gt;891 CHAPTER 21
Special Topics
Main Index
analysis are applied to the linear system to obtain the response to the excitation.  The turbulence model may
be regarded either as a stationary random loading or as a discrete gust.
The gust analysis capability computes response to random atmospheric turbulence and discrete
one-dimensional gust fields.  The random response parameters calculated are the power spectral density, root
mean square response, and mean frequency of zero -crossings.  The response to the discrete gust is calculated
by direct and inverse Fourier transform methods since the oscillatory aerodynamics are only known in the
frequency domain.   Time histories of response quantities are the output in the discrete case (see Figure 21-15).
Figure 21-15  Transient Response Resulting from a Gust
Aeroelastic Optimization
The integration of the aeroelastic analysis capability contained in MSC Nastran with a design sensitivity and
optimization capability provides a design tool for the aeroelastician.  Sensitivity analysis entails the
determination of the effects that changes in structural properties have on response quantities, such as
displacements or stresses.  Optimization utilizes information on the response values and their sensitivities to
automatically determine a design that meets a design objective, such as limits on stresses, deformations, or
flutter characteristics.  The static aeroelastic and flutter analyses are available within the MSC Nastran
optimization capability and can be used in multidisciplinary fashion along with standard static analysis,
normal modes analysis, and dynamic response analysis.  Dynamic aeroelastic response is not available for
optimization.  Aeroelastic responses available for the sensitivity and optimization include stability derivatives
and trim settings from the static aeroelastic analysis and flutter damping level from the flutter analysis.
Aerodynamic Methods
Five oscillatory aerodynamic theories are available for flutter analysis .  There is one subsonic method, the
Doublet -Lattice Method with body interference, and three supersonic methods: the Mach Box Method,
Piston Theory, and a new (Aero II option) multiple interfering surface method called ZONA51.  The fifth
3.0E8
-5.0E8 Root Bending Moment (in-lbs)
0Time (sec) 8&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis892
Main Index
method is rudimentary Strip Theory , which can be applied at any Mach number.  The static and dynamic
aeroelastic response solutions use both the subsonic Doublet -Lattice  and supersonic ZONA51 aerodynamic
methods.
Special Features
Aeroelastic analysis in MSC Nastran provides several advances in the state of -the art.  The fundamental
problem of interconnecting the aerodynamic and structural grids in the finite element models is solved by a
closed form solution to an infinite plate over multiple supports.  This two -dimensional interpolation was
developed in addition to a generalization of the one -dimensional spline for a bending, twisting beam (elastic
axis) on multiple collinear supports.
The implementation of the lined -up British flutter method, called the PK -method  in MSC Nastran, was the
first attempt to popularize the British approach to flutter analysis in the United States.  This, along with the
transfer function capability for control systems , makes analysis of aeroservoelastic problems a routine matter.&lt;br&gt;
The transfer function representation is for second order systems:  a single output from multiple inputs.
The analysis of response to a discrete gust requires Fourier transform methods, because the aerodynamics
assume harmonic motion.  First, a direct transform of the discrete gust profile is necessary to place the forcing
function in the frequency domain.  Second, an inverse Fourier transform of the forced frequency response is
necessary to obtain the transient response of vehicles to the gust.  Both the direct and inverse Fourier
transform calculations have been implemented in MSC Nastran.
The quasi -steady equations of motion of a free -flying vehicle require consideration of the inertial relief effects.&lt;br&gt;
For the unrestrained vehicle, the inertial effects are contained in the basic stability and control derivatives.&lt;br&gt;
However, derivatives that are independent of weight distribution are desirable for use in flight simulators, and
are obtained by assuming the  aircraft to be restrained in some reference support configuration.  The
equations of motion using restrained aeroelastic derivatives require not only additional inertial derivatives,
but also the rotations of the mean axes relative to the support for each aerodynamic variable (e.g., angle of
attack, elevator rotation, pitch rate).  These additional aeroelastic coefficients permit the support to be
unloaded and angular momentum to be conserved.  MSC Nastran provides both restrained and unrestrained
aeroelastic derivatives, and in the restrained case, the inertial derivatives and mean axis rotations.
Control systems  can also be included in dynamic response analysis using MSC Nastran transfer functions.&lt;br&gt;
With this feature, the aeroservoelastic interactions of ride comfort and load alleviation systems can be
investigated.
The MSC Nastran procedure has general capabilities that are beyond those listed here, and their application
to aeroelastic design is limited only by the analyst’s ingenuity.  For example, aerothermoelasticity considers
the effects of thermal stresses on structural stiffness and the subsequent aeroelastic interactions.  MSC Nastran
provides a capability for nonlinear static analysis that includes temperature loadings.  Aerothermoelastic
problems of high speed flight can therefore be addressed by restarting any of the three aeroelastic analyses
from a database created by the nonlinear analysis that has generated the stiffness of the heated structure.
Aeroelastic Solutions
The MSC Nastran Aeroelastic Analysis User’s Guide  describes the theoretical aspects and the numerical
techniques used to perform aeroelastic analyses with MSC Nastran.  As described in Overview of Aeroelastic&lt;/p&gt;
&lt;p&gt;893 CHAPTER 21
Special Topics
Main Index
Analysis , the system is used for flutter, frequency response, gust response, and static analysis of
aerodynamically loaded structures.  An outline of the capability is given here.
The aeroelastic analyses use the following features:
Structural Model
Any of the existing MSC Nastran structural finite elements (except axisymmetric elements) can be used to
build the structural model.  The structural stiffness, mass, and damping matrices required by the aeroelastic
analyses are generated by MSC Nastran from the user input of geometric, structural, inertial, and damping
data, for subsequent use in the various aeroelastic analyses.
Fluid/Structure Connections
Matrices of aerodynamic influence coefficients are computed only from the data describing the geometry of
the aerodynamic finite elements.  The choice of aerodynamic grid points for the aerodynamic model is
independent of the location of the structural grid points.  An automated interpolation procedure is provided
to relate the aerodynamic to the structural degrees -of-freedom.  Splining techniques for both lines and
surfaces are used to generate the transformation matrix from structural grid point deflections to aerodynamic
grid point deflections where local streamwise slopes are also computed.  The transpose of this matrix transfers
the aerodynamic forces and moments at aerodynamic boxes to structural grid points.
Aerodynamic Theories
One subsonic and three supersonic lifting surface aerodynamic theories are available in MSC Nastran, as well
as Strip Theory .  The subsonic theory  is the Doublet -Lattice method , which can account for interference
among multiple lifting surfaces and bodies.  The supersonic theories are the Mach Box method , Piston
Theor y, and the ZONA51 method for multiple interfering lifting surfaces.
Static Aeroelastic Analysis
The structural load distribution on an elastic vehicle in trimmed flight is determined by solving the equations
for static equilibrium.  The SOL 144 and SOL 200 processes will calculate aerodynamic stability derivatives
(e.g., lift and moment curve slopes and lift and moment coefficients due to control surface rotation) and trim
variables (e.g., angle of attack and control surface setting) as well as aerodynamic and structural loads,
structural deflections, and element stresses.
Modal Formulatio n
Dynamic aero solutions provide for modal reduction of the system matrices.  The number of
degrees -of-freedom required for accurate solutions to dynamic aeroelastic problems is generally far less than
the number of physical degrees -of-freedom used in the finite element structural model.  The number of
independent degrees -of-freedom can be greatly reduced by using the (complex) amplitudes of a series of
vibration modes as generalized coordinates, e.g., by Galerkin’s method.  MSC Nastran can compute the
vibration modes and frequencies and make the transformation to modal coordinates.  The matrices of
aerodynamic influence coefficients are also transformed to generalized aerodynamic forces by use of the
vibration eigenvectors.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis894
Main Index
Flutter Analysis
The dynamic aeroelastic stability problem, flutter , is solved in SOL 145, by any of three methods.  The
traditional American flutter method developed by the Air Materiel Command (AMC) in 1942 is available in
the first two methods.  The first method is called the K -method and is a variation of the AMC method.  The
second method, called the KE -method, is more efficient from the point of view of tracking roots, but is
limited in input (no viscous damping) and output (no eigenvectors).  The third method, called the
PK-method, is similar to the British flutter method, which was developed by the Royal Aircraft
Establishment.
Frequency Response
The coupling with aerodynamic loads has also been added to the existing MSC Nastran structural modal
frequency response capability, SOL 146.  Analyses of frequency response to arbitrarily specified forcing
functions can be carried out using the oscillatory aerodynamic loads from any of the available aerodynamic
theories.  Frequency response to a harmonic gust field can be calculated at subsonic speeds using the
Doublet -Lattice method for wing/body interference, and by the ZONA51 method for interfering lifting
surfaces at supersonic speeds.
Transient Response
Because unsteady aerodynamic loads are obtained only for steady -state harmonic motion, they are known
only in the frequency - and not the time -domain.  In SOL 146, Inverse Fourier T ransform techniques provide
the appropriate methods by which transient response is obtained from the frequency response.  Both forward
and inverse Fourier transforms are provided so that the time -varying forcing function or the gust profile can
be transformed into the frequency domain.  Then, after convolution with the system frequency response, the
inverse transform leads to the transient response of the system to the specified forcing function or gust profile.
Random Response
Stationary random response of the system, is available in SOL 146 from specified loadings and the power
spectral densities of loads.  Loads may be either specified force distributions or harmonic gust fields.  The
statistical quantities of interest in the response are , the ratio of standard deviations (rms values) of the
response to that of the input loading, and , the mean frequency of zero crossings (with a positive slope)
of the response.  The capability to compute these quantities was added to MSC Nastran by modifying the
existing random response module to include options to generate various atmospheric turbulence power
spectra and to perform the calculation of .
Design Sensitivities
The sensitivities of response parameters to changes in design variables are calculated by the perturbation
techniques developed for structural optimization in MSC Nastran and extended to include static
aeroelasticity and flutter in SOL 200.  The basic aeroelastic sensitivities that can be obtained include stability
derivatives, trim variables, and flutter system dampings.  The synthetic response technique of MSC Nastran
optimization also permits the calculation of sensitivities of user -specified functions of those standard response
quantities.A
No
No&lt;/p&gt;
&lt;p&gt;895 CHAPTER 21
Special Topics
Main Index
Aeroelastic Optimization
Optimization of aeroelastic characteristics can be combined with the other optimization features of
MSC Nastran in SOL 200, and vehicles can now be designed optimally for aeroelastic loads, flying qualities,
and flutter, as well as for strength, vibration frequencies, and buckling characteristics.
Introduction to Aeroelastic Analysis and Design
Aeroelastic analysis and design solution sequences extend the range of capabilities in MSC Nastran beyond
basic static and dynamic structural analysis.
Aeroelastic Modules
Options are available to:
Generate aerodynamic grid points.
Compute aerodynamic matrices.
Provide connection (interpolation) between the structural and aerodynamic grid points.
Solve the equations for static aeroelasticity.
Solve the equations for flutter.
Solve the equations for dynamic aeroelastic response.
Calculate aeroelastic design sensitivities.
Optimize aeroelastic and related structural characteristics.
Aeroelastic DMAP Sequences
Four solution sequences are available:
1.SOL 144 for static aeroelastic analyses.
2.SOL 145 for modal flutter analyses by the K -, KE -, or PK -methods.
3.SOL 146 for modal dynamic aeroelastic response analyses due to gusts or control surface deflections.
4.SOL 200 for design sensitivity and optimization including aeroelastic effects.  Since this fourth
sequence has applications to many areas other than aeroelasticity, the reader is referred to the
MSC Nastran Design Sensitivity and Optimization User’s Guide  for a more comprehensive treatment.&lt;br&gt;
Aeroelastic optimization is beyond the scope of this Guide and is not discussed further in this section.
Aerodynamic Theories
MSC Nastran has implemented six aerodynamic theories:
1.Doublet -Lattice subsonic lifting surface theory (DLM)
2.ZONA51 supersonic lifting surface theory
3.Subsonic wing -body interference theory (DLM with slender bodies)
4.Mach Box method
5.Strip Theory&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis896
Main Index
6.Piston Theory
Each of these methods is described in the MSC.Nastran Aeroelastic Analysis User’s Guide .  They all share a common
matrix structure.
Three matrix equations summarize the relationships required to define a set of aerodynamic influence
coefficients [see Rodden and Revell (1962)].  These are the basic relationships between the lifting pressure
and the dimensionless vertical or normal velocity induced by the inclination of the surface to the airstream;
i.e., the downwash (or normalwash),
(21-101)
the substantial differentiation matrix of the deflections to obtain downwash,
(21-102)
and the integration of the pressure to obtain forces and moments,
(21-103)
where:
The Aerodynamic Influence Coefficient Matrix
The three matrices of Eqs. (21-102) and (21-103) can be combined to give an aerodynamic influence coefficient
matrix:
(21-104)
All aerodynamic methods compute the ,  and  matrices at user -supplied Mach numbers and
reduced frequencies.  The Doublet -Lattice and ZONA51 theories compute the  matrix. Then, matrix =downwash (dimensionless)
=static aerodynamic downwash; it includes, primarily, the static incidence distribution that
may arise from an initial angle of attack, camber, or twist
=pressure on lifting element&lt;br&gt;
=flight dynamic pressure
=reduced frequency ,  where  is the angular frequency,  is a reference
semichord, and  is the free -stream velocity
=aerodynamic influence coefficient matrix, a function of Mach number ( ), and reduced
frequency ( )
, =displacements and forces at aerodynamic grid points
, =real and imaginary parts of substantial differentiation matrix, respectively (dimensionless)
=integration matrixwj Ajjfjq =
wj Djk1ik Djk2+ uk wjg + =
Pk Skjfj =
wj
wjg
fjj
q
k kbV =  b
V
Ajjm,k m
k
ukPk
Djk1Djk2
Skj
Qkk SkjAjj1–Djk1ik Djk2+  =
SD1D2
A&lt;/p&gt;
&lt;p&gt;897 CHAPTER 21
Special Topics
Main Index
decomposition and forward and backward substitution are used in the computation of the  matrix. The
remaining methods compute  directly and use matrix multiplications to form . Details of the various
methods are described in the MSC.Nastran Aeroelastic Analysis User’s Guide .
Generation of Aerodynamic Matrices
The aerodynamic equations described above form the basis of the aerodynamic computations required for
static aeroelastic analysis with some special purpose modifications made for the MSC Nastran
implementation.
For static aeroelasticity, the downwash relation of Eq. (21-102) becomes
(21-105)
where:
Static Aeroelastic Equations of Motion
The aerodynamic forces are transferred to the structure reduced to the a -set to form an aerodynamic influence
coefficient matrix, , which provides the forces at the structural grid points due to structural
deformations, i.e.,
and a second matrix, , which provides forces at the structural grid points due to unit deflections of the
aerodynamic extra points, :
The complete equations of motion in the a -set degrees -of-freedom require=vector of aerodynamic degrees -of-freedom (e.g., angles of attack)
=vector of aerodynamic displacements (deformations)
=vector of extra aerodynamic points used to describe, e.g., aerodynamic control surface
deflections and overall rigid body motions
=initial static aerodynamic downwash.  It includes, primarily, the static incidence distribution
that may arise from an initial angle of attack, camber, or washout (twist)
=substantial derivative matrix for the aerodynamic displacements.  This is the  term of Eq.
(21-102).  The  term is not used for this quasi -steady analysis.
=substantial derivative matrix for the extra aerodynamic pointsQ
A1–Q
wj Djkuk Djxux wjg + + =
wj
uk
ux
wjg
Djk Djk1
Djk2
Djx
Qaa
Fa Qaaua =
Qax
ux
Fx Qaxux =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis898
Main Index
The a -set equations are then:
(21-106)
This is the basic set of equations used for static aeroelastic analysis.  In the general case, rigid body motions
are included in the equations to represent the free -flying characteristic of an air vehicle.  This is addressed in
MSC Nastran by a requirement that the user identify reference degrees -of-freedom equal in number to the
number of rigid body motions using the SUPORT Bulk Data entry.  Equation (21-106) is then partitioned
into r-set (supported) and l-set (left over) degrees -of-freedom, yielding
(21-107)
where the notation
has been introduced.
At this point the MSC Nastran implementation of aeroelastic analysis introduces a mathematical technique
that is based on the MSC Nastran inertia relief analysis without aeroelastic effects.  The technique entails
multiplying the first row of Eq. (21-107) by  and adding the result to the second row.  Assuming that a
steady -state condition exists, the accelerations may be constrained and the system may be solved for
steady -state loads or divergence.  The stability derivatives and static control system coefficients may also be
obtained.
Flutter Solution Techniques
Flutter is the dynamic aeroelastic stability problem.  It can be solved in any speed regime simply by selecting
the appropriate aerodynamic theory.  In the linear case assumed throughout this guide, the solution involves
a series of complex eigenvalue solutions; the eigenvalue problem to be solved depends on the way in which
the aerodynamic loads are included in the equations of motion or whether certain damping terms are
included.
The manner in which the aerodynamic loads are included depends on how the dimensionless oscillatory
aerodynamic coefficients are defined.  When Theodorsen (1935) first developed the American method
(K-method) of flutter analysis, he introduced the aerodynamics into a vibration analysis as complex inertial
terms and the flutter analysis became a vibration analysis requiring complex arithmetic.  At the same time, Structural stiffness matrix
Structural mass matrix
Vector of applied loads (e.g., mechanical, thermal, and gravity loads plus aerodynamic terms
due to user input pressures and/or downwash velocities)Kaa
Maa
Pa
Kaaq Qaa– ua MaaU··
a + qQaxux Pa + =
KllaKlra
KrlaKrraul
ur MllMlr
MrlMrru··l
u··r+Klxa
Krxaux –Pl
Pr+ =
Kaaa Kaaq Qaa–  =
Kaxa qQax –=
DT&lt;/p&gt;
&lt;p&gt;899 CHAPTER 21
Special Topics
Main Index
he introduced an artificial complex structural damping, proportional to the stiffness, to sustain the assumed
harmonic motion.  Flutter analysis is then a double eigenvalue problem in frequency and velocity, and an
iterative solution, using the reduced frequency of the assumed harmonic motion as the iteration parameter,
leads to the neutrally stable conditions (flutter frequencies and velocities) at which no artificial damping is
required.  The artificial damping is therefore seen not to be physically meaningful, other than, perhaps, at
speeds near flutter speeds.
Generalized Aerodynamic Matrices
Eq. (21-104) defines an aerodynamic influence coefficient matrix  that is computed based on the
aerodynamic model. In order for this matrix to be useful in a flutter analysis, two transformations must take
place:
1.The matrices must be applied to the structural model using the spline techniques.
2.A modal reduction must be applied to obtain the matrices in generalized form.
Mathematically, those transformations can be expressed as
(21-108)
where:
A level of complexity is added if the flutter analysis includes the use of extra points.  Extra points are used for
the representation of control systems and are therefore required in aeroservoelastic analyses.  The flutter
analysis then uses a merged matrix
(21-109)
in which the h -set is a combination of the i -set normal modes and the e -set extra points.  It is seen that the
lower e-set rows in the matrix are null.  Physically, this indicates that the normal mode deflections do not
produce aerodynamic forces on the extra points ( ) and that the extra point deflections do not
produce aerodynamic loads on the extra points ( ).
The K-Method of Flutter Solution
The basic equation for modal flutter analysis by the K -method is=the generalized aerodynamic matrix
=a matrix of i -set normal mode vectors in the physical a -set
=the spline matrix reduced to the a -set
WTF ACT =a weighting factor matrix  defined by the userQkk
QiiaiTGkaTWTFACT QkkGkaai =
Qii
ai
Gka
Wkk
QhhQiiQie
00=
Qei0=
Qee0=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis900
Main Index
(21-110)
where:
Note that , , and  are not independent.
For the K -method of solution, the aerodynamic term is converted to an equivalent aerodynamic mass
(21-111)
The term involving  in Eq. (21-111) has been multiplied by  for mathematical convenience, and
is valid only at flutter, i.e., when .  Equation (21-111) is solved as an eigenvalue problem for a series of
values for parameters , , and .  The complex eigenvalue is , which can be interpreted as
real values of  and .  The velocity, , is recovered from .  Flutter occurs for values of ,
, and  for which .  The solutions are not valid except when , since the aerodynamic force
terms are valid only for sinusoidal motion and  is not a physical damping.
The K -method of flutter analysis is a looping procedure.  The values of , , and  are solved
for various values of , , and .  Plots of  versus  can be used to determine the flutter speed(s) (where
goes through zero to positive values).  The KE -method and the PK -method are the other major flutter
options.  These are discussed in the MSC.Nastran Aeroelastic Analysis User’s Guide .  Typical flutter plots are shown
in Figure 21-16 and Figure 21-17 for the output from the PK -method.=modal mass matrix , usually (but not necessarily) diagonal
=modal damping matrix
=modal stiffness matrix , usually (but not necessarily) diagonal; may be complex (with
actual structural damping); will be singular if there are rigid body modes
m =Mach number
k =reduced frequency  =
=reference length
=aerodynamic force matrix, which is a function of parameters  and
=circular frequency =
g =artificial structural damping
=fluid density
V =overall  forward velocity
=modal amplitude vector, sometimes called modal participation factorsMhh2– iBhh 1ig+Khh1
2&amp;mdash;V2
Qhhm,k – + + uh 0=
Mhh
Bhh
Khh
.c2V
c
Qhhm,k m k
 2f

uh
kV
Mhh
2&amp;mdash;c
2k&amp;mdash;&amp;mdash;2
Qhhm,k +2
1ig+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;Bhhi
1ig+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Khh+ + – uh 0=
Bhh1ig+
g 0=
mk 21ig+
 g V Vc2k = m
k g 0= g 0=
g
Vg f2 =
mk V g
g&lt;/p&gt;
&lt;p&gt;901 CHAPTER 21
Special Topics
Main Index
Figure 21-16  V-f Curve for BAH Wing4.0
3.0
2.0
1.0
0
0 500 1000 1500 2000Frequency , f (Hz)
Velocity (ft/s)1st Mode (Bending)
2nd Mode (Torsion)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Aeroelastic Analysis902
Main Index
Figure 21-17  V-g Curve for BAH Wing
Note that the bending branch goes to zero frequency before the mode goes unstable.
Dynamic Aeroelastic Analysis
Dynamic aeroelasticity differs from the flutter analysis described in the previous section in that the right -hand
side of Eq. (21-110) is no longer zero.  Instead, loading, which can be in either the frequency or the time
domain, is applied.  For both types of loading, MSC Nastran performs the primary analyses in the frequency
domain.  If the user has supplied loadings in the time domain, Fourier T ransform techniques are used to
convert the loadings into the frequency domain, a frequency response analysis is performed, and the
computed quantities are transformed back to the time domain using Inverse Fourier T ransform techniques.&lt;br&gt;
This section first describes the frequency response analysis that is the basis of all MSC Nastran dynamic
aeroelastic analysis and then discusses the special topics of transient response analysis and random response
analysis.
Aeroelastic frequency response analysis in MSC Nastran is performed in modal coordinates and has a basic
equation of the form
(21-112)1st Mode (Bending)
2nd Mode (Torsion)0.2
0.1
0.0
-0.1
-0.2
0 500 1000 1500 2000Damping, g
Velocity (ft/s)Flutter Divergence
Mhh–2iBhh 1ig+Khh1
2&amp;mdash;V2Qhhm,k – + + uh P =&lt;/p&gt;
&lt;p&gt;903 CHAPTER 21
Special Topics
Main Index
where all terms on the left -hand side are identical to those of Eq. (21-110) and are defined with that equation.&lt;br&gt;
The right -hand side provides the loading in modal coordinates, which can be aerodynamic or
nonaerodynamic in nature and is a function of the analysis frequency.  Nonaerodynamic generalized loads,
designated , are obtained in the standard fashion from the loadings applied to physical coordinates.
The solution of Eq. (21-112) entails solving for the generalized displacements by
decomposition/forward -backward substitution techniques applied to the coupled set of complex equations.&lt;br&gt;
Because modal reduction techniques have been applied, the solution costs are typically modest.  Once the
generalized displacements have been computed, standard data recovery techniques can be used to determine
physical displacements, velocities, stress, etc.
Aeroelastic Transient Response Analysis
As discussed in the introduction to this section, Aeroelastic T ransient Analysis relies on Fourier transform
techniques.  T ransient analysis by a Fourier transformation is separated into three phases.  First, the loads
(defined as a function of time) are transformed into the frequency domain.  Second, the responses are
computed in the frequency domain using the algorithm of the preceding subsection.  Third, these responses
(in the frequency domain) are transformed back to the time domain.
Transformation of Loads
The user specifies loads in the same manner as given in Modal Versus Direct Transient Response .  The two general
forms are the tabular, piecewise linear function and the general purpose function.
These loads, which are in the form required for frequency response, are transformed to the modal coordinates
exactly as in the modal frequency response method.
Inverse Transformation of the Response
The response is found from a numerical approximation to the inverse Fourier integral or from the Fourier
series, the Fourier series result, which can be regarded as a special form of approximation to the integral.  The
quantity  is first calculated at a set of frequencies, , by the frequency response analysis.  The  do
not need to be equally spaced and the integral is evaluated only over the frequency range for which the
frequency response has been performed.  This option is described in Fourier Transform .
Random Response Analysis
The major loads to which an aerospace vehicle is subjected can be predicted for the most part from its design
mission and maneuvering requirements.  However, the total environment cannot be predicted exactly and
statistical methods based on the theory of random processes must be employed to complete the description.&lt;br&gt;
Examples of random processes in aeroelasticity include response to atmospheric gusts and to aerodynamic
buffeting.  The random process theory considered in MSC Nastran is based on generalized harmonic
analysis, i.e., frequency response techniques, and assumes that the system is linear and that both the
excitation and response are stationary with respect to time.  See Random Analysis with Coupled Excitations  (Ch. 8)
for a description of the methods.PHF
u˜ ii&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Viscoelastic Material Properties904
Main Index
Viscoelastic Material Properties
The mechanical behavior of many glasses, rubbers, and high polymers under stress is described in terms of a
combination of elastic and viscous phenomena that may be approximated by linear viscoelastic theory.  The
dynamic behavior of such material is characterized by a strong dependence on frequency; and, under
sinusoidal excitation, these materials exhibit a steady -state response in which the stress lags the associated
strain.  The general three -dimensional state of stress can then be described in terms of a complex
frequency-dependent shear modulus and a real constant value for Poisson’s ratio .
This method was developed for the analysis of rubber -like materials such as solid rocket propellants.  In that
case, the dominant strain energy terms were the shear strains.
MSC Nastran provides the ability to represent a single complex frequency -dependent scalar material modulus
of the form
(21-113)
where:
The ratio
(21-114)
is denoted as the shear loss tangent.
The above formulation of viscoelastic (frequency -dependent) material properties may be used in direct
frequency analysis (SOL 108).
The stiffness and damping components of the dynamic matrices for direct frequency response analysis are in
the following form:
(21-115)
(21-116)
where:=Shear storage modulus
=Shear loss modulus
=overall structural damping specified through the PARAM, G, GFL  Bulk Data entry
=stiffness matrix for structural elements
=stiffness terms generated through direct matrix input, e.g., DMIG Bulk Data entries
=element damping matrix generated by the multiplication of individual element stiffness
matrices by an element damping, , entered on the MAT i Bulk Data entries associated with
the element or elements in questionGf GfiGf + =
G
G
Gf
Gf&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;tan =
Kdd 1ig+Kdd1Kdd2Kdd4 + + =
Bdd Bdd1Bdd2 + =
g
Kdd1
Kdd2
Kdd4
ge&lt;/p&gt;
&lt;p&gt;905 CHAPTER 21
Special Topics
Main Index
Equation (21-115) is of particular interest in the current discussion of viscoelastic material properties because
the presence of these properties will be reflected in terms of this equation.  For discussion purposes,
frequency-dependent material properties will be denoted as viscoelastic materials and those material
properties that are independent of frequency will be denoted as elastic materials.  Thus, if the stiffness
properties for the viscoelastic elements are initially computed on the basis of a representative reference
modulus, , the stiffness matrix for the viscoelastic elements (denoted by the subscript ) may be
written in the form
(21-117)
Input Description
To use the viscoelastic capability, the following conditions are necessary:
1.Assume the  matrix will be restricted only to the viscoelastic elements.  This restriction implies
that elastic elements will have a blank or zero entry for  on their associated MATi Bulk Data
entries.  Conversely, all viscoelastic materials must have representative reference values of , and
entered on their associated MATi Bulk Data entries.  Then, by definition,
2.The TABLEDi tabular functions  and  are defined to represent the complex moduli of
all viscoelastic materials.
These two conditions may be combined in Eq. (21-115) to provide the following expression:
(21-118)
A comparison of Eqs. (21-117) and (21-118) yields the form of the tabular functions  and :
(21-119)
(21-120)=damping matrix generated through CVISC  and CDAMP1  Bulk Data entries
=damping terms generated through direct matrix input, e.g., DMIG Bulk Data entriesBdd1
Bdd2
GREFV
KddfVGfiGf +
GREF&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;Kdd1V=
Kdd1
ge
ge
GREF
Kdd4VgREFKdd1V=
TRf TIf
KddV1ig+Kdd1VTRfiTIf + Kdd4V+ =
1gREFTRf + iggREFTIf +  +  Kdd1V=
TRf TIf
TRf1
gREF&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Gf
GREF&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;1– =
TIf1
gREF&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Gf
GREF&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;g– =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Viscoelastic Material Properties906
Main Index
Note that the direct input matrix, , from Eq. (21-115) is still available but not involved in the definition
of viscoelasticity.
Direct frequency response analyses that involve viscoelastic materials require some special input data relative
to analyses that involve only elastic materials.  These special input requirements are given below:
1.Executive Control Section:
None
2.Case Control Section:
SDAMPING =  reference TABLEDi Bulk Data entry that defines the alternate tabular form of
3.Bulk Data Section:
a.MATi Bulk Data entry
• , the reference modulus
•  = Poisson’s  ratio for the viscoelastic material
• , the reference element damping
•All other entries on the MATi Bulk Data entry are utilized in the standard manner.
b.TABLEDi Bulk Data entries:
•A TABLEDi Bulk Data entry with an  is used to define the function  of
Eq.(21-119).
•A TABLEDi Bulk Data entry with an  is used to define the function  of Eq.
(21-120).
All other input requirements to the MSC Nastran Bulk Data entry are typical of direct frequency response
analysis.  Note that the overall structural damping, , entered through the PARAM Bulk Data entry
(PARAM,G,XX) applies to all elastic materials.
Compare With Theory
The functional form of Eqs. (21-119) and (21-120) requires the user to perform some modest calculations that
involve  and .  These two terms must also be input to MSC Nastran through the MATi Bulk
Data entry for the viscoelastic materials.  In general, representative values of these parameters should be used.&lt;br&gt;
However, in those cases where the MSC Nastran OMIT feature is not used, the calculation of  and
can be simplified.  In this case, define
and select  so that Kdd2
n
TRf
G GREF=
NU
GE gREF=
ID n= TRf
ID n1+= TIf
g
GREFgREF
TRf
TIf
GREFG«
GREFG
g&amp;mdash;&amp;mdash;-«
gREF&lt;/p&gt;
&lt;p&gt;907 CHAPTER 21
Special Topics
Main Index
Then Eqs. (21-119) and (21-120) reduce to the following form:
(21-121)
(21-122)
The above simplifications should not be used if OMIT calculations are involved in the analysis in order to
avoid possible matrix ill -conditioning.
Note that stress and force data recovery calculations are performed with the reference moduli irrespective of
frequency.
Example
To illustrate the representation of viscoelastic material properties in MSC Nastran, consider the following
structure that may undergo both axial extension along the z -axis and torsion about the z -axis:
where:
flywheel mass, =2.0
flywheel inertia, =10.0
axial stiffness, =
torsional stiffness, =
length, =2.0GREFgREF1=
TRf Gf =
TIf Gf =
z
l
Mz
Iz
KzEfA
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
KzGfJ
l&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;
l&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Viscoelastic Material Properties908
Main Index
The symbols and  imply that the extensional and torsional moduli are functions of frequency, i.e.,
viscoelastic.  For simplicity, it is assumed that and that these quantities have the following
frequency-dependent characteristics:
A model for the system is shown in the following schematic:area, =.9
area moment,  =2.0
f, hz G(f) G(f)
.8 1800. 180.
1.1 1850. 185.
1.4 1910. 191.
1.7 1970. 197.
2.0 2030. 203.
2.3 2070. 207.
2.6 2140. 214.
2.9 2210. 221.A
J
Ef Gf
Ef Gf =&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P47</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_047/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_047/</guid>
      <description>
        
        
        &lt;p&gt;909 CHAPTER 21
Special Topics
Main Index
Figure 21-18&lt;br&gt;
This model can be generated with the following MSC Nastran Bulk Data entries:
1 2 3 4 5 6 7 8 9 10
GRID ID CP X1 X2 X3 CD PS
GRID 2 2. 1245
GRID 3 123456
CMASS2 EID M G1 C1 G2 C2
CMASS2 21 2. 2 3 3 3
CMASS2 24 10. 2 6 3 6
CROD EID PID G1 G2
CROD 23 1 2 3
PROD PID MID A J
PROD 1 1 .9 2.
MAT1 MID E G NU RHO A TREF GE
MAT1 1 2000. 2000. .093212, 3
232, 6
24
23
i
i,j
k= Grid Point ID
= Grid Point ID and Component No.
= Element ID3KzKzIzz&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Viscoelastic Material Properties910
Main Index
Note that the reference values of 2000. for both  and  are specified on the MATi Bulk Data entry.  The
reference value for structural damping, , is set to .09 under the GE field of the MAT1 Bulk Data entry.&lt;br&gt;
Once the reference values  and  have been assigned, one can evaluate Eqs. (21-119) and (21-120)
for the values to be assigned to  and . The values for these functions are entered on TABLEDi
Bulk Data entries.  As elastic portions of the structure may exist in addition to viscoelastic portions, assume
that a value of overall structural damping, g, is to be utilized for these elastic portions of the model.  The
overall structural damping value of .06 is assigned through the following PARAM  Bulk Data entry.
This value of  must be considered in Eq. (21-119).  The evaluation of Eq. (21-120) and Eq. (21-119) will result
in the values shown in the following TABLED1  Bulk Data entries:
To demonstrate that elastic as well as viscoelastic elements may be included in the same analysis, the following
single degree -of-freedom is added to the Bulk Data Section:1 2 3 4 5 6 7 8 9 10
PARAM N V1 V2
PARAM G .06
1 2 3 4 5 6 7 8 9 10
TABLED1 ID
TABLED1 10 TABR1
X1 Y1 X2 Y2 X3 Y3 X4 Y4
+ABR1 .0 .0 .8 –1.11111 1.1 –.833333 1.4 –.5 TABR2
X5 Y5 X6 Y6 X7 Y7 X8 Y8
+ABR2 1.7 –.166667 2. .1666667 2.3 .3888889 2.6 .7777777 TABR3
X9 Y9
+ABR3 2.9 .5611111 ENDT
TABLED1 ID
TABLED1 11 TABI1
X1 Y1 X2 Y2 X3 Y3 X4 Y4
+ABI1 0. 0. .8 .3333333 1.1 .3611111 1.4 .3944444 TABI2
X5 Y5 X6 Y6 X7 Y7 X8 Y8
+ABI2 1.7 .4277778 2. .4611111 2.3 .4833333 2.6 .5222222 TABI3
X9 Y9
+ABI3 2.9 .5611111 ENDTE G
gREF
GREFgREF
TRf TIf
g&lt;/p&gt;
&lt;p&gt;911 CHAPTER 21
Special Topics
Main Index
The following Bulk Data entries are required to represent the foregoing single degree -of-freedom oscillator:
The excitation for both disjoint models is a force (moment for the torsional system) with a magnitude of
.  This function can be generated with the following Bulk Data entries:1 2 3 4 5 6 7 8 9 10
CELAS2 EID K G1 C1 G2 C2 GE S
CELAS2 1 1000. 1
CDAMP2 EID B G1 C1 G2 C2
CDAMP2 2 2. 1
CMASS2 EID M G1 C1 G2 C2
CMASS2 3 10. 1
1 2 3 4 5 6 7 8 9 10
RLOAD2 SID L M N TB TP
RLOAD2 1 1 0 0 1 03
1
i
j= Scalar Point ID
= Element ID2B = 2.
g = .06m = 10.1 U
K = 10000.
t cos&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Viscoelastic Material Properties912
Main Index
To perform a frequency response analysis is necessary to provide a list of frequencies (Hz) at which solutions
are desired.  The following FREQ1  Bulk Data entry is used for this purpose.
See MSC_DOC_DIR /tpl6/ dynamics/bd16vmp.dat for a copy of the input file. The completed
MSC Nastran data entries for the two disjoint problems is listed below:
SOL 108
CEND
TITLE= FREQUENCY RESPONSE
SUBTITLE= VISCOELASTIC AND ELASTIC MATERIALS
DLOAD=1
SDAMP=10
FREQ=1
SPC=1
SET 1=1,2
DISP=1
VELO=1
ACCE=1
SET 7=23
STRESS=7
BEGIN BULK
$       2       3       4       5       6       7       8       9      0
$
$ Model and properties
$
GRID    2                               2.              1245
GRID    3                                               123456
CMASS2  21      2.      2       3       3       3
CMASS2  24      10.     2       6       3       6
CROD    23      1       2       3
PROD    1       1       .9      2.
MAT1    1       2000.   2000.                                   .09
$ Structural damping
PARAM   G       .06
$ Frequency-dependent
TABLED1 10                                                              +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  0.      0.      .8      -1.111111.1     -.8333331.4     -.5     +
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  1.7     -.1666672.      .16666672.3     .38888892.6     .7777777+
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  2.9     .5611111ENDTTABLED1 ID
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TABLED1 1 +ABC
X1 Y1 X2 Y2 X3 Y3
+ABC 0. 1. 1. 1. 100. 1. ENDT
DAREA SID P C A
DAREA 1 2 3 1.
DAREA 1 2 6 1.
DAREA 1 1 1.
FREQ1 SID F1 DF NDF
FREQ1 1 .5 .3 10&lt;/p&gt;
&lt;p&gt;913 CHAPTER 21
Special Topics
Main Index
TABLED1 11                                                              +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  0.      0.      .8      .33333331.1     .36111111.4     .3944444+
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  1.7     .42777782.      .46111112.3     .48333332.6     .5222222+
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  2.9     .5611111ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$ Oscillator
CELAS2  1       1000.   1
CDAMP2  2       2.      1
CMASS2  3       10.     1
$
$ Load
$
RLOAD2  1       1       0       0       1       0
TABLED1 1                                                               +&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre&gt;&lt;code&gt;  0.      1.      1.      1.      100.    1.      ENDT
&lt;/code&gt;&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;DAREA   1       2       3       1.
DAREA 1 2 6 1.
DAREA   1       1               1.
$ frequencies
FREQ1   1       .5      .3      10
$
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor914
Main Index
DDAM Processor
A DDAM Processor for MSC Nastran Including an MSC Patran Interface
Introduction
This section describes a method for the calculation of the response of a structure using the Dynamic Design
Analysis Method (DDAM) in MSC Nastran.
The Theory Section, has been implemented in MSC Nastran and in a FORTRAN code. Due to the classified
nature of specific DDAM shock environment calculations, it may be necessary to run the entire analysis or
perform that portion of the analysis on a separate computer. The DDAM package as implemented in MSC
Nastran performs the analysis in three phases as outlined in the following steps:
1.SOL 187 is used to perform a fixed-base modal analysis. Additionally, it calculates modal
participation factors and modal effective mass.
2.Running the DDAM program, which accepts ASCII OUTPUT4 data from MSC Nastran, performs
shock excitation calculations using the user supplied shock coefficients and generates shock spectrum
data. Additionally, it terminates the shock excitation calculations when a specified modal mass is
reached. Options are provided in this step to use equations based upon the modal masses of each
mode  or a user-input design spectrum to compute the shock excitations. This will be run
automatically from within MSC Nastran using the ISHELL capability unless directed otherwise.
3.Continuation of the MSC Nastran Sequence, using output from step 2 to perform DDAM motion
and stress recovery following the NRL modal summation convention. Data is calculated and output
for MSC Patran post- processing. This will automatically follow step 2 in SOL 187.
MSC Patran Interface describes the MSC Patran interface that automates the process, including coefficient
and file selection. The following section describes the process in detail, with notes and documentation for all
of the parameters and data required.
DDAM with SOL 187
The first step of the procedure is the calculation of the modal frequencies and participation factors that are
accomplished in MSC Nastran by SOL 187. The model must be in a “free-free” condition with the
foundation degrees of freedom referenced by a SUPORT entry. The DDAM processor considers the
SUPORT ed degrees of freedom (and any other grids rigidly connected to them) to be a “fixed” base for the
modal analysis. The information needed for the Fortran program is output from MSC Nastran to unit 11 in
ASCII format. Unit 11 will be assigned to a file using the ASSIGN statement in MSC Nastran. The necessary
Executive, Case Control and Bulk Data sections of the MSC Nastran are described below.
Executive Control Data/File Management Section
The solution sequence must be SOL 187.
For example:
SOL 187&lt;/p&gt;
&lt;p&gt;915 CHAPTER 21
Special Topics
Main Index
It is necessary to include ASSIGN statements to assign the plot output and DDAM output to physical files.
For example:
ASSIGN OUTPUT2=‘d1.opw’, UNIT=34, DELETE
assigns OP2 formatted post processing data to be sent to the file d1.opw . You also need to assign the NRL-
summed plot data to separate units:
ASSIGN OUTPUT2=‘d1.opx’, UNIT=31, DELETE
ASSIGN OUTPUT2=‘d1.opy’, UNIT=32, DELETE
ASSIGN OUTPUT2=‘d1.opz’, UNIT=33, DELETE
The following:
ASSIGN OUTPUT4=‘d1.f11’, UNIT=11, FORM=FORMATTED, DELETE
assigns the file d1.f11  to be the DDAM output, which will be used as the input to the Fortran program.
The DELETE  qualifier tells MSC Nastran to delete any existing versions of the file and replace them with the
one generated in this submittal. The output file from the Fortran program must be assigned as well:
ASSIGN INPUTT4=‘d1.f13’, UNIT=13, FORM=FORMATTED, DEFER
DEFER  tells MSC Nastran not to check for the existence of the file or delete an existing one. Finally, in SOL
187, the execution of the Fortran program is directed by a control file that must be created and identified:
ASSIGN INPUTT4=‘d1.ddd’, UNIT=21, FORM=FORMATTED
The format of this file will be discussed later.
Case Control Data
The required Case Control is similar to that required for a SOL 103 modal run, with a few caveats and
exceptions. The METHOD  command for the residual structure will determine the frequency range of the
dynamic response calculations used by DDAM. This makes sure to include a broad enough range to ensure
that the required modal mass will be available for processing. All procedures affecting Superelement
reduction to the residual degrees of freedom are allowed (i.e. component mode synthesis, GDR and Guyan
reduction). However, NRL-summed results can only be generated for the residual model.
A PARAM, POST can be used with a limited number of output requests to generate data for post-processing.
Case control data controls the final NRL-summed DDAM result data. Available data are STRESS, FORCE,
DISPLACEMENT, VELOCITY and ACCELERATION. Other data are either not calculated in SOL 187,
or are meaningless for DDAM. Mode shapes will come out by default. SOL 187 does not yet have the ability
to use the XDB file for direct results access in MSC Patran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor916
Main Index
Bulk Data
The input data file is required to have structure geometry, property and material information (as any model
should). Additionally, the following information must be present. A SUPORT entry is necessary to define
the foundation reaction point (the “fixed base”) in all 3 translational degrees of freedom. If the foundation is
distributed, as in most structures, rigid elements or MPCs must tie all the foundation points to a single point.
This point must be in the residual structure (for Superelements) and in the ASET (this is the default for a
SUPORT ed degree of freedom). The translational directions of the SUPORT point define the directions for
the shock response calculations, so they should be in a rectangular coordinate system. An option in the
DDAM program allows you to orient the specific coordinate axes to the fore/aft, athwartship and vertical
directions. Though only translational directions are used for the shock response, all 6 DOF may appear on
the SUPORT entry. If one direction has no unconstrained mass (this happens a lot in test cases with few
DOF), that direction should be SPCed and not called out on the SUPORT entry. If a massless direction is
referenced, you get a humorous “MR MATRIX has NULL column” error. The eigenvectors must be
normalized to MASS. This is the default for the Lanczos solver on the EIGRL entry, but not for other
methods specified on the EIGR entry. MAX normalization will result in incorrect modal masses and
participation factors, as the calculations use a shortcut for calculating the participation factors that relies on
mass normalization.
Several parameters are available to control the analysis and to direct data to its required places. There are two
important and others somewhat less important parameters used in the bulk data file.
DDAM Control File
In order for MSC Nastran to run the Fortran program correctly, it is necessary to create a small control file
that tells the program some information about your model. The file is ASCII and the format is detailed in
Control File Format . This is the file assigned to unit 21 described above.
Output
Output from SOL 187 consists of the following:
A small ASCII file  as defined by the ASSIGN statement, for input to the Fortran program. This file
contains a list of frequencies, participation factors, the total mass, and the available modal mass in
each direction.
Another small ASCII file, also defined in the ASSIGN statement, for input back into MSC Nastran
from the Fortran program.
A verification file containing frequencies, modal masses, participation factors, and calculated
accelerations.Note:   In order for units to be totally consistent in DDAM analysis, the MSC Nastran model must
be formulated in units of inches for lengths and lb-sec2/in for mass. It is not necessary for the
x, y or z axes to be correlated to any specific direction. However, the system must have
individual axes that correspond to the fore/aft, athwartship and vertical directions (i.e. You
cannot have a system where the basic x axis points 45 degrees between the fore/aft and vertical
directions or output the whole model in a cylindrical system.)&lt;/p&gt;
&lt;p&gt;917 CHAPTER 21
Special Topics
Main Index
The .F06  file
A .OP2  file containing mode shapes
Three .op2  files containing the NRL-summed results
The MSC Nastran .F06  output file will contain echoes of several matrices constructed in the DDAM
process, including: (equation numbers refer to the numbers in Theoretical Background )
OMEGX - the vector of natural frequencies in rad/sec
PAB - The participation factor matrix [P] defined in equation (21-131)
MTOT - the six diagonal terms of MTOTC
MEFF - the six diagonal terms of MEFFC
MFRACT - the ratio of effective to total mass for each direction
OMEGX, PAB, MTOT and MFRACT are output to unit 11 by an OUTPUT4 module for use in Step 2.
In addition, when the program calculates the rigid body vectors about the SUPORT point, values of Epsilon
and Strain Energy are printed for each vector. These values can be used to determine if the model is over-
constrained (contains constrained DOF not connected to the SUPORT point. In general, Epsilon terms
should be less than 10-6. Strain energy is a measure of elastic energy in the model resisting rigid body motion.
Theoretically, it should be zero for DDAM, but in practice it usually has some small value. As a rule, &amp;lt;1 is
acceptable for translations, and &amp;lt;100 is acceptable for rotations. If strain energies in the range of 104 or
greater are encountered, this is an indication that a constrained degree of freedom not connected to the
SUPORT entry probably exists in the model (such as an unintentionally grounded CELAS). Keep in mind,
however, that these values are all model dependent.
If the strain energies are non-zero for the first three SUPORT points (which correspond to the translational
directions) it is an indication of non-singular degrees of freedom that are constrained. While MSC Nastran
allows this to take place, it violates the assumptions made in this DDAM processor, resulting in incorrect
modal masses and participation factors in that direction. As a result, the final NRL results will be incorrect.
To comply with the MSC Nastran DDAM assumptions, it is necessary to connect all non-singular degrees
of freedom that are to be constrained to the SUPORT point. What this means is that the only SPC entries
in the model should be for singular rotational DOF . SPC entries should not be used for other reasons, such
as symmetry constraints or non-moving foundation points.
Calculation of Shock Spectrum
“ddamish” (ddamish.exe on NT) is an interactive/batch program that performs shock spectrum calculation
for the structure under consideration. Structural data consisting of natural frequencies and participation
factors that were generated by MSC Nastran are utilized here as input data. The program queries the analyst
for spectrum inputs, loading characterization, and other details. In general, this program is run in batch
mode by MSC Nastran, with the answers supplied by the .ddd  control file.
The following discusses the various prompts in the program if it is run interactively:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor918
Main Index
The program has a provision to include a set of shock coefficients compiled into the code. Hitting &lt;!-- raw HTML omitted --&gt; will
use these coefficients. The default coefficients provide capability to cover the full range of Navy coefficients
in DDS 072, including surface and submerged ships, deck, hull and shell mount, elastic, and plastic. The
user has the option to input custom coefficients for any or all of the configurations selectively.
Note that the choices are: &lt;!-- raw HTML omitted --&gt; (carriage return) for yes, “c” for coefficients stored in an external file (the
most common option) and “s” to use an externally defined shock spectrum (not based on coefficients). These
inputs are not case sensitive. The format for the external coefficient file is described in Format of Coefficient File ,
and the user spectrum format is described in User defined Shock Spectra . The external coefficient file also
contains provision for a modal mass cutoff percentage and a minimum G value. If either “c” or “s” is chosen,
another prompt will appear asking for the name of the external file.
DDS-072 and NRL 1396 differ slightly in the format of the equations and how many coefficients are
required for different scenarios. This choice allows you to use either format.
This is the .f11  file output by the MSC Nastran run. It is necessary to type in the full file name. If the
program is unable to find or open the file, a secondary prompt will inform you of that, and prompt for a new
name. After successfully specifying the name, the program will echo the filename that it opened, and the unit
number associated with it.
This file is the intermediate result echo. This file contains the summary of modes, modal mass and mass
percentages for each shock direction. The default name is the name of the .f11 file you specified, but with a
.ver  extension. This file is useful to verify which modes are contributing most to a model’s response.Do you have a shock spectrum or are you using coefficients?
&amp;hellip; &lt;!-- raw HTML omitted --&gt; = use default coefficients
&amp;hellip; c    = use other coefficient file
&amp;hellip; s    = user input shock spectrum
Are you using DDS-072 or NRL 1396 style equations ?
&amp;hellip; &lt;!-- raw HTML omitted --&gt; = use DDS-072 equations
&amp;hellip; n    = use NRL 1396 equations
ENTER THE DESIRED NASTRAN INPUT FILE NAME:
Default: &lt;!-- raw HTML omitted --&gt; = ddam.f11
ENTER THE DESIRED VERIFICATION OUTPUT FILE NAME:
Default: &lt;!-- raw HTML omitted --&gt; = d1.ver&lt;/p&gt;
&lt;p&gt;919 CHAPTER 21
Special Topics
Main Index
This is the file that will be used as input for the MSC Nastran restart in Step 3. The default name is
constructed similarly to the verification default, but with .f13  appended to it.
These three questions  choose the appropriate shock coefficients. The notation “(default coefficients)” after
the description indicates that the coefficients for that configuration were read from the list built into the
program. If the user has specified some or all  coefficients in an external file, the notation “(user coefficients)”
will appear after the configuration for which  coefficients were entered. The specific equations implemented
in this program are documented in Format of Coefficient File .
These two questions establish the coordinate directions for the application of the directional shock scaling
factors. These are the AF and VF in the spectrum equations. This specification allows models built in non-
standard MIL-spec coordinate directions (X forward, Y athwartship, Z up) to be processed by DDAM with
the loads applied in the correct directions.
This option is provided if the user wishes to examine the contribution of a single mode to the overall summed
response. Choosing the “s” option will generate a prompt  asking for the mode number of interest. The
program then generates a .f13 file containing factors of zero (the UVHi) for all modes except the one chosen.
This will result in displacements, stresses, etc. for the model as if the entire response consisted of just a single
mode. Note that this single mode will be NRL summed, so the signs will lost. For normal DDAM analysis,
choose the normal option.
The PARTNVEC matrix and the BYMODE parameters provide similar capability. They are described more
fully in section the following sections on special circumstances.ENTER THE DESIRED NASTRAN OUTPUT FILE NAME:
Default: &lt;!-- raw HTML omitted --&gt; = d1.f13
What type of ship do we have ?
&amp;hellip; Enter 1 for SURFACE (default coefficients)
&amp;hellip; Enter 2 for SUBMERGED (default coefficients)
Where is the equipment mounted ?
&amp;hellip; Enter 1 for DECK (default coefficients)
&amp;hellip; Enter 2 for HULL (default coefficients)
&amp;hellip; Enter 3 for SHELL (default coefficients)
What type of factors do you want ?
&amp;hellip; Enter 1 for ELASTIC (default coefficients)
ENTER F/A DIRECTION (X,Y, or  Z):
ENTER VERTICAL DIRECTION (X,Y, or Z):
Is  this  a  multiple  or  single  mode  analysis  ?
&lt;!-- raw HTML omitted --&gt;  =  normal,  s  =  single  mode&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor920
Main Index
This number is the percentage of total mass at which modal processing ceases. The DDAM document
specifies that only a percentage of the total modal mass needs to be included in the NRL sum. The default
value is specified in the program with the default coefficients, or in the alternate coefficient file. The value
here should be entered as a percentage (i.e. 80 or 100) not as a decimal. Specifying “100.” will  process all the
modes that were calculated by MSC Nastran.
Special Circumstances - Selection of Specific Mode
If the user wishes to selectively choose which modes go into the NRL summation, a capability is provided
using DMI (Direct Matrix Input) entries. On the DMI entries, the user describes a matrix called
PARTNVEC, which is a partitioning vector. The vector is used to break up the eigenvector matrix and UHV
matrix in a specific manner. PARTNVEC is a multi-row, 3-column matrix, where each row represents a mode
number, and each column represents a shock direction. If the matrix has a “1”  entry, that particular mode is
retained for that particular shock direction. The following shows a PARTNVEC description employing
several options that a user might be interested in for an analysis that generated 12 modes.
Be sure to ask for all the modal mass (“100.”) in the DDAM program if you use this option, since it will
perform its own partitioning on the output from the DDAM program.
Special Circumstances - Mode by Mode Output
It is occasionally desirable to look at DDAM output on a mode-by-mode basis. Such occasions can be model
or methodology verification, or to gain a better understanding of which modes are contributing to particular
results.
Mode-by-Mode output is controlled in MSC Patran by the normal output requests  and by three parameters.
In SOL 187, the parameters are XBYMODE, YBYMODE, ZBYMODE. Because mode- by-mode output
can generate a large volume of data, three parameters are included to handle just mode-by-mode data in
specific directions. For example:1 2 3 4 5 6 7 8 9
$ define the matrix as a 12 row by 3 column matrix
DMI PARTNVEC 0 2 1 12 3
$ define col 1 ( keep all modes - 1-12)(f/a shock)
DMI PARTNVEC 1 1 1. THRU 12
$ define col 2 ( keep modes 1, 2 and 3)(athw shock)
DMI PARTNVEC 2 1 1. 2 1. 3 1.
$ define col 3 ( keep only mode 5)(vert shock)
DMI PARTNVEC 3 5 1.ENTER WEIGHT CUTOFF PERCENT OR &lt;!-- raw HTML omitted --&gt; FOR DEFAULT:
Default  =  80.0&lt;/p&gt;
&lt;p&gt;921 CHAPTER 21
Special Topics
Main Index
PARAM,XBYMODE,YES
will generate data only for the X direction. In addition to the .f06  file printed output, each parameter
generates a separate plot file with all the mode-by-mode results that have been requested. These three files
are in units 41-43, and can be designated to specific files using an ASSIGN statement:
ASSIGN OUTPUT2=&amp;lsquo;job_mbm_x.op2&amp;rsquo; UNIT=41, DELETE
Output is controlled by requests in the case control file, so if you have requested STRESS=ALL, and then
request mode-by-mode data, you will get mode-by-mode stresses for all modes. Again, if this is necessary, be
wary of the volume of data that can be easily produced.
Output in the .f06  file is labeled with section headers:
Each mode-by-mode section is preceded by a small header:
Special Circumstances - Single Shock Direction Calculations
If you only need output for a single shock direction, you can use= PARAM entries to skip particular
directions:
If using DTI input to pick certain modes, you still have to define the 3 column matrix - this is just to cut
down post-processing output.
This capability is especially useful to cut down output when using the mode-by-mode capability.
Special Circumstances - Running the Fortran Part of the Analysis Separately
There are circumstances where it may be necessary to run the Fortran program separately from the
MSC.Nastran job. Since the program runs automatically by default, it is necessary to add some parameters
to disable the automatic running of the program. Some circumstances where you may need to run
independently on MSC Nastran:
•The Fortran program is on a classified computer, but MSC.Nastran is not
•You have a different version of the Fortran program
•You have a metric DDAM program
You can use a PARAM entry to skip the Fortran part of the run, run the Fortran elsewhere, then restart the
MSC Nastran run with the externally calculated .f13  file:
PARAM,MODEOUT ,YES
This calculates modes, outputs the required DDAM data, then exits MSC Nastran.Note:   Displacements, accelerations and velocities are all labeled as Eigenvectors - look at the
magnitudes to make sure you have the right one.
PARAM X SHOCK NO
PARAM Y SHOCK NO
PARAM Z SHOCK YES&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor922
Main Index
Use PARAM,UHVOLD,YES
This runs MSC Nastran as usual, but does not run the Fortran program. Instead it will red a .f13  file that
has been prepared. This parameter can be used on a restart from a MODEOUT run where the .f13  file was
calculated externally.
It may also be desirable to replace the MSC Fortran program delivered with DDAM with a site-developed
one. If so, it is necessary to replace the ddamish.exe program in the MSC.Nastran installation with your
program. Because there are issues with arguments using some Fortran compilers, contact MSC for
instructions on what is needed to use this approach.
Guidelines for Effective DDAM Analysis
In addition to the usual guidelines for effective structural dynamic modeling and analysis, several specific
considerations are recommended for DDAM analysis. The present discussion addresses the structural
modeling, foundation modeling, and data interpretation aspects of the procedure.
In the process of modeling the subject structure, a decision must be made at the outset to either employ
sophisticated distributed mass modeling (the more common approach) or coarse lumped mass modeling. The
latter choice is one that permits adherence to the DDAM “50% modes” criterion, and is the type of analysis
for which DDAM was developed. However, fidelity of the structural model with the actual structure may be
severely compromised by using this approach. This is especially true for plate and shell structures, which tend
to have a significant number of shell-type modes, which are lost in a lumped mass approach. In more
complicated shell structures the analysis is considered to be acceptable if enough modes are used such that at
least 80% of the effective mass is accounted for. This frequently can be accomplished with significantly fewer
than 50% of the modes, and usually less than 50 modes. This DDAM procedure allows the user to take either
approach.
Redundant and geometrically distributed foundations require special consideration for meaningful DDAM
analysis. Since the shock environment is specified at one location, distributed foundations must be referenced
back to this single location. For foundations that are not “extremely” distributed, RBE2 constraints can be
employed to effect the reference to the single point. On more distributed systems, however, the mass and
flexibility of the foundation may be required in the structural model. In these cases, the foundation should
be included in the analyzed model, and the DDAM “foundation” points will be below the actual foundation.
Resilient mounting is not normally analyzed with DDAM. In cases where equipment is resiliently mounted,
the mounts are generally assumed to have bottomed out. In this case, the mount points can be considered the
“foundation” points. DDAM analyses run on resiliently  mounted systems are trivial exercises, since all of the
modal mass is accounted for in a single rigid body mode. Flexible modes of the structure are not accounted
for, and all of the loads on the actual structure are frequently zero or close to zero.
For the process of load evaluation on a structure, particular attention should be given to the mode-by-mode
data provided in the verification file. For cases where forces or stresses are found to be excessive, the
verification file can provide valuable guidance.
In particular, modes that contribute significantly to the overall loading can be identified. These modes can
then be visualized via PATRAN, and the structure modified to change particularly detrimental modal
behavior.&lt;/p&gt;
&lt;p&gt;923 CHAPTER 21
Special Topics
Main Index
Another area where care must be taken are in models where significant mass is included that is not directly
related to the structure of interest, and is of lower frequency. Reduction gear models that include significant
runs of shafting are examples of this. In these cases, it is possible to get 80% of the modal mass entirely in
shafting modes. In these cases, it may be necessary to increase the modal mass percentage to assure that you
are getting 80% of the mass of the portion of model of interest.
A Note on Symmetry
While the NAVSEA 3010 document does not exclude running a symmetric model, it does not provide any
guidelines to do so. There are some important considerations when using symmetry. Among them:
•The modal mass must be doubled to calculate the shock coefficients properly
•Both symmetric and anti-symmetric modes must be included in the final NRL sum
•Symmetry plane boundary points must be constrained with SPC entries (which violates the
SUPORT assumption in this DDAM) or connected to the SUPORT entry with RBE elements
(which incorrectly marks them as “foundation” input points).
•The MSC Nastran NRL sum module (DDRMM) cannot combine modes from different
NASTRAN runs without a modification to the DMAP alter.
•Cyclic symmetry involves calculating all of the proper harmonics, calculating the modal masses
correctly and then summing all of the different harmonic modes in the final NRL sum.
Because of all these caveats, it is neither advisable nor easy to use this DDAM processor for symmetric
models.
However, if it is to be used, there are several modifications that must be made to the procedure, including
manually calculating modal masses and the resulting shock factors. The user should be very careful doing
this. The theoretical outline in  Theoretical Background  can serve as a guide. The methods should be tested on
a small model to assure that all the appropriate masses, coefficients, etc. are modified. Also note that the NRL
sum must be either performed manually (external to MSC.Nastran) or the DMAP altered to accommodate
combining results from the symmetric and anti-symmetric runs.
References
1.R.O.Belsheim and G.J.O.’Hara, “Shock Design of Shipboard Equipment, Part I, Dynamic Design
Analysis Method,” NAVSHIPS 250-423-30, May 1962
2.“Shock Design Criteria for Surface Ships,” Naval Sea Systems Command, NAVSEA 0908-LP-000-
3010 Revision 1, September 1995.
3.M.M.Hurwitz, “A revision of the Dynamic Design Analysis Method (DDAM) in Nastran,” Naval
Sea Systems Command, December 1982.
4.NAVSEA Design Data Sheet DDS-072. (Confidential)
5.Scavuzzo &amp;amp; Pusey, “Naval Shock Analysis and Design,” Shock and Vibration Information and
Analysis Center (SAVIAC), 2000.
Reference 1. outlines the original concept of DDAM as applied to Naval Shipboard equipment. Reference 2.
is the NAVSEA specification (latest version) that gives specifics for performing this type of analysis. Reference
3. describes the procedure for using the DDAM within the framework of “modern” finite element codes.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor924
Main Index
Reference 4. contains the classified NAVSEA coefficients for calculating the spectral quantities in the response
equations. Reference 5. is a text that follows the shock class taught by Rudy Scavuzzo and Henry Pusey. It
provides a lot of background on testing and requirements, as well as many theoretical and analytical aspects
of underwater shock and DDAM.
Theoretical Background
Consider a structural system ( Figure 21-19) described by a set of {Ug} displacements, a subset of which
corresponds to a foundation interface . If the foundation interface is redundant, let it be assumed that
the foundation undergoes rigid body displacements (that is, no foundation warping). Thus, the foundation
interface is related to a six degree of freedom (DOF) reference point displacement subset Ur through a multi-
point constraint relationship.
(21-123)
The remaining displacements in the {Ug} set may be interrelated in a variety of ways, depending on the
particular structure’s configuration and approximating assumptions, such as Guyan Reduction or Generalized
Dynamic Reduction. When all constraints and reductions are applied, the structural displacement state is
described in terms of a set, denoted here as the {Ux} set which is partitioned as follows
(21-124)
The subset {Ul} is comprised of discrete grid point displacements and generalized displacements remaining
after reduction, depending upon the choice of approximating assumptions.Um
Um GmUr =
UxUl
Ur&amp;mdash;&amp;mdash;
=&lt;/p&gt;
&lt;p&gt;925 CHAPTER 21
Special Topics
Main Index
Figure 21-19&lt;br&gt;
In terms of {Ux}placement set, the dynamics of an undamped linear static structure subjected to foundation
excitation is described by:
(21-125)
where Mll, Mlr, Mrl and Mrr are mass matrix partitions and Kll, Klr, Krl and Krr are stiffness matrix partitions,
and Fr is the foundation interface reaction set. Since the foundation {Ur} is due to (21-123), the
transformation of the {Ux} set into base fixed displacement patterns and rigid body motions, respectively, is
introduced. Rigid body motions are readily defined on the basis of the stiffness matrix by imposing the
requirement that the {Ul} set produces no static reactions due to applied foundation motions {Ur} i.e.
(21-126)
or
(21-127)
A convenient set of base fixed displacement patterns consists of a truncated set of base fixed unit mass
normalized modes that are the solutions of
(21-128)
Assembling the truncated set of modes into the matrix the desired variable transformation is defined
as
(21-129)
Upon transformation of the dynamic equation set, (21-125) with (21-129) (including pre-multiplication by the
transpose of the transformation matrix, the modal equation set is of the form:
(21-130)
The matrix partitions are defined as follows:MllMlr
MrlMrrU··
l
U··
r KllKlr
KrlKrrUl
Ur+0
Fr=
KllUlRBKlrUr + 0=
UlRBKll1–KlrUr –=
Kllli Mlllii2=
11
Ul
Urll
0rlq1Kll1–Krl
1lr1rrur +llKll1–Klr–
0lr1rrq1
Ur= =
IllPlr
PrlM˜rrq1··
Ur··

i2Olr
OrlOrrq1
Ur+0
F=
IllllTMllll=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor926
Main Index
(21-131)
The physical significance of the above noted matrix partitions is that  is the matrix of participation
factors,  is the total rigid body mass referenced to , and , the constant matrix, is null due
to the determinate foundation .
For the case of DDAM requirements, response of a structure to an imposed foundation motion
(21-132)
is sought. The array  serves as a directional vector for the applied motion history,  for example,
if it is directed in the Url sense (x direction) then , , &amp;hellip;., . From the upper
partition of (21-130), the modal response equation is obtained as
(21-133)
The individual mode equations are
(21-134)
for mode “I” excited by shock in the “j” direction. The foundation reaction forces are determined by the lower
partition of (21-130), as
(21-135)
In DDAM analysis, the second term in (21-135) is neglected due to the assumption of an extremely short
duration applied shock, so that the  is zero by the time each modal response reaches its peak value. l2llTKllll=
PlrllTMlrllTMllKll1–Klr– =
OlrllTKlrKllKll1–Klr–  =
M˜rr MrrMrlKll1–Klr– KrlKll1–Mlr– KrlKll1–MllKll1–Klr+ =
Orr KrrKrlKll1–Klr– =
Prl PlrT=
Orl OlrT=
Plr
M˜rr Ur Orr
Ur
Ur··U··
st =
 U··
st
11=20=60=
lllq··112q1 + PlrU··
st –=
q··iti2qit + PlrU··
st –=
Fr Prlq··l M··
rrU··
st + =
U··
st&lt;/p&gt;
&lt;p&gt;927 CHAPTER 21
Special Topics
Main Index
Thus the reaction force in the “j” direction is determined by the summation of individual modal reactions
Fij which are
(21-136)
Consider now the response to an impulsive shock occurring over the duration 0≤t≤ts which is much shorter
than the period of any mode under consideration. Integrating (21-134) over the shock duration results in
(21-137)
where the term  is negligibly small since the modal displacement hasn’t had enough time to
develop and
(21-138)
is the spectral velocity of the shock. The free response of mode “I” for t &amp;gt; ts is therefore
(21-139)
The physical significance of the structure and foundation reactions are determined by the modal
superposition following (21-129) with Ur = 0 for t &amp;gt; tx and (21-136) respectively. Moreover, internal loads and
stresses on the structure are determined by stress recovery operations for the particular model described by
the generic equation
According to NAVSEA requirements (Reference 2.), a shock spectrum summation method is adopted in
which time phasing of modal responses is not considered. In this approach the peak modal responses are
utilized as
(21-140)
Individual modal peak physical responses are governed by the relationships of the typeFijPijq··it =
q·1ts PijVai–=
iwq··it
0ts

VijPijq··it =
qitPijVai–
i&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;isin tts– =
qi·t PijVaiicos tts– –=
qit PijiVaiisin tts– =
 KU =
qipeak PijVai/i=
qi·peak PijVai=
qi··peakiPijVai=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor928
Main Index
(21-141)
It is interesting to note that substitution of the modal peak acceleration into the modal reaction equation
results in
(21-142)
where  is the modal mass, i.e.
(21-143)
The NAVSEA modal summation convention utilized in DDAM calculations follows the generic form
(21-144)
where Rj is the generic response quantity and rjm is the largest modal response quantity in the set rji, I = 1 to
N (N = number of modes). It should be noted that the index m is not necessarily the same  for all physical
responses. The current version of the DDAM program performs the NRL summation following the latest
specification in Reference 2. In this spec, the modes are added up in decreasing order of modal mass, rather
than in increasing order of frequency. The output now gives a summation order so that the user can follow
the process. Note that some modes may be included in the sum for one shock direction but not included for
another direction.
Up to this point, the value of the modal spectral velocities, Vai , have not been discussed. Due to the flexibility
and finite mass of the ship structure onto which the structural system is mounted, the value of Vai is an
empirical function of the modal effective mass, Mai , and modal frequency,  I . The actual formulae for the
spectral quantities are presented in Reference (4.), and the form of the equations are presented in Format of
Coefficient File .
An interesting property of modal effective mass is that the sum of the individual terms, Mai , will approach
the total actual mass of the system as the number of modes, N, approaches the complete set for the
mathematical model. The summation will exactly approach the total system mass if no mass is allocated to
the foundation degrees of freedom  or . If mass is allocated to the foundation, the summed
effective mass will approach the total mass minus the foundation mass. For DDAM analyses, NAVSEA allows
utilization of a truncated mode set, which provides a minimum of 50% of the total number of modes of the
system. Because this requirement is excessive for modern large-scale finite element models described by U··
kipeakkiqi··peak =
FjipeakPijqi··peak =
kipeakKkjjiqipeak =
FijpeakPij2iVai=
Pij2
MaiPij2=
RjRjmRji2
i1=
imN
+ =
U˜m Ur&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P48</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_048/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_048/</guid>
      <description>
        
        
        &lt;p&gt;929 CHAPTER 21
Special Topics
Main Index
thousands of degrees of freedom, NAVSEA accepts analyses that contain at least 80% of the model’s effective
modal mass. The number of modes required to achieve this amount is highly model dependent, but
frequently involves less than one hundred modes, compared to thousands required by the 50% criterion.
Worked Two Mass Problem
Problem
Consider the following arrangement:
Step 1 - Calculate Natural Frequencies
Equation of motion from free body diagrams:
Summation of Forces:
m1 = 8000 lb = 20.70 lb-sec2/in
m2 = 6000 lb = 15.53 lb-sec2/in
k1 = 500000 lb/in
k2 = 200000 lb/in&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor930
Main Index
or, in the more familiar matrix form:
Step 2 - Solve the Equations
This can be done manually or using a computer, but the end result is the same. Solution of these yields two
modes with natural frequencies:
1 = 89.72 rad/sec = 14.280 Hz
2 = 196.6 rad/sec = 31.285 Hz
and corresponding eigenvectors. MSC/DDAM requires these to be “mass” normalized, which can be
accomplished by dividing each “max” normalized value by the generalized mass [Mg] = {}T[m]{}. Note that
the generalized mass for a mass normalized vector set will be 1 for all modes. The mass normalized
eigenvectors will be:
Step 3 - Calculate the Participation Factors
They are determined from the following equations. Note that the participation factors are normalization
dependent. Also note that MSC Nastran may have reversed the signs on the second eigenvector. This simply
changes some signs and the magnitudes of the participation factors in the intermediate steps. The final
solution is independent of the normalization.
where = eigenvectors, mi = individual massesF10.m1x··1k1x1k2x2x1– – + = =
m1x1k1k2+x1k2x2– + =
F20.m2x··2k2x2x1– + = =
m2x··2k2x2k2x1– + =
m10
0m2x··2
x··2 k1k2+ k2–
k2– k2x1
x2 0
0= =
X1.0873
.2329= X2.2017
.1008 –=
PaXiami
Xia2mi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = Xia
PiX11m1X21m2+
X112m1X212m2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;.087320.70.232915.53 +
.0873220.70.2329215.53 +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 5.423 = = =&lt;/p&gt;
&lt;p&gt;931 CHAPTER 21
Special Topics
Main Index
Step 4 - Calculate the Modal Masses
Unlike the participation factors, the modal masses are not normalization dependent. Note that the modal
“masses” are really weights.
Step 5 - Choose the Shock Coefficients
We will choose “surface chip”, “deck” inputs. These correspond to the coef.dat  file in the sample directory.
They do not represent any real spectrum, and only serve to demonstrate the DDAM solution methodology.
AA = 50. VA = 120.
AB = 40. VB = 50.
AC = 10. VC = 10.
F/A factor = 1.0
Athwartship factor = 1.0
Vertical factor = 1.0
Step 6 - Calculate the Spectrum Inputs
The equations found here are of the same form as some formal specifications. The values, however, are simply
for demonstration purposes. Note that the W in the equations represents the weight (not mass) in 1000s of
pounds (kips). Also note that the equations deliver the accelerations in Gs and the velocity in in/sec. These
conventions are hard coded into the ddam.f program.P21X12m1X221m2+
X122m1X222m2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;.201720.70 .1008 –15.53 +
.2017220.70 .1008 –215.53 +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 2.610 = = =
MaXiami2
Xia2mi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
M1X11m1X21m2+ 2
X112m1X212m2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;.087320.70.232915.53 +  2
.0873220.70.2329215.53 +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 11368.lb = = =
M2X12m1X221m2+ 2
X122m1X222m2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;.201720.70 .1008 –15.53 +  2
.0873220.70 .1008 –215.53 +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 2631.lb = = =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor932
Main Index
Mode 1:
Since Av is less than A0, use Av for the calculation.
Mode 2:
Since Av is larger than A0, use A0 for the calculation.
Step 7 - Use the Accelerations, Eigenvectors, Individual Weights, and Participation Factors to
Find the Dynamic Forces on the Masses
The weights are the individual weights, not masses or modal masses.
Mode 1:
Mode 2:A0AAABM1+
M1AC+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-504011.368 + 
11.36810+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 120g = = =
V0VAVBM1+
M1VC+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-1205011.368 + 
11.36810+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 344.6in/sec = = =
AvV0
g&amp;mdash;&amp;mdash;&amp;mdash;-344.689.72
386.4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 80.0g = = =
A0AAABM1+
M1AC+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-50402.631 + 
2.63110+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 168.75g = = =
V0VAVBM1+
M1VC+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-120502.631 + 
2.63110+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 500.01in/sec = = =
AvV0
g&amp;mdash;&amp;mdash;&amp;mdash;-500.01196.6
386.4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 254.4g = = =
FiaWiXiaPaAa =
F11W1X11P1A1 8000.08735.42380.0 302994.lb = = =
F21W2X21P1A1 6000.23295.42380.0 606248.lb = = =
F12W1X12P2A2 8000.20172.160169. 711743.lb = = =
F22W2X22P2A2 6000.1008 –2.160169. 266771.lb – = = =&lt;/p&gt;
&lt;p&gt;933 CHAPTER 21
Special Topics
Main Index
Step 8 - Use the Mass Forces to Get the Forces in the Springs
Mode 1:
Spring 1 = 303.0 + 606.2 = 909,200 lb
Spring 2 = 606.2 = 606,200 lb
Mode 2:
Spring 1 = 711.7 - 266.8 = 444,900 lb
Spring 2 = -266.8 = 266,800 lb
Step 9 - Perform the NRL Sum of the Spring Forces
Note that the NRL sum reduces to a trivial summation for this 2-mass case.
Spring 1 = 909,200 + 444,900 = 1,354,100 lb
Spring 2 = 606,200 + 266,800 = 873,000 lb
Step 10 - Calculate the Nodal Displacements and Velocities
Since the deflection of each mode is an orthogonal mode shape, the displacements, velocities and
accelerations are related by:
The accelerations can be simply calculated from:
Mass 1, Mode 1:
Mass 2, Mode 1:A V x2= =
AiaFia
Wi&amp;mdash;&amp;mdash;&amp;ndash; =
A11F11
W1&amp;mdash;&amp;mdash;&amp;ndash;302994.
8000&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 37.87g = = =
V11A11
1&amp;mdash;&amp;mdash;&amp;ndash;37.87386.4
89.72&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 163.1in/sec = = =
x11A11
12&amp;mdash;&amp;mdash;&amp;ndash;37.87386.4
89.722&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 1.818in = = =
A21F21
W2&amp;mdash;&amp;mdash;&amp;ndash;606248.
6000&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 101.04g = = =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor934
Main Index
Mass 1, Mode 2:
Mass 2, Mode 2:
Step 11 - NRL Sum the Velocities, Displacements and Accelerations
Like the forces, this is a trivial summation for this sample problem.
Mass 1:
x =1.818 + .8894 = 2.707 in
V =163.1 + 174.9 = 338.0 in/sec
A = 37.87 + 88.97 = 126.84 g
Mass 2:
x2 = 4.850 + .4445 = 5.295 in
V2 = 435.2 + 87.38 = 522.6 in/secV21A21
1&amp;mdash;&amp;mdash;&amp;ndash;101.04386.4
89.72&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 435.2in/sec = = =
x21A21
12&amp;mdash;&amp;mdash;&amp;ndash;101.04386.4
89.722&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 4.850in = = =
A12F12
W2&amp;mdash;&amp;mdash;&amp;ndash;711743.
8000&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- 88.97g = = =
V12A12
2&amp;mdash;&amp;mdash;&amp;ndash;88.97386.4
196.6&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 174.9in/sec = = =
x12A12
22&amp;mdash;&amp;mdash;&amp;ndash;88.97386.4
196.62&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; .8894in = = =
A22F22
W2&amp;mdash;&amp;mdash;&amp;ndash;266771 –
6000&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; 44.46g = = =
V22A22
2&amp;mdash;&amp;mdash;&amp;ndash;44.46386.4
196.6&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 87.38in/sec = = =
x22A22
22&amp;mdash;&amp;mdash;&amp;ndash;44.46386.4
196.62&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; .4445in = = =&lt;/p&gt;
&lt;p&gt;935 CHAPTER 21
Special Topics
Main Index
A2 = 101.04 + 44.46 = 145.50 g
This sample problem is provided as the d1 model in the sample files. In the output note that directions 2
and 3 are all 0, as those degrees of freedom were constrained out. Only the X direction results and X directed
shock (F/A) have any meaning.
Format of Coefficient File
The DDAM coefficient file contains the weighting factors used for the response calculations, the directional
scaling factors, as well as the modal mass cutoff value. The file is structured as shown below. The default
equations to which these apply are: (M is the modal weight in kips for that mode)
,
For surface ship, hull and shell mount, the equation is:
There is a complete set of AA, AB, AC, and (when needed) AD weighting factors for each of the possible
analysis configurations (surface ship and submerged ship, deck mount, shell mount and hull mount). In
addition, there is a trio of AF (acceleration factors) and VF (velocity factors) for each of these sets, one for
each shock direction. There are additional factors for Elastic-Plastic design.
The file is formatted sort of like an MSC Nastran file. Each set of coefficients and factors are entered on a
COEF entry that describes the applicability of that set of factors. The COEF entry is formatted like a
NASTRAN statement - i.e. ten eight character fields. The entry looks like:A0AFAAABM+
ACM+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = V0VFVAVBM+
VCM+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
A0AFAAABM+ACM+
ADM+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor936
Main Index
The (i) in the VF and AF refer to the directions: (1)=fore/aft, (2)=athwartship, and (3)=vertical
A blank entry or a * entry in any field will use the default value (from the program source) for that value.
In addition to the COEF entry defining coefficients, there is a CUTOFF entry that defines the modal mass
cutoff percentage. That entry looks like:
CUTOFF     pref
pref is the cutoff weight percentage for the modal mass calculation. Enter as a percentage, not a decimal
fraction (i.e. 85. instead of .85). Note that you still have the option of overriding this value when you run the
program.
A sample coef.dat file to analyze different surface ship equipment using the elastic- plastic factors might look
like:
It is important that all fields be 8 characters (or spaces) long, as there is a bug in the read routine (that should
have been fixed for MSC Nastran 2005) that requires this. This is easily achieved by padding the ends of lines
with blanks to achieve the full 8- character length.1 2 3 4 5 6 7 8 9 10
COEF nsurf nstruc nplast
VF(1) VF(2) VF(3) AF(1) AF(2) AF(3)
VA VB VC AA AB AC AD
Describer Meaning
nsurf Ship type. Allowable values are SUB (submerged) and SURF (surface ship)
nstruc Mounting location. Allowable values are DECK, HULL, and SHELL
nplast elastic or elastic-plastic factors. Allowable values are ELASTIC and ELPL
pref 100.     Use all available modes.
nn. Make spectral values zero for all modes beyond the one that first exceeds nn percent of the
total mass.&lt;/p&gt;
&lt;h1&gt;special  elastic-plastic  surface  ship  factors&lt;/h1&gt;&lt;h1&gt;-  deck  coefficients&lt;/h1&gt;&lt;p&gt;COEFSURFDECKELPL
.25    .50    1.0    .25    .50    1.0
10.    20.    50.    10.    37.5 6.&lt;/p&gt;
&lt;h1&gt;-  hull  coefficients&lt;/h1&gt;&lt;p&gt;COEFSURFHULLELPL
.30    .60    1.0    .25    .50    1.0
5.    10.    40.    10.    45.5 6.5    15.&lt;/p&gt;
&lt;h1&gt;-  shell  coefficients&lt;/h1&gt;&lt;p&gt;COEFSURFSHELLELPL
.25    .50    1.0    .25    .50    1.0
*    *    *    10.    45.5 6.5    15.&lt;/p&gt;
&lt;p&gt;937 CHAPTER 21
Special Topics
Main Index
Control File Format
The control file is simply a list of responses to the questions that the DDAM Fortran program asks. The
format can be any one of three, depending on which user options are being requested.
No special user options:
F F T
nsurf  nstruc  nplast pref
amin
f/a_axis  vert_ axis
.f11  filename
.f13  filename
.ver  filename
User coefficient option:
T F T
coef.dat  filename nsurf  nstruc  nplast pref
amin
f/a_axis  vert_axis
.f11  filename
.f13  filename
.ver  filename
User spectrum Option:
F T T
spec.dat  filename pref
amin
f/a_axis  vert_axis
.f11  filename
.f13  filename
.ver  filename
Specific file formats as follows:
First line - spectrum control - format a1, 1x, a1, 1x, a1
•First item - DDAM or general spectrum run flag
T = General non-DDAM spectrum run
F = DDAM
•Second item - Coefficients from File or from compiled source
T = coefficients from external file
F = use built-in coefficients&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor938
Main Index
Ignored if first item is T
•Third item - Equation format
T = DDS-072 style equations
F = NRL 1396 style equations
Ignored if first item is T
Second line - file name (if needed)- format a80
•If 1st item on line 1 is T
Name of spectrum file
•If 2nd item on line 1 is T
Name of coefficient file
•If neither are T, the line is not needed.
Third line - location flags - format i1, 1x, i1, 1x, i1
•First item - Surface or Submarine
1 = Surface
2 = Submarine
•Second item - equipment location
1 = Deck
2 = Hull
3 = Shell
•Third item - coefficient class
1 = Elastic
2 = Elastic/ Plastic
Fourth line - Weight cutoff percentage - format F8.3
•Cutoff percentage (0. To 100.)
Fifth line - Minimum G cutoff - format F8.3
•Minimum G level to use (in Gs)
Sixth line - Axis Orientation - format a1, 1x, a1
•First item - F/A axis
X, Y or Z
•Second item - Vertical Axis
X, Y or Z
Seventh line - Input file - format a80
•Name of file (full path if needed)
Eighth line - Output file - format a80&lt;/p&gt;
&lt;p&gt;939 CHAPTER 21
Special Topics
Main Index
•Name of file (full path if needed)
Ninth line - Verification file - format a80
•Name of file (full path if needed)
•These names will be ignored if they are passed as arguments when the DDAM program is run.
Note that the spacing of the first line and the axis definition line are important, as are the capitalization. The
first line must be in the FORTRAN format (a1, 1x, a1, 1x, a1), with the T or F capitalized. The axis line is
the same format, but with X, Y, or Z for each term. A sample file for a conventional analysis might look like:
F  F  T
1  1  1
100.
1.0
X Z
d1.f11 d2.f11 d1.ver
User defined Shock Spectra
This section describes the program package that allows for defining a user input shock spectrum. Not to be
confused with the user input shock coefficients, this routine allows the user to completely define the
spectrum as data pairs of frequency and some motion quantity (displacement, velocity or acceleration). The
user can define the spectrum in selected units, as outlined in the following section. The frequency scale
and/or the disp/vel/accel scale can be either logarithmic or linear, as frequency and value ranges often cover
several orders of magnitude.
The data is entered into a user created file, which can have any arbitrary name. In general, the file is fairly
simple&lt;/p&gt;
&lt;h1&gt;=  comments,  anywhere  in  file&lt;/h1&gt;&lt;p&gt;DATATYP type data1 dir freq  interp
BEGIN DATA
f1, data1 f2, data2
&amp;hellip;
fn, datan [BEGIN  DATA]
[f1,  data1]
[f2,  data2]
[&amp;hellip;]
[fn,  datan]
[BEGIN  DATA]
[f1,  data1]
[f2,  data2]
[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor940
Main Index
[fn,  datan]
END FILE
The data on the DATATYP entry are as follows:
The BEGIN DATA entry precedes each frequency/motion data section. If dir=1, there will be only one
BEGIN DATA entry, if dir=3, there will be three, one preceding each section.
The data section is ended with the END FILE entry. This is included to remove the machine-specific vagaries
of reading to the end of a file.
FILES CONTENTS AND ENTRY NAMES ARE CASE SENSITIVE - USE CAPITAL LETTERS!
Sample user spectrum data file:&lt;/p&gt;
&lt;h1&gt;sample  spectrum file&lt;/h1&gt;&lt;h1&gt;234 5 6&lt;/h1&gt;&lt;p&gt;DATATYP ACCEI1   HERTZ LOGLIN&lt;/p&gt;
&lt;h1&gt;acceleration  vs  frequency  file  -  acceleration  in  in/sec**2&lt;/h1&gt;&lt;p&gt;BEGIN DATA&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;1.&lt;/li&gt;
&lt;li&gt;10.&lt;/li&gt;
&lt;li&gt;1000.&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;point  added  to  define  range&lt;/h1&gt;&lt;ol start=&#34;500&#34;&gt;
&lt;li&gt;800.&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;500&#34;&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;END FILEtype Describes what motion quantity is described in the following data. Type can be one of the
following: DISP, VELO, or ACCE.
data Describes the units that the motion is described in. Data can be one of the following: G
(acceleration data in Gs), F (Displacement, Velocity or Acceleration data in feet, ft/sec, or
ft/sec2), I (displacement, velocity or acceleration in inches, in/sec or in/sec2), or M
(displacement, velocity or acceleration in meters, m/sec or m/sec2)
dir Describes how many spectra are in the file. dir can be 1 (a single spectrum will be used for all
three shock directions), or 3 (there are three spectra in this file, one for each direction)
freq Describes the units for the frequency terms. Choices are RAD (radians) or HERTZ
(frequency in hertz).
interp Describes the axis/plot type. Data can be any one of the following: LOGLOG (both axes are
logarithmic), LINLIN (neither axis is logarithmic), LOGLIN (the frequency axis is
logarithmic, the other is not), or LINLOG (the frequency range is linear, the other is
logarithmic).&lt;/p&gt;
&lt;p&gt;941 CHAPTER 21
Special Topics
Main Index
MSC Patran Interface
Starting in Version 2004, MSC Patran has an analysis option that enables you to set up and run a DDAM
analysis. The MSC Patran interface will create the control file, write the file assignments, and allow entry of
the SUPORT card. Any type of DDAM analysis can be run from within MSC Patran, including the
coefficient runs and user- input spectrum runs. The program performs several checks on the data that is
entered to prevent the user from accidentally entering bad data and then trying to run the model.
Program Operation:
Choosing the Solution Type  from the main analysis menu will bring up the following form:&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor942
Main Index
The Solution Parameters  button brings up the following form:
On the subcase parameters form, most of the rest of the DDAM input is entered. That form looks like&lt;/p&gt;
&lt;p&gt;943 CHAPTER 21
Special Topics
Main Index
The Spectrum Source  option menu has two choices, COEFs
and File.
•COEF s will instruct DDAM to obtain the shock
spectrum and spectral accelerations from a set of
coefficients.
•FILE  allows input of a general spectrum not determined
by coefficients. If FILE  is chosen, the file can be chosen
by Spec Source.. button that appears.
The Coef Source  option menu dictates where the
coefficients are to be found.
•DEFAULT  will use the coefficients that are hard coded
into the DDAM program.
•FILE will pull them from a file previously  created by a
user who must then pick the file using Coef File..  button
that will appear.
If the Spectrum Source is FILE , then the Coefficient
Options  items are enabled. Each menu has several choices
that will allow the user to choose which set of coefficients is
desired. If the coefficients are coming from a file, and the file
does not contain coefficients for the particular configuration
that has been specified, the default coefficients will be used.
At the moment, no warning of this is given.
Ship Type  can be SURFACE  or SUBMERGED.
Mount Location  can be DECK , HULL  or SHELL .&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
DDAM Processor944
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 22: The Set Notation System Used in Dynamic Analysis&lt;br&gt;
22The Set Notation System
Used in Dynamic Analysis
Overview&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview946
Main Index
Overview
The set notation system used for dynamic analysis in MSC Nastran continues and expands the set notation
system for static analysis.  Because of the great variety of physical quantities and displacement sets used in
dynamic analysis, becoming familiar with the set notation system in MSC Nastran aids its efficient use for
dynamic analysis. Good reference material is available in Set Definition  in the MSC Nastran Linear Static
Analysis User’s Guide , Degree-of-Freedom Set Definitions  in the MSC Nastran Quick Reference Guide  and Constraint
and Set Notation  in the MSC Nastran Reference Guide .
Dynamic Sets
In addition to the basic static sets there are a number of additional, mutually independent sets of physical
displacements (namely, q-set, c-set, b-set and e-set) that are used in dynamic analysis to supplement the sets
used in static analysis.  The q-, c-, and b-sets facilitate generalized dynamic reduction and component mode
synthesis.  The e-set is used to represent control systems and other nonstructural physical variables.  The p-
set is created by combining the g-set with the e-set variables.
In addition to the combined sets described above, the v-set is a combined set created by combining the c-, r-
and o-sets.  The DOFs in these sets are the DOFs free to vibrate during component mode synthesis or
generalized dynamic reduction.
Some additional sets (sa-, k-, ps-, and pa-sets) are defined and used in aeroelastic analysis.
The modal coordinate set  is separated into zero frequency modes  and elastic (finite frequency) modes
.  For dynamic analysis by the modal method, the extra points  are added to the modal coordinate set
to form the h-set as shown in Figure 22-1.
See the Degree-of-Freedom Set Definitions  (Ch. 8) in the MSC Nastran Quick Reference Guide  for a definition of
supersets, combined sets and set names. The parameter PARAM,USETPRT can be used to print of lists of
degrees-of-freedom and the sets to which they belong.  Different values of the PARAM create various tables
in the printed output. o
fue
i
e
Modal Sets hPhysical Set
o
fi&lt;/p&gt;
&lt;p&gt;947 CHAPTER 22
The Set Notation System Used in Dynamic Analysis
Main Index
where:
Figure 22-1  Set Notation for Physical and Modal Sets=rigid-body (zero frequency) modal coordinates
=finite frequency modal coordinates
=  = the set of all modal coordinates
=  = the set used in dynamic analysis by the modal methodo
f
iof+
uhiue+&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview948
Main Index&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P49</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_049/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_049/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
Chapter 23: MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
23MSC Nastran-Actran Co-
simulation Workflow Manager for
Vibroacoustics
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis      950
Fluid-structure Coupling in Virtual SEA      960
Diffuse Sound Field with Workflow Manager for Space      968&lt;/p&gt;
&lt;p&gt;950 MSC Nastran Dynamic Analysis User’s Guide
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Main Index
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Introduction
In recent years, the interest for mid- and high- frequency NVH simulations has grown. For instance, as electric vehicles
conquer space, the focus of NVH simulations is moving towards the higher frequencies because of the electric motor&amp;rsquo;s
operational frequency domain. Other industries, such as aerospace, shipbuilding, railway, and machinery, are as well
constantly trying to increase the frequency range of their simulations. The VSEA (Virtual Statistical Energy Analysis)
approach can enable this objective.
The finite element method is a robust and versatile way to solve various vibro-acoustic challenges. However, performing
vibro-acoustic analyses at high frequencies presents several challenges. The mesh refinement needed to accommodate short
wavelengths often leads to overwhelming requirements in computational resources. But even when such requirements can
be met, the high modal density and high modal overlap of both structure and acoustic components introduce variability
and uncertainty in local response results making them highly inefficient indicators. Spatial and frequency averaging
techniques on the other hand, provide global results offering a better insight to the behavior of complex systems under such
circumstances. The Virtual SEA approach offers unique ways to increase the frequency range of the computation and
provides a description of the model in terms of its energy levels, at a minimized computational cost.
Figure 23-1  Frequency Ranges of Interest
The approach proposed in this section, aims at smoothly connecting the MSC Nastran solver and the SEA solver of Actran:
MSC Nastran, on the one hand, has an extensive finite element library and offers unmatched performance and capabilities
to perform large-scale structural modal extraction; Actran SEA, on the other hand, enables increasing the frequency range
of application of an MSC Nastran model even further: the approach proposed with the co-simulation workflow aims at
smoothing the user experience (a single MSC Nastran input file is created by the user) and increasing the computational
performance by limiting the size of the data exchanged and potentially reducing the solution time. The process is
orchestrated by the Actran Workflow Manager which on one hand drives the different solvers, and on the other hand
performs computations to automatically split the connections and optimize the solvers&amp;rsquo; performance.&lt;/p&gt;
&lt;p&gt;951  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Benefits
Typical Statistical Energy Analysis (SEA) is a suitable tool for high frequency vibro-acoustic simulations[2.] but requires
expertise, iterations and time to build a proper SEA model. Also, this method shows a limited validity in low and mid
frequency ranges. The Virtual SEA approach eliminates these issues since it builds the SEA model based on a finite element
analysis[3.]. Therefore, the existing low-frequency models can be reused with fairly limited user effort to cover, the mid- and
high frequency domains. Very limited engineering expertise and time is required to build the SEA model from an existing
FE model. Also, once the Coupling Loss Factors (CLFs) and Damping Loss Factors (DLFs) representing the SEA model
and output by an SEA run are known, simulating a new set of excitations is very efficient. Finally, the
co-simulation between MSC Nastran and Actran allows reduction of the data exchange compared to the classic Virtual SEA
approach.
User Interface
The setup of a VSEA run starts from an existing MSC Nastran SOL103 input deck with a complete FE model. The main
Bulk Data section involves new element sets defined using SET3 entries to define multiple SEA sub-systems, made of
groups of structural elements.
A new Case Control and Bulk Data Delimiter, BEGIN [BULK] SEA=seaid , has been added to set up the Virtual SEA
system and apply the excitation as a power injection to the subsystems.
Two new Bulk Data entries, IJPOWER and SEAPART, are added to this Bulk SEA Data section:
•IJPOWER is used to define the injected power to one or several SEA subsystem(s),
•SEAPART is used to define the list of SEA sub-systems to be accounted during the Power Injection Method
(PIM) sequence
Format:
BEGIN [BULK] SEA = seaid
Remark
1.The BEGIN SEA command must be specified after the initial BEGIN BULK.BEGIN BULK SEA Case Control and Bulk Data Delimiter of a Virtual SEA system
Describer Meaning
SEA Indicates the beginning of a SEA system. See Remark 1.
seaid SEA system identification number (Real &amp;gt; 0; Required)&lt;/p&gt;
&lt;p&gt;952 MSC Nastran Dynamic Analysis User’s Guide
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Main Index
Defines the injected power applied to a subsystem of the SEA model.
Format:
Remarks
1.The related subsystem must be defined in the SEAPART Bulk Data Entry.
2.The injected power is a spatially constant value over the whole subsystem. The excitation is a random rain-on-the-
roof loading on every node of the subsystem. Random forces are random in all directions of (X, Y, Z).
3.Only the free field format is supported in the current Actran release. Otherwise, the Actran Workflow Manager (not
Nastran) will issue a fatal error message.
Specifies which subsystems the Virtual SEA model refers to.
Format:
Remarks
1.A SEA subsystem is defined by a SET3 entry containing a set of elements. The SET3 entry should be set up in the
main Bulk Data area.IJPOWER Injected Power Applied to a Subsystem
1 2 3 4 5 6 7 8 9 10
IJPOWER SUBSID POWER
Describer Meaning
SUBID Identification number of the SEA subsystem on which the excitation is applied. See Remark 1.
(Integer&amp;gt;0; Required)
POWER Injected power over the whole subsystem. See Remark 2. (Real &amp;gt; 0; Required)
SEAPART List of Subsystems Involved in the Power Injected Method
1 2 3 4 5 6 7 8 9 10
SEAPART SUBSID1 SUBSID2 SUBSID3 -etc.-
Describer Meaning
SUBSIDi Identification number of the subsystem. (Integer&amp;gt;0; Required)&lt;/p&gt;
&lt;p&gt;953  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
2.Any subsystem (SET3) not specified in SEAPART will not be accounted as a subsystem in the computation.
Elements contained in that group will not participate in the Power Injection Method (PIM), and no results will be
computed on this group.
3.A SET3 can contain any type of elements (PSOLID, PSHELL, connectors, etc., …).
4.Rigid elements, such as RBE2, do not need to be assigned to any subsystem.
a.If an RBE2 is identified between elements relying on the same partition, the RBE2 itself is automatically added
to the related subsystem
b.If two partitions are connected by an RBE2, this spider connection is automatically involved (duplicated) into
both superelements (SE)
5.1D elements, such as CBUSH or CBAR, can be either manually or automatically assigned to a subsystem. By
default:
a.If a CBUSH or CBAR is identified between elements within the same subsystem partitioning, the CBUSH or
CBAR itself is automatically added to the related subsystem.
b.If two subsystem partitions are connected by a CBUSH or CBAR, the 1D element is associated to a connected
subsystem (if not assigned in a SET3).
c.A CBUSH or CBAR should never be left in the residual as it plays an important role in the superelement
convergence
6.At least one subsystem (SET3) must be present in the SEAPART entry.
7.Elements that are not contained in any group (subsystem) will remain in the Residual and not participate in the
Power Injection Method, and no results will be computed on these elements.
8.Only the free field format is supported in the current Actran release. Otherwise, the Actran Workflow Manager (not
Nastran) will issue a fatal error message.
Inputs / Outputs Description
As a reminder, the input of the MSC Nastran-Actran co-simulation relies only on a unique SOL103 deck that contains the
mesh, some parameters, subsystem definition and a new BEGIN BULK SEA that provides information about VSEA.
Natural output leads to an energetic oriented post-processing:
•Natural energetic indicators/quantities by frequency range and by subsystem are output and generated under
an Actran *.plt format and can be post-processed by Actran PLTViewer.
•For each subsystem, the kinetic and potential energies are typically computed.
•The mean square velocity of a given subsystem can then be easily retrieved in post-processing by applying
existing relationship, as described as follows:
Mean Square Velocity   with Tk1
4&amp;mdash;mkvk2= vk2 4Tk
mk&amp;mdash;&amp;mdash;&amp;mdash; =mk: mass of the subsystem k
Tk: kinetic energy of the subsystem k&lt;/p&gt;
&lt;p&gt;954 MSC Nastran Dynamic Analysis User’s Guide
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Main Index
Launching MSC Nastran-Actran Virtual SEA Co-simulation Process
The calculation procedure is launched in batch mode using the command line. The following shows a typical command
line:&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;actran -u SE_SEA
&amp;ndash;nastran_path=/opt/msc/bin/nast20224
&amp;ndash;version=2023
&amp;ndash;nastran_input=SOL103.dat
&amp;ndash;mem=3500
&amp;ndash;smp=1
&amp;ndash;dmp=1&lt;br&gt;
Where the different options available are listed below:
Remarks
1.Currently, only sequential run is supported for the MSC Nastran sequences. Therefore, only the &amp;ndash;nastran_dmp=1
or &amp;ndash;dmp=1 is supported.
2.The injected power is a spatially constant value over the whole subsystem. The excitation is a random rain-on-the-
roof loading on every node of the subsystem. Random forces are random in all directions of (X, Y, Z).
3.Only the free field format (data fields separated by commas) is supported.-u: call the SE_SEA utility from Actran Workflow Manager.
&amp;ndash;nastran_path: allows to select the absolute path of the Nastran product line to be used.
&amp;ndash;version: allows to select a specific Actran version. By default, the version specified in the following file
will be used: Installation_Folder\conf\actran.ini .
&amp;ndash;nastran_input: is followed by the path to the SOL103 input file
&amp;ndash;mem: is followed by the total amount of memory allocated to the Workflow Manager run in MB. If
not set, all the available physical memory on the machine is allocated
&amp;ndash;dmp: specifies the number of Nastran and Actran parallel processes. See Remark 1.
&amp;ndash;nastran_dmp: specifies the number of Nastran parallel processes. See Remark 1. and 2.
&amp;ndash;actran_dmp: specifies the number of Actran parallel processes. See Remark 2.
&amp;ndash;smp: specifies the number of threads used by each Nastran and Actran process. See Remark 3.
&amp;ndash;nastran_smp: specifies the number of threads used by each Nastran process. See Remark 3.
&amp;ndash;actran_smp: specifies the number of threads used by each Nastran and Actran process. See Remark 3.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;955  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Guidelines and Perspectives
Mesh validity for Virtual SEA
Due to spatial and frequency averaging, the validity of the mesh for Virtual SEA is higher than for typical FE analysis:
•4 to 5 linear or 2 to 3 quadratic (instead of 8 to 10 linear or 4 to 6 quadratic) elements per bending
wavelength are sufficient
•Modes can then be extracted up to 4 times the FE mesh validity frequency for the structure
Figure 23-2  Finite Element Mesh Validity
Model Partitioning
The Actran User Interface features a set of tools to build an SEA model starting with a finite element model of a complex
structure, its related eigenmodes and a user-defined partitioning into SEA sub-systems. In all elements detailed so far, a pre-
requisite of the Virtual SEA is that the user defines the SEA partitioning prior to the computation. The elaboration of a
SEA partitioning is far from being a trivial task, as the SEA sub-systems should match the general SEA assumptions and
requirement. One single subsystem should:
•Have a significant energy difference with neighboring subsystems (weak coupling)
•Be composed of components that show similar vibrational/energetic behavior (homogeneous vibrational
energy distribution in the subsystems)
•Not contain any disconnected parts
In practice, Virtual SEA is robust in terms of subsystem definition in a sense that even if the SEA requirements are violated,
a valid reduced energy model is produced that converges to a well-defined SEA model at higher frequencies. Generally
speaking:
•Bigger subsystems can be created where local results/paths are not needed.&lt;/p&gt;
&lt;p&gt;956 MSC Nastran Dynamic Analysis User’s Guide
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Main Index
•Smaller subsystems can be created where precise local results/paths are needed.
Figure 23-3  Subsystems Definition
T o sum-up, the more the subsystem definition meets the SEA requirements, the faster the energy model will converge to a
well-defined SEA model.
Practically, the subsystem definition is element-wise. Thus, the user needs to define the content of each partition
(subsystem) by gathering through multiple SET3 groups of 3D / 2D /1D / 0D elements, such as:
•PSHELL / CQUAD4 / CQUAD8 / CQUADR / CTRIA3 / CTRIA6 / CTRIAR
•PSOLID / CHEXA / CTETRA
•PBEAM / PBAR / CBEAM / PBAR / etc., …
•CONM2
•Etc., &amp;hellip;
Since a typical automotive structure is full of connector elements, smart features allow the program to automate as much
as possible the assignment of such linked elements. In other words, we tend to minimize user effort. Currently,
RBE2/CBUSH/CBAR connectors are handled automatically. More will be automated in future releases.
RBE2:
•If an RBE2 is identified between elements relying on the same PARTITION, the RBE2 itself is automatically
added to the related SE PARTITION
•If two PARTITIONS are connected by an RBE2 with GN as the center of the spider, the RBE2 is
automatically split into both SE and GN (independent) node considered as A-Set
•If two PARTITIONS are connected by an RBE2 (1GN and 1GM), the RBE2 is associated to the SE on
which the GM grid rely on. The GN (independent) node is then considered as A-Set
CBUSH/CBAR:
•If a CBUSH/CBAR is identified between elements relying on the same PARTITION, the CBUSH/CBAR itself
is automatically added to the related SE PARTITION
•If two PARTITIONS are connected by a CBUSH/CBAR, the 1D element is associated to a connected
subsystem (if not assigned in a SET3)&lt;/p&gt;
&lt;p&gt;957  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
•A CBUSH/CBAR is never left in the residual as it plays an important role in the SE convergence
To that end, the graphical user interface known as ActranVI provides a topological partitioning tool, which allows the user
to seamlessly define one or more partitioning configurations of their model and output related SET3 under *.bdf  format
that can be included to the main SOL103 deck.
Figure 23-4  Model Partitioning using ActranVI
Example
A front passenger door made up of many types of Nastran properties (2 PSOLID, 45 PSHELL linked using CBUSH,
RBE2) is involved. The existing SOL103 deck is used. All parts are mainly made of steel material with thicknesses in range
[0.7-2.5] mm. A 1% global structural damping combined to an additional viscous damping (10%) in the PBUSH is
activated.&lt;/p&gt;
&lt;p&gt;958 MSC Nastran Dynamic Analysis User’s Guide
Virtual SEA: MSC Nastran-Actran Co-simulation Analysis
Main Index
Figure 23-5  3D and Exploded View of the Car Door PIDs
The structure model is then split into 7 subsystems (partitions) as shown below. The excitation (1W injected power) is
assigned to the group 100001 related to the window group.
Figure 23-6  3D and Exploded View of the Car Door Subsystems Definition
2,608 modes are extracted up to 2kHz. The VSEA response is then performed up to 2kHz. Results are assessed through
kinetic energy computed for each subsystem.&lt;/p&gt;
&lt;p&gt;959  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Figure 23-7  Kinetic Energy [J] over all subsystems
The input file of this example can be found at ..\tpl6\act_wm\CAMRY_DOOR_2kHz.zip . Another smaller example
can be found at ..\tpl\act_wm2022\vsea_sol103.dat .
Basic Theory and Background
Virtual SEA is a vibro-acoustic method computed on subsystems that uses an energy and power-based model. Subsystems
are sub-parts of the analyzed structure.
The global system is divided into subsystems where:
•Unknown: the energy level Ei of each subsystem
•Excitation: the injected power Pi
•Vibrational energy is considered to propagate like heat between neighboring subsystems: power exchange is
proportional to the subsystem energy difference
With the assumption of the Coupling Power Proportionality, the power balance for Subsystem, in the general case can be
written as shown below:&lt;/p&gt;
&lt;p&gt;960 MSC Nastran Dynamic Analysis User’s Guide
Fluid-structure Coupling in Virtual SEA
Main Index
Figure 23-8  Power Balance of Subsystems and a Three-subsystem Virtual SEA Model
The virtual PIM is implemented by launching a series of automatically configured FE simulations, in which each of the
subsystems is excited in turn. Energy levels of all subsystems are stored and Coupling Loss Factors (CLFs) are computed.
The SEA system is then built.
References
1.Actran 2023 User&amp;rsquo;s Guide Vol. 1: Installation, Operations, Theory and Utilities. Section 45: Virtual SEA Analysis
2.Borello G. (2016). Acoustic Response of Spacecraft Equipment and Shock Response from SEA Prediction, In
ECSSMET (European Conference on Spacecraft Structures Materials and Environmental Testing)
3.Abdoly K., Brandstetter M., Binet D., and Van Der Smissen L. (2020). Vibro-Acoustic Response Prediction of the
Bartolomeo Multi-Purpose Payload, In AEC (Aerospace Europe Conference)
Fluid-structure Coupling in Virtual SEA
Introduction
Since MSC Nastran 2022.4, Ref. [ 3.], he Nastran-Actran co-simulation tool, orchestrated by the Actran Workflow
Manager, can create a Statistical Energy Analysis (SEA) from a single Nastran structural input deck, allowing to push it to
higher frequencies while keeping realistic computational performance.
The 2023.4 release extends this workflow by allowing fluid-structure coupling in such models.&lt;/p&gt;
&lt;p&gt;961  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Benefits
The addition of fluid-structure coupling opens the door to construct high frequency vibro-acoustic SEA models from low-
mid frequency FEM input, while keeping good accuracy thanks to the spatial and frequency averaging done in the SEA
methodology.
The fluid and structure nodes that are localized by the ACMODL entry are added to the super-element reduction nodes,
and the fluid-structure Coupling Loss Factors (CLFs) are computed using the Statistical modal Energy Distribution
Analysis (SmEdA) introduced by Maxit et al. [ 1.] [2.] during the Actran Virtual SEA run.
User Interface
The fluid-structure coupling can be specified using the existing ACMODL entry.
Two new Bulk Data entries are added to the Begin Bulk SEA Data section.
Bulk Data Entry Summary
Bulk Data Entry Descriptions
Allows overriding the frequency definitions on the EIGRL entry in the main BULK section.
Format:
Example:SEAFREQ Alternative to the frequency definition of EIGRL entry
SEAPELL Helps defining the pellicular modes for representing a fluid subsystem.
SEAFREQ Alternative to the Frequency Definition of EIGRL Entry
1 2 3 4 5 6 7 8 9 10
SEAFREQ TYPE F1 F2 EXTEND
SEAFREQ TOCTAVE 90.0 355.0
SEAFREQ TOCTAVE 355. 510. 1
Describer Meaning
TYPE Selection of OCTAVE, TOCTAVE or RANGE. (Character; Required)
F1 Lower bound of frequencies. (Real≥-1.0; Required). See Remark 1.&lt;/p&gt;
&lt;p&gt;962 MSC Nastran Dynamic Analysis User’s Guide
Fluid-structure Coupling in Virtual SEA
Main Index
Remarks :
1.In case of OCTAVE or TOCTAVE, F1 and F2 are the bounds of the frequency range in which the octave/third-
octave bands should be extracted. In case of RANGE, F1 and F2 are the bounds of the range. It is required that
F2&amp;gt;F1.
2.EXTEND is a flag for controlling if any frequency extrapolation should be performed to evaluate the SEA model
parameter in the selected frequency range. When EXTEND=1, the extrapolation is performed.
Defines the pellicular modes for representing a fluid subsystem.
Format:
Example:
Remarks:
1.SUBSID is a SET3 ID, defined in the main BULK Data section, of a collection of PLTSURF elements. Such
elements define the skin of the fluid subsystem.F2 Upper bound of frequencies. (Real&amp;gt;0.0; Required). See Remark 1.
EXTEND Flag for frequency extrapolation. (Integer=0 or 1; Default=0). See Remark 2.
SEAPELL Selection of Pellicular Modes of a Fluid Subsystem
1 2 3 4 5 6 7 8 9 10
SEAPELL SUBSID MATID VOLUME FMIN FMAX
SEAPELL 500101 10 0.5 -1.0 355.0
Describer Meaning
SUBSID SEA fluid subsystem ID. (Integer&amp;gt;0; Required). See Remark 1.
MATID Fluid material ID. (Integer&amp;gt;0; Required)
VOLUME Volume of the fluid subsystem. (Real&amp;gt;0.0; Required)
FMIN Frequency lower bound of pellicular modes. (Real≥-1.0; Required)
FMAX Frequency upper bound of pellicular modes. (Real&amp;gt;0.0; Required)Describer Meaning&lt;/p&gt;
&lt;p&gt;963  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
2.It is required that FMAX&amp;gt;FMIN.
Inputs / Outputs Description
As a reminder, the input of the MSC Nastran-Actran co-simulation relies only on a unique SOL103 deck that contains the
mesh, some parameters, the ACMODL entry if fluid-structure coupling is present, subsystem definition and a new BEGIN
BULK SEA that provides information about VSEA. The examples of input data are shown as follows.&lt;/p&gt;
&lt;p&gt;964 MSC Nastran Dynamic Analysis User’s Guide
Fluid-structure Coupling in Virtual SEA
Main Index
The examples of using SET3 to partition the FE model into structural and fluid subsystems are shown in the following
pictures.
Natural output leads to an energetic oriented post-processing:
•Natural energetic indicators/quantities by frequency range and by subsystem are output and generated under
an Actran *.plt format and can be post-processed by Actran PLTViewer.
•The mean square velocity of a given structural subsystem can be easily retrieved in post-processing by applying
existing relationship, as described as follows:
where,
msv mean squared pressure of the subsystem
T kinetic energy of the subsystem
m mass of the subsystem
msv4T
m&amp;mdash;&amp;mdash;=&lt;/p&gt;
&lt;p&gt;965  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
•The mean square velocity of a given structural subsystem can be easily retrieved in post-processing by applying
existing relationship, as described as follows:
where,
Guidelines, Perspectives and Limitations
The same care should be taken to subdivide the structure in subsystems whether there is fluid-structure coupling or not, as
the model will converge to a well-defined SEA model faster if the subsystems meet the SEA requirements (such as weak
coupling). Similar SEA requirements stand for the cavity sub-structuring, and dividing a cavity into multiple subsystems
should ideally be done where physical impedance boundaries are found. A single fluid cavity should ideally be represented
by a single subsystem.
The following limitations on the fluid subsystem should be observed:
1.The single fluid subsystem is strongly recommended. More fluid subsystems may affect the performance.
2.ACMS may not be supported in the generation of the fluid subsystem (Fluid-only external superelement).msp mean squared pressure of the subsystem
E total energy of the system
 the density of the fluid
c2the squared spend of sound of the fluid
V the subsystem volume msp2Ec2
V&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;966 MSC Nastran Dynamic Analysis User’s Guide
Fluid-structure Coupling in Virtual SEA
Main Index
Example
A full vehicle vibro-acoustic Nastran model, the Dodge Neon (219 PSHELL connected by more than 5000 RBE2, with a
FLUID inner cavity), is converted to an SEA model. Structural and fluid damping are 2% each, and the model is excited
by injecting a unitary power in the rear left door subsystem.
Figure 23-9  3D and Exploded View of the Car Subsystems
Selected examples of input data have been shown in the previous pictures. The launch command of WM_VSEA follows
the same rules and command-line options, as documented in MSC Nastran 2023.4 Release Guide [3], as follows.&lt;/p&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;actran -u SE_SEA
&amp;ndash;nastran_path=/opt/msc/bin/nast2023.4
&amp;ndash;version=2023
&amp;ndash;nastran_input=vseaf_sol103.dat
&amp;ndash;mem=3500
&amp;ndash;smp=1
&amp;ndash;dmp=1&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;967  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
The results of this simulation are the energies of each (26) structure subsystems, and the energy of the single cavity
subsystem, see below.
Figure 23-10  Total Energy of Four example subsystems
Figure 23-11  Total Energy of the Cavity
The input file of this example can be found at MSC_DOC_DIR/tpl6/act_wm/Dodge_Neon_SEA .
References
1.L. Maxit and J.-L. Guyader. Estimation of SEA coupling loss factors using a dual formulation and FEM modal
information, part I: Theory. Journal of Sound and Vibration, 239(5):907-930, 2001.
2.L. Maxit and J.-L. Guyader. Extension of SEA model to subsystems with non-uniform modal energy distribution.
Journal of Sound and Vibration, 265(2):337-358, 2003.
3.MSC Nastran 2022.4 Release Guide: Virtual SEA High-Frequency Acoustics&lt;/p&gt;
&lt;p&gt;968 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
Diffuse Sound Field with Workflow Manager for Space
Introduction
In many industrial applications of fluid-structure interactions (FSI), acoustic loads can have a great impact on structural
safety and durability. In the space industry, for example, during the lift-off of a spacecraft launch vehicle, the structure and
payload components, such as satellites and antennas, are exposed to intense acoustic loading that can damage their
structures.
Since MSC Nastran 2021.2, the Nastran-Actran co-simulation tool, orchestrated by the Actran Workflow Manager for
space (WM_SPACE), can be used to study structures subject to the diffuse sound field (DSF) excitation. Workflow
manager for space automatically couples MSC Nastran and Actran computations and manages the input and output.
The 2023.4 release simplifies the usage of this workflow by allowing the user to define the excitation (diffuse sound field)
within the Nastran input file.
Benefits
The definition of the acoustic excitation within the Nastran input file enables the use of a single input file for Actran
Workflow Manager for space.
As shown on Figure 23-12, with previous versions two input files had to be created:
The MMC capability in this release is supported in following solutions:
a Nastran input file to define the modal extraction and required output
an Actran input file to define the acoustic excitation
Now, all information needed for the Workflow Manager for space computation can be defined in a single input file.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P5</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_005/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_005/</guid>
      <description>
        
        
        &lt;p&gt;69 CHAPTER 3
Real Eigenvalue Analysis
Main Index
$
$  SELECT EIGR ENTRY
METHOD = 10
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
$EIGR   SID     METHOD  F1      F2      NE      ND                      +EIG
$+EIG   NORM    G       C
EIGR    10      SINV    0.      50.
$
$  ALUMINUM PROPERTIES:
$  E = 7.1E10 N/m&lt;strong&gt;2, NU = 0.33, RHO = 2.65E4 N/m&lt;/strong&gt;3  (W E I G H T  DENSITY)
$MAT1   MID     E       G       NU      RHO
MAT1    1       7.1+10          0.33    2.65+4
$
$  CONVERT WEIGHT TO MASS:  MASS = (1/G)*WEIGHT
$  G = 9.81 m/sec**2  &amp;ndash;&amp;gt; WTMASS = 1/G = 0.102
PARAM   WTMASS  0.102
$
$  I1 AND I2 SLIGHTLY DIFFERENT DUE TO MANUFACTURING TOLERANCE
$  ADD NONSTRUCTURAL WEIGHT OF 2.414 N/M
PBAR    1       1       6.158-4 2.9-8   3.1-8   6.-8    2.414
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
CBAR    1       1       1       2       0.      1.      0.                   &lt;br&gt;
CBAR    2       1       2       3       0.      1.      0.                   &lt;br&gt;
CBAR    3       1       3       4       0.      1.      0.                   &lt;br&gt;
CBAR    4       1       4       5       0.      1.      0.                   &lt;br&gt;
CBAR    5       1       5       6       0.      1.      0.                   &lt;br&gt;
CBAR    6       1       6       7       0.      1.      0.                   &lt;br&gt;
CBAR    7       1       7       8       0.      1.      0.                   &lt;br&gt;
CBAR    8       1       8       9       0.      1.      0.                   &lt;br&gt;
CBAR    9       1       9       10      0.      1.      0.                   &lt;br&gt;
CBAR    10      1       10      11      0.      1.      0.                   &lt;br&gt;
GRID    1               0.0     0.      0.                                   &lt;br&gt;
GRID    2               0.3     0.      0.                                   &lt;br&gt;
GRID    3               0.6     0.      0.                                   &lt;br&gt;
GRID    4               0.9     0.      0.                                   &lt;br&gt;
GRID    5               1.2     0.      0.                                   &lt;br&gt;
GRID    6               1.5     0.      0.                                   &lt;br&gt;
GRID    7               1.8     0.      0.                                   &lt;br&gt;
GRID    8               2.1     0.      0.                                   &lt;br&gt;
GRID    9               2.4     0.      0.                                   &lt;br&gt;
GRID    10              2.7     0.      0.                                   &lt;br&gt;
GRID    11              3.0     0.      0.                                   &lt;br&gt;
SPC1    1       123456  1                                                    &lt;br&gt;
$
ENDDATA
The first two resulting y-direction modes are illustrated in Figure 3-7. Displacements in the y-direction
displacements are controlled by the I1 term. Because the structure is also free to displace in the z-direction,
similar modes occur in that direction and are controlled by the I2 term.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples70
Main Index
Figure 3-7  First Two Mode Shapes in the Y-Direction
Printed output is shown in Listing 3-8. Note that modes 1 and 3 are y-direction (T2) modes and modes 2 and
4 are z-direction (T3) modes.&lt;/p&gt;
&lt;p&gt;71 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Now, consider the second model for which I1 and I2 are identical. Printed output is shown in Listing 3-9. Note
that modes 1 and 2; 3 and 4; 5 and 6; etc., have identical frequencies; this is a case of repeated roots. (See Listing 3-8  Printed Results from the First Model
E I G E N V A L U E  A N A L Y S I S   S U M M A R Y   (STURM INVERSE POWER)
NUMBER OF EIGENVALUES EXTRACTED . . . . . .           6
NUMBER OF TRIANGULAR DECOMPOSITIONS . . . .           9
TOTAL NUMBER OF VECTOR ITERATIONS . . . . .          59
REASON FOR TERMINATION:  ALL EIGENVALUES FOUND IN RANGE.
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.629657E+02        1.276580E+01        2.031740E+00        1.000000E+00        1.629657E+02
2         2        1.742047E+02        1.319866E+01        2.100632E+00        1.000000E+00        1.742047E+02
3         3        6.258656E+03        7.911166E+01        1.259101E+01        1.000000E+00        6.258656E+03
4         4        6.690287E+03        8.179417E+01        1.301795E+01        1.000000E+00        6.690287E+03
5         6        4.809111E+04        2.192968E+02        3.490218E+01        1.000000E+00        4.809111E+04
6         5        5.140773E+04        2.267327E+02        3.608563E+01        1.000000E+00        5.140773E+04
EIGENVALUE =  1.629657E+02
CYCLES =  2.031740E+00         R E A L   E I G E N V E C T O R   N O .          1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            0.0            0.0            0.0            0.0            0.0
         2      G      0.0            1.391872E-02   2.259793E-10   0.0           -1.470464E-09   9.057010E-02
         3      G      0.0            5.301210E-02   8.606855E-10   0.0           -2.725000E-09   1.678406E-01
         4      G      0.0            1.133067E-01   1.839608E-09   0.0           -3.765826E-09   2.319480E-01
         5      G      0.0            1.908986E-01   3.099362E-09   0.0           -4.598456E-09   2.832321E-01
         6      G      0.0            2.820258E-01   4.578870E-09   0.0           -5.232973E-09   3.223138E-01
         7      G      0.0            3.831632E-01   6.220901E-09   0.0           -5.685052E-09   3.501587E-01
         8      G      0.0            4.911331E-01   7.973862E-09   0.0           -5.976744E-09   3.681249E-01
         9      G      0.0            6.032288E-01   9.793808E-09   0.0           -6.137029E-09   3.779972E-01
        10      G      0.0            7.173455E-01   1.164657E-08   0.0           -6.202180E-09   3.820101E-01
        11      G      0.0            8.321185E-01   1.350998E-08   0.0           -6.215970E-09   3.828595E-01
  EIGENVALUE =  1.742047E+02
      CYCLES =  2.100632E+00         R E A L   E I G E N V E C T O R   N O .          2

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            0.0            0.0            0.0            0.0            0.0
         2      G     -1.363453E-33   2.249974E-10  -1.391872E-02   0.0            9.057010E-02   1.464532E-09
         3      G     -2.693333E-33   8.574880E-10  -5.301210E-02   0.0            1.678406E-01   2.716750E-09
         4      G     -3.956893E-33   1.834005E-09  -1.133067E-01   0.0            2.319480E-01   3.758543E-09
         5      G     -5.123021E-33   3.092054E-09  -1.908986E-01   0.0            2.832321E-01   4.594735E-09
         6      G     -6.163003E-33   4.571193E-09  -2.820258E-01   0.0            3.223138E-01   5.234397E-09
         7      G     -7.051232E-33   6.214489E-09  -3.831632E-01   0.0            3.501587E-01   5.692031E-09
         8      G     -7.765834E-33   7.970303E-09  -4.911331E-01   0.0            3.681249E-01   5.988579E-09
         9      G     -8.289217E-33   9.794348E-09  -6.032288E-01   0.0            3.779972E-01   6.152242E-09
        10      G     -8.608492E-33   1.165196E-08  -7.173455E-01   0.0            3.820101E-01   6.219055E-09
        11      G     -8.715798E-33   1.352052E-08  -8.321185E-01   0.0            3.828595E-01   6.233260E-09
  EIGENVALUE =  6.258656E+03
      CYCLES =  1.259101E+01         R E A L   E I G E N V E C T O R   N O .          3

  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            0.0            0.0            0.0            0.0            0.0
         2      G      0.0           -7.568120E-02  -9.828895E-08   0.0            5.937006E-07  -4.571418E-01
         3      G      0.0           -2.464387E-01  -3.200556E-07   0.0            8.257535E-07  -6.358200E-01
         4      G      0.0           -4.318525E-01  -5.608564E-07   0.0            7.289605E-07  -5.612913E-01
         5      G      0.0           -5.632111E-01  -7.314543E-07   0.0            3.723918E-07  -2.867391E-01
         6      G      0.0           -5.916957E-01  -7.684467E-07   0.0           -1.426249E-07   1.098159E-01
         7      G      0.0           -4.941767E-01  -6.417950E-07   0.0           -6.984853E-07   5.378201E-01
         8      G      0.0           -2.743728E-01  -3.563287E-07   0.0           -1.184615E-06   9.121327E-01
         9      G      0.0            4.170797E-02   5.417504E-08   0.0           -1.522753E-06   1.172494E+00
        10      G      0.0            4.159041E-01   5.401546E-07   0.0           -1.689206E-06   1.300660E+00
        11      G      0.0            8.124724E-01   1.055190E-06   0.0           -1.730573E-06   1.332512E+00
  EIGENVALUE =  6.690287E+03
      CYCLES =  1.301795E+01         R E A L   E I G E N V E C T O R   N O .          4
  POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
         1      G      0.0            0.0            0.0            0.0            0.0            0.0
         2      G      3.698388E-22   1.207686E-08   7.568131E-02   0.0           -4.571424E-01   1.427123E-08
         3      G      7.305710E-22  -2.529794E-08   2.464390E-01   0.0           -6.358204E-01  -3.100643E-07
         4      G      1.073314E-21  -1.866785E-07   4.318528E-01   0.0           -5.612913E-01  -7.615683E-07
         5      G      1.389628E-21  -4.615435E-07   5.632114E-01   0.0           -2.867385E-01  -1.006117E-06
         6      G      1.671725E-21  -7.409781E-07   5.916957E-01   0.0            1.098168E-01  -7.569575E-07
         7      G      1.912658E-21  -8.602044E-07   4.941765E-01   0.0            5.378208E-01   4.733732E-08
         8      G      2.106496E-21  -6.796384E-07   2.743725E-01   0.0            9.121327E-01   1.181005E-06
         9      G      2.248464E-21  -1.591279E-07  -4.170818E-02   0.0            1.172493E+00   2.239405E-06
        10      G      2.335068E-21   6.217935E-07  -4.159040E-01   0.0            1.300659E+00   2.875692E-06
        11      G      2.364175E-21   1.520816E-06  -8.124720E-01   0.0            1.332511E+00   3.057266E-0
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples72
Main Index
MSC_DOC_DIR /tpl6/ dynamics/bd03bar2.dat) Also note that the eigenvectors are not pure y - or pure
z-translation (as they were in the first model); the eigenvectors are linear combinations of the y and z modes
since this model has repeated roots.
Listing 3-9  Printed Results from the Second Model
E I G E N V A L U E  A N A L Y S I S   S U M M A R Y   (STURM INVERSE POWER)
NUMBER OF EIGENVALUES EXTRACTED . . . . . .           8
NUMBER OF TRIANGULAR DECOMPOSITIONS . . . .           6
TOTAL NUMBER OF VECTOR ITERATIONS . . . . .          68
REASON FOR TERMINATION:  ALL EIGENVALUES FOUND IN RANGE.
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        1.685851E+02        1.298403E+01        2.066473E+00        1.000000E+00        1.685851E+02
2         3        1.685851E+02        1.298403E+01        2.066473E+00        1.000000E+00        1.685851E+02
3         2        6.474471E+03        8.046410E+01        1.280626E+01        1.000000E+00        6.474471E+03
4         5        6.474471E+03        8.046410E+01        1.280626E+01        1.000000E+00        6.474471E+03
5         4        4.974941E+04        2.230458E+02        3.549883E+01        1.000000E+00        4.974941E+04
6         6        4.974941E+04        2.230458E+02        3.549883E+01        1.000000E+00        4.974941E+04
7         7        1.870792E+05        4.325266E+02        6.883875E+01        1.000000E+00        1.870792E+05
8         8        1.870792E+05        4.325266E+02        6.883875E+01        1.000000E+00        1.870792E+05
EIGENVALUE =  1.685851E+02
CYCLES =  2.066473E+00         R E A L   E I G E N V E C T O R   N O .          1
POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
1      G      0.0            0.0            0.0            0.0            0.0            0.0
2      G      4.198658E-20   9.109908E-03   1.052335E-02   0.0           -6.847622E-02   5.927882E-02
3      G      8.293447E-20   3.469681E-02   4.008020E-02   0.0           -1.268971E-01   1.098529E-01
4      G      1.218317E-19   7.416008E-02   8.566642E-02   0.0           -1.753660E-01   1.518116E-01
5      G      1.577188E-19   1.249444E-01   1.443303E-01   0.0           -2.141397E-01   1.853772E-01
6      G      1.897125E-19   1.845877E-01   2.132276E-01   0.0           -2.436876E-01   2.109563E-01
7      G      2.170278E-19   2.507827E-01   2.896933E-01   0.0           -2.647398E-01   2.291808E-01
8      G      2.389961E-19   3.214496E-01   3.713246E-01   0.0           -2.783232E-01   2.409396E-01
9      G      2.550813E-19   3.948168E-01   4.560753E-01   0.0           -2.857873E-01   2.474010E-01
10      G      2.648916E-19   4.695067E-01   5.423540E-01   0.0           -2.888212E-01   2.500274E-01
11      G      2.681884E-19   5.446261E-01   6.291288E-01   0.0           -2.894634E-01   2.505833E-01
EIGENVALUE =  1.685851E+02
CYCLES =  2.066473E+00         R E A L   E I G E N V E C T O R   N O .          2
POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
1      G      0.0            0.0            0.0            0.0            0.0            0.0
2      G      1.219015E-33  -1.052334E-02   9.109882E-03   0.0           -5.927866E-02  -6.847615E-02
3      G      2.407892E-33  -4.008016E-02   3.469673E-02   0.0           -1.098526E-01  -1.268970E-01
4      G      3.537263E-33  -8.566635E-02   7.415994E-02   0.0           -1.518114E-01  -1.753659E-01
5      G      4.579275E-33  -1.443302E-01   1.249442E-01   0.0           -1.853771E-01  -2.141396E-01
6      G      5.508284E-33  -2.132276E-01   1.845875E-01   0.0           -2.109563E-01  -2.436876E-01
7      G      6.301480E-33  -2.896932E-01   2.507825E-01   0.0           -2.291809E-01  -2.647399E-01
8      G      6.939436E-33  -3.713246E-01   3.214495E-01   0.0           -2.409399E-01  -2.783234E-01
9      G      7.406566E-33  -4.560753E-01   3.948168E-01   0.0           -2.474014E-01  -2.857874E-01
10      G      7.691474E-33  -5.423541E-01   4.695069E-01   0.0           -2.500278E-01  -2.888214E-01
11      G      7.787220E-33  -6.291289E-01   5.446264E-01   0.0           -2.505838E-01  -2.894636E-01
EIGENVALUE =  6.474471E+03
CYCLES =  1.280626E+01         R E A L   E I G E N V E C T O R   N O .          3
POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
1      G      0.0            0.0            0.0            0.0            0.0            0.0
2      G     -1.606174E-26   6.893317E-02   3.123881E-02   0.0           -1.886937E-01   4.163812E-01
3      G     -3.172614E-26   2.244652E-01   1.017221E-01   0.0           -2.624463E-01   5.791277E-01
4      G     -4.660607E-26   3.933468E-01   1.782550E-01   0.0           -2.316833E-01   5.112443E-01
5      G     -6.033448E-26   5.129929E-01   2.324757E-01   0.0           -1.183568E-01   2.611722E-01
6      G     -7.257351E-26   5.389377E-01   2.442332E-01   0.0            4.532863E-02  -1.000244E-01
7      G     -8.302282E-26   4.501138E-01   2.039804E-01   0.0            2.219953E-01  -4.898660E-01
8      G     -9.142668E-26   2.499085E-01   1.132523E-01   0.0            3.764997E-01  -8.308035E-01
9      G     -9.757999E-26  -3.798927E-02  -1.721591E-02   0.0            4.839685E-01  -1.067950E+00
10      G     -1.013329E-25  -3.788206E-01  -1.716723E-01   0.0            5.368715E-01  -1.184688E+00
11      G     -1.025940E-25  -7.400293E-01  -3.353632E-01   0.0            5.500190E-01  -1.213700E+00
EIGENVALUE =  6.474471E+03
CYCLES =  1.280626E+01         R E A L   E I G E N V E C T O R   N O .          4
POINT ID.   TYPE          T1             T2             T3             R1             R2             R3
1      G      0.0            0.0            0.0            0.0            0.0            0.0
2      G     -6.181717E-19   3.123822E-02  -6.893279E-02   0.0            4.163791E-01   1.886905E-01
3      G     -1.221121E-18   1.017205E-01  -2.244643E-01   0.0            5.791260E-01   2.624437E-01
4      G     -1.794002E-18   1.782531E-01  -3.933455E-01   0.0            5.112445E-01   2.316835E-01
5      G     -2.322707E-18   2.324743E-01  -5.129921E-01   0.0            2.611744E-01   1.183602E-01
6      G     -2.794219E-18   2.442331E-01  -5.389376E-01   0.0           -1.000213E-01  -4.532376E-02
7      G     -3.196926E-18   2.039817E-01  -4.501146E-01   0.0           -4.898637E-01  -2.219917E-01
8      G     -3.520915E-18   1.132542E-01  -2.499097E-01   0.0           -8.308033E-01  -3.764996E-01
9      G     -3.758207E-18  -1.721460E-02   3.798841E-02   0.0           -1.067952E+00  -4.839722E-01
10      G     -3.902959E-18  -1.716725E-01   3.788207E-01   0.0           -1.184692E+00  -5.368777E-01
11      G     -3.951610E-18  -3.353654E-01   7.400307E-01   0.0           -1.213704E+00  -5.500259E-01&lt;/p&gt;
&lt;p&gt;73 CHAPTER 3
Real Eigenvalue Analysis
Main Index
This second model was rerun, changing the mass from lumped (the default) to coupled by adding
PARAM,COUPMASS ,1 to the Bulk Data. (See MSC_DOC_DIR /tpl6/ dynamics/bd03bar3.dat) The
resulting frequencies are shown below and are compared to those of the lumped mass model and the
theoretical results. Note that the frequency difference is greater at higher frequencies. For most production-
type models (i.e., complex three-dimensional structures), this difference is negligible.
Bracket Model
This example is a steel bracket as shown in Figure 3-8.
Figure 3-8  Bracket Model
A concentrated mass is suspended from the center of the hole in bracket. This mass has the following
properties:Frequencies (Hz)
Theory Lumped Mass Model Coupled Mass Model
2.076 2.066 2.076
13.010 12.806 13.010
36.428 35.499 36.437
71.384 68.838 71.451&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples74
Main Index
The concentrated mass (grid point 999) is connected to the bracket by an RBE2 element connecting 24 grid
points, as shown in Figure 3-9.
Figure 3-9  Bracket Model Showing RBE2 Element (Dashed Lines)
The bracket is clamped by constraining six degrees-of-freedom for each of 12 grid points near the base.
This example illustrates a normal modes analysis (SOL 103) using the Lanczos method  (EIGRL  entry). All
frequencies below 100 Hz are requested. The MODES  Case Control command is used to specify the number
of times a subcase is repeated and therefore enables different output requests for each mode. The output
requests for this problem are eigenvectors for all modes (DISPLACEMENT  = ALL above the subcase level),
corner stresses for the first two modes (STRESS (CORNER) = ALL and MODES = 2 in Subcase 1), and
element strain energies for the third mode (ESE  = ALL). An abridged version of the input file is shown in
Listing 3-10. (See MSC_DOC_DIR/ tpl6/dynamics/bd03bkt.dat)m 0.0906 lb-sec2/in =
I11 0.35 in-lb-sec2=
I22 0.56 in-lb-sec2=
I33 0.07 in-lb-sec2=&lt;/p&gt;
&lt;p&gt;75 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Listing 3-10  Abridged Input File for the Bracket Model
$  FILE bd03bkt.dat
$
$  BRACKET MODEL
$  CHAPTER 3, NORMAL MODES
$
SOL 103     $  NORMAL MODES ANALYSIS
CEND
$
TITLE =  BRACKET MODEL
SUBTITLE = NORMAL MODES ANALYSIS
$
SPC   = 1
$
$  SELECT EIGRL
METHOD = 777
$
$  OUTPUT REQUESTS
DISPLACEMENT = ALL
SUBCASE 1
MODES = 2  $ USE FOR FIRST TWO MODES
STRESS(CORNER) = ALL
SUBCASE 3
ESE = ALL
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10.$
$
$EIGRL  SID     V1      V2      ND      MSGLVL  MAXSET  SHFSCL  NORM
EIGRL   777             100.
$
$  CONCENTRATED MASS, SUPPORTED WITH AN RBE2 ELEMENT
$
GRID    999             3.0     3.0     3.8
$
$CONM2  EID     G       CID     M       X1      X2      X3              +CON1
$+CON1  I11     I21     I22     I31     I32     I33
CONM2   999     999             0.0906                                  +CM1
+CM1    0.35            0.56                    0.07
$
RBE2    999     999     123456  126     127     91      81      80      +RB1
+RB1    90      95      129     128     96      86      85      228     +RB2
+RB2    229     199     189     190     200     195     227     226     +RB3
+RB3    194     184     185
$
$  STEEL,  M A S S  DENSITY FOR RHO
MAT1    1       3.+7    1.153+7         7.76-4          &lt;br&gt;
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Listing 3-11 shows an abridged version of the resulting MSC Nastran output. The circular total element strain
energy (ESE) for each mode of the entire model is  for the i-th mode when .
The frequency of the third mode is 230.34 radians per second squared; therefore, the total strain energy of ESEi22 = iTMi1=&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples76
Main Index
the model is  for the third mode. The printed
. The eigenvectors are printed for each mode, the element corner stresses are printed for
the first and second modes, and the element strain energies are printed for the third mode.  (Only the headers
are shown in the figure in order to save space.)
The deformed shape resulting from the first mode is illustrated in Figure 3-10 and is overlaid on the
undeformed shape. Figure 3-11 illustrates the stress contours plotted on the deformed shape of the second
mode. The element strain energy contour plot for the third mode is shown in Figure 3-12.ESEtotal234.4922 27493 = =
ESEtotal26527 =
Listing 3-11  Abridged Output from the Bracket Model
E I G E N V A L U E  A N A L Y S I S   S U M M A R Y   (LANCZOS ITERATION)
BLOCK SIZE USED &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.    6
NUMBER OF DECOMPOSITIONS &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.    2
NUMBER OF ROOTS FOUND &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.    3
NUMBER OF SOLVES REQUIRED &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;    3
TERMINATION MESSAGE :  REQUIRED NUMBER OF EIGENVALUES FOUND.
R E A L   E I G E N V A L U E S
MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        3.840044E+03         6.269214E+01        9.977763E+00        1.000000E+00        3.840044E+03
2         2        2.801998E +04        1.696586E+02        2.700200E+01        1.000000E+00        2.801998E +04
3         3        5.305416E +04        2.344876E+02        3.731985E+01        1.000000E+00        5.305416E +04
EIGENVALUE =  3 .840044E+03
CYCLES =  9.977763E+00         R E A L   E I G E N V E C T O R   N O .          1
EIGENVALUE =  2.801998E +04
CYCLES =  2.700200E+01         R E A L   E I G E N V E C T O R   N O .          2
EIGENVALUE =  5.305416E +04
CYCLES =  3.731985E+01         R E A L   E I G E N V E C T O R   N O .          3
EIGENVALUE =  3 .840044E+ 03
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )        OPTION = CUBIC
EIGENVALUE =  2.801998E +04
S T R E S S E S   I N   Q U A D R I L A T E R A L   E L E M E N T S   ( Q U A D 4 )        OPTION = CUBIC
E L E M E N T   S T R A I N   E N E R G I E S
ELEMENT-TYPE = QUAD4               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   2. 652708E+04
MODE               3              TOTAL ENERGY OF ALL ELEMENTS IN SET      -1 =   2. 652708E+04
*
TYPE = QUAD4    SUBTOTAL        2. 652708E+04               100.0000&lt;/p&gt;
&lt;p&gt;77 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Figure 3-10  Deformed Shape of the First Mode
Figure 3-11  Second Mode Deformation with Element Stress Contours&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples78
Main Index
Figure 3-12  Element Strain Energy Contours for the Third Mode
Car Frame Model
Figure 3-13 shows a model of an aluminum car frame. The frame model is comprised of plate elements
(CQUAD4  and CTRIA3 ), with springs (CELAS2) representing the suspension. Spring stiffnesses are input
in the three translational directions; a stiffness of 500 lb/in is used in the vertical direction (T2), and
stiffnesses of 1000 lb/in are used in the other translational directions (T1 and T3). When using CELASi
elements to connect two grid points, it is recommended that the coordinates of the two grid points be
identical in order to represent coaxial springs (noncoincident coordinates can lead to errors). The goal of the
analysis is to compute resonant frequencies up to 50 Hz using the Lanczos method .  Element strain energies
are computed for the springs in order to help characterize the resulting modes.
Listing 3-11 shows the input file. Modal displacements are written to the plot file and are not printed. The
rigid body mass matrix is computed via the PARAM,GRDPNT ,0 entry. “Include” files  are used to partition
the input file into several smaller files. The INCLUDE  statement inserts an external file into the input file.
The basic file is bd03car.dat. The springs are contained in file bd03cars.dat ( Listing 3-12), and the rest of the
input file is contained in file bd03carb.dat (not shown). (See MSC_DOC_DIR /tpl6/ dynamics/bd03car.dat,
bd03cars.dat, and bd03carb.dat)&lt;/p&gt;
&lt;p&gt;79 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Figure 3-13  Car Frame Model
Listing 3-12  Basic Input File for the Car Model
$  FILE bd03car.dat
$
$  CAR FRAME MODEL
$  CHAPTER 3, NORMAL MODES
$
$  MODEL COURTESY LAPCAD ENGINEERING
$  CHULA VISTA, CALIFORNIA
$
SOL 103     $  NORMAL MODES ANALYSIS
TIME 30
CEND
$
TITLE = CAR MODEL WITH SUSPENSION SPRINGS
SUBTITLE = MODAL ANALYSIS CASE CONTROL
ECHO = UNSORT
$
METHOD = 1
$
DISPLACEMENT(PLOT) = ALL
SET 99 = 1001,1002,1003,1011,1012,1013,
1021,1022,1023,1031,1032,1033
ESE = 99
$
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
&amp;hellip;$
$
INCLUDE &amp;lsquo;bd03cars.dat&amp;rsquo;   $ Car springs
$
$EIGRL  SID     V1      V2      ND      MSGLVL  MAXSET  SHFSCL  NORM
EIGRL   1       -1.     50.                           &lt;br&gt;
$
$MAT1   MID     E       G       NU      RHO
MAT1    1       1.0E7           0.33    2.59E-4
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples80
Main Index
$  PRINT RIGID-BODY MASS
PARAM,GRDPNT,0
$
ECHOOFF
INCLUDE &amp;lsquo;bd03carb.dat&amp;rsquo;   $ Rest of Bulk Data
$
ENDDATA
Listing 3-13  The Input File for the Springs
$  FILE bd03cars.dat
$
$  SPRINGS CONNECTED TO GROUND
$   GRIDS 1059,1562,1428,1895 HAVE THE SAME COORDS. AS 59,562,428,895
$
GRID    1059            152.012 32.7964 -2.90000        123456
GRID    1562            152.012 32.7964 -67.1000        123456 &lt;br&gt;
GRID    1428            35.6119 30.8257 -0.66667        123456
GRID    1895            35.6119 30.8257 -69.3333        123456
$
CELAS2  1001    1000.    59     1       1059    1                            &lt;br&gt;
CELAS2  1002     500.    59     2       1059    2              &lt;br&gt;
CELAS2  1003    1000.    59     3       1059    3                            &lt;br&gt;
CELAS2  1011    1000.   562     1       1562    1                            &lt;br&gt;
CELAS2  1012     500.   562     2       1562    2             &lt;br&gt;
CELAS2  1013    1000.   562     3       1562    3                            &lt;br&gt;
CELAS2  1021    1000.   428     1       1428    1                            &lt;br&gt;
CELAS2  1022     500.   428     2       1428    2               &lt;br&gt;
CELAS2  1023    1000.   428     3       1428    3                            &lt;br&gt;
CELAS2  1031    1000.   895     1       1895    1                            &lt;br&gt;
CELAS2  1032     500.   895     2       1895    2                &lt;br&gt;
CELAS2  1033    1000.   895     3       1895    3   &lt;br&gt;
Listing 3-14 shows the grid point weight generator output. The grid point weight generator indicates that the
translational mass is . This type of information is useful in verifying your model.
Listing 3-15 shows some of the rest of the output. The eigenvalue analysis summary indicates that there are 12
modes below 50 Hz. The large element strain energies in the first six modes indicate that these are primarily
suspension modes, comprised of the car frame acting as a rigid body supported by the flexible springs.
Approximately 94% of the total strain energy is represented by spring deformation as opposed to frame
deformation. Modes 7 and above show insignificant spring strain energy, indicating that these are primarily
frame modes.0.8027 lb-sec2in.&lt;/p&gt;
&lt;p&gt;81 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Listing 3-14  Output from the Grid Point Weight Generator
O U T P U T   F R O M   G R I D   P O I N T   W E I G H T   G E N E R A T O R
REFERENCE POINT =        0
M O
*  8.027376E-01  0.000000E+00  0.000000E+00  0.000000E+00 -2.808118E+01 -2.179473E+01 *
*  0.000000E+00  8.027376E-01  0.000000E+00  2.808118E+01  0.000000E+00  7.610537E+01 *
*  0.000000E+00  0.000000E+00  8.027376E-01  2.179473E+01 -7.610537E+01  0.000000E+00 *
*  0.000000E+00  2.808118E+01  2.179473E+01  2.325008E+03 -2.153940E+03  2.662697E+03 *
* -2.808118E+01  0.000000E+00 -7.610537E+01 -2.153940E+03  1.020870E+04  7.626398E+02 *
* -2.179473E+01  7.610537E+01  0.000000E+00  2.662697E+03  7.626398E+02  9.437676E+03 *
S
*  1.000000E+00  0.000000E+00  0.000000E+00 *
*  0.000000E+00  1.000000E+00  0.000000E+00 *
*  0.000000E+00  0.000000E+00  1.000000E+00 *
DIRECTION
MASS AXIS SYSTEM (S)     MASS              X-C.G.        Y-C.G.        Z-C.G.
X            8.027376E-01      0.000000E+00  2.715050E+01 -3.498177E+01
Y            8.027376E-01      9.480728E+01  0.000000E+00 -3.498177E+01
Z            8.027376E-01      9.480728E+01  2.715050E+01  0.000000E+00
I(S)
*  7.509408E+02  8.764180E+01 -3.962963E-01 *
*  8.764180E+01  2.011031E+03 -2.217236E-01 *
* -3.962963E-01 -2.217236E-01  1.630595E+03 *
I(Q)
*  2.017097E+03                             *
*                7.448741E+02               *
*                              1.630595E+03 *
Q
*  6.905332E-02  9.976128E-01  5.012719E-04 *
* -9.976128E-01  6.905355E-02 -4.555999E-04 *
* -4.891269E-04 -4.686146E-04  9.999998E-01 *&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples82
Main Index
Mode shapes for modes 7, 8, 9, and 10 are shown in Figure 3-14. Mode 7 is an overall twisting mode; mode
8 is a “roof collapse” mode; mode 9 is a local (front) roof mode; and mode 10 is a local rear mode. Plots such
as these, in conjunction with element strain energies, help to illustrate each of the mode shapes.Listing 3-15  Abridged Output from the Car Model
E I G E N V A L U E  A N A L Y S I S   S U M M A R Y   (LANCZOS ITERATION)
BLOCK SIZE USED &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.    7
NUMBER OF DECOMPOSITIONS &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.    3
NUMBER OF ROOTS FOUND &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.   12
NUMBER OF SOLVES REQUIRED &amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;   11
TERMINATION MESSAGE :  REQUIRED NUMBER OF EIGENVALUES FOUND.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;                                          R E A L   E I G E N V A L U E S
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;MODE    EXTRACTION      EIGENVALUE            RADIANS             CYCLES            GENERALIZED         GENERALIZED
NO.       ORDER                                                                       MASS              STIFFNESS
1         1        2.346479E+03        4.844047E+01        7.709540E+00        1.000000E+00        2.346479E+03
2         2        2.654886E+03        5.152559E+01        8.200551E+00        1.000000E+00        2.654886E+03
3         3        3.769821E+03        6.139887E+01        9.771934E+00        1.000000E+00        3.769821E+03
4         4        4.633242E+03        6.806792E+01        1.083335E+01        1.000000E+00        4.633242E+03
5         5        5.078395E+03        7.126286E+01        1.134184E+01        1.000000E+00        5.078395E+03
6         6        8.485758E+03        9.211817E+01        1.466106E+01        1.000000E+00        8.485758E+03
7         7        2.805541E+04        1.674975E+02        2.665805E+01        1.000000E+00        2.805541E+04
8         8        5.350976E+04        2.313218E+02        3.681600E+01        1.000000E+00        5.350976E+04
9         9        5.940912E+04        2.437399E+02        3.879240E+01        1.000000E+00        5.940912E+04
10        10        8. 438633E+04        2.911391E+02        4.633622E+01        1.000000E+00        8. 438633E+04
11        11        9. 051162E+04        3.022296E+02        4.810133E+01        1.000000E+00        9. 051162E+04
12        12        9. 520534E+04        3.118807E+02        4.963736E+01        1.000000E+00        9. 520534E+04
E L E M E N T   S T R A I N   E N E R G I E S&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;            ELEMENT-TYPE = ELAS2               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   1.173240E+03
               MODE               1              TOTAL ENERGY OF ALL ELEMENTS IN SET      99 =   1.104569E+03
                                                                                            *
                                ELEMENT-ID          STRAIN-ENERGY           PERCENT OF TOTAL    STRAIN-ENERGY-DENSITY
                                      1002          2.735009E+02                23.3116    
                                      1003          4.059090E-02                  .0035    
                                      1012          2.685884E+02                22.8929    
                                      1013          3.240471E-02                  .0028    
                                      1021          8.017746E-02                  .0068    
                                      1022          2.833448E+02                24.1506    
                                      1023          3.963123E-01                  .0338    
                                      1031          7.903841E-02                  .0067    
                                      1032          2.781467E+02                23.7076    
                                      1033          3.573737E-01                  .0305    
                    TYPE = ELAS2    SUBTOTAL        1.104569E+03                94.1469
                                       E L E M E N T   S T R A I N   E N E R G I E S

            ELEMENT-TYPE = ELAS2               * TOTAL ENERGY OF ALL ELEMENTS IN PROBLEM     =   1.402770E+04
               MODE               7              TOTAL ENERGY OF ALL ELEMENTS IN SET      99 =   3.172818E+03
                                                                                            *
                                ELEMENT-ID          STRAIN-ENERGY           PERCENT OF TOTAL    STRAIN-ENERGY-DENSITY
                                      1001          1.278503E+02                  .9114    
                                      1002          5.884620E+02                 4.1950    
                                      1003          8.020268E+01                  .5717    
                                      1011          1.278420E+02                  .9114    
                                      1012          5.883779E+02                 4.1944    
                                      1013          8.022697E+01                  .5719    
                                      1021          7.525866E+01                  .5365    
                                      1022          4.885996E+02                 3.4831    
                                      1023          2.255234E+02                 1.6077    
                                      1031          7.528390E+01                  .5367    
                                      1032          4.896509E+02                 3.4906    
                                      1033          2.255398E+02                 1.6078    
                    TYPE = ELAS2    SUBTOTAL        3.172818E+03                22.6182
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;83 CHAPTER 3
Real Eigenvalue Analysis
Main Index
Figure 3-14  Mode Shapes for Modes 7, 8, 9, and 10
Test Fixture Model
This example is an aluminum test fixture, which is shown in Figure 3-15. The model is comprised of 8157
grid points, 5070 CHEXA  elements, and 122 CPENTA  elements. The primary plates are 1 inch thick, and
the gusset plates are 0.5 inch thick. The base of the fixture is constrained to have no vertical (y) motion, and
the bolt holes at the base are constrained to also have no horizontal (x and z) motion.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples84
Main Index
Figure 3-15  Test Fixture Model
A portion of the input file is shown in Listing 3-16. (See MSC_DOC_DIR /tpl6/ dynamics/bd03fix.dat) The
Lanczos method  is used to compute the modes.  The first six modes are requested (ND is 6, with V1 and V2
blank). The GRDSET Bulk Data entry removes the rotational DOFs (456) from the analysis since the solid
elements have no rotational stiffness. The Bulk Data is in free format.
Listing 3-16  Abridged Input File for Test Fixture Model
$  FILE bd03fix.dat
$
$  TEST FIXTURE
$  CHAPTER 3, NORMAL MODES
$
TIME 240
SOL 103
CEND
ECHO = NONE
DISPLACEMENT(PLOT) = ALL
SPC = 1
$
METHOD = 1
$
BEGIN BULK&lt;/p&gt;
&lt;p&gt;85 CHAPTER 3
Real Eigenvalue Analysis
Main Index
$
$GRDSET, ,CP, , , , CD, PS
GRDSET , ,  , , , ,   , 456
$
$EIGRL, SID, V1, V2, ND, MSGLVL, MAXSET, SHFSCL, NORM
EIGRL ,   1,   ,   ,  6
$
$MAT1, MID,      E, G,    NU, RHO
MAT1 ,   3, 1.00E7,  , 0.334, 2.5383-4
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Figure 3-16 shows the first four mode shapes.  The first mode is a bending mode, the second and third modes
are twist modes, and the fourth mode is a bending mode.
Figure 3-16  Test Fixture Mode Shapes&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples86
Main Index
Quarter Plate Model
This example is a quarter model of a simply supported flat plate, shown in Figure 3-17. This example illustrates
the use of multiple boundary conditions  for modeling symmetric  structures. In this case the plate is doubly
symmetric.
Figure 3-17  Derivation of Quarter Plate Model
A portion of the input file is shown in Listing 3-17. (See MSC_DOC_DIR /tpl6/ dynamics/bd03plt1.dat) Four
subcases are used—one for each of the following sets of boundary conditions for the quarter model:
Symmetric-antisymmetric
Antisymmetric-symmetric
Symmetric-symmetric
Antisymmetric-antisymmetric
The BC Case Control command identifies multiple boundary conditions. The SPCADD Bulk Data entry
defines a union of SPC sets.
Listing 3-17  Input File (Abridged) for the Quarter Plate Model
$  FILE bd03plt1.dat
$
$  QUARTER PLATE MODEL
$  CHAPTER 3, NORMAL MODES
$
SOL 103     $  NORMAL MODES ANALYSIS
TIME 10
CEND
TITLE = SIMPLY SUPPORTED PLATE USING SYMMETRY
SUBTITLE = NORMAL MODES CASE CONTROL
LABEL = QUARTER PLATE MODELLines of Symmetry
Quarter ModelFull Modelssss
ss
ssss
ss ss
ss
ss
ss1
2
xyz&lt;/p&gt;
&lt;p&gt;87 CHAPTER 3
Real Eigenvalue Analysis
Main Index
$
DISPLACEMENT = ALL
$
SUBCASE 1
LABEL = SYM-ASYM
BC = 1
METHOD =  1
SPC =  101
SUBCASE 2
LABEL = ASYM-SYM
BC = 2
SPC =  102
METHOD =  1
SUBCASE 3
LABEL = SYM-SYM
BC = 3
SPC =  103
METHOD =  1
SUBCASE 4
LABEL = ASYM-ASYM
BC = 4
SPC =  104
METHOD =  1
BEGIN BULK
$
$&amp;hellip;&amp;hellip;.2&amp;hellip;&amp;hellip;.3&amp;hellip;&amp;hellip;.4&amp;hellip;&amp;hellip;.5&amp;hellip;&amp;hellip;.6&amp;hellip;&amp;hellip;.7&amp;hellip;&amp;hellip;.8&amp;hellip;&amp;hellip;.9&amp;hellip;&amp;hellip;.10..
$
$ SYM-ASYM
SPCADD  101     11      1       4
$ ASYM-SYM
SPCADD  102     11      2       3
$ SYM-SYM
SPCADD  103     11      1       3
$ ASYM-ASYM
SPCADD  104     11      2       4
$
$EIGRL  SID     V1      V2
EIGRL   1       -0.1    100.
$
SPC     1       1       246     0.00
SPC     1       2       246     0.00
&amp;hellip; etc. &amp;hellip;
SPC     11      80      12356   0.00
SPC     11      81      123456  0.00
$
&amp;hellip; basic model &amp;hellip;
$
ENDDATA
Figure 3-18 shows the quarter plate mode shapes and the corresponding mode shapes for a full model of the
same structure. Note that the quarter plate modes match the full plate modes. (See
MSC_DOC_DIR /tpl6/ dynamics/bd03plt2.dat)&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Examples88
Main Index
Figure 3-18  Mode Shapes for the Quarter Model (Left) and Full Model (Right)
DMIG Example
This example illustrates the use of a DMIG  entry to input external mass and stiffness. The cantilever beam
model shown in Figure 3-19 is used for this purpose. The model consists of CBAR  elements 1 through 4.
Element 5 is a model from another subcontractor that is input via DMIG entries. The model contains two
DOFs (R2 and T3) per grid point.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P50</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_050/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_050/</guid>
      <description>
        
        
        &lt;p&gt;969  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Figure 23-12  Workflow Manager for Space Required Input
User Interface
The acoustic excitation can be defined in the BEGIN BULK DSFACTRN data section.
Case Control Command
Format:
BEGIN [BULK] DSFACTRN = dsfid
Example:
BEGIN BULK DSFACTRN = 2
Remark:
1.The BEGIN DSFACTRN command must be specified after the initial BEGIN BULK.BEGIN BULK DSFACTRN Case Control and Bulk Data Delimiter for a Diffuse Sound Field
Describer Meaning
DSFACTRN Indicates the beginning of a diffuse sound field Bulk Data Section. See remark 1.
dsfid Diffuse sound field identification number&lt;/p&gt;
&lt;p&gt;970 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
Bulk Data Entries Summary
Bulk Data Entry Descriptions
Defines DSF interface couplings and tolerances.
Format:ACCPL Defines interface couplings and tolerances between the exterior acoustics surface and the
structure.
CQUAD4A Defines a quadrilateral element connection for the Diffuse Sound Field (DSF) exterior
acoustics surface.
CQUAD8A Defines a curved quadrilateral element connection for the DSF exterior acoustics surface.
CTRIA3A Defines a triangular element connection for the DSF exterior acoustics surface.
CTRIA6A Defines a curved triangular element connection for the DSF exterior acoustics surface.
DSF Defines a diffuse sound field.
PAC Defines exterior and interior acoustic adaptivity.
SOLVAC Defines Actran solver control parameters.
TABLDSF Defines a DSF excitation table.
ACCPL Interface Couplings and Tolerances
1 2 3 4 5 6 7 8 9 10
ACCPL TID FSET SSET PLTOL GAPTOL1 GAPTOL2 GAPTOL3 GAPTOL4
Describer Meaning
TID Acoustic coupling identification number. (Integer&amp;gt;0; Required).
FSET SET3 entry under BEGIN BULK DSFACTRN that contains a list of 2D fluid elements (from the
Exterior Acoustic element). (Integer &amp;gt; 0; Required)
SSET SET3 entry in main BULK DATA section that contains a list of 2D structure elements. If SOLID
elements are coupled, use PLTSURF elements instead. (Integer&amp;gt;0; Required)
PLTOL Relative tolerance for in-plane/in-element/normal acceptance with respect to GAPTOLi. (Real&amp;gt;0.0;
Default=0.1).
GAPTOLi Absolute tolerance for extrusion. (Real&amp;gt;0.0; Default=0.01).&lt;/p&gt;
&lt;p&gt;971  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Defines a quadrilateral element connection for the DSF exterior acoustics surface.
Format:
Defines a curved quadrilateral element connection for the DSF exterior acoustics surface.
Format:
Defines a triangular element connection for the DSF exterior acoustics surface.CQUAD4A Quadrilateral DSF Exterior Acoustic Surface Element
1 2 3 4 5 6 7 8 9 10
CQUAD4A EID PAID G1 G2 G3 G4
Describer Meaning
EID Element identification number. (Integer&amp;gt;0; Required)
PAID Acoustic property identification number. (Integer&amp;gt;0; Required)
Gi Identification numbers of the connected grid points, defined under BEGIN BULK DSFACTRN.
(Integer&amp;gt;0; Required)
CQUAD8A Curved Quadrilateral DSF Exterior Acoustic Surface Element
1 2 3 4 5 6 7 8 9 10
CQUAD8A EID PAID G1 G2 G3 G4 G5 G6
G7 G8
Describer Meaning
EID Element identification number. (Integer&amp;gt;0; Required)
PAID Acoustic property identification number. (Integer&amp;gt;0; Required)
Gi Identification numbers of the connected grid points, defined under BEGIN BULK DSFACTRN.
(Integer&amp;gt;0; Required)
CTRIA3A Triangular DSF Exterior Acoustic Surface Element&lt;/p&gt;
&lt;p&gt;972 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
Format:
Defines a curved triangular element connection for the DSF exterior acoustics surface.
Format:
Defines a Diffuse Sound Field (DSF)
Format:1 2 3 4 5 6 7 8 9 10
CTRIA3A EID PAID G1 G2 G3
Describer Meaning
EID Element identification number. (Integer&amp;gt;0; Required)
PAID Acoustic property identification number. (Integer&amp;gt;0; Required)
Gi Identification numbers of the connected grid points, defined under BEGIN BULK DSFACTRN.
(Integer&amp;gt;0; Required)
CTRIA6A Curved Triangular DSF Exterior Acoustic Surface Element
1 2 3 4 5 6 7 8 9 10
CTRIA6A EID PAID G1 G2 G3 G4 G5 G6
Describer Meaning
EID Element identification number. (Integer&amp;gt;0; Required)
PAID Acoustic property identification number. (Integer&amp;gt;0; Required)
Gi Identification numbers of the connected grid points, defined under BEGIN BULK DSFACTRN.
(Integer&amp;gt;0; Required)
DSF Diffuse Sound Field
1 2 3 4 5 6 7 8 9 10
DSF DSFID SET3ID C RHO RPSD/TPSD NBPARA NBSAMP MAXINC
METHOD&lt;/p&gt;
&lt;p&gt;973  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Defines exterior and interior acoustic adaptivity.
Format:Describer Meaning
DSFID Identification number of a diffuse sound field, specified by a Case Control command, BEGIN BULK
DSFACTRN. (Integer&amp;gt;0; Required)
SET3ID Identification number of a SET3 entry under BEGIN BULK DSFACTRN that contains a list of 2D
elements or PAID of a PAC entry (Integer&amp;gt;0; Required)
C Speed of sound. (Real&amp;gt;0.0; Default=340.0)
RHO Fluid mass density. (Real&amp;gt;0.0; Default=1.225)
RPSD Reference PSD value. (Real&amp;gt;0.0; Required)
TPSD Set identification of TABLDSF . (Integer&amp;gt;0; Required)
NBPARA Number of parallels. (Integer&amp;gt;0; Required)
NBSAMP Number of samples. (Integer&amp;gt;0; Required)
MAXINC Value of maximum incidence. (Real; Required)
METHOD Defines a method for DSF . (Character=”ALL”, “MONO”, or “UNIQUE”; Default=”ALL”)
PAC Property of Exterior and Interior Acoustic Element
1 2 3 4 5 6 7 8 9 10
PAC PAID MID VOLUME T ELTYPE ELWAVE NBBANBS
Describer Meaning
PAID Property Identification number of an exterior or interior acoustic element. (Integer&amp;gt;0; Required)
MID Material identification number of MAT10 for the air under BEGIN BULK DSFACTRN. (Integer&amp;gt;0;
Required)
VOLUME Type of volume. (Character=”INT” or “EXT”; Required)
T Absolute value of the thickness of the exterior acoustic. (Real&amp;gt;0.0; blank or Required if
VOLUME=EXT)
ELTYPE Mesh method. (Character=”TETMESH” or “HEXACORE”; Default=”TETMESH”)
ELWAVE Number of elements per wavelength. (Real&amp;gt;0.0; Default=4.0)
NBBANDS Number of linear bands on the whole frequency range. (Integer&amp;gt;0; Default=1)&lt;/p&gt;
&lt;p&gt;974 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
Defines Actran solver control parameters.
Format:
Defines a DSF excitation table
Format:SOLVAC Actran Solver Control Parameters
1 2 3 4 5 6 7 8 9 10
SOLVAC SMP DMP MEM SPM BLR BLRTOL
Describer Meaning
SMP Number of processors used for Shared Memory Parallel for Actran. (Integer&amp;gt;0 or Blank).
DMP Number of processors used for Distributed Memory Processes for Actran. (Integer&amp;gt;0 or Blank).
MEM Memory for Actran run. (Real&amp;gt;0.0 or Blank).
SPM Flag for selecting single precision MUMPS. (Integer ≥ 0; Default=0).
BLR Flag for activating Block Low-Rank. (Integer ≥ 0; Default=0).
BLRTOL Value of the dropping parameter. (Real; Default=1.E-6).
TABLDSF Excitation Table of Diffuse Sound Field
1 2 3 4 5 6 7 8 9 10
TABLDSF TID REFDB CONV INTERPO BNORM
F1 V1 F2 V2 F3 V3 -etc.- “ENDT”
Describer Meaning
TID Table identification number. (Integer&amp;gt;0; Required)
REFDB Reference pressure. (Real&amp;gt;0.0; Required)
CONV Type of quantity the dB value must be translated. LIN for pressure value, QUAD squared pressures,
as a reference PSD. (Character=”LIN” or “QUAD”; Default=”LIN”)
INTERPO OCTAVE or THIRDOCT . (Characters; Default=OCTAVE)&lt;/p&gt;
&lt;p&gt;975  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Inputs / Outputs Description
Regarding the input, the WM_SPACE takes into account the modal extraction coming from Nastran SOL103 where the
acoustic excitation is defined in the BEGIN BULK DSFACTRN section of the input file.
WM_SPACE reads the SOL103 input file to check the output quantities DISPLACEMENT , STRESS, STRAIN, SPC,
MPC etc., and launches the modal extraction. WM_SPACE internally creates an Actran input based on the information
contained in the Nastran input with BEGIN BULK DSFACTRN and launches this Actran computation.
The results requested in SOL103 are output in Nastran format (*.h5, *.f06, *.pch).
Guidelines and Perspectives
The definition of the acoustic loading within the Nastran input file does not provide the same flexibility as its definition in
an Actran input file. The previous method (with both a Nastran input and an Actran input) is thus still available.
Description of the different keywords in the command line
To launch the WM_SPACE calculation procedure with a single input file, type the following command line:
actran -u WM_SPACE &amp;ndash;nastran_path=nastran_path &amp;ndash;nastran_input=nastran_input  [options]
Where:BNORM Value provided by the user is imposed directly as constant over the frequency band. (Integer ≥ 0;
Default=0)
Fi Frequency values. (Real&amp;gt;0.0; Required)
Vi Excitation values. (Real&amp;gt;0.0; Required)
“ENDT” Flag indicating the end of the table.
&amp;ndash;nastran_path : is the path to MSC Nastran installation to launch the Nastran computation
&amp;ndash;nastran_input: is the name of a SOL103 Nastran input file (where the BEGIN BULK DSFACTRN
is defined)
&amp;ndash;actran_input : is followed by an Actran input file without any output. It is an optional parameter
to be used when the acoustic loading is not defined in the Nastran input fileDescriber Meaning&lt;/p&gt;
&lt;p&gt;976 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
Options:
Example
actran -u WM_SPACE &amp;ndash;nastran_path=/opt/msc/bin/nast20234 &amp;ndash;nastran_input=Sol103.dat &amp;ndash;
mem=3500 &amp;ndash;smp=2 &amp;ndash;dmp=2
Example: Vibro-Acoustic Response of a Structure under a Diffuse Sound Field
In the space industry, for example, during the lift-off of a satellite launch vehicle, the structure and payload components
such as satellites and antennas, are exposed to intense acoustic loading that can damage their structures.
The aim of this example is to apply to the structure a random acoustic field representing the acoustic field exciting the
structure at spacecraft lift-off.
Nastran input
The structural model is a satellite, and the input is for Nastran SOL103 with the following output requested:
•DISP(PLOT)=ALL - output the modal displacement in the complete model
•FORCE(PLOT)= 100 - output the modal forces on the element set 100
•STRAIN(PLOT)= 101 - output the modal strain on the element set 101
•STRESS(PLOT)= 101 - output the modal stress on the element set 101
The acoustic excitation is defined in the BEGIN BULK DSFACTRN section of the file. It corresponds to a diffuse sound
field loading applied directly on the structure (the masking effect is neglected). Some examples of the Bulk Data entries are
shown in Figure 23-13.&amp;ndash;mem : is followed by the total amount of memory allocated for each process to Actran and
Nastran
&amp;ndash;smp: shared memory processes, defines the number of threads used by each Actran or
Nastran process
&amp;ndash;dmp : distributed memory processes, specifies the number of parallel processes
&amp;ndash;h5_output : is the output file name for HDF5 output. If not specified a default value, results.h5,
is used
&amp;ndash;op2_output : is the output2 file name. If not specified a default value of results.op2 is used
&amp;ndash;pch_output : is followed by output name if not specified a default value is used: results.pch
&amp;ndash;save_intermediate_files :defines which files are saved. T wo options are distinguished in WM_SPACE 0 and&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;If, for instance, &amp;ndash;save_intermediate_files  is followed by 0, no
intermediate files are stored. When &amp;ndash;save_intermediate_files  is followed
by 1, all intermediate files are stored, such as &lt;em&gt;.f04,&lt;/em&gt;.f06,*.plt and so on&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;977  CHAPTER 23
MSC Nastran-Actran Co-simulation Workflow Manager for Vibroacoustics
Main Index
Figure 23-13  Examples of Input Data
In this example, the diffuse sound field is applied on the SET3 with SET3ID 1 (defined in the main BULK and made of
2D structural elements). The surrounding fluid is not modeled (masking effect is neglected) as PAC and ACCPL entries
are not defined.
The diffuse field loading is applied using plane wave superposition: planar sources are generated all around the studied
structure (MAXINC=180°). T o model the randomness of diffuse sound field excitation, a sampling method is used: in this
example 2 samples are generated by assigning random phases to the planar sources (NBSAMP =2). The system outer surface
is loaded by all the samples of the diffuse sound field.
The amplitude of the applied diffuse sound field is frequency dependent and is defined in the TABLDSF with ID 1 (third-
octave band spectrum).
The Actran computation will be launched with 2 SMP and 2 DMP as defined in the SOLVAC entry.
Figure 23-14  Studied Structure&lt;/p&gt;
&lt;p&gt;978 MSC Nastran Dynamic Analysis User’s Guide
Diffuse Sound Field with Workflow Manager for Space
Main Index
WM_SPACE launch
The computation is launched with the command line:
actran -u WM_SPACE &amp;ndash;nastran_path=/opt/msc/bin/nast20234 &amp;ndash;nastran_input=Sol103.dat &amp;ndash;
mem=3500 &amp;ndash;smp=2 &amp;ndash;dmp=2
Actran version 2023.2 or newer should be used. An earlier version, if used, may cause a premature job termination in
Actran.
WM_SPACE output
Automatically, at the end of WM_SPACE the user will have as output the requested displacements, forces, strains, and
stresses in terms of PSD quantities since the excitation is random.
The result files results.h5 and results.op2 are output in the working directory.
ActranVI can for example be used to post process the results available in results.h5 file. The PSD displacement map is
obtained by plotting the displacement quantity for loadcase 400 (where PSD results are stored).
Figure 23-15  PSD Displacement map at 90 Hz
The input file of this example can be found at MSC_DOC_DIR/tpl6/act_wm/WM_SPACE_DSF .&lt;/p&gt;
&lt;p&gt;Main Index
Ap.A: Python Code for Post Processing TPA HDF5 File&lt;br&gt;
APython Code for Post
Processing TPA HDF5 File&lt;/p&gt;
&lt;p&gt;918 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
Python Code for Post Processing TPA
HDF5 File
There are two approaches to display the TPA results by Python snippet code.
Approach 1: Postprocessing (by GUI) for Targeted TPA Results
We illustrate how users can postprocess and create TPA plots using the HDF5 file generated by a Single-step TPA run. The
code snippets provided in this section can be expanded and customized as needed. We recommend using these snippets to
create a Jupyter notebook for convenient and interactive generation of TPA plots (each snippet can be written as a cell in
the Jupyter notebook). In fact, user inputs appearing in the snippets (e.g., H5 filename, SUBCASE ID, Resp GRID ID,
etc.) can be provided interactively within the Jupyter notebook framework.
Import Python Libraries:&lt;/p&gt;
&lt;h1&gt;h5&lt;/h1&gt;&lt;p&gt;import h5py&lt;/p&gt;
&lt;h1&gt;math&lt;/h1&gt;&lt;p&gt;import numpy as np
import pandas as pd&lt;/p&gt;
&lt;h1&gt;plot&lt;/h1&gt;&lt;p&gt;import matplotlib.pyplot as plt
from matplotlib.colors import Normalize
from matplotlib.cm import ScalarMappable
import matplotlib.ticker as ticker
from mpl_toolkits.mplot3d import Axes3D&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;User Interface:&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                   Retrieving i nfo from the Single-Step TPA H5 File&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def get_user_input():&lt;/p&gt;
&lt;h1&gt;U.I. to retreive H5-filename, SUBCASE ID, RespGRID ID, RespTYPE, RespDIR, Number of Peaks of&lt;/h1&gt;&lt;p&gt;interest, etc.
while True:
try:
h5file = input(&amp;ldquo;Enter FILENAME (filename.h5): &amp;ldquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        S = int(input(&amp;quot;Enter &#39;SUBCASE&#39; ID: &amp;quot;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;919  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
if S &amp;lt;= 0:
print(&amp;ldquo;Please enter a positive integer.&amp;rdquo;)
continue&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;        G = int(input(&amp;quot;Enter &#39;Response GRID&#39; ID: &amp;quot;))
        if G &amp;lt;= 0:
            print(&amp;quot;Please enter a positive integer.&amp;quot;)
            continue
        respTYPE = input(&amp;quot;Enter Response TYPE (Press/Disp/Velo/Acce): &amp;quot;)
        if respTYPE not in [&#39;Press&#39;,&#39;Disp&#39;,&#39;Velo&#39;,&#39;Acce&#39;]:
            raise ValueError(&amp;quot;Invalid Resp TYPE. Please enter &#39;Press&#39; or &#39;Disp&#39; or &#39;Velo&#39; or &#39;Acce&#39;.&amp;quot;)
        respDIR = &amp;quot;&amp;quot;
        units =&amp;quot;&amp;quot;
        if respTYPE != &#39;Press&#39;:
            respDIR = input(&amp;quot;Enter Response DIR (X/Y/Z): &amp;quot;)
        else:
            units   = input(&amp;quot;Enter Analysis Units (mmtNs/mkgs): &amp;quot;)
            if units not in [&#39;mmtNs&#39;, &#39;mkgs&#39;]:
                raise ValueError(&amp;quot;Invalid units. Please enter &#39;mmtNs&#39; or &#39;mkgs&#39;.&amp;quot;)
    
        numPEAKs = int(input(&amp;quot;Number of Peaks: &amp;quot;))
        if numPEAKs &amp;lt;= 0:
            print(&amp;quot;Please enter a positive integer.&amp;quot;)
            continue
            
        numContr = int(input(&amp;quot;Number of Constribution Plots: &amp;quot;))
        if numContr &amp;lt;= 0:
            print(&amp;quot;Please enter a positive integer.&amp;quot;)
            continue
            
        interfaceG = int(input(&amp;quot;Enter &#39;Interface GRID&#39; ID: &amp;quot;))
        if interfaceG &amp;lt;= 0:
            print(&amp;quot;Please enter a positive integer.&amp;quot;)
            continue 
        userin = [h5file, S, G, respTYPE, respDIR, units, numPEAKs, numContr, interfaceG]
        return userin 
    except ValueError:
        print(&amp;quot;Invalid input.&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;Get inputs&lt;/h1&gt;&lt;p&gt;userin_L = get_user_input()&lt;/p&gt;
&lt;p&gt;920 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index&lt;/p&gt;
&lt;h1&gt;Example:&lt;/h1&gt;&lt;h1&gt;h5file = &amp;lsquo;ostpa_yaris.h5&amp;rsquo;&lt;/h1&gt;&lt;h1&gt;S = 1&lt;/h1&gt;&lt;h1&gt;G = 48067  # DVA&lt;/h1&gt;&lt;h1&gt;PDVA = &amp;lsquo;Acce&amp;rsquo;&lt;/h1&gt;&lt;h1&gt;XYZ = &amp;lsquo;X&amp;rsquo;&lt;/h1&gt;&lt;h1&gt;units = &#39;&#39;&lt;/h1&gt;&lt;h1&gt;numPEAKs = 3&lt;/h1&gt;&lt;h1&gt;numContr = 4&lt;/h1&gt;&lt;h1&gt;interfaceG = 202&lt;/h1&gt;&lt;h1&gt;H5 file main groups&lt;/h1&gt;&lt;p&gt;h5file = userin_L[0]
S = userin_L[1]
G = userin_L[2]&lt;/p&gt;
&lt;h1&gt;Total Response LinePlot&lt;/h1&gt;&lt;p&gt;PDVA = userin_L[3]
XYZ = userin_L[4]
units = userin_L[5]&lt;/p&gt;
&lt;h1&gt;Peak Contributors BarCharts&lt;/h1&gt;&lt;p&gt;numPEAKs = userin_L[6]
numContr = userin_L[7]&lt;/p&gt;
&lt;h1&gt;FRF + GPForce (from InterfaceGRID @ RespGRID) Plots&lt;/h1&gt;&lt;p&gt;interfaceG = userin_L[8]
if units == &amp;lsquo;mkgs&amp;rsquo;:
pref = 2.0e-5  # m-kg-N-s
else:
pref = 2.0e-11 # mm-t-N-s&lt;/p&gt;
&lt;h1&gt;Display the User Input&lt;/h1&gt;&lt;p&gt;if PDVA != &amp;lsquo;Press&amp;rsquo;:
print(f&amp;quot;H5filename: {h5file}, SUBCASE: {S}, Resp GRID: {G}, RespType: {PDVA}-{XYZ}&amp;rdquo;)
else:
print(f&amp;quot;H5filename: {h5file}, SUBCASE: {S}, Resp GRID: {G}, RespType: {PDVA}, Analyis Units: {units}&amp;rdquo;)
2. Read the Single-Step TPA H5 File:
if PDVA != &amp;lsquo;Press&amp;rsquo;:   # &amp;lsquo;Disp&amp;rsquo; or &amp;lsquo;Velo&amp;rsquo; or &amp;lsquo;Acce&amp;rsquo;
ds_paths = [
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/Contrib-M&amp;rsquo;,&lt;/p&gt;
&lt;p&gt;921  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/Contrib-PH&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/FRF/FRF-IM&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/FRF/FRF-RE&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/TPA-M&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/{PDVA}-{XYZ}/TotalRes&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/InterfaceForce&amp;rsquo;
]
else:
ds_paths = [
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/Contrib-M&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/Contrib-PH&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/FRF/FRF-IM&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/FRF/FRF-RE&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/TPA-M&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/TotalRes&amp;rsquo;,
f&amp;rsquo;/SUBCASE {S}/Grid {G}/{PDVA}/InterfaceForce&amp;rsquo;
]
try:
with h5py.File(h5file, &amp;lsquo;r&amp;rsquo;) as hf5:
df_ContribM  = pd.DataFrame(hf5[ds_paths[0]][:])
df_ContribPH = pd.DataFrame(hf5[ds_paths[1]][:])
df_FRF_IM    = pd.DataFrame(hf5[ds_paths[2]][:])
df_FRF_RE    = pd.DataFrame(hf5[ds_paths[3]][:])
df_TPA_M     = pd.DataFrame(hf5[ds_paths[4]][:])
df_TotRes    = pd.DataFrame(hf5[ds_paths[5]][:])
df_InterF    = pd.DataFrame(hf5[ds_paths[6]][:])&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    # Press Reference Levels
    if PDVA == &#39;Press&#39;:
        print(&#39;PRESSURE!&#39;)
        df_TPA_M.iloc[:, 1:] = df_TPA_M.iloc[:, 1:].applymap(lambda x: 20*np.log10(x/pref))
        df_TotRes.iloc[:, 1:] = df_TotRes.iloc[:, 1:].applymap(lambda x: 20*np.log10(x/pref))  
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;except Exception as e:
print(f&amp;quot;An error occurred: {e} &amp;hellip;check your inputs&amp;quot;)
3. PostProcessin g
TPA - Total Response Plot :&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                      TPA: Total Response Comparisons&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_TotRes(mydf_Tot,S,G,DVA,XYZ):&lt;/p&gt;
&lt;p&gt;922 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
# TPA Complex Sum vs. Solver&lt;br&gt;
fig, ax = plt.subplots(figsize=(10, 5))
ax.set_title(f&amp;rsquo;TPA: {DVA}{XYZ} Total Response - ComplexSum vs. AssemblyRun&amp;rsquo;, fontsize=14, color=&amp;lsquo;blue&amp;rsquo; )&lt;br&gt;
ax.set_xlabel(&amp;lsquo;Freq [Hz]&amp;rsquo;, fontsize=11)
ax.set_ylabel(f&amp;rsquo;{DVA}{XYZ}  [dB]&amp;rsquo; if PDVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;, fontsize=11)
ax.tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=10)
ax.plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;], color=&amp;lsquo;pink&amp;rsquo;, linewidth=5, label=&amp;lsquo;Complex Sum&amp;rsquo;)&lt;br&gt;
ax.plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Assembly Run Response&amp;rsquo;], marker=&amp;lsquo;o&amp;rsquo;, markerfacecolor=&amp;lsquo;green&amp;rsquo;, label=&amp;lsquo;Solver&amp;rsquo;)&lt;br&gt;
ax.legend(fontsize=9)
ax.grid(True)
plt.show()&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;return fig
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;plot1 = plotTPA_TotRes(df_TotRes,S,G,PDVA,XYZ)
TPA - Contributing Paths:&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                     TPA: Contributing Paths (HeatMap Plots)&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_HeatMaps(mydf_TPA_M,S,G,DVA,XYZ):
end_column = mydf_TPA_M.shape[1]&lt;/p&gt;
&lt;p&gt;923  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
step = 6
dir_map =   {
2: &amp;lsquo;X&amp;rsquo;,
3: &amp;lsquo;Y&amp;rsquo;,
4: &amp;lsquo;Z&amp;rsquo;,
5: &amp;lsquo;RX&amp;rsquo;,
6: &amp;lsquo;RY&amp;rsquo;,
7: &amp;lsquo;RZ&amp;rsquo;&lt;br&gt;
}
fig, axs = plt.subplots(3, 2, figsize=(8, 10))
fig.suptitle(f&amp;rsquo;TPA: {DVA}{XYZ} - Contributing Paths @ RespGRID {G}&amp;rsquo;, fontsize=14, color=&amp;lsquo;blue&amp;rsquo;)
axs = axs.T.flatten()
ic=0
for start_column in range (2,8):
dir = dir_map.get(start_column, &amp;lsquo;Unknown&amp;rsquo;)
located_columns = []
i_L=[]
for i in range(start_column - 1, end_column, step):
located_columns.append(mydf_TPA_M.iloc[:, i])
i_L.append(i)
X = mydf_TPA_M[&amp;lsquo;F [Hz]&amp;rsquo;]
Z_columns = located_columns
Y = np.arange(1, len(located_columns)+1)
Z = np.vstack(Z_columns)
ax = axs[ic]
pcm = ax.pcolormesh(X, Y, Z, cmap=&amp;lsquo;jet&amp;rsquo;)
ax.set_title(f&amp;rsquo;{DVA}{XYZ} from {dir}-DIR of Interf-GRIDs @ GRID {G}&amp;rsquo;, fontsize=9, color=&amp;lsquo;blue&amp;rsquo;)
cbar = fig.colorbar(pcm, ax=ax, cmap=&amp;lsquo;jet&amp;rsquo;)
label_dB = f&amp;rsquo;{DVA}{XYZ} [dB]&amp;rsquo; if PDVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;
cbar.set_label(label_dB)
ax.set_xlabel(&amp;lsquo;Freq [Hz]&amp;rsquo;, fontsize=8)
ax.set_ylabel(&amp;lsquo;InterfaceGRID-DOF&amp;rsquo;, fontsize=8)
yticks_values = Y
yticks_labels = [f&amp;rsquo;{mydf_TPA_M.columns[ii]}&amp;rsquo; for ii in i_L]
ax.set_yticks(yticks_values+0, yticks_labels)
ax.tick_params(labelsize=6)
ic += 1&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;plt.tight_layout()  # Adjust layout to prevent overlap
plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;924 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
return fig
plot2 = plotTPA_HeatMaps(df_TPA_M,S,G,PDVA,XYZ)
TPA - Top Contributors To Total Response:&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#       TPA: TotalResponse with Peaks and Comparison Bar Charts (@ Peaks)&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_TotRes_Comp_Bars(mydf_Tot, rank,row_M,row_PH, S,G,DVA,XYZ,numContr):&lt;/p&gt;
&lt;p&gt;925  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
Fpeak_value = row_M[&amp;lsquo;Fpeaks [Hz]&amp;rsquo;]
peakN=int(rank)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fig, axs = plt.subplots(2,1,figsize=(8, 4))  # Create a figure and an axis
fig.suptitle(f&#39;TPA: {DVA}{XYZ} - Top {numContr} Contributors to Tot Resp @ Peak {peakN} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;({round(Fpeak_value,2)} Hz)&amp;rsquo;, fontsize=14, color=&amp;lsquo;blue&amp;rsquo;)
row_M_NoF_NoChk = row_M.drop(&amp;lsquo;Fpeaks [Hz]&amp;rsquo;)
largest_indices_M = row_M_NoF_NoChk.nlargest(numContr).index
largest_values_M = list(row_M_NoF_NoChk.nlargest(numContr))
# Plot the bars of the MAGNITUDE for the largest &amp;rsquo;numTopPaths&amp;rsquo; contributors to the TPA Magnitude
bars1 = axs[0].bar(range(len(largest_indices_M)), largest_values_M, color=&amp;lsquo;cyan&amp;rsquo;)
for i, bar in enumerate(bars1):
yval = bar.get_height()
axs[0].text(bar.get_x() + bar.get_width()/2, yval, f&amp;rsquo;{round(yval,1)}%&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
ha=&amp;lsquo;center&amp;rsquo;, fontsize=8, color=&amp;lsquo;blue&amp;rsquo;)
axs[0].set_ylabel(&amp;lsquo;Path Contribution [%]&amp;rsquo;,fontsize=9, labelpad=15)
axs[0].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)
axs[0].set_xticks(list(range(len(largest_indices_M))))
axs[0].set_xticklabels(list(largest_indices_M) )
# Plot the bars of the PHASE for the largest &amp;rsquo;numTopPaths&amp;rsquo; contributors to the TPA Magnitude
row_data_PH = row_PH.drop(&amp;lsquo;Fpeaks [Hz]&amp;rsquo;)
largest_values_PH_list=[]
for col_index in largest_indices_M:
value = row_data_PH[col_index]
largest_values_PH_list.append(value)
bars2=axs[1].bar(range(len(largest_indices_M)), largest_values_PH_list, color=(0, 1, 0))
for bar in bars2:
yval = bar.get_height()
text_pos = yval-35 if yval &amp;lt; 0 else yval
axs[1].text(bar.get_x() + bar.get_width()/2, text_pos, f&amp;rsquo;{round(yval,1)}°&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
ha=&amp;lsquo;center&amp;rsquo;, fontsize=8, color=&amp;lsquo;green&amp;rsquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;axs[1].set_xticks(range(len(largest_indices_M)), largest_indices_M)
axs[1].set_ylabel(&#39;Phase [deg]&#39;,fontsize=9, labelpad=8)
y_ticks2=[-180,-120,-60,0,60,120,180]
axs[1].set_yticks(y_ticks2)    
axs[1].set_xlabel(&#39;Contributing Paths: InterfaceGRID-DOF&#39;,fontsize=9)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;926 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
axs[1].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;return fig
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;mydf_ContrM = df_ContribM.copy()
mydf_Tot = df_TotRes.copy()
mydf_ContrPH = df_ContribPH.copy()
Fpeaks = mydf_ContrM[&amp;lsquo;Fpeaks [Hz]&amp;rsquo;]
bool_mydf_Tot = mydf_Tot[ mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;].isin(Fpeaks) ]
Mpeaks = bool_mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;].tolist()
dfnew = pd.DataFrame({ &amp;lsquo;ff&amp;rsquo;: Fpeaks, &amp;lsquo;mm&amp;rsquo;: Mpeaks })
dfnew[&amp;lsquo;my_order&amp;rsquo;] = dfnew[&amp;lsquo;mm&amp;rsquo;].rank(method=&amp;lsquo;dense&amp;rsquo;, ascending=False)
dfnew_sorted_by_order = dfnew.sort_values(&amp;lsquo;my_order&amp;rsquo;)
ordered_indexes = dfnew_sorted_by_order.index.tolist()
plot3={}
for i in range(numPEAKs):
idx = ordered_indexes[i]
rank = dfnew[&amp;lsquo;my_order&amp;rsquo;][idx]
row_M = mydf_ContrM.iloc[idx]
row_PH = mydf_ContrPH.iloc[idx]
fig_name = f&amp;rsquo;plot3_{idx + 1}&amp;rsquo;
plot3[fig_name] = plotTPA_TotRes_Comp_Bars(df_TotRes, rank,row_M,row_PH,
S,G,PDVA,XYZ,numContr)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P51</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_051/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_051/</guid>
      <description>
        
        
        &lt;p&gt;927  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
FRF and Interface Loads:&lt;/p&gt;
&lt;h1&gt;FRF Magnitude&lt;/h1&gt;&lt;p&gt;dfMag = pd.DataFrame()
for column in df_FRF_RE.columns[1:]:  # Exclude the first column by starting from index 1&lt;/p&gt;
&lt;p&gt;928 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
dfMag[column] = np.sqrt(df_FRF_RE[column]**2 + df_FRF_IM[column]**2)
dfMag.insert(0, &amp;lsquo;F [Hz]&amp;rsquo;, df_FRF_RE[&amp;lsquo;F [Hz]&amp;rsquo;])
fig, axs = plt.subplots(nrows=6, ncols=2, figsize=(8, 15))
fig.suptitle(f&amp;rsquo;FRF and InterfaceLoads from InterfGRID {interfaceG} @ RespGRID {G}\n&amp;rsquo;, fontsize=14,
color=&amp;lsquo;blue&amp;rsquo;)&lt;/p&gt;
&lt;p&gt;col_interfaceG  = [col for col in dfMag.columns if str(interfaceG) in col]
fcol_interfaceG = col_interfaceG[0] if col_interfaceG else None
if fcol_interfaceG is not None:
idx_fcol_interfaceG = dfMag.columns.get_loc(fcol_interfaceG)
else:
print(&amp;ldquo;Interface GRID ID does not exist in this .h5 file&amp;rdquo;)&lt;/p&gt;
&lt;p&gt;for i in range(1, 7):
ax_left = axs[i-1, 0]
ax_right = axs[i-1, 1]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# FRF Plots (Left Subplots)
freqs = dfMag.iloc[:, 0]
FRF_M = dfMag.iloc[:, idx_fcol_interfaceG+i-1] 
path = dfMag.columns[idx_fcol_interfaceG+i-1]
ax_left.set_title(f&#39;FRF from {path} @ RespGRID {G}&#39;, fontsize=9, color=&#39;green&#39;)
ax_left.set_xlabel(&#39;Freq [Hz]&#39;)
ax_left.set_ylabel(f&#39;Load on Path {path}&#39;)
ax_left.tick_params(axis=&#39;both&#39;, which=&#39;major&#39;, labelsize=7)
ax_left.plot(freqs, FRF_M, marker=&#39;o&#39;, markersize=3, color=&#39;green&#39;)

# Interface Force Plots (Right Subplots)
IF_M = df_InterF.iloc[:, idx_fcol_interfaceG+i-1]
ax_right.set_title(f&#39;InterfaceLoad from {path} @ RespGRID {G}&#39;, fontsize=9, color=&#39;blue&#39;)
ax_right.set_xlabel(&#39;Freq [Hz]&#39;)
ax_right.set_ylabel(f&#39;Load on Path {path}&#39;)
ax_right.tick_params(axis=&#39;both&#39;, which=&#39;major&#39;, labelsize=7)
ax_right.plot(freqs, IF_M, marker=&#39;o&#39;, markersize=3, color=&#39;blue&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;plt.tight_layout()
plt.show()&lt;/p&gt;
&lt;p&gt;929  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index&lt;/p&gt;
&lt;p&gt;930 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
Approach 2: Postprocessing (by PDF)
We illustrate how users can postprocess and create TPA plots directly to a .pdf document, using the HDF5 file generated
by a Single-step TPA run. The code snippets provided in this section can be expanded and customized as needed. We
recommend using these snippets to create a Jupyter notebook for convenient and interactive generation of TPA plots (each
snippet can be written as a cell in the Jupyter notebook). In this example, TPA plots will be generated for &amp;ldquo;all datasets&amp;rdquo;
contained in the HDF5 file (per each SUBCASE, per each Response GRID, per each Response TYPE, per each Response
DIR).&lt;/p&gt;
&lt;p&gt;931  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
Importing Python Libraries:&lt;/p&gt;
&lt;h1&gt;h5&lt;/h1&gt;&lt;p&gt;import h5py&lt;/p&gt;
&lt;h1&gt;math&lt;/h1&gt;&lt;p&gt;import numpy as np
import pandas as pd&lt;/p&gt;
&lt;h1&gt;plot&lt;/h1&gt;&lt;p&gt;import matplotlib.pyplot as plt
from matplotlib.colors import Normalize
from matplotlib.cm import ScalarMappable
import matplotlib.ticker as ticker
from mpl_toolkits.mplot3d import Axes3D&lt;/p&gt;
&lt;h1&gt;pdf&lt;/h1&gt;&lt;p&gt;import PyPDF2
from matplotlib.backends.backend_pdf import PdfPages&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;List of All Functions&lt;/li&gt;
&lt;/ol&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                            Extract all Datasets&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def collect_dataset_paths(group, path=&amp;quot;&amp;quot;, dataset_paths=[]):
# Iterate over ITEMS
for key, item in group.items():
current_path = f&amp;quot;{path}/{key}&amp;quot;
if isinstance(item, h5py.Dataset):
# If DATASET -&amp;gt; Append it to the path
dataset_paths.append(current_path)
elif isinstance(item, h5py.Group):
# If GROUP -&amp;gt; Recurse in the group
collect_dataset_paths(item, current_path, dataset_paths)
return dataset_paths&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                       Plot and Print (Each Response Block)&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def process_datasets(idx,i,mylist, all_paths, h_file, pdfs):
dfs = {}
for j in range(i,mylist[idx+1]):
ds = h_file[all_paths[j]]&lt;/p&gt;
&lt;p&gt;932 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
df = pd.DataFrame(ds[:])
dfn = dfname(all_paths[j])
dfs[dfn] = df
print(&amp;lsquo;dfs_keys: &amp;lsquo;, dfs.keys())
return plot_and_pdf(dfs, pdfs, PDVA)&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                            Process the Dataset-Path&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def dfname(input_string):
tokens = input_string.split(&amp;rsquo;/&amp;rsquo;)
result_string = &amp;rsquo;&amp;rsquo;
for itok in tokens[1:]:
result_string = result_string + itok + &amp;lsquo;_&amp;rsquo;
result_string=result_string[:-1]
return result_string&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                      TPA: Total Response Comparisons&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_TotRes(mydf_Tot,S,G,DVA,XYZ):
if DVA==&amp;lsquo;Press&amp;rsquo;:
pref = 2.0e-11 # mm-t-N-s
# pref = 2.0e-5  # m-kg-N-s
mydf_Tot.iloc[:, 1:] = mydf_Tot.iloc[:, 1:].applymap(lambda x: 20*np.log10(x/pref))&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fig, axs = plt.subplots(3, 1, figsize=(8, 10)) 
fig.suptitle(f&#39;TPA - {DVA}{XYZ} Total Response\n&#39;, fontsize=15, color=&#39;red&#39;, 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;fontweight=&amp;lsquo;bold&amp;rsquo;)
fig.text(0.5, 0.95, f&amp;rsquo;SUB {S}:  RespGRID {G}&amp;rsquo;, fontsize=10, ha=&amp;lsquo;center&amp;rsquo;, va=&amp;lsquo;center&amp;rsquo;,
color=&amp;lsquo;red&amp;rsquo;)
# TPA Total Resp Sum Comparisons&lt;br&gt;
axs[0].set_title(f&amp;rsquo;TPA: {DVA}{XYZ} Total Response - InPhaseSum vs. ComplexSum&amp;rsquo;, fontsize=11,
color=(0.666, 0, 1) )
axs[0].set_ylabel(f&amp;rsquo;{DVA}{XYZ}  [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;, fontsize=9)
axs[0].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)
axs[0].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;InPhase Sum (Worst Case)&amp;rsquo;], color=&amp;lsquo;blue&amp;rsquo;,
label=&amp;lsquo;InPhase Sum&amp;rsquo;)&lt;/p&gt;
&lt;p&gt;933  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
axs[0].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;], color=&amp;rsquo;#FFCCFF&amp;rsquo;, linewidth=5,
label=&amp;lsquo;Complex Sum&amp;rsquo;)
axs[0].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Assembly Run Response&amp;rsquo;], marker=&amp;lsquo;o&amp;rsquo;, markersize=2,
markerfacecolor=&amp;lsquo;green&amp;rsquo;, label=&amp;lsquo;Solver&amp;rsquo;)
axs[0].legend(fontsize=9)
axs[0].grid(True)
# TPA Total Resp Sum Comparisons&lt;br&gt;
axs[1].set_title(f&amp;rsquo;TPA: {DVA}{XYZ} Total Response - ComplexSum vs. AssemblyRun&amp;rsquo;, fontsize=11,
color=(0.666, 0, 1) )
axs[1].set_ylabel(f&amp;rsquo;{DVA}{XYZ}  [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;, fontsize=9)
axs[1].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)
axs[1].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;], color=&amp;rsquo;#FFCCFF&amp;rsquo;, linewidth=5,
label=&amp;lsquo;Complex Sum&amp;rsquo;)
axs[1].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Assembly Run Response&amp;rsquo;], marker=&amp;lsquo;o&amp;rsquo;,
markerfacecolor=&amp;lsquo;green&amp;rsquo;, label=&amp;lsquo;Solver&amp;rsquo;)
axs[1].legend(fontsize=9)
axs[1].grid(True)
# TPA Total Resp Sum Difference
axs[2].set_title(f&amp;rsquo;TPA: {DVA}{XYZ} Total Response - Diff = (ComplexSum - AssemblyRun)&amp;rsquo;,
fontsize=11, color=&amp;lsquo;red&amp;rsquo;)
axs[2].set_xlabel(&amp;lsquo;Freq (Hz)&amp;rsquo;, fontsize=9)
axs[2].set_ylabel(f&amp;rsquo;{DVA}{XYZ} Diff  [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ} Diff&amp;rsquo;,
fontsize=9)
y_lims = axs[1].get_ylim()
axs[2].set_ylim(y_lims)
axs[2].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)
axs[2].plot(mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;], mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;] - mydf_Tot[&amp;lsquo;Assembly Run Response&amp;rsquo;],
color=&amp;lsquo;red&amp;rsquo;, linestyle=&amp;rsquo;&amp;ndash;&amp;rsquo;, label=&amp;lsquo;Diff&amp;rsquo;)
axs[2].legend(fontsize=9)
axs[2].grid(True)
# plt.show()&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;return fig
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#               TPA: Contributing Paths (Heat Map &amp;amp; WaterFall Plots)&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_HeatMaps(mydf_TPA_M,S,G,DVA,XYZ,figrange):
end_column = mydf_TPA_M.shape[1]
step = 6&lt;/p&gt;
&lt;p&gt;934 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
dir_map =   {
2: &amp;lsquo;X&amp;rsquo;,
3: &amp;lsquo;Y&amp;rsquo;,
4: &amp;lsquo;Z&amp;rsquo;,
5: &amp;lsquo;RX&amp;rsquo;,
6: &amp;lsquo;RY&amp;rsquo;,
7: &amp;lsquo;RZ&amp;rsquo;&lt;br&gt;
}
fig = plt.figure(figsize=(8, 10))
if figrange[0]&amp;lt;5:
mycolor = &amp;lsquo;blue&amp;rsquo;
else:
mycolor = (0.933,0.933,0.933)
fig.suptitle(f&amp;rsquo;TPA: {DVA}{XYZ} - Contributing Paths\n&amp;rsquo;, fontsize=15, fontweight=&amp;lsquo;bold&amp;rsquo;,
color=mycolor)
fig.text(0.5, 0.95, f&amp;rsquo;SUB {S}:  RespGRID {G}&amp;rsquo;, fontsize=10, ha=&amp;lsquo;center&amp;rsquo;, va=&amp;lsquo;center&amp;rsquo;,
color=mycolor)
ic=0
for start_column in range (figrange[0],figrange[1]):
dir = dir_map.get(start_column, &amp;lsquo;Unknown&amp;rsquo;)
located_columns = []
i_L=[]
for i in range(start_column - 1, end_column, step):
located_columns.append(mydf_TPA_M.iloc[:, i])
i_L.append(i)
X = mydf_TPA_M[&amp;lsquo;F [Hz]&amp;rsquo;]
Z_columns = located_columns
Y = np.arange(1, len(located_columns)+1)
Z = np.vstack(Z_columns)
ax1 = fig.add_subplot(3, 2, ic*2+1)
ax1.set_title(f&amp;rsquo;{DVA}{XYZ} from {dir}-DIR of Interf-GRIDs @ GRID {G}&amp;rsquo;, fontsize=8,
color=&amp;lsquo;blue&amp;rsquo;)
# HeatMap Plot
pcm = ax1.pcolormesh(X, Y, Z, cmap=&amp;lsquo;jet&amp;rsquo;)
cbar = fig.colorbar(pcm, ax=ax1, cmap=&amp;lsquo;jet&amp;rsquo;)
label_text = f&amp;rsquo;{DVA}{XYZ} [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;
cbar.set_label(label_text)
cbar.ax.yaxis.label.set_size(8)
cbar.ax.yaxis.set_major_formatter(ticker.ScalarFormatter(useMathText=True))&lt;/p&gt;
&lt;p&gt;935  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
cbar.ax.yaxis.get_offset_text().set(va=&amp;lsquo;bottom&amp;rsquo;, ha=&amp;lsquo;right&amp;rsquo;, rotation=0, fontsize=8)
cbar.ax.tick_params(labelsize=7)
formatter = ticker.ScalarFormatter(useMathText=True)
formatter.set_powerlimits((0, 0))
cbar.ax.yaxis.set_major_formatter(formatter)
fig.canvas.draw()
offset_text = cbar.ax.yaxis.get_offset_text().get_text()
cbar.ax.yaxis.get_offset_text().set_visible(False)
if offset_text:
cbar.ax.text(1.05, 0, offset_text, transform=cbar.ax.transAxes, ha=&amp;lsquo;left&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
fontsize=7)
ax1.pcolormesh(X, Y, Z, cmap=&amp;lsquo;jet&amp;rsquo;)
ax1.set_xlabel(&amp;lsquo;Freq [Hz]&amp;rsquo;, fontsize=8)
ax1.set_ylabel(&amp;lsquo;InterfaceGRID-DOF&amp;rsquo;, fontsize=8)
yticks_values = Y
yticks_labels = [f&amp;rsquo;{mydf_TPA_M.columns[ii]}&amp;rsquo; for ii in i_L]
ax1.set_yticks(yticks_values+0, yticks_labels)
ax1.tick_params(labelsize=6)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    # 3D Plot
    ax2 = fig.add_subplot(3, 2, ic*2+2, projection=&#39;3d&#39;, proj_type=&#39;ortho&#39;)
    ax2.set_title(f&#39;{DVA}{XYZ} from {dir}-DIR of Interf-GRIDs @ GRID {G}&#39;, fontsize=8, 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;color=&amp;lsquo;blue&amp;rsquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    for j in range(len(Y)):
        x_values = X
        y_values = np.ones_like(x_values)*Y[j]
        z_values = Z[j]
        # Normalized Colormap
        norm = Normalize(vmin=min(z_values), vmax=max(z_values))
        scalar_map = ScalarMappable(cmap=&#39;jet&#39;, norm=norm)
        scalar_map.set_array([]) 
        for i in range(len(x_values) - 1):
            ax2.plot([x_values[i], x_values[i + 1]], [y_values[i], y_values[i + 1]], 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[z_values[i], z_values[i + 1]],
color=scalar_map.to_rgba(z_values[i]))
ax2.set_xlabel(&amp;lsquo;Freq [Hz]&amp;rsquo;, fontsize=8)
ax2.set_ylabel(&amp;lsquo;InterfaceGRID-DOF&amp;rsquo;, labelpad=10, fontsize=8)
label_text = f&amp;rsquo;{DVA}{XYZ} [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;
ax2.set_zlabel(label_text)
ax2.zaxis.label.set_size(8)&lt;/p&gt;
&lt;p&gt;936 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    ax2.zaxis.set_tick_params(labelleft=False) 
    yticks_labels = [f&#39;{mydf_TPA_M.columns[i]}&#39; for i in i_L]        
    ax2.set_yticks(yticks_values, yticks_labels)
    ax2.yaxis.set_major_locator(plt.MaxNLocator(integer=True)) 
    for tick in ax2.get_yticklabels():
        tick.set_rotation(20)
    ax2.set_ylim(0, ax2.get_ylim()[1])
    ax2.view_init(elev=20, azim=-135)
    ax2.tick_params(labelsize=6) 
    plt.subplots_adjust(wspace=0.2) 
    ic+=1
fig.subplots_adjust(hspace=0.3)
# plt.show()
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;return fig&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#       TPA: TotalResponse with Peaks and Comparison Bar Charts (@ Peaks)&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plotTPA_TotRes_Comp_Bars(mydf_Tot, rank,row_M,row_PH, S,G,DVA,XYZ):
Fpeak_value = row_M[&amp;lsquo;Fpeaks [Hz]&amp;rsquo;]
peakN=int(rank)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fig, axs = plt.subplots(2, 1, figsize=(8, 10))  # 3 rows, 1 column
fig.suptitle(f&#39;TPA: {DVA}{XYZ} - Tot Resp Contributions @ Peak {peakN} ({round(Fpeak_value,2)} 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hz)\n&amp;rsquo;, fontsize=15, color=(0.1882,0.3098,0.9960), fontweight=&amp;lsquo;bold&amp;rsquo;)
fig.text(0.5, 0.95, f&amp;rsquo;SUB {S}:  RespGRID {G}&amp;rsquo;, fontsize=10, ha=&amp;lsquo;center&amp;rsquo;, va=&amp;lsquo;center&amp;rsquo;,
color=(0.1882,0.3098,0.9960) )&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# TPA Tot Resp Plot     
axs[0].set_title(f&#39;TPA: {DVA}{XYZ} - Tot Resp (ComplexSum)&#39;, fontsize=11, color=(0.666, 0, 1) )
axs[0].plot(mydf_Tot[&#39;F [Hz]&#39;], mydf_Tot[&#39;Complex Sum&#39;], color=&#39;#FFCCFF&#39;, linewidth=3) 
axs[0].grid(True)
y_value = mydf_Tot.loc[mydf_Tot[&#39;F [Hz]&#39;] == Fpeak_value, &#39;Complex Sum&#39;].values[0]
axs[0].vlines(x=Fpeak_value, ymin=mydf_Tot[&#39;Complex Sum&#39;].min(), ymax=y_value, color=&#39;red&#39;, 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;linestyle=&amp;rsquo;&amp;ndash;&amp;rsquo;, label=&amp;lsquo;Vertical Line&amp;rsquo;, linewidth=1)
axs[0].scatter(x=Fpeak_value, y=y_value, color=&amp;lsquo;red&amp;rsquo;, marker=&amp;lsquo;o&amp;rsquo;, edgecolors=&amp;lsquo;red&amp;rsquo;, s=50,
label=&amp;lsquo;Circle Marker&amp;rsquo;, zorder=3)&lt;/p&gt;
&lt;p&gt;937  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
axs[0].tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)
axs[0].set_xlabel(&amp;lsquo;Freq (Hz)&amp;rsquo;, fontsize=9)
axs[0].set_ylabel(f&amp;rsquo;{DVA}{XYZ}  [dB]&amp;rsquo; if DVA == &amp;lsquo;Press&amp;rsquo; else f&amp;rsquo;{DVA}{XYZ}&amp;rsquo;, fontsize=8)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# TPA Path Contributions Bar Plots
numTopPaths = 5
axs[1].set_title(f&#39;Top {numTopPaths} Paths to Tot Resp (Projected Mag) @ f = 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;{round(Fpeak_value,2)} Hz&amp;rsquo;, fontsize=11, color=&amp;lsquo;blue&amp;rsquo; )
axs[1].axis(&amp;lsquo;off&amp;rsquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Create the first sub-subplot (above)
ax_M = axs[1].inset_axes([0.1, 0.6, 0.9, 0.4]) 
# Create the second sub-subplot (below)
ax_PH = axs[1].inset_axes([0.1, 0.1, 0.9, 0.4]) 
row_M_NoF = row_M.drop(&#39;Fpeaks [Hz]&#39;)
row_M_NoF_NoChk = row_M_NoF.drop(&#39;PercentSumCheck&#39;)
largest_indices_M = row_M_NoF_NoChk.nlargest(numTopPaths).index
largest_values_M = list(row_M_NoF_NoChk.nlargest(numTopPaths))
# Plot the bars of the MAGNITUDE for the largest &#39;numTopPaths&#39; contributors to the TPA 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Magnitude
bars1 = ax_M.bar(range(len(largest_indices_M)), largest_values_M, color=&amp;lsquo;cyan&amp;rsquo;)
for i, bar in enumerate(bars1):
yval = bar.get_height()
ax_M.text(bar.get_x() + bar.get_width()/2, yval, f&amp;rsquo;{round(yval,1)}%&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
ha=&amp;lsquo;center&amp;rsquo;, fontsize=8, color=&amp;lsquo;blue&amp;rsquo;)
# Add the &amp;lsquo;PercentSumCheck&amp;rsquo; bar
percent_sum_check_value = row_M[&amp;lsquo;PercentSumCheck&amp;rsquo;]
percent_sum_check_bar   = ax_M.bar(len(largest_indices_M), round(percent_sum_check_value),
color=&amp;rsquo;#FFCCFF&amp;rsquo;)
for bar in percent_sum_check_bar:
yval = bar.get_height()
ax_M.text(bar.get_x() + bar.get_width()/2, yval, f&amp;rsquo;{round(yval,1)}%&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
ha=&amp;lsquo;center&amp;rsquo;, fontsize=8, color=(0.666, 0, 1))&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ax_M.set_xticks(list(range(len(largest_indices_M) + 1)))  # Include extra tick for 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;PercentSumCheck
ax_M.set_xticklabels(list(largest_indices_M) + [&amp;lsquo;All Paths&amp;rsquo;])
tick_labels = ax_M.get_xticklabels()
tick_labels[-1].set_color((0.666, 0, 1))
ax_M.set_ylabel(&amp;lsquo;Path Contribution [%]&amp;rsquo;,fontsize=9, labelpad=15)
ax_M.tick_params(axis=&amp;lsquo;both&amp;rsquo;, which=&amp;lsquo;major&amp;rsquo;, labelsize=7)&lt;/p&gt;
&lt;p&gt;938 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
ax_M.yaxis.grid(False)
ax_M.xaxis.grid(True)
# Plot the bars of the PHASE for the largest &amp;rsquo;numTopPaths&amp;rsquo; contributors to the TPA Magnitude
row_data_PH = row_PH.drop(&amp;lsquo;Fpeaks [Hz]&amp;rsquo;)
largest_values_PH_list=[]
for col_index in largest_indices_M:
value = row_data_PH[col_index]
largest_values_PH_list.append(value)
bars2=ax_PH.bar(range(len(largest_indices_M)), largest_values_PH_list, color=(0, 1, 0))
for bar in bars2:
yval = bar.get_height()
text_pos = yval-35 if yval &amp;lt; 0 else yval
ax_PH.text(bar.get_x() + bar.get_width()/2, text_pos, f&amp;rsquo;{round(yval,1)}°&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
ha=&amp;lsquo;center&amp;rsquo;, fontsize=8, color=&amp;lsquo;green&amp;rsquo;)
blank_value = 0
blank_bar   = ax_PH.bar(len(largest_indices_M), blank_value, color=&amp;lsquo;white&amp;rsquo;)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ax_PH.set_xticks(range(len(largest_indices_M)), largest_indices_M)
ax_PH.set_ylabel(&#39;Phase [deg]&#39;,fontsize=9, labelpad=8)
y_ticks2=[-180,-120,-60,0,60,120,180]
ax_PH.set_yticks(y_ticks2)    
ax_PH.set_xlabel(&#39;Contributing Paths: InterfaceGRID-DOF&#39;,fontsize=9)
ax_PH.tick_params(axis=&#39;both&#39;, which=&#39;major&#39;, labelsize=7)
ax_PH.yaxis.grid(False) 
ax_PH.xaxis.grid(True) 
ax_PH.axhline(0, color=&#39;gray&#39;, linewidth=0.5) 
# plt.show()

return fig
&lt;/code&gt;&lt;/pre&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                         Add a page number to a figure&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def add_page_number(fig, page_number, pdf_pagename):
# Add text for page number
fig.text(0.5, 0.05, f&amp;rsquo;{pdf_pagename} - Page {page_number}&amp;rsquo;, fontsize=8, ha=&amp;lsquo;center&amp;rsquo;, va=&amp;lsquo;bottom&amp;rsquo;,
color=&amp;lsquo;gray&amp;rsquo;)&lt;/p&gt;
&lt;p&gt;939  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index&lt;/p&gt;
&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;h1&gt;#                                   Plot to PDF&lt;/h1&gt;&lt;h1&gt;# =============================================================================&lt;/h1&gt;&lt;p&gt;def plot_and_pdf(df, pdfs_list,DVA=False):
first_key = list(df.keys())[0]
interfGs_List = []
string = first_key
tokens = string.split(&amp;rsquo;_&amp;rsquo;)
token0_parts = tokens[0].split(&amp;rsquo; &amp;lsquo;)
S = token0_parts[1]
token1_parts = tokens[1].split(&amp;rsquo; &amp;lsquo;)
R_G = token1_parts[1]
token2_parts = tokens[2]
token3_parts = tokens[3]
mydf_ContrM  = df[ list(df.keys())[0] ]
mydf_ContrPH = df[ list(df.keys())[1] ]
if DVA:
PDVAXYZ = token3_parts.split(&amp;rsquo;-&amp;rsquo;)
PDVA = PDVAXYZ[0]
XYZ  = PDVAXYZ[1]
mydf_TPA_M   = df[ list(df.keys())[4] ]
mydf_Tot     = df[ list(df.keys())[6] ]
else:
PDVA = token2_parts
XYZ = &amp;quot;&amp;quot;         &lt;br&gt;
mydf_TPA_M   = df[ list(df.keys())[5] ]
mydf_Tot     = df[ list(df.keys())[7] ]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    # Press Reference Levels
    pref = 2.0e-11 # mm-t-N-s
    # pref = 2.0e-5  # m-kg-N-s
    mydf_TPA_M.iloc[:, 1:] = mydf_TPA_M.iloc[:, 1:].applymap(lambda x: 20*np.log10(x/pref))
    mydf_Tot.iloc[:, 1:] = mydf_Tot.iloc[:, 1:].applymap(lambda x: 20*np.log10(x/pref))
    
columnPH_names = mydf_ContrPH.columns.tolist()[1:]
columnPH_interfGs = [name.split(&#39;-&#39;)[0] for name in columnPH_names]
interfGs_Set = sorted(list(set(columnPH_interfGs)))
interfGs_Set = [int(x) for x in interfGs_Set]
mydf_ContrM.insert(0, &#39;PercentSumCheck&#39;, mydf_ContrM.iloc[:,1:].sum(axis=1))
Fpeaks = mydf_ContrM[&#39;Fpeaks [Hz]&#39;]
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;940 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
bool_mydf_Tot = mydf_Tot[ mydf_Tot[&amp;lsquo;F [Hz]&amp;rsquo;].isin(Fpeaks) ]
Mpeaks = bool_mydf_Tot[&amp;lsquo;Complex Sum&amp;rsquo;].tolist()
dfnew = pd.DataFrame({ &amp;lsquo;ff&amp;rsquo;: Fpeaks, &amp;lsquo;mm&amp;rsquo;: Mpeaks })
dfnew[&amp;lsquo;my_order&amp;rsquo;] = dfnew[&amp;lsquo;mm&amp;rsquo;].rank(method=&amp;lsquo;dense&amp;rsquo;, ascending=False)
dfnew_sorted_by_order = dfnew.sort_values(&amp;lsquo;my_order&amp;rsquo;)
ordered_indexes = dfnew_sorted_by_order.index.tolist()
# TPA: Comparison -&amp;gt; InPhaseSum vs. ComplexSum vs. Solver (Diff)
fig1 = plotTPA_TotRes(mydf_Tot,S,R_G,PDVA,XYZ)
# TPA: HeatMaps
figrange=(2,5)
fig2a = plotTPA_HeatMaps(mydf_TPA_M,S,R_G,PDVA,XYZ,figrange)
figrange=(5,8)
fig2b = plotTPA_HeatMaps(mydf_TPA_M,S,R_G,PDVA,XYZ,figrange)
# TPA Peaks: TotResp at Peaks &amp;amp; Contribution Bar-Charts
myfig3s = {}
for idx in ordered_indexes:
rank = dfnew[&amp;lsquo;my_order&amp;rsquo;][idx]
row_M = mydf_ContrM.iloc[idx]
row_PH = mydf_ContrPH.iloc[idx]
fig_name = f&amp;rsquo;fig3_{idx + 1}&amp;rsquo;
myfig3s[fig_name] = plotTPA_TotRes_Comp_Bars(mydf_Tot, rank, row_M, row_PH, S, R_G, PDVA, XYZ)
# Filename for the PDF
pdf_filename = f&amp;rsquo;SUB{S}-G{R_G}-{PDVA}{XYZ}.pdf&amp;rsquo;
pdf_pagename = f&amp;rsquo;SUB{S} GRID{R_G} {PDVA}{XYZ}&amp;rsquo;
with PdfPages(pdf_filename) as pdf:
# List or dict of figures to save
figures = [fig1, fig2a, fig2b] + list(myfig3s.values())
for i, fig in enumerate(figures, start=1):
add_page_number(fig, i, pdf_pagename)  # Add page number to figure
pdf.savefig(fig)                       # Save the figure to PDF
plt.close(fig)                         # Close the figure to free memory
pdfs_list.append(pdf_filename)
print(f&amp;quot;{pdf_filename} with page numbers has been created and saved.&amp;quot;)
return pdfs_list&lt;/p&gt;
&lt;p&gt;941  CHAPTER A
Python Code for Post Processing TPA HDF5 File
Main Index
2. Read the SingleStep TPA H5 File
H5filename = &amp;lsquo;ostpa_yaris&amp;rsquo;
try:
with h5py.File(H5filename+&amp;rsquo;.h5&amp;rsquo;, &amp;lsquo;r&amp;rsquo;) as hf5:
# Collect all dataset paths
all_dataset_paths = collect_dataset_paths(hf5)
for path in all_dataset_paths:
print(path)
except Exception as ex:
print(&amp;ldquo;An error occurred:&amp;rdquo;, str(ex))
all_dataset_paths=[]
i = 0
recorded_indices = {}&lt;/p&gt;
&lt;h1&gt;Loop through the list using the index&lt;/h1&gt;&lt;p&gt;while i &amp;lt; len(all_dataset_paths):
string = all_dataset_paths[i]
if &amp;lsquo;Disp&amp;rsquo; in string:
i += 22  # Jump 22 elements ahead
recorded_indices[i]=&amp;lsquo;D&amp;rsquo;
# continue
elif &amp;lsquo;Velo&amp;rsquo; in string:
i += 22
recorded_indices[i]=&amp;lsquo;V&amp;rsquo;
elif &amp;lsquo;Acce&amp;rsquo; in string:
i += 22
recorded_indices[i]=&amp;lsquo;A&amp;rsquo;
elif &amp;lsquo;Press&amp;rsquo; in string:
i += 8  # Jump 8 elements ahead
recorded_indices[i]=&amp;lsquo;P&amp;rsquo;
3. Print a PDF (for each Response Grid, for each Response Type, along each DIR)
try:
with h5py.File(H5filename+&amp;rsquo;.h5&amp;rsquo;, &amp;lsquo;r&amp;rsquo;) as hf5:
pdfs_list = []
for item in recorded_indices.items():
end  = item[0]
PDVA = item[1]
if PDVA == &amp;lsquo;A&amp;rsquo; or PDVA == &amp;lsquo;D&amp;rsquo;:
end = item[0]-1&lt;/p&gt;
&lt;p&gt;942 MSC Nastran 2024.1 Release Guide
Python Code for Post Processing TPA HDF5 File
Main Index
start = end-21
mylist = list(range(start, end+1, 7))
elif PDVA == &amp;lsquo;V&amp;rsquo;:
end = item[0]
start = end-21
mylist = list(range(start, end+1, 7))
else:
end = item[0]
start = end-8
mylist = list(range(start, end+1, 8))
for idx,i in enumerate(mylist[:-1]):
pdfs_list = process_datasets(idx,i,mylist, all_dataset_paths, hf5, pdfs_list)&lt;/p&gt;
&lt;p&gt;except Exception as ex:
print(&amp;ldquo;An error occurred:&amp;rdquo;, str(ex))
pdfs_list=[]
4. Merge all PDFs and Bookmark them into a Single PDF&lt;/p&gt;
&lt;h1&gt;Create a PdfMerger object&lt;/h1&gt;&lt;p&gt;merger = PyPDF2.PdfMerger()
current_page_count = 0
if pdfs_list:
# Loop through PDFs
for pdf in pdfs_list:
with open(pdf, &amp;lsquo;rb&amp;rsquo;) as f:
pdf_reader = PyPDF2.PdfReader(f)
num_pages = len(pdf_reader.pages)
merger.append(f)
bookmark_title = pdf[:-4]
merger.add_outline_item(bookmark_title, current_page_count)
current_page_count += num_pages
# Combined PDFs
with open(f&amp;rsquo;{H5filename}-AllCombined.pdf&amp;rsquo;, &amp;lsquo;wb&amp;rsquo;) as output_pdf:
merger.write(output_pdf)
merger.close()
print(&amp;ldquo;Combined all PDFs (with Bookmarks).&amp;rdquo;)
else:
print(&amp;ldquo;PDFs not found.&amp;rdquo;)&lt;/p&gt;
&lt;p&gt;Main Index
Glossary
Glossary&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1006
Main Index
CMS Component mode synthesis.
Critical Damping The lowest value of damping for which oscillation does not occur when
the structure is displaced from its rest position.  Values of damping less
than the critical damping value create an underdamped system for
which oscillatory motion occurs.
Damping Energy dissipation in vibrating structures.
DOF Degree -of-freedom.
Dynamic Amplification Factor Ratio of dynamic response to static response, which is a function of the
forcing frequency, natural frequency, and damping.
Forced Vibration Analysis Vibration response due to applied time -varying forces.
Free Vibration Analysis Vibration response when there is no applied force.  Normal modes
analysis and transient response to initial conditions are examples of free
vibration analysis.
Frequency Response Analysis Computation of the steady -state response to simple harmonic
excitation.
GDR Generalized dynamic reduction.
LMT Lagrange multiplier technique.
Mechanism Mode Stress -free, zero -frequency motions of a portion of the structure.  A
mechanism can be caused by an internal hinge.
Mode Shape The deformed shape of a structure when vibrating at one of its natural
frequencies.
Natural Frequency The frequency with which a structure vibrates during free vibration
response.  Structures have multiple natural frequencies.
Phase Angle The angle between the applied force and the response.  In MSC Nastran
this angle is a phase lead, whereby the response leads the force.
Positive Definite A matrix whose eigenvalues are all greater than zero.
Positive Semi -Definite A matrix whose eigenvalues are greater than or equal to zero.
Repeated Roots T wo or more identical natural frequencies.
Resonance Large -amplitude vibrations that can grow without bound.  At
resonance, energy is added to the system.  This occurs, for example,
when the harmonic excitation frequency is equal to one of the natural
frequencies.  The response at resonance is controlled entirely by
damping.
Rigid -Body Drift T ransient displacements of an unconstrained model that grow
continuously with time.  This is often caused by the accumulation of
small numerical errors when integrating the equations of motion.
Rigid -Body Mode Stress -free, zero -frequency motions of the entire structure.
SDOF Single degree -of-freedom.&lt;/p&gt;
&lt;p&gt;1007 CHAPTER
Glossary
Main Index
Structural Damping Damping that is proportional to displacement.
T ransient Response Analysis Computation of the response to general time -varying excitation.
Viscous Damping Damping that is proportional to velocity.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1008
Main Index&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P52</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_052/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_052/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
Nomenclature
Nomenclature&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1010
Main Index
The section provides nomenclature for terms commonly used in dynamic analysis.
General&lt;/p&gt;
&lt;p&gt;Þ Multiplication
ª Approximately
[ ] Matrix
{ } Vector
i
g Acceleration of Gravity
Time Step
Frequency Step
Subscripts (Indices)
Infinity
Displacement
Initial Displacement
Velocity
Initial Velocity
Acceleration
Mass
Large Mass
Damping
Critical Damping
Stiffness
Applied Force
Circular Frequency
Circular Natural Frequency
Eigenvalue
Eigenvalue
Frequency
Natural Frequency
Period
Damped Circular Natural Frequency
Damping Ratio1–
t
f
ijk

u
u0
u·
u·0
u··
m
m0
b
bcr
k
p

n
2

f
fn
Tn
d
&lt;/p&gt;
&lt;p&gt;1011 CHAPTER
Nomenclature
Main Index
Structural Properties
Geometry
Stiffness
Mass
Damping
Multiple Degree -of-Freedom SystemQuality Factor
Phase Angle
Logarithmic Decrement
Length
Area
Young’s Modulus
Shear Modulus
Torsional Constant
Poisson’s Ratio
Area Moment of Inertia
Mass Density
Mass Density
Weight Density
Polar Moment of Inertia
Overall Structural Damping Coefficient
Element Structural Damping Coefficient
Displacement Vector
Velocity Vector
Acceleration Vector
Mode Shape VectorQ


L
A
E
G
J

I

m
w
Ip
G
GE
u
u·
u··
&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1012
Main Index
Rigid-Body Modes
ith Modal Displacement
ith Modal Velocity
ithModal Acceleration
jth Generalized Mass
jthGeneralized Stiffness
kth Eigenvalue
Matrix
Rigid-Body Mass Matrix
Stiffness Matrix
Element Stiffness Matrix
Damping Matrix
Force Matrixrig
i
·
i
··
i
mj
kj
k
M
Mr
K
KE
B
P&lt;/p&gt;
&lt;p&gt;References&lt;br&gt;
References&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
Overview1014
Main Index
Overview
This appendix includes references of interest in the field of dynamic analysis.  T wo categories are included.&lt;br&gt;
The first category, General References, lists books that cover the general range of structural dynamic analysis.&lt;br&gt;
The second category, Bibliography, is an excerpt from the dynamic analysis section of the MSC.Nastran
Bibliography , Second Edition.
General References
1.Paz, M., Structural Dynamics: Theory and Computation , Van Nostrand Reinhold, New York, N.Y.,
1985.
2.Bathe, K. J. and Wilson, E. L., Numerical Methods in Finite Element Analysis , Prentice-Hall,
Englewood Cliffs, N.J., 1976.
3.Harris, C. M. and Crede, C. E., Shock and Vibration Handbook , McGraw -Hill, New York, N.Y.,
1976.
4.Clough, R. W. and Penzien, J., Dynamics of Structures , McGraw -Hill, New York, N.Y., 1975.
5.Timoshenko, S., Young, D. H., and Weaver Jr., W., Vibration Problems in Engineering , John Wiley
and Sons, New York, N.Y., 1974.
6.Hurty, W. C. and Rubinstein, M. F., Dynamics of Structures , Prentice -Hall, Englewood Cliffs, N.J.,
1964.
7.Miura, H., MSC/NASTRAN Handbook for Structural Optimization , The MacNeal -Schwendler
Corporation, 1988.
8.Johnson, E.H., MSC Nastran Design Sensitivity and Optimization User’s Guide , Version 2014, The
MSC Software Corporation, 2014.
9.Patel, H., “Multidisciplinary Design with Superelements in MSC/NASTRAN,” AIAA CP -92-4732,
Fourth AIAA/USAF/NASA/OAI Symposium on Multidisciplinary Analysis and Optimization,
Cleveland, Ohio, September1992.
10. Johnson, E.H., and Reymond, M.A., “Multidisciplinary Aeroelastic Analysis and Design using
MSC/NASTRAN,” AIAA CP -91-1097, 32nd SDM Conference, Baltimore, MD, April 1991.
11. Kodiyalam, S., Vanderplaats, G., Miura, H., Nagendra, G. and Wallerstein, D. “Structural Shape
Optimization with MSC/NASTRAN,” AIAA CP 90 -1007, 31st SDM Conference, Long Beach, CA,
April 1990.
12. Johnson, E.H., “Disjoint Design Spaces in the Optimization of Harmonically Excited Structures,”
AIAA Journal, Vol. 14, No. 2, February 1976, pp 259 -261.
13. “Getting Started with MSC Nastran User’s Guide,” The MSC Software Corporation, 2014.
14. Cassis, J.H., “Optimum Design of Structures Subjected to Dynamic Loads,” PhD. Thesis
UCLA -ENG -7451, June 1974.
15. Adams, M. L., Padovan, J., Fertis, D. G., “Engine Dynamic Analysis With General Nonlinear Finite-
Element Codes, Part 1: Overall Approach and Development of Bearing Damper Element”, ASME
Journal of Engineering for Power, Vol. 104, July 1982, pp. 586-593.&lt;/p&gt;
&lt;p&gt;1015 CHAPTER
References
Main Index
16. Castelli, V., and Shapiro, W., “Improved Method for Numerical Solutions of the General
Incompressible Fluid Film Lubrication Problem”, ASME Journal of Lubrication Technology, Vol.
89, No. 2, 1967, pp. 211-218.
17. &amp;ldquo;MSC Nastran 2013.1 Release Guide&amp;rdquo;, pp. 18-33 . The MSC Software Corporation, 2013.
18. Ghaby, R., “Transient/Nonlinear Vibration of Gas Turbine Engines With Squeeze Film Dampers
Due to Blade Loss”, May 1984 Master of Science Thesis, Case Western Reserve University.
19. Black, G., Gallardo, V., “Blade Loss Transient Dynamics Analysis Task II- TETRA 2 User’s
Manual”, NASA CR-179633, November 1986.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
General References1016
Main Index&lt;/p&gt;
&lt;p&gt;Bibliography&lt;br&gt;
Bibliography&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1018
Main Index
DYNAMICS – GENERAL
Abdallah, Ayman A.; Barnett, Alan R.; Widrick, Timothy W.; Manella, Richard T.; Miller, Robert
P.  Stiffness -Generated Rigid -Body Mode Shapes for Lanczos Eigensolution with Support DOF Via a
MSC/NASTRAN DMAP Alter , MSC 1994 World Users’ Conf. Proc., Paper No. 10, June, 1994.
Anderson, William J.; Kim, Ki -Ook; Zhi, Bingchen; Bernitsas, Michael M.; Hoff, Curtis; Cho,
Kyu-Nam.  Nonlinear Perturbation Methods in Dynamic Redesign , MSC/NASTRAN Users’ Conf.
Proc., Paper No. 16, March, 1983.
Barber, Pam; Arden, Kevin.  Dynamic Design Analysis Method (DDAM) Using MSC/NASTRAN ,
MSC 1994 World Users’ Conf. Proc., Paper No. 31, June, 1994.
Bedrossian, Herand; Veikos, Nicholas.  Rotor -Disk System Gyroscopic Effect in MSC/NASTRAN
Dynamic Solutions , MSC/NASTRAN Users’ Conf. Proc., Paper No. 12, March, 1982.
Bernstein, Murray; Mason, Philip W.; Zalesak, Joseph; Gregory, David J.; Levy, Alvin.  NASTRAN
Analysis of the 1/8 -Scale Space Shuttle Dynamic Model , NASTRAN:  Users’ Exper., pp. 169-242,
September, 1973, (NASA TM X -2893).
Berthelon, T.; Capitaine, A.  Improvements for Interpretation of Structural Dynamics Calculation
Using Effective Parameters for Substructures , Proc. of the 18th MSC Eur. Users’ Conf., Paper
No.9, June, 1991.
Birkholz, E.  Dynamic Investigation of Automobile Body Parts, Proc. of the 15th MSC/NASTRAN
Eur. Users’ Conf., October, 1988.
Bishop, N. W. M.; Lack, L. W.; Li, T.; Kerr, S. C.  Analytical Fatigue Life Assessment of Vibration
Induced Fatigue Damage , MSC 1995 World Users’ Conf. Proc., Paper No. 18, May, 1995.
Blakely, Ken; Howard, G. E.; Walton, W.  B.; Johnson, B. A.; Chitty, D. E.  Pipe Damping Studies
and Nonlinear Pipe Benchmarks from Snapback Tests at the Heissdampfreaktor ,
NUREG/CR -3180, March, 1983.
Blakely, Ken.  Dynamic Analysis:  Application and Modeling Considerations , J. of Engineering
Computing and Applications, Fall, 1987.
Bramante, A.; Paolozzi, A; Peroni, I.  Effective Mass Sensitivity: A DMAP Procedure , MSC 1995
World Users’ Conf. Proc., Paper No. 39, May, 1995.
Brutti, C.; Conte, M.; Linari, M.  Reduction of Dynamic Environment to Equivalent Static Loads
by a NASTRAN DMAP Procedure , MSC 1995 European Users’ Conf. Proc., Italian Session,
September, 1995.
Butler, Thomas G.  Dynamic Structural Responses to Rigid Base Acceleration , Proc. of the Conf. on
Finite Element Methods and Technology, Paper No. 8, March, 1981.
Butler, Thomas G.  Telescoping Robot Arms , MSC/NASTRAN Users’ Conf. Proc., Paper No. 10,
March, 1984.
Butler, T. G.  Experience with Free Bodies , Thirteenth NASTRAN Users’ Colloq., pp. 378-388,
May, 1985, (NASA CP -2373).
Butler, Thomas G.  Mass Modeling for Bars , Fifteenth NASTRAN Users’ Colloq., pp. 136-165,
August, 1987, (NASA CP -2481).&lt;/p&gt;
&lt;p&gt;1019 CHAPTER
Bibliography
Main Index
Butler, T. G.  Coupled Mass for Prismatical Bars , Sixteenth NASTRAN Users’ Colloq., pp. 44-63,
April, 1988, (NASA CP -2505).
Caldwell, Steve P.; Wang, B. P.  An Improved Approximate Method for Computing Eigenvector
Derivatives in MSC/NASTRAN , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 22,
May, 1992.
Case, William R.  Dynamic Substructure Analysis of the International Ultraviolet Explorer (IUE)
Spacecraft , NASTRAN:  Users’ Exper., pp. 221-248, September, 1975, (NASA TM X -3278).
Chang, H. T.; Cao, Tim; Hua, Tuyen.  SSF Flexible Multi -Body Control/Structure Interaction
Simulation , The MSC 1993 World Users’ Conf. Proc., Paper No. 15, May, 1993.
Chang, W. M.; Lai, J. S.; Chyuan, S. W.;  Application of the MSC/NASTRAN Design
Optimization Capability to Identify Joint Dynamic Properties of Structure , The Sixth Annual MSC
Taiwan Users’ Conf. Proc., Paper No. 1, November, 1994.
Chargin, M.; Miura, H.; Clifford, Gregory A.  Dynamic Response Optimization Using
MSC/NASTRAN , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 14, March, 1987.
Chen, J. T.; Chyuan, S. W.; You, D. W.; Wong, H. T.  A New Method for Determining the Modal
Participation Factor in Support Motion Problems Using MSC/NASTRAN , The Seventh Annual
MSC/NASTRAN Users’ Conf. Proc., Taiwan, 1995.
Chen, J. T.; Wong, H. T.  Applications of Modal Reaction Method in Support Motion Problems,
Techniques in Civil Engineering, Vol. 4, pp 17 - 30, March, 1996, in Chinese.
Chen, J. T.; Hong, H. K.; Chyuan, S. W.; Yeh, C. S.  A Note on the Application of Large Mass and
Large Stiffness Techniques for Multi -Support Motion , The Fifth Annual MSC Taiwan Users’ Conf.
Proc., November, 1993.
Chen, Yohchia.  Improved Free -Field Analysis for Dynamic Medium -Structure Interaction
Problems , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 13, May, 1992.
Chen, Yohchia.  Dynamic Response of Reinforced Concrete Box -Type Structures , The MSC 1992
World Users’ Conf. Proc., Vol. I, Paper No. 24, May, 1992.
Chiu, Chi -Wai.  Spacecraft Dynamics During Solar Array Panel Deployment Motion , The Fifth
Annual MSC Taiwan Users’ Conf. Proc., November, 1993.
Chung, Y. T.; Kahre, L. L.  A General Procedure for Finite Element Model Check and Model
Identification, MSC 1995 World Users’ Conf. Proc., Paper No. 38, May, 1995.
Cicia, C.  Static, Thermal and Dynamic Analysis of the Liquid Argon Cryostat for the ICARUS
Experiment , Proc. of the 15th MSC/NASTRAN Eur. Users’ Conf., October, 1988.
Cifuentes, Arturo O.  Dynamic Analysis of Railway Bridges Using MSC/NASTRAN , The MSC
1988 World Users Conf. Proc., Vol. II, Paper No. 44, March, 1988.
Cifuentes, A. O.  Dynamic Response of a Beam Excited by a Moving Mass , Finite Elements in
Analysis and Design, Vol. 5, pp. 237-246, 1989.
Citerley, R. L.; Woytowitz, P. J.  Ritz Procedure for COSMIC/ NASTRAN , Thirteenth NASTRAN
Users’ Colloq., pp. 225-233, May, 1985, (NASA CP -2373).
Ciuti, Gianluca.  Avionic Equipment Dynamic Analysis , MSC 1995 European Users’ Conf. Proc.,
Italian Session, September, 1995.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1020
Main Index
Coates, Dr. Tim; Matthews, Peter.  Transient Response in Dynamic and Thermal Behaviour , The
Second Australasian MSC Users Conf. Proc., Paper No. 4, November, 1988.
Coppolino, Robert N.; Bella, David F.  Employment of MSC/STI -VAMP for Dynamic Response
Post-Processing , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 12, March, 1987.
Corder, P. R.; Persh, R.  Castigliano and Symbolic Programming in Finite Element Analysis ,
Proceedings of the 16th Annual Energy - Sources Technology Conference and Exhibition, Houston,
1993.
Coyette, J. P.; Wijker, J. J.  The Combined Use of MSC/NASTRAN and Sysnoise for Evaluating the
Dynamic Behavior of Solar Array Panels , Proc. of the 20th MSC European Users’ Conf., Paper
No.16, September, 1993.
Curti, G.; Chiandussi, G.; Scarpa, F.  Calculation of Eigenvalue Derivatives of Acousto -Structural
Systems with a Numerical Comparison , MSC 23rd European Users’ Conf. Proc., Italian Session,
September, 1996.
Defosse, H.; Sergent, A.  Vibro -Acoustic Modal Response Analysis of Aerospace Structures , Proc. of
the MSC/NASTRAN Eur. Users’ Conf., April, 1985.
Deloo, Ph.; Dunne, L.; Klein, M.  Alter DMAPS for the Generation, Assembly and Recovery of
Craig -Bampton Models in Dynamic Analyses , Actes de la 2ème Confèrence Française Utilisateurs
des Logiciels MSC, Toulouse, France, September, 1995.
Denver, Richard E.; Menichello, Joseph M.  Alternate Approaches to Vibration and Shock Analysis
Using NASTRAN , Sixth NASTRAN Users’ Colloq., pp. 199-212, October, 1977, (NASA
CP-2018).
Detroux, P.; Geraets, L. H.  Instability at Restart or Change of Time Step with NASTRAN in the
Presence of Nonlinear Loads , Proc. of the MSC/NASTRAN Eur. Users’ Conf., June, 1983.
Deuermeyer, D. W.; Clifford, G. A.; Petesch, D. J.  Traditional Finite Element Analysis:&lt;br&gt;
Opportunities for Parallelism? , Computing Systems in Engineering, Vol. 2, No. 2-3, pp. 157-165,
1991.
Dirschmid, Dr. W.; Nolte, Dr. F.; Dunne, L. W.  Application of an FRF -Based Update Method to
the Model Parameter Tuning of an Hydraulic Engine Mounting , Proc. of the 18th MSC Eur. Users’
Conf., Paper No. 10, June, 1991.
Drago, Raymond J.; Margasahayam, Ravi N.  Resonant Response of Helicopter Gears Using 3 -D
Finite Element Analysis , The MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 20, March,
1988.
Elchuri, V.; Smith, G. C. C.; Gallo, A. Michael.  An Alternative Method of Analysis for Base
Accelerated Dynamic Response in NASTRAN , Eleventh NASTRAN Users’ Colloq., pp. 89-112,
May, 1983.
Everstine, Gordon C.; Schroeder, Erwin A.  The Dynamic Analysis of Submerged Structures,
NASTRAN:  Users’ Exper., pp. 419-430, September, 1975, (NASA TM X -3278).
Everstine, Gordon C.  Structural Analogies for Scalar Field Problems , Int. J. for Numerical Methods
in Engineering, Vol. 17, No. 3, pp. 471-476, March, 1981.
Everstine, G. C.  Dynamic Analysis of Fluid-Filled Piping Systems Using Finite Element Techniques,
J. of Pressure Vessel Technology, Vol. 108, pp. 57-61, February, 1986.&lt;/p&gt;
&lt;p&gt;1021 CHAPTER
Bibliography
Main Index
Flanigan, Christopher C.  Accurate and Efficient Mode Acceleration Data Recovery for
Superelement Models , The MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 38, March,
1988.
Flanigan, Christopher C.; Manella, Richard T.  Advanced Coupled Loads Analysis Using
MSC/NASTRAN , The MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 14, March, 1991.
Fox, Gary L.  Solution of Enforced Boundary Motion in Direct Transient and Harmonic Problems ,
Ninth NASTRAN Users’ Colloq., pp. 96-105, October, 1980, (NASA CP -2151).
Geyer, A.; Schweiger, W.  Multiple Support Excitation for NASTRAN Piping Analysis , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., April, 1982.
Geyer, A.; Schweiger, W.  Aeroelastic and Stress Analysis of the CHIWEC Chinese Wind Energy
Converter Using MSC/NASTRAN , Proc. of the MSC/NASTRAN Eur. Users’ Conf., April, 1985.
Ghofranian, S.; Dimmagio, O. D.  Space Station Dynamic Analysis with Active Control Systems
Using MSC/NASTRAN , The MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 17, March,
1988.
Gibson, Warren C.  Experiences with Optimization Using ASD/NASOPT and MSC/NASTRAN for
Structural Dynamics , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 13, March,
1987.
Gibson, Warren C.; Austin, Eric.  Analysis and Design of Damped Structures Using
MSC/NASTRAN , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 25, May, 1992.
Gielen, L.; Brughmans, M.; Petellat, C.  A Stepwise Approach for Fatigue Evaluation of Engine
Accessories Prior to Prototyping Using Hybrid Modelling Technology , MSC 1996 World Users’
Conf. Proc., Vol. III, Paper No. 29, June, 1996.
Go, James Chi -Dian.  Structural Dynamic and Thermal Stress Analysis of Nuclear Reactor Vessel
Support System, NASTRAN:  Users’ Exper., pp. 465-476, September, 1972, (NASA TM X -2637).
Grasso, A.; Tomaselli, L.  Whirling Speed Analysis of Multispool Systems , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., May, 1984.
Grimes, Roger G.; Lewis, John G.; Simon, Horst D.; Komzsik, Louis; Scott, David S.  Shifted Block
Lanczos Algorithm in MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 12,
March, 1985.
Harn, Wen -Ren; Lin, Shyang -Kuang; Chen, Jeng -Tzong.  Localization of Dynamic Model
Modification Based on Constrained Minimization Method , The 2nd Annual MSC Taiwan Users
Conf., Paper No. 14, October, 1990.
Herting, David N.; Bella, David F.; Kimbrough, Patty A.  Finite Element Simulation of Coupled
Automobile Engine Dynamics , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 10,
March, 1987.
High, Gerald D.  An Iterative Method for Eigenvector Derivatives , The MSC 1990 World Users
Conf. Proc., Vol. I, Paper No. 17, March, 1990.
Hill, R. G.  Transient Analysis of an IVHM Grapple Impact Test , NASTRAN:  Users’ Exper.,
pp.161-178, September, 1972, (NASA TM X -2637).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1022
Main Index
Howells, R. W.; Sciarra, J. J.  Finite Element Analysis Using NASTRAN Applied to Helicopter
Transmission Vibration/Noise Reduction , NASTRAN:  Users’ Exper., pp. 321-340, September,
1975, (NASA TM X -3278).
Howlett, James T.  Applications of NASTRAN to Coupled Structural and Hydrodynamic Responses
in Aircraft Hydraulic Systems , NASTRAN:  Users’ Exper., pp. 407-420, September, 1971, (NASA
TM X -2378).
Huang, S. L.; Rubin, H.  Static and Dynamic Analysis, F -14A Boron Horizontal Stabilizer ,
NASTRAN:  Users’ Exper., pp. 251-264, September, 1971, (NASA TM X -2378).
Hurwitz, Myles M.  New Large Deflection Analysis for NASTRAN , Sixth NASTRAN Users’
Colloq., pp. 235-256, October, 1977, (NASA CP -2018).
Hussain, M. A.; Pu, S. L.; Lorensen, W. E.  Singular Plastic Element:  NASTRAN Implementation
and Application , Sixth NASTRAN Users’ Colloq., pp. 257-274, October, 1977, (NASA CP -2018).
Ishikawa, Masanori; Iwahara, Mitsuo; Nagamatsu, Akio.  Dynamic Optimization Applied to Engine
Structure , The MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 31, March, 1990.
Iwahara, Mitsuo.  Dynamic Optimization Using Quasi Least Square Method , The Fifth
MSC/NASTRAN User’s Conf. in Japan, October, 1987, in Japanese.
Jakovich, John; Van Benschoten, John.  SDRC SUPERTAB Interactive Graphics as a Front -End to
MSC/NASTRAN Dynamic Analysis , Proc. of the MSC/NASTRAN Users’ Conf., March, 1979.
Jones, Gary K.  The Response of Shells to Distributed Random Loads Using NASTRAN , NASTRAN:&lt;br&gt;
Users’ Exper., pp. 393-406, September, 1971, (NASA TM X -2378).
Kalinowski, Anthony J.  Steady Solutions to Dynamically Loaded Periodic Structures , Eighth
NASTRAN Users’ Colloq., pp. 131-164, October, 1979, (NASA CP -2131).
Kalinowski, A. J.  Solution Sensitivity and Accuracy Study of NASTRAN for Large Dynamic
Problems Involving Structural Damping, Ninth NASTRAN Users’ Colloq., pp. 49-62, October,
1980, (NASA CP -2151).
Kasai, Manabu.  Real Eigenvalue Analysis by Modal Synthesis Method Taking Differential Stiffness
into Account , The First MSC/NASTRAN User’s Conf. in Japan, October, 1983, in Japanese.
Kasai, Manabu.  Recovery Method for Components by DMAP of Constrained Modal Type , The Fifth
MSC/NASTRAN User’s Conf. in Japan, October, 1987, in Japanese.
Kasai, Manabu.  DMAP Program for Modal Mass and Momentum , The Sixth MSC/NASTRAN
User’s Conf. in Japan, October, 1988, in Japanese.
Kienholz, Dave K.; Johnson, Conor D.; Parekh, Jatin C.  Design Methods for Viscoelastically
Damped Sandwich Plates , AIAA/ASME/ASCE/AHS 24th Structures, Structural Dynamics and
Materials Conf., Part 2, pp. 334-343, May, 1983.
Lambert, Nancy; Tucchio, Michael.  Ring Element Dynamic Stresses , Ninth NASTRAN Users’
Colloq., pp. 63-78, October, 1980, (NASA CP -2151).
Lee, Jyh -Chiang.  Investigation for the Large Stiffness Method , The Fifth Annual MSC Taiwan
Users’ Conf. Proc., November, 1993.
Lee, Ting -Yuan; Lee, Jyh -Chiang.  Modal Analysis and Structural Modification for a Harpoon
Launcher , The Fifth Annual MSC Taiwan Users’ Conf. Proc., November, 1993.&lt;/p&gt;
&lt;p&gt;1023 CHAPTER
Bibliography
Main Index
LeMaster, R. A.; Runyan, R. B.  Dynamic Certification of a Thrust -Measuring System for Large
Solid Rocket Motors , Eleventh NASTRAN Users’ Colloq., pp. 207-225, May, 1983.
Lewis, J.; Komzsik, L.  Symmetric Generalized Eigenproblems in Structural Engineering , SIAM
Conf. on Applied Numerical Analysis, 1985.
Lin, Chih -Kai; Harn, Wen -Ren; Lin, Shyang -Kuang.  The Dynamic Response of Bridge Due to
Passing of Vehicle , The 2nd Annual MSC Taiwan Users Conf., Paper No. 6, October, 1990.
Lin, S. L.; Yang, T. W.; Chen, J. T.  MSC/NASTRAN Application in Inertia Relief , The 1st MSC
Taiwan Users’ Conf., Paper No. 13, October, 1989, in Chinese.
Lin, Shan.  Time -Dependent Restrained Boundary Condition Simulation , The MSC 1988 World
Users Conf. Proc., Vol. I, Paper No. 9, March, 1988.
Lu, Ming -Ying; Yang, Joe -Ming.  Analysis of Static and Dynamic Responses on Ship Structures
Under Wave Loadings , The Sixth Annual MSC Taiwan Users’ Conf. Proc., Paper No. 14,
November, 1994.
Magari, P. J.; Shultz, L. A.; Murthy, V. R.  Dynamics of Helicopter Rotor Blades , Computers and
Structures, Vol. 29, No. 5, pp. 763-776, 1988.
Malcolm, D. J.  Dynamic Response of a Darrieus Rotor Wind Turbine Subject to Turbulent Flow ,
Engineering Structures, Vol. 10, No. 2, pp. 125-134, April, 1988.
Maritan, M.;  Micelli, D.  Dynamic Behaviour of a High -Speed Crankshaft, MSC 23rd European
Users’ Conf. Proc., Italian Session, September, 1996.
Masters, Steven G.  Plant Troubleshooting with MSC/NASTRAN , Proc. of the Conf. on Finite
Element Methods and Technology, Paper No. 12, March, 1981.
Mastrorocco, David T.  Predicting Dynamic Environments for Space Structure Appendages , The
MSC 1992 World Users’ Conf. Proc., Vol. II, Paper No. 56, May, 1992.
Mayer, Lee S.; Zeischka, Johann; Scherens, Marc; Maessen, Frank.  Analysis of Flexible Rotating
Crankshaft with Flexible Engine Block Using MSC/NASTRAN and DADS , MSC 1995 World
Users’ Conf. Proc., Paper No. 35, May, 1995.
McLaughlin, A.  Finite Element Dynamic Analysis of Production Aircraft , 4th Eur. Rotorcraft and
Powered Lift Aircraft Forum, Assoc. Ital di Aeronaut ed Astronaut, pp. 20.1-20.7, September,
1978.
Melli, R.; Rispoli, F.; Sciubba, E.; Tavani, F.  Structural and Thermal Analysis of Avionic
Instruments for an Advanced Concept Helicopter , Proc. of the 15th MSC/NASTRAN Eur. Users’
Conf., October, 1988.
Mikami, Kouichi.  Dynamic Stress Analysis System for Ship’s Hull Structure Under Wave Loads ,
The Second MSC/NASTRAN User’s Conf. in Japan, October, 1984, in Japanese.
Moharir, M. M.  NASTRAN Nonlinear Capabilities in Dynamic Solutions , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 9, March, 1985.
Moore, Gregory J.; Nagendra, Gopal K.  Dynamic Response Sensitivities in MSC/NASTRAN , The
MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 4, March, 1991.
Mulcahy, T. M.; Turula, P.; Chung, H.; Jendrzejczyk, A.  Analytical and Experimental Study of
Two Concentric Cylinders Coupled by a Fluid Gap , NASTRAN:  Users’ Exper., pp. 249-258,
September, 1975, (NASA TM X -3278).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1024
Main Index
Murthy, P. L. N.; Chamis, C. C.  Dynamic Stress Analysis of Smooth and Notched Fiber Composite
Flexural Specimens , National Aeronautics and Space Administration, April, 1984, (NASA
TM-83694).
Murthy, P. L. N.; Chamis, C. C.  Dynamic Stress Analysis of Smooth and Notched Fiber Composite
Flexural Specimens , Composite Materials:  Testing and Design (Seventh Conf.), ASTM,
pp.368-391, 1986, (ASTM STP 893).
Neal, M.  Vibration Analysis of a Printed Wiring Board Assembly , Proc. of the MSC/NASTRAN
Eur. Users’ Conf., May, 1984.
Nefske, D. J.; Sung, S. H.  Power Flow Finite Element Analysis of Dynamic Systems:  Basic Theory
and Application to Beams , American Soc. of Mechanical Engineers, Noise Control and Acoustics
Division, Vol. 3, pp. 47-54, December, 1987.
Nowak, Bill.  The Analysis of Structural Dynamic Effects on Image Motion in Laser Printers Using
MSC/NASTRAN , The MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 10, March, 1988.
Nowak, Bill.  Structural Dynamics Analysis of Laser Printers , Sound and Vibration, Vol. 23, No. 1,
pp.22-26, January, 1989.
Nowak, William J.  Dynamic Analysis of Optical Scan Systems Using MSC/NASTRAN , Proc. of the
Conf. on Finite Element Methods and Technology, Paper No. 10, March, 1981.
Nowak, William; James, Courtney.  Dynamic Modeling and Analysis of Spinning Polygon
Assemblies Using MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 66, May,
1993.
Oei, T. H.; Broerse, G.  Reduction of Forced Vibration Levels on Ro -Ro Car Ferry -Type Ships by
Means of Minor Changes of the Inner Aft -Body Construction , Proc. of the MSC/NASTRAN Eur.
Users’ Conf., April, 1982.
Ojalvo, I. U.  Extensions of MSC/NASTRAN to Solve Flexible Rotor Problems , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 13, March, 1982.
Palmieri, F.  Nonlinear Dynamic Analysis of STS Main Engine Heat Exchanger , Proc. of the 15th
MSC/NASTRAN Eur. Users’ Conf., October, 1988.
Palmieri, F. W.  Analyzing Deployment of Spacecraft Appendages Using MSC/NASTRAN , The
MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 6, March, 1990.
Pamidi, P. R.; Brown, W. K.  On Eigenvectors of Multiple Eigenvalues Obtained in NASTRAN ,
NASTRAN:  Users’ Exper., pp. 285-300, September, 1975, (NASA TM X -3278).
Paolozzi, A.  Structural Dynamics Modification with MSC/NASTRAN , Proc. of the 19th MSC
European Users’ Conf., Paper No. 14, September, 1992.
Parthasarathy, Alwar.  Force -Sum Method for Dynamic Stresses in MSC/NASTRAN Aeroelastic
Analysis , The MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 8, March, 1991.
Parthasarathy, Alwar; Elzeki, Mohamed; Abramovici, Vivianne.  PSDTOOL-A DMAP
Enhancement to Harmonic/Random Response Analysis in MSC/NASTRAN , The MSC 1993 World
Users’ Conf. Proc., Paper No. 36, May, 1993.
Patel, Jayant S.; Seltzer, S. M.  Complex Eigenvalue Solution to a Spinning Skylab Problem ,
NASTRAN:  Users’ Exper., pp. 439-450, September, 1971, (NASA TM X -2378).&lt;/p&gt;
&lt;p&gt;1025 CHAPTER
Bibliography
Main Index
Patel, Jayant S.; Seltzer, S. M.  Complex Eigenvalue Analysis of Rotating Structures , NASTRAN:&lt;br&gt;
Users’ Exper., pp. 197-234, September, 1972, (NASA TM X -2637).
Patel, Kirit V.  Stress Analysis of Hybrid Pins in a Warped Printed Wiring Board Using
MSC/NASTRAN , MSC 1995 World Users’ Conf. Proc., Paper No. 20, May, 1995.
Paxson, Ernest B., Jr.  Simulation of Small Structures - Optics -Controls Systems with
MSC/NASTRAN , The 1989 MSC World Users Conf. Proc., Vol. II, Paper No. 39, March, 1989.
Pinnament, Murthy.  Mode Acceleration Data Recovery in MSC/NASTRAN Dynamic Analysis
with Generalized Dynamic Reduction , MSC/NASTRAN Users’ Conf. Proc., Paper No. 24, March,
1985.
Raney, John P.; Kaszubowski, M.; Ayers, J. Kirk.  Analysis of Space Station Dynamics Using
MSC/NASTRAN , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 11, March, 1987.
Reyer, H.  A Crash -Down Calculated with NASTRAN , Proc. of the MSC/NASTRAN Eur. Users’
Conf., April, 1982.
Rose, Ted L.  Using Superelements to Identify the Dynamic Properties of a Structure , The MSC
1988 World Users Conf. Proc., Vol. I, Paper No. 41, March, 1988.
Rose, Ted L.  Creation of and Use of ‘Craig -Bampton’ Models Using MSC/NASTRAN , The MSC
1990 World Users Conf. Proc., Vol. II, Paper No. 51, March, 1990.
Rose, Ted.  Using Residual Vectors in MSC/NASTRAN Dynamic Analysis to Improve Accuracy ,
The MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 12, March, 1991.
Rose, Ted.  DMAP Alters to Apply Modal Damping and Obtain Dynamic Loading Output for
Superelements , The MSC 1993 World Users’ Conf. Proc., Paper No. 24, May, 1993.
Rose, Ted.; McNamee, Martin.  A DMAP Alter to Allow Amplitude -Dependent Modal Damping in
a Transient Solution , MSC 1996 World Users’ Conf. Proc., Vol. V, Paper No. 50, June, 1996.
Ross, Robert W.  Prediction and Elimination of Resonance in Structural Steel Frames , The MSC
1988 World Users Conf. Proc., Vol. II, Paper No. 45, March, 1988.
Russo, A.; Mocchetti, R.  Dynamic Analysis of Loaded Structures in the Helicopter Field , Proc. of
the MSC/NASTRAN Eur. Users’ Conf., May, 1984.
Salus, W. L.; Jones, R. E.; Ice, M. W.  Dynamic Analysis of a Long Span, Cable-Stayed Freeway
Bridge Using NASTRAN , NASTRAN:  Users’ Exper., pp. 143-168, September, 1973, (NASA TM
X-2893).
Sauer, G.; Wolf, M.  Gyroscopic Effects in the Dynamic Response of Rotating Structures , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., Paper No. 11, May, 1986.
Schips, C.  Aero -Engine Turbine Dynamic Analysis , Proc. of the 18th MSC Eur. Users’ Conf.,
Paper No. 8, June, 1991.
Schmitz, Ronald P.  Structural Dynamic Analysis of Electronic Assemblies Using NASTRAN
Restart/Format Change Capability , NASTRAN:  Users’ Exper., pp. 363-392, September, 1971,
(NASA TM X -2378).
Schweiger, W.; de Bruyne, F.; Dirschmid, W.  Fluid Structure Interaction of Car Fuel Tanks , Proc.
of the MSC/NASTRAN Eur. Users’ Conf., May, 1984.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1026
Main Index
Shein, Shya -Ling.  Generation of the Space Station Freedom On-Orbit Dynamic Loads Analysis
Model Using MSC/NASTRAN V66A Superelements , The 2nd Annual MSC Taiwan Users Conf.,
Paper No. 7, October, 1990.
Shiraki, K.; Hashimoto, H.; Sato, N.; Nasu, S.; Kinno, M. Japanese Experiment Module (JEM):
On-Orbit Structural Dynamic Analysis ,  1993 MSC Japan’s 11th User’s Conf. Proc., Paper No. 10.
Shivaji, M.; Raju, V. S. N.  Dynamic Analysis of R. C. C. Chimneys , MSC 1995 World Users’ Conf.
Proc., Paper No. 34, May, 1995.
Singh, Ashok K.; Nichols, Christian W.  Derivation of an Equivalent Beam Model From a
Structural Finite Element Model , The MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 14,
March, 1988.
Singh, Sudeep K.; Engelhardt, Charlie.  Dynamic Analysis of a Large Space Structure Using
External and Internal Superelements , The MSC 1991 World Users’ Conf. Proc., Vol. I, Paper
No.27, March, 1991.
Skattum, Knut S.  Modeling Techniques of Thin -Walled Beams with Open Cross Sections ,
NASTRAN:  Users’ Exper., pp. 179-196, September, 1972, (NASA TM X -2637).
Smith, Michael R.; Rangacharyulu, M.; Wang, Bo P.; Chang, Y. K.  Application of Optimization
Techniques to Helicopter Structural Dynamics , AIAA/ASME/ASCE/AHS/ASC 32nd Structures,
Structural Dynamics, and Materials Conf., Part 1, Paper No. 91-0924, pp. 227-237, April, 1991.
Stockwell, Alan E.; Perez, Sharon E.; Pappa, Richard S.  Integrated Modeling and Analysis of a
Space -Truss Test Article , The MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 16, March,
1990.
Struschka, M.; Goldstein, H.  Approximation of Frequency Dependant Nonlinearities in Linear
FE-Models , Proc. of the 15th MSC/NASTRAN Eur. Users’ Conf., October, 1988.
Subrahmanyam, K. B.; Kaza, K. R. V.; Brown, G. V.; Lawrence, C.  Nonlinear Bending -Torsional
Vibration and Stability of Rotating, Pre -Twisted, Preconed Blades Including Coriolis Effects ,
National Aeronautics and Space Administration, January, 1986, (NASA TM-87207).
Tecco, T. C.  Analyzing Frequency Dependent Stiffness and Damping with MSC/NASTRAN,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 25, March, 1985.
Thornton, E. A.  Application of NASTRAN to a Space Shuttle Dynamics Model , NASTRAN:&lt;br&gt;
Users’ Exper., pp. 421-438, September, 1971, (NASA TM X -2378).
Ting, Tienko.  Test/Analysis Correlation for Multiple Configurations , The MSC 1993 World Users’
Conf. Proc., Paper No. 74, May, 1993.
Tinti, Francesco Carlo; Scaffidi, Costantino.  Structural Dynamics and Acoustic Design of Engine
Component in View of Exterior Noise Reduction Using Numerical Techniques , MSC 1995
European Users’ Conf. Proc., Italian Session, September, 1995.
Turner, Patrick Ryan.  Integrating Finite Element Analysis with Quasi -Static Loadings from a Large
Displacement Dynamic Analysis , The 1989 MSC World Users Conf. Proc., Vol. II, Paper No. 37,
March, 1989.
Tzong, George T. J.; Sikes, Gregory D.; Dodd, Alan J.  Large Order Modal Analysis Module in the
Aeroelastic Design Optimization Program (ADOP) , The MSC 1991 World Users’ Conf. Proc.,
Vol. II, Paper No. 36, March, 1991.&lt;/p&gt;
&lt;p&gt;1027 CHAPTER
Bibliography
Main Index
Unger, B.; Eichlseder, Wilfried; Schuch, F.  Predicting the Lifetime of Dynamically Stressed
Components , Proc. of the 20th MSC European Users’ Conf., Paper No. 36, September, 1993.
Vance, Judy; Bernard, James E.  Approximating Eigenvectors and Eigenvalues Across a Wide Range
of Design , The MSC 1992 World Users’ Conf. Proc., Vol. II, Paper No. 46, May, 1992.
Visintainer, Randal H.; Aslani, Farhang.  Shake Test Simulation Using MSC/NASTRAN , MSC
1994 World Users’ Conf. Proc., Paper No. 32, June, 1994.
Vitiello, P.; Quaranta, V.  SEA Investigation Via a FEM Based Substructuring Technique , MSC
1995 European Users’ Conf. Proc., Italian Session, September, 1995.
Walton, William B.; Blakely, Ken.  Modeling of Nonlinear Elastic Structures Using
MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 11, March, 1983.
Wamsler, M.; Blanck, N.; Kern, G.  On the Enforced Relative Motion Inside a Structure , Proc. of
the 20th MSC European Users’ Conf., September, 1993.
Wang, B. P.; Caldwell, S. P.; Smith, C. M.  Improved Eigensolution Reanalysis Procedures in
Structural Dynamics , The MSC 1990 World Users Conf. Proc., Vol. II, Paper No. 46, March,
1990.
Wang, B. P.; Chang, Y. K.; Lawrence, K. L.; Chen, T. Y.  Optimum Design of Structures with
Multiple Configurations with Frequency and Displacement Constraints , 31st AIAA/
ASME/ASCE/AHS/ASC Structures, Structural Dynamics and Materials Conf., Part 1,
pp.378-384, April, 1990.
Wang, B. P.; Caldwell, S. P.  Reducing Truncation Error in Structural Dynamic Modification , The
MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 11, March, 1991.
Wang, B. P.; Caldwell, S. P.  Improved Approximate Method for Computting Eigenvector
Derivatives , Finite Elements in Analysis and Design v 14 n 4 Nov 1993.
Watanabe, Masaaki.  Computation of Virtual Mass to Rigid Body Structure by MSC/NASTRAN ,
The First MSC/NASTRAN User’s Conf. in Japan, October, 1983, in Japanese.
Wijker, J. J.  Differential Stiffness in Conjunction with Dynamics , NASTRAN User’s Conf., June,
1981.
Wijker, J. J.  Acoustic Effects on the Dynamic Behaviour of Lightweight Structures , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., Paper No. 3, April, 1985.
Wilhelmy, Dr. Viktor.  Dynamic Analysis with Gaps , The 1989 MSC World Users Conf. Proc.,
Vol. II, Paper No. 40, March, 1989.
Woytowitz, P. J.; Jiang, K. C.; Bhat, K. P.  Dynamic Analysis of Optical Beam Pointing , The MSC
1988 World Users Conf. Proc., Vol. I, Paper No. 11, March, 1988.
Yang, Jackson C. S.; Frederick, Diana L.  Application of NASTRAN in Nonlinear Analysis of a
Cartridge Case Neck Separation Malfunction , NASTRAN:  Users’ Exper., pp. 389-396, September,
1975, (NASA TM X -3278).
Young, K. J.; Mitchell, L. D.  On the Performance of Various Kinds of Rod and Beam Mass
Matrices on a Plane -Frame Structure , Proc. of IMAC -IX, Vol. I, pp. 1057 -1065, April, 1991.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1028
Main Index
DYNAMICS – ANALYSIS / TEST CORRELATION
Allen, James J.; Martinez, David R.  Techniques for Implementing Structural Model Identification
Using Test Data , Sandia National Laboratories, June, 1990, (SAND90 -1185).
Anker, J. C.  Checks that Pay , Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1984.
Blakely, Ken; Howard, G. E.; Walton, W. B.; Johnson, B. A.; Chitty, D. E.  Comparison of a
Nonlinear Dynamic Model of a Piping System to Test Data , 7th Int. Conf. on Struct. Mech. in
Reactor Tech., August, 1983.
Blakely, Ken; Walton, W. B.  Selection of Measurement and Parameter Uncertainties for Finite
Element Model Revision , 2nd Int. Modal Analysis Conf., February, 1984.
Blakely, Ken.  Updating MSC/NASTRAN Models to Match Test Data , The MSC 1991 World
Users’ Conf. Proc., Vol. II, Paper No. 50, March, 1991.
Blakely, Ken.  Revising MSC/NASTRAN Models to Match Test Data , Proc. of the 9th Int. Modal
Analysis Conf., April, 1991.
Blakely, Ken.  Get the Model Right, then Run the Analysis , Machine Design, October 24, 1991.
Blakely, Ken; Rose, Ted.  Cross-Orthogonality Calculations for Pre -Test Planning and Model
Verification , The MSC 1993 World Users’ Conf. Proc., Paper No. 72, May, 1993.
Blakely, Ken; Bush, Richard.  Using MSC/NASTRAN to Match Dynamic Test Data , Proc. of the
Int. Conf. on Structural Dynamics Modelling, July, 1993.
Blakely, Ken; Rose, Ted.  Cross -Orthogonality Calculations for Pre -Test Planning and Model
Verification , Proc. of the 20th MSC European Users’ Conf., September, 1993.
Blakely, Ken.  Matching Frequency Response Test Data with MSC/NASTRAN , MSC 1994 World
Users’ Conf. Proc., Paper No. 17, June 1994.
Blakely, Ken.  Matching Frequency Response Test Data with MSC/NASTRAN , Proc. of the 21st
MSC European User’s Conf., Italian Session, September, 1994.
Brillhart, Ralph; Hunt, David L.; Kammer, Daniel C.; Jensen, Brent M.; Mason, Donald R.  Modal
Survey and Test -Analysis Correlation of the Space Shuttle SRM , Proc. of the 6th Int. Modal Analysis
Conf., pp. 863-870, February, 1988.
Brughmans, Marc; Leuridan, Jan; Blauwkamp, Kevin.  The Application of FEM -EMA Correlation
and Validation Techniques on a Body-in -White , The MSC 1993 World Users’ Conf. Proc., Paper
No.6, May, 1993.
Brughmans, M.; Lembregts, PhD. F.; Furini, PhD. F.; Storrer, O.  Modal Test on the Pininfarina
Concept Car Body “ETHOS 1&amp;quot; , Actes de la 2ème Confèrence Française Utilisateurs des Logiciels
MSC, Toulouse, France, September, 1995.
Brughmans, M.; Lembregts, F, Ph.D.; Furini, F., Ph.D.  Modal Test on the Pininfarina Concept
Car Body “ETHOS 1&amp;quot; , MSC 1995 World Users’ Conf. Proc., Paper No. 5, May, 1995.
Budynas, R.; Kolhatkar, S.  Modal Analysis of a Robot Arm Using Finite Element Analysis and
Modal Testing , Proc. of the 8th Int. Modal Analysis Conf., Vol. I, pp. 67-70, January, 1990.
Budynas, R. G.; Krebs, D.  Modal Correlation of Test and Finite Element Results Using Cross
Orthogonality with a Reduced Mass Matrix Obtained by Modal Reduction and NASTRAN’s
Generalized Dynamic Reduction Solution , Proc. of the 9th Int. Modal Analysis Conf., Vol. I,
pp.549-554, April, 1991.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P53</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_053/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_053/</guid>
      <description>
        
        
        &lt;p&gt;1029 CHAPTER
Bibliography
Main Index
Butler, Thomas G.  Test vs. Analysis:  A Discussion of Methods , Fourteenth NASTRAN Users’
Colloq., pp. 173-186, May, 1986, (NASA CP -2419).
Call, V.; Mason, D.  Space Shuttle Redesigned Solid Rocket Booster Structural Dynamic Predictions
and Correlations of Liftoff , AIAA/SAE/ASME/ASEE 26th Joint Propulsion Conf., Paper No. AIAA
90-2081, July, 1990.
Chung, Y. T.  Model Reduction and Model Correlation Using MSC/NASTRAN , MSC 1995 World
Users’ Conf. Proc., Paper No. 8, May, 1995.
Coladonato, Robert J.  Development of Structural Dynamic Test Evnironments for Subsystems and
Components , Seventh NASTRAN Users’ Colloq., pp. 85-110, October, 1978, (NASA CP -2062).
Coppolino, Robert N.  Integrated Dynamic Test/Analysis Processor Overview , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 5, March, 1986.
Cronkhite, J. D.  Development, Documentation and Correlation of a NASTRAN Vibration Model
of the AH -1G Helicopter Airframe , NASTRAN:  Users’ Exper., pp. 273-294, October, 1976,
(NASA TM X -3428).
Dascotte, E.; Von Estorff, O.; Wandinger, J.  Validation and Updating of MSC/NASTRAN Finite
Element Models Using Experimental Modal Data , Proc. of the 20th MSC European Users’ Conf.,
Paper No. 10, September, 1993.
de Boer, A.; Kooi, B. W.  A DMAP for Updating Dynamic Mathematical Models with Respect to
Measured Data , Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1986.
Deger, Yasar.  Modal Analysis of a Concrete Gravity Dam - Linking FE Analysis and Test Results ,
Proc. of the 20th MSC European Users’ Conf., September, 1993.
Deutschel, Brian W.; Katnik, Richard B.; Bijlani, Mohan; Cherukuri, Ravi.  Improving Vehicle
Response to Engine and Road Excitation Using Interactive Graphics and Modal Reanalysis Methods ,
SAE Trans., Paper No. 900817, September, 1991.
Delany, M.E.; Bazley, E.N. Acoustical Characteristics of Fibrous Absorbent Materials , National
Physics Laboratory, Aerodynamics Division, NPL Aero Report Ac 37, March 1969
Dirschmid, W.; Nolte, F.; Dunne, L. W.  Mathematical Model Updating Using Experimentally
Determined Real Eigenvectors , Proc. of the 17th MSC Eur. Users’ Conf., Paper No. 4, September,
1990.
Drago, Raymond J.; Margasahayam, Ravi.  Stress Analysis of Planet Gears with Integral Bearings;
3-D Finite Element Model Development and Test Validation , The MSC 1987 World Users Conf.
Proc., Vol. I, Paper No. 4, March, 1987.
Ferg, D.; Foote, L.; Korkosz, G.; Straub, F.; Toossi, M.; Weisenburger, R.  Plan, Execute, and
Discuss Vibration Measurements, and Correlations to Evaluate a NASTRAN Finite Element Model
of the AH -64 Helicopter Airframe , National Aeronautics and Space Administration, January, 1990,
(NASA CR -181973).
Graves, Roger W.  Interfacing MSC/NASTRAN with SDRC -IDEAS to Perform Component Mode
Synthesis Combining Test, Analytical, and F. E. Data , The MSC 1988 World Users Conf. Proc.,
Vol. II, Paper No. 58, March, 1988.
Hehta, Pravin K.  Correlation of a NASTRAN Analysis with Test Measurements for HEAO -2
Optics , MSC/NASTRAN Users’ Conf. Proc., Paper No. 17, March, 1984.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1030
Main Index
Herbert, Andrew A.; Currie, A. O.; Wilson, W.  Analysis of Automotive Axle Carrier Assembly and
Comparison with Test Data , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 6, March,
1987.
Herting, D. N.  Parameter Estimation Using Frequency Response Tests , MSC 1994 World Users’
Conf. Proc., Paper No. 18, June, 1994.
Jiang, K. C.  Finite Element Model Updates Using Modal Test Data , The 1989 MSC World Users
Conf. Proc., Vol. II, Paper No. 48, March, 1989.
Kabe, Alvar M.  Mode Shape Identification and Orthogonalization , AIAA/ASME/ASCE/AHS/ASC
29th Structures, Structural Dynamics and Materials Conf., Paper No. 88-2354, 1988.
Kammer, Daniel C.; Jensen, Brent M.; Mason, Donald R.  Test-Analysis Correlation of the Space
Shuttle Solid Rocket Motor Center Segment , J. of Spacecraft, Vol. 26, No. 4, pp. 266-273, March,
1988.
Kelley, William R.; Isley, L. D.  Using MSC/NASTRAN for the Correlation of Experimental Modal
Models for Automotive Powertrain Structures , The MSC 1993 World Users’ Conf. Proc., Paper
No.8, May, 1993.
Kelley, William R.; Isley, L. Dean; Foster, Thomas J.  Dynamic Correlation Study Transfer Case
Housings , MSC 1996 World Users’ Conf. Proc., Vol. II, Paper No. 15, June, 1996.
Kientzy, Donald; Richardson, Mark; Blakely, Ken.  Using Finite Element Data to Set Up Modal
Tests , Sound and Vibration, June, 1989.
Lammens, Stefan; Brughmans, Marc; Leuridan, Jan; Sas, Paul.  Application of a FRF Based Model
Updating Technique for the Validation of Finite Element MOdels of Components of the Automotive
Industry , MSC 1995 World Users’ Conf. Proc., Paper No. 7, May, 1995.
Lee, John M.; Parker, Grant R.  Application of Design Sensitivity Analysis to Improve Correlations
Between Analytical and Test Modes , The 1989 MSC World Users Conf. Proc., Vol. I, Paper
No.21, March, 1989.
Linari, M.; Mancino, E.  Application of the MSC/NASTRAN Program to the Study of a Simple
Reinforced Concrete Structure in Nonlinear Material Field , Proc. of the 15th MSC/NASTRAN
Eur. Users’ Conf., October, 1988.
Lowrey, Richard D.  Calculating Final Mesh Size Before Mesh Completion , The MSC 1990 World
Users Conf. Proc., Vol. II, Paper No. 44, March, 1990.
Marlow, Jill M.; Lindell, Michael C.  NASSTAR:  An Instructional Link Between MSC/NASTRAN
and STAR , Proceedings of the 11th International Modal Analysis Conference, Florida, 1993.
Masse, Barnard; Pastorel, Henri.  Stress Calculation for the Sandia 34 -Meter Wind Turbine Using
the Local Circulation Method and Turbulent Wind , The MSC 1991 World Users’ Conf. Proc.,
Vol. II, Paper No. 53, March, 1991.
Mindle, Wayne L.; Torvik, Peter J.  A Comparison of NASTRAN (COSMIC) and Experimental
Results for the Vibration of Thick Open Cylindrical Cantilevered Shells , Fourteenth NASTRAN
Users’ Colloq., pp. 187-204, May, 1986, (NASA CP -2419).
Morton, Mark H.  Application of MSC/NASTRAN for Assurance of Flight Safety and Mission
Effectiveness with Regard to Vibration upon Installation of the Stinger Missile on the AH -64A , The
MSC 1991 World Users’ Conf. Proc., Vol. II, Paper No. 52, March, 1991.&lt;/p&gt;
&lt;p&gt;1031 CHAPTER
Bibliography
Main Index
Neads, M. A.; Eustace, K. I.  The Solution of Complex Structural Systems by NASTRAN within the
Building Block Approach , NASTRAN User’s Conf., May, 1979.
Nowak, William.  Electro -Mechanical Response Simulation of Electrostatic Voltmeters Using
MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 65, May, 1993.
O’Callahan, Dr. John; Avitabile, Peter; Reimer, Robert.  An Application of New Techniques for
Integrating Analytical and Experimental Structural Dynamic Models , The 1989 MSC World Users
Conf. Proc., Vol. II, Paper No. 47, March, 1989.
Ott, Walter; Kaiser, Hans-Jurgen; Meyer, Jurgen.  Finite Element Analysis of the Dynamic
Behaviour of an Engine Block and Comparison with Experimental Modal Test Results , The MSC
1990 World Users Conf. Proc., Vol. I, Paper No. 14, March, 1990.
Paolozzi, A.  Structural Dynamics Modification with MSC/NASTRAN , Proc. of the 19th MSC
European Users’ Conf., Paper No. 14, September, 1992.
Park, H. B.; Suh, J. K.; Cho, H. G.; Jung, G. S.  A Study on Idle Vibration Analysis Technique
Using Total Vehicle Model , MSC 1995 World Users’ Conf. Proc., Paper No. 6, May, 1995.
Parker, Grant R.; Rose, Ted L.; Brown, John J.  Kinetic Energy Calculation as an Aid to
Instrumentation Location in Modal Testing , The MSC 1990 World Users Conf. Proc., Vol. II,
Paper No. 47, March, 1990.
Preve, A.; Meneguzzo, M.; Merlo, A.; Zimmer, H.  Simulation of Vehicles’ Structural Noise:&lt;br&gt;
Numerical/Experimental Correlation in the Acoustic Simulation of the Internal Noise , Proc. of the
21st MSC European Users’ Conf., Italian Session, September, 1994.
Rabani, Hadi.  Static and Dynamic FEM/Test Correlation of an Automobile Body , The 1989 MSC
World Users Conf. Proc., Vol. II, Paper No. 49, March, 1989.
Rainer, I. G.  MSC/NASTRAN as a Key Tool to Satisfy Increasing Demand for Numerical
Simulation Techniques, Proc. of the 20th MSC European Users’ Conf., September, 1993.
Ray, William F.  The Use of MSC/NASTRAN and Empirical Data to Verify a Design ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 11, March, 1984.
Scapinello, F.; Colombo, E.  An Approach for Detailed Analysis of Complex Structures Avoiding
Complete Models , Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1987.
Sok-chu, Park; Ishii, Tetsu; Honda, Shigeki; Nagamatsu, Akio.  Vibration Analysis and Optimum
Design of Press Machines , 1994 MSC Japan Users’ Conf. Proc.
Stack, Charles P.; Cunningham, Timothy J.  Design and Analysis of Coriolis Mass Flowmeters
Using MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 54, May, 1993.
Su, Hong.  Structural Analysis of Ka -BAND Gimbaled Antennas for a Communications Satellite
System , MSC 1996 World Users’ Conf. Proc., Vol. IV, Paper No. 33, June, 1996.
Tawekal, Ricky; Budiyanto, M. Agus.  Finite Element Model Correlation for Structures , The MSC
1993 World Users’ Conf. Proc., Paper No. 73, May, 1993.
Ting, T.; Ojalvo, I. U.  Dynamic Structural Correlation via Nonlinear Programming Techniques ,
The MSC 1988 World Users Conf. Proc., Vol. II, Paper No. 57, March, 1988.
Ting, Tienko; Chen, Timothy L. C.  FE Model Refinement with Actual Forced Responses of
Aerospace Structures , The MSC 1991 World Users’ Conf. Proc., Vol. II, Paper No. 51, March,
1991.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1032
Main Index
Ting, Tienko.  Test/Analysis Correlation for Multiple Configurations , The MSC 1993 World Users’
Conf. Proc., Paper No. 74, May, 1993.
Ujihara, B. H.; Dosoky, M. M.; Tong, E. T.  Improving a NASTRAN Dynamic Model with Test
Data Using Linwood , Tenth NASTRAN Users’ Colloq., pp. 74-86, May, 1982, (NASA CP-2249).
Wandinger, J. Possible Implementations of Porous Absorbers in Nastran , MSC internal memo, April
2006
Zeischka, H.  LMS/Link Correlating and Validating F.E.A. for Dynamic Structure Behaviour with
Experimental Modal Analysis , Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1987.
DYNAMICS – COMPONENT MODE SYNTHESIS
Barnett, Alan R.; Ibrahim, Omar M.; Sullivan, Timothy L.; Goodnight, Thomas W.  Transient
Analysis Mode Participation for Modal Survey Target Mode Selection Using MSC/NASTRAN
DMAP , MSC 1994 World Users’ Conf. Proc., Paper No. 8, June, 1994.
Bedrossian, Herand; Rose, Ted.  DMAP Alters for Nonlinear Craig-Bampton Component Modal
Synthesis , The MSC 1993 World Users’ Conf. Proc., Paper No. 25, May, 1993.
Brillhart, Ralph; Hunt, David L.; Kammer, Daniel C.; Jensen, Brent M.; Mason, Donald R.  Modal
Survey and Test -Analysis Correlation of the Space Shuttle SRM , Proc. of the 6th Int. Modal Analysis
Conf., pp. 863-870, February, 1988.
Brown, J. J.; Lee, J. M.; Parker, G. R.; Zuhuruddin, K.  Procedure for Processing and Displaying
Entire Physical Modes Based on Results Generated Through Component Mode Synthesis , The MSC
1988 World Users Conf. Proc., Vol. I, Paper No. 15, March, 1988.
Call, V.; Mason, D.  Space Shuttle Redesigned Solid Rocket Booster Structural Dynamic Predictions
and Correlations of Liftoff , AIAA/SAE/ASME/ASEE 26th Joint Propulsion Conf., Paper No. AIAA
90-2081, July, 1990.
Cifuentes, A. O.; Herting, D. N.  Transient Response of a Beam to a Moving Mass Using a Finite
Element Approach , Innovative Numerical Methods in Engineering, Proc. of the Fourth Int. Symp.
on Numerical Methods in Engineering, Springer -Verlag, pp. 533-539, March, 1986.
Cifuentes, A. O.  Non -Linear Dynamic Problems Using a Combined Finite Element-Finite
Difference Technique , Proc. of the 6th Conf. on the Mathematics of Finite Elements and
Application, April/May, 1987.
Carney, Kelly S.; Abdallah, Ayma A.; Hucklebridge, Arthur A.  Implementation of the Block -Krylov
Boundary Flexibility Method of Component Synthesis , The MSC 1993 World Users’ Conf. Proc.,
Paper No. 26, May, 1993.
Del Basso, Steve; Singh, Sudeep; Lindenmoyer, Alan J.  Component Mode Synthesis of Space Station
Freedom Using MSC/NASTRAN Superelement Architecture , The MSC 1990 World Users Conf.
Proc., Vol. II, Paper No. 48, March, 1990.
Duncan, Alan E.  Application of Modal Modeling and Mount System Optimization to Light Duty
Truck Ride Analysis , 4th Int. Conf. on Veh. Struct. Mech., pp. 113-128, November, 1981, (SAE
#811313).&lt;/p&gt;
&lt;p&gt;1033 CHAPTER
Bibliography
Main Index
Flanigan, Christopher C.; Abdallah, Ayman; Manella, Richard.  Implementation of the
Benfield -Hruda Modal Synthesis Method in MSC/NASTRAN , The MSC 1992 World Users’ Conf.
Proc., Vol. I, Paper No. 11, May, 1992.
Garnek, Michael.  Large Space Structure Analysis Using Substructure Modal Test Data ,
AIAA/ASME/ASCE/AHS 25th Structures, Structural Dynamics, and Materials Conf., AIAA Paper
84-0942 -CP, May, 1984.
Ghosh, Tarun.  MSC/NASTRAN Based Component Mode Synthesis Analysis Without the Use of
DMAPS , MSC 1996 World Users’ Conf. Proc., Vol. II, Paper No. 18, June, 1996.
Gieseke, R. K.  Analysis of Nonlinear Structures via Mode Synthesis, NASTRAN:  Users’ Exper.,
pp.341-360, September, 1975, (NASA TM X -3278).
Graves, Roger W.  Interfacing MSC/NASTRAN with SDRC -IDEAS to Perform Component Mode
Synthesis Combining Test, Analytical, and F. E. Data , The MSC 1988 World Users Conf. Proc.,
Vol. II, Paper No. 58, March, 1988.
Halcomb, J. R.  Application of Component Modes to the Analysis of a Helicopter , Proc. of the
MSC/NASTRAN Users’ Conf., March, 1979.
Hambric, Stephen A.  Power Flow and Mechanical Intensity Calculations in Structural Finite
Element Analysis , ASME J. of Vibration and Acoustics, Vol. 112, pp. 542-549, October, 1990.
Herting, David N.; Hoesly, R. L.  Development of an Automated Multi -Stage Modal Synthesis
System for NASTRAN , Sixth NASTRAN Users’ Colloq., pp. 435-448, October, 1977, (NASA
CP-2018).
Herting, David N.  Accuracy of Results with NASTRAN Modal Synthesis , Seventh NASTRAN
Users’ Colloq., pp. 389-404, October, 1978, (NASA CP -2062).
Herting, D. N.  A General Purpose, Multi -Stage, Component Modal Synthesis Method , Finite
Elements in Analysis and Design, Vol. 1, No. 2, 1985.
Hill, R. G.; Merckx, K. R.  Seismic Response Evaluation of a Reactor Core Using Modal Synthesis ,
Proc. of the 3rd Int. Modal Analysis Conf., Vol. 2, pp. 996-1000, June, 1985.
Hodgetts, P. A.; Maitimo, F. M.; Wijker, J. J.  Dynamic Analysis of the Polar Platform Solar Array
Using a Multilevel Component Mode Synthesis Technique , Proc. of the 19th MSC European Users’
Conf., Paper No. 15, September, 1992.
Ichikawa, Tetsuji; Hagiwara, Ichiro.  Frequency Response Analysis of Large -Scale Damped
Structures Using Component Mode Synthesis , Nippon Kikai Gakkai Ronbunshu, C
Hen/Transactions of the Japan Society of Mechanical Engineers, Part C v 60 n 569 Jan 1994.
Jasuja, S. C.; Borowski, V. J.; Anderson, D. H.  Finite Element Modeling Techniques for the
Simulation of Automotive Powertrain Dynamics, Proc. of the 5th Int. Modal Analysis Conf.,
Vol. II, pp. 1520 -1530, April, 1987.
Jay, Andrew; Lewis, Bryan; Stakolich, Ed.  Effect of Time Dependent Flight Loads on Turbofan
Engine Performance Deterioration , ASME J. of Engineering for Power, Vol. 104, No. 3, July,
1982.
Kammer, Daniel C.; Jensen, Brent M.; Mason, Donald R.  Test - Analysis Correlation of the Space
Shuttle Solid Rocket Motor Center Segment , J. of Spacecraft, Vol. 26, No. 4, pp. 266-273, March,
1988.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1034
Main Index
Kasai, Manabu.  Generalized CMS Employing External Superelements , The Fourth
MSC/NASTRAN User’s Conf. in Japan, October, 1986, in Japanese.
Kasai, Manabu.  Representation of DMAP by Generalized CMS in System Identification , The
Fourth MSC/NASTRAN User’s Conf. in Japan, October, 1986, in Japanese.
Kasai, Manabu.  Approach to CMS Subjected to the Boundary Constrained at Single Point , The
Sixth MSC/NASTRAN User’s Conf. in Japan, October, 1988, in Japanese.
Kim, Hyoung M.; Bartkowicz, Theodoore J.; Van Horn, David A.  Data Recovery and Model
Reduction Methods for Large Structures , The MSC 1993 World Users’ Conf. Proc., Paper No. 23,
May, 1993.
Kubota, Minoru.  Efficient Use of Component Mode Sysnthesis Using Image Superelements Applied
to Dynamic Analysis of Crankshaft , MSC/NASTRAN Users’ Conf. Proc., Paper No. 22, March,
1986.
Lee, W. M.  Substructure Mode Synthesis with External Superelement , The 2nd Annual MSC
Taiwan User’s Conf., Paper No. 16, October, 1990, in Chinese.
MacNeal, R. H.  A Hybrid Method of Component Mode Synthesis , Computers and Structures,
Vol. 1, No. 4, pp. 581-601, 1971.
Martinez, D. R.; Gregory, D. L.  A Comparison of Free Component Mode Synthesis Techniques
Using MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 18, March, 1983.
Martinez, David R.; Gregory, Danny L.  A Comparison of Free Component Mode Synthesis
Techniques Using MSC/NASTRAN , Sandia National Laboratories, June, 1984, (SAND83 -0025).
Murakawa, Osamu.  Hull Vibration Analysis by Modal Synthesis Method , The First
MSC/NASTRAN User’s Conf. in Japan, October, 1983, in Japanese.
Murakawa, Osamu; Iwahashi, Yoshio; Sakato, Tsuneo.  Ship Vibration Analysis Using Modal
Synthesis Technique , MSC/NASTRAN Users’ Conf. Proc., Paper No. 23, March, 1984.
Nasu, Syouichi.  Modal Synthesis of Experimental Vibration Characteristics Using MSC/NASTRAN
Results as the Reference Model , The Sixth MSC/NASTRAN User’s Conf. in Japan, October, 1988,
in Japanese.
Nefske, D. J.; Sung, S. H.; Duncan, A. E.  Applications of Finite Element Methods to Vehicle
Interior Acoustic Design , Proc. of the 1984 Noise and Vibration Conf., Paper No. 840743, 1984.
Ookuma, Masaaki; Nagamatsu, Akio.  Comparison of Component Mode Synthesis Method with
MSC -NASTRAN , Nippon Kikai Gakkai Ronbunshu, C Hen, Vol. 49, No. 446, pp. 1883 -1889,
October, 1983, in Japanese.
Ookuma, Masaaki; Nagamatsu, Akio.  Comparison of Component Mode Synthesis Method with
MSC -NASTRAN , Bulletin of the JSME, Vol. 27, No. 228, pp. 1294 -1298, June, 1984.
Parekh, Jatin C.; Harris, Steve G.  The Application of the Ritz Procedure to Damping Prediction
Using a Modal Strain Energy Approach , Damping ’89, Paper No. CCB, November, 1989.
Philippopoulos, V. G.  Dynamic Analysis of an Engine -Transmission Assembly -Superelement and
Component Mode Synthesis , Proc. of the Conf. on Finite Element Methods and Technology, Paper
No.3, March, 1981.
Reyer, H.  Modal Synthesis with External Superelements in MSC/NASTRAN , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., May, 1984.&lt;/p&gt;
&lt;p&gt;1035 CHAPTER
Bibliography
Main Index
Sabahi, Dara; Rose, Ted.  Special Applications of Global -Local Analysis , The MSC 1990 World
Users Conf. Proc., Vol. II, Paper No. 49, March, 1990.
Sabahi, Dara; Rose, Ted.  MSC/NASTRAN Superelement Analysis of the NASA/AMES Pressurized
Wind Tunnel , The MSC 1990 World Users Conf. Proc., Vol. II, Paper No. 50, March, 1990.
Shein, Shya -Ling; Marquette, Brian; Rose, Ted.  Superelement Technology Application and
Development in Dynamic Analysis of Large Space Structures , The MSC 1991 World Users’ Conf.
Proc., Vol. I, Paper No. 26, March, 1991.
Suzukiri, Yoshihiro.  Component Mode Synthesis Application of MSC/NASTRAN V66 , The 2nd
Annual MSC Taiwan Users Conf., Paper No. 10, October, 1990.
Suzukiri, Yoshihiro.  Component Mode Synthesis Application of MSC/NASTRAN V66 , Proc. of the
First MSC/NASTRAN Users’ Conf. in Korea, Paper No. 17, October, 1990.
Tong, Edward T.; Chang, Craig C. J.  An Efficient Procedure for Data Recovery of a
Craig -Bampton Component , MSC 1994 World Users’ Conf. Proc., Paper No. 26, June 1994.
Wamsler, M.; Komzsik, L.; Rose, T.  Combination of Quasi -Static and Dynamic System Mode
Shapes , Proc. of the 19th MSC European Users’ Conf., Paper No. 13, September, 1992.
Wang, Bo Ping.  Synthesis of Structures with Multiple Frequency Constraints ,
AIAA/ASME/ASCE/AHS 27th Structures, Structural Dynamics and Materials Conf., Part 1,
pp.394-397, May, 1986.
DYNAMICS – DAMPING
El Maddah, M.; Imbert, J. F.  A Comparison of Damping Synthesis Methods for Space Vehicle
Dynamic Analysis , NASTRAN User’s Conf., May, 1979.
Everstine, Gordon C.; Marcus, Melvyn S.  Finite Element Prediction of Loss Factors for Structures
with Frequency - Dependent Damping Treatments , Thirteenth NASTRAN Users’ Colloq.,
pp.419-430, May, 1985, (NASA CP -2373).
Gibson, W. C.; Johnson, C. D.  Optimization Methods for Design of Viscoelastic Damping
Treatments , ASME Design Engineering Division Publication, Vol. 5, pp. 279-286, September,
1987.
Gibson, Warren C.; Austin, Eric.  Analysis and Design of Damped Structures Using
MSC/NASTRAN , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 25, May, 1992.
Johnson, Conor D.; Keinholz, David A.  Prediction of Damping in Structures with Viscoelastic
Materials Using MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 17, March,
1983.
Kalinowski, A. J.  Modeling Structural Damping for Solids Having Distinct Shear and Dilational
Loss Factors , Seventh NASTRAN Users’ Colloq., pp. 193-206, October, 1978, (NASA CP -2062).
Kalinowski, A. J.  Solution Sensitivity and Accuracy Study of NASTRAN for Large Dynamic
Problems Involving Structural Damping, Ninth NASTRAN Users’ Colloq., pp. 49-62, October,
1980, (NASA CP -2151).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1036
Main Index
Kienholz, Dave K.; Johnson, Conor D.; Parekh, Jatin C.  Design Methods for Viscoelastically
Damped Sandwich Plates , AIAA/ASME/ASCE/AHS 24th Structures, Structural Dynamics and
Materials Conf., Part 2, pp. 334-343, May, 1983.
Li, Tsung-hsiun; Bernard, James.  Optimization of Damped Structures in the Frequency Domain ,
The MSC 1993 World Users’ Conf. Proc., Paper No. 28, May, 1993.
Lu, Y. P.; Everstine, G. C.  More on Finite Element Modeling of Damped Composite Systems , J. of
Sound and Vibration, Vol. 69, No. 2, pp. 199-205, 1980.
Mace, M.  Damping of Beam Vibrations by Means of a Thin Constrained Viscoelastic Layer:&lt;br&gt;
Evaluation of a New Theory , Journal of Sound and Vibration v 172 n 5 May 19 1994.
Merchant, D. H.; Gates, R. M.; Ice, M. W.; Van Derlinden, J. W.  The Effects of Localized
Damping on Structural Response , NASTRAN:  Users’ Exper., pp. 301-320, September, 1975,
(NASA TM X -3278).
Parekh, Jatin C.; Harris, Steve G.  The Application of the Ritz Procedure to Damping Prediction
Using a Modal Strain Energy Approach , Damping ’89, Paper No. CCB, November, 1989.
Rose, Ted.  DMAP Alters to Apply Modal Damping and Obtain Dynamic Loading Output for
Superelements , The MSC 1993 World Users’ Conf. Proc., Paper No. 24, May, 1993.
Rose, Ted.; McNamee, Martin.  A DMAP Alter to Allow Amplitude -Dependent Modal Damping in
a Transient Solution , MSC 1996 World Users’ Conf. Proc., Vol. V, Paper No. 50, June, 1996.
Shieh, Rong C.  A Superefficient, MSC/NASTRAN -Interfaced Computer Code System for Dynamic
Response Analysis of Nonproportionally Damped Elastic Systems , The MSC 1993 World Users’
Conf. Proc., Paper No. 14, May, 1993.
Tonin, Renzo.  Vibration Isolation of Impacts in High -Rise Structures , The Second Australasian
MSC Users Conf., Paper No. 11, November, 1988.
DYNAMICS – FREQUENCY RESPONSE
Balasubramanian, B.; Wamsler, M.  Identification of Contributing Modes in MSC/NASTRAN
Modal Frequency Response Analyses, Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1987.
Barnett, Alan R.; Widrick, Timothy W.; Ludwiczak, Damian R.  Combining Acceleration and
Displacement Dependent Modal Frequency Responses Using An MSC/NASTRAN DMAP Alter ,
MSC 1996 World Users’ Conf. Proc., Vol. II, Paper No. 17, June, 1996.
Bellinger, Dean.  Dynamic Analysis by the Fourier Transform Method with MSC/NASTRAN , MSC
1995 World Users’ Conf. Proc., Paper No. 10, May, 1995.
Bianchini, Emanuele; Marulo, Francesco; Sorrentino, Assunta.  MSC/NASTRAN Solution of
Structural Dynamic Problems Using Anelastic Displacement Fields , Proceedings of the 36th
AIAA/ASME/ASCE/AHS/ASC Structures, Structural Dynamics, and Materials Conference and
AIAA/ASME Adpative Structures Forum, Part 5 (of 5), New Orleans, 1995.
Blakely, Ken.  Matching Frequency Response Test Data with MSC/NASTRAN , MSC 1994 World
Users’ Conf. Proc., Paper No. 17, June 1994.
Carlson, David L.; Shipley, S. A.; Yantis, T. F.  Procedure for FRF Model Tuning in
MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 71, May, 1993.&lt;/p&gt;
&lt;p&gt;1037 CHAPTER
Bibliography
Main Index
Charron, Francois; Donato, Louis; Fontaine, Mark.  Exact Calculation of Minimum Margin of
Safety for Frequency Response Analysis Stress Results Using Yielding or Failure Theories , The MSC
1993 World Users’ Conf. Proc., Paper No. 5, May, 1993.
de la Fuente, E.; San Millán, J.  Calculation within MSC/NASTRAN of the Forces Transmitted by
Multipoint Constraints (MPC) and the Forces Generated in Support Constraints , MSC 1996
World Users’ Conf. Proc., Vol. II, Paper No. 20, June, 1996.
Herbert, S.; Janavicius, P.  MSC/NASTRAN Frequency Response Analysis of the Raven Army
Communication Shelter , The Third Australasian MSC Users Conf. Proc., Paper No. 14,
November, 1989.
Herting, D. N.  Parameter Estimation Using Frequency Response Tests , MSC 1994 World Users’
Conf. Proc., Paper No. 18, June, 1994.
Kajiwara, Itsurou; Nagamatsu, Akio; Seto, Kazuto.  New Theory for Elimination of Resonance Peak
and Optimum Design of Optical Servosystem , 1994 MSC Japan Users’ Conf. Proc., Paper No. 1.
Liew, K. M.; Jiang, L.; Lim, M. K.; Low, S. C.  Numerical Evaluation of Frequency Responses for
Delaminated Honeycomb Structures , Computers and Structures v 55 n 2 Apr 17 1995.
Parker, G. R.; Brown, J. J.  Evaluating Modal Contributors in a NASTRAN Frequency Response
Analysis , MSC/NASTRAN Users’ Conf. Proc., Paper No. 14, March, 1983.
Rose, Ted.  Using Optimization in MSC/NASTRAN to Minimize Response to a Rotating
Imbalance , 1994 MSC Japan Users’ Conf. Proc., Paper No. 28, December 1994.
Shieh, Rong C.  A Superefficient, MSC/NASTRAN -Interfaced Computer Code System for Dynamic
Response Analysis of Nonproportionally Damped Elastic Systems , The MSC 1993 World Users’
Conf. Proc., Paper No. 14, May, 1993.
Soni, Ravi, et al.  Development of a Methodology to Predict the Road Noise Performance
Characteristics, The MSC 1993 World Users’ Conf. Proc., Paper No. 9, May, 1993.
Tsutsui, Keicchiro; Nogami, Ray.  Development of a Nonlinear Frequency Response Program for
Simulating Vehicle Ride Comfort , MSC 1995 World Users’ Conf. Proc., Paper No. 37, May, 1995.
Visintainer, Randal H.; Aslani, Farhang.  Shake Test Simulation Using MSC/NASTRAN , MSC
1994 World Users’ Conf. Proc., Paper No. 32, June, 1994.
Wamsler, Manfred; Krusemann, Rolf.  Calculating and Interpreting Contact Forces Between Brake
Disc and Linings in Frequency Response Analysis , Proc. of the 18th MSC Eur. Users’ Conf., Paper
No.7, June, 1991.
Yen, K. Z. Y.; Hsueh, W. C.; Hsui, T. C.  Chatter Suppression of a CNC Lathe in Inside -Diameter
Cutting , The Sixth Annual MSC Taiwan Users’ Conf. Proc., Paper No. 4, November, 1994.
DYNAMICS – MODES, FREQUENCIES, AND VIBRATIONS
(Korean).  Structural Analysis of Solar Array Substate , MSC 1994 Korea Users’ Conf. Proc.,
December, 1994, in Korean.
(Korean).  Optimal Design of Chip Mounter Considering Dynamic Characteristics , MSC 1994
Korea Users’ Conf. Proc., December, 1994, in Korean.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1038
Main Index
(Korean).  A Study on Vibration Characteristics of a Steering Wheel According to Geometric
Variations, MSC 1994 Korea Users’ Conf. Proc., December, 1994, in Korean.
(Korean).  A Study on Idle Vibration Analysis Technique Using Total Vehicle Model , MSC 1994
Korea Users’ Conf. Proc., December, 1994, in Korean.
(Korean).  Vibration Analysis for Outercase in Drum Washer and Floor , MSC 1994 Korea Users’
Conf. Proc., December, 1994, in Korean.
Ahmad, M. Fouad; Guile, Carl W.  Analysis of Coupled Natural Frequencies of Thin -Walled Beams
with Open Cross Sections Using MSC/NASTRAN , The MSC 1990 World Users Conf. Proc., Vol. I,
Paper No. 15, March, 1990.
Allen, James J.; Martinez, David R.  Techniques for Implementing Structural Model Identification
Using Test Data , Sandia National Laboratories, June, 1990, (SAND90 -1185).
Arakawa, H.; Murakami, T.; Ito, H.  Vibration Analysis of the Turbine Generator Stator Frame ,
The MSC 1988 World Users Conf. Proc., Vol. II, Paper No. 43, March, 1988.
Armand, Sasan; Lin, Paul.  Influence of Mass Moment of Inertia on Normal Modes of Preloaded
Solar Array Mast , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 12, May, 1992.
Arora, Tejbir; Birmingham, Lily.  Application of MSC/NASTRAN Superelement Dynamic
Reduction Techniques for the Vertical Launching System , The MSC 1988 World Users Conf. Proc.,
Vol. I, Paper No. 39, March, 1988.
Barnes, R. A.; Schmid, R.; Adrick, H. C.  Rotor Dynamic Analysis with MSC/NASTRAN via the
Important Modes Method, The 1989 MSC World Users Conf. Proc., Vol. I, Paper 13, March,
1989.
Barnett, Alan R.; Abdallah, Ayma A.; Ibrahim, Omar M.; Manella, Richard T.  Solving Modal
Equations of Motion with Initial Conditions Using MSC/NASTRAN DMAP Part 1:  Implementing
Exact Mode Superposition , The MSC 1993 World Users’ Conf. Proc., Paper No. 12, May, 1993.
Barnett, Alan R.; Abdallah, Ayma A.; Ibrahim, Omar M.; Sullivan, Timothy L.  Solving Modal
Equations of Motion with Initial Conditions Using MSC/NASTRAN DMAP Part 2:  Coupled vs.
Uncoupled Integration , The MSC 1993 World Users’ Conf. Proc., Paper No. 13, May, 1993.
Bella, David F.; Steinhard, E.  Critical Frequency Determination of a Flexible Rotating Structure
Attached to a Flexible Support , Proc. of the 18th MSC Eur. Users’ Conf., Paper No. 28, June, 1991.
Bella, David; Hartmueller, Hans; Muehlenfeld, Karsten; Tokar, Gabriel.  Identification of Critical
Speeds of Rotors Attached to Flexible Supports , The MSC 1993 World Users’ Conf. Proc., Paper
No.34, May, 1993.
Blakely, Ken; Rose, Ted.  Cross -Orthogonality Calculations for Pre -Test Planning and Model
Verification , The MSC 1993 World Users’ Conf. Proc., Paper No. 72, May, 1993.
Blakely, Ken; Rose, Ted.  Cross -Orthogonality Calculations for Pre -Test Planning and Model
Verification , Proc. of the 20th MSC European Users’ Conf., September, 1993.
Brughmans, M.; Lembregts, PhD. F.; Furini, PhD. F.; Storrer, O.  Modal Test on the Pininfarina
Concept Car Body “ETHOS 1&amp;quot; , Actes de la 2ème Confèrence Française Utilisateurs des Logiciels
MSC, Toulouse, France, September, 1995.
Brughmans, M.; Lembregts, F, Ph.D.; Furini, F., Ph.D.  Modal Test on the Pininfarina Concept
Car Body “ETHOS 1&amp;quot; , MSC 1995 World Users’ Conf. Proc., Paper No. 5, May, 1995.&lt;/p&gt;
&lt;p&gt;1039 CHAPTER
Bibliography
Main Index
Buchanan, Guy.  Superelement Data Recovery via the Modal Acceleration Method , The MSC 1988
World Users Conf. Proc., Vol. I, Paper No. 40, March, 1988.
Budynas, R.; Kolhatkar, S.  Modal Analysis of a Robot Arm Using Finite Element Analysis and
Modal Testing , Proc. of the 8th Int. Modal Analysis Conf., Vol. I, pp. 67-70, January, 1990.
Budynas, R. G.; Krebs, D.  Modal Correlation of Test and Finite Element Results Using Cross
Orthogonality with a Reduced Mass Matrix Obtained by Modal Reduction and NASTRAN’s
Generalized Dynamic Reduction Solution , Proc. of the 9th Int. Modal Analysis Conf., Vol. I,
pp.549-554, April, 1991.
Butler, Thomas G.; Muskivitch, John C.  Application of Flanigan’s Mode Acceleration in
MSC/NASTRAN Version 66 , The 1989 MSC World Users Conf. Proc., Vol. I, Paper No. 25,
March, 1989.
Caldwell, Steve; Wang, B. P.  Application of Approximate Techniques in the Estimation of
Eigenvalue Quality , The MSC 1993 World Users’ Conf. Proc., Paper No. 11, May, 1993.
Campanile, P.; Pisino, E.; Testi, R.; Manzilli, G.; Minen, D.  Flexible Structures in Adams Using
Modal Data from NASTRAN,  Proc. of the 21st MSC European Users’ Conf., Italian Session,
September, 1994.
Carlson, Mark.  Applications of Finite Element Analysis for an Improved Musical Instrument
Design , MSC 1996 World Users’ Conf. Proc., Vol. I, Paper No. 8, June, 1996.
Carneiro, S. H. S.; Duarte, J. A. A.; Mendonca, C. B.  Theoretical and Experimental Modal
Analysis of the VLS (Satellite Launcher Vehicle) Bent , Proc. of the 2nd MSC/NASTRAN Users’
Conf. in Brazil, Paper No. 3, March, 1993, in Portuguese.
Case, William R. Jr.  NASTRAN DMAP Alter for Determining a Local Stiffness Modification to
Obtain a Specified Eigenvalue , NASTRAN:  Users’ Exper., pp. 269-284, September, 1973, (NASA
TM X -2893).
Case, William R.  A NASTRAN DMAP Procedure for Calculation of Base Excitation Modal
Participation Factors , Eleventh NASTRAN Users’ Colloq., pp. 113-140, May, 1983.
Cattani, E.; Micelli, D.; Sereni, L.; Cocordano, S.  Cylinder Block Eigenfrequencies and
Eigenvectors Prediction with a Linear Brick and Wedge Finite Element Model , Proc. of the 19th
MSC European Users’ Conf., Paper No. 16, September, 1992.
Chang, Cuann -yeu; Chang, Yuan -bing.  Using MSC/NASTRAN to Obtain Modal Parameters , The
MSC 1988 World Users Conf. Proc., Vol. I, Paper No. 21, March, 1988.
Chargin, M. L.; Dunne, L. W.; Herting, D. N.  Nonlinear Dynamics of Brake Squeal , MSC 1996
World Users’ Conf. Proc., Vol. V, Paper No. 47, June, 1996.
Chen, J. T.; Chyuan, S. W.; You, D. W.; Wong, H. T.  A New Method for Determining the Modal
Participation Factor in Support Motion Problems Using MSC/NASTRAN , The Seventh Annual
MSC/NASTRAN Users’ Conf. Proc., Taiwan, 1995.
Clary, Robert R.  Practical Analysis of Plate Vibrations Using NASTRAN , NASTRAN:  Users’
Exper., pp. 325-342, September, 1971, (NASA TM X -2378).
Cohen, Allan R.; Laurenson, Robert M.  Application of a Substructure Technique for STS/Payload
Coupled Modal Analysis , Proc. of the MSC/NASTRAN Users’ Conf., March, 1979.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1040
Main Index
Concilio, A.; Del Gatto, S.; Lecce, L.; Miccoli, G.  Simple and Cheap Noise and Vibration Active
Control System Using Collocated Piezoelectric Devices on a Panel , Proceedings of the 11th
International Modal Analysis Conference, Florida, 1993.
Courtney, Roy Leon.  NASTRAN Modeling Studies in the Normal -Mode Method and
Normal -Mode Synthesis , NASTRAN:  Users’ Exper., pp. 181-200, September, 1971, (NASA TM
X-2378).
Cronkhite, James D.; Smith, Michael R.  Experiences in NASTRAN Airframe Vibration Prediction
at Bell Helicopter Textron , American Helicopter Soc. Dynamics Specialists Mtg., Section 6,
Vibrations Session I, Paper No. 1, November, 1989.
Cross, C.; Rao, A.  Comparison of Modal Performance of Alternate Compressor Bracket Design ,
Seventh Australasian Users Conf. Proc., Sydney, October, 1993.
Deger, Yasar.  Modal Analysis of a Concrete Gravity Dam - Linking FE Analysis and Test Results ,
Proc. of the 20th MSC European Users’ Conf., September, 1993.
Deutschel, Brian William.  A Systematic Approach Using Finite Elements for Improving Vehicle
Ride, CAD/CAM Robotics and Factories of the Future Integration of Design, Analysis, and
Manufacturing (Proc.), Springer -Verlag Berlin, Heidelberg, Vol. I, pp. 150-154, 1989.
Deutschel, Brian W.; Katnik, Richard B.; Bijlani, Mohan; Cherukuri, Ravi.  Improving Vehicle
Response to Engine and Road Excitation Using Interactive Graphics and Modal Reanalysis Methods ,
SAE Trans., Paper No. 900817, September, 1991.
Egashira, Yuji.  Large Scale Vibration Analysis of Car Body Using Superelement Method , The
Second MSC/NASTRAN User’s Conf. in Japan, October, 1984, in Japanese.
El-Bayoumy, Lotfi.  Identification and Correction of Damaging Resonances in Gear Drives , Gear
Technology, Vol. 1, No. 2, pp. 14-19, August/September, 1984.
Ferg, D.; Foote, L.; Korkosz, G.; Straub, F.; Toossi, M.; Weisenburger, R.  Plan, Execute, and
Discuss Vibration Measurements, and Correlations to Evaluate a NASTRAN Finite Element Model
of the AH -64 Helicopter Airframe , National Aeronautics and Space Administration, January, 1990,
(NASA CR -181973).
Flanigan, Chris.  Methods for Calculating and Using Modal Initial Conditions in MSC/NASTRAN,
Proc. of the Conf. on Finite Element Methods and Technology, March, 1980.
Flanigan, C.  An Alternate Method for Mode Acceleration Data Recovery in MSC/NASTRAN , Proc.
of the Conf. on Finite Element Methods and Technology, Paper No. 7, March, 1981.
Flanigan, Christopher C.  Efficient and Accurate Procedures for Calculating Data Recovery Matrices
for Superelement Models , The 1989 MSC World Users Conf. Proc., Vol. II, Paper No. 44, March,
1989.
Flanigan, Christopher C.  Implementation of the IRS Dynamic Reduction Method in
MSC/NASTRAN , The MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 13, March, 1990.
Friberg, Olof; Karlsson, Rune; Akesson, Bengt.  Linking of Modal and Finite Elements in Structural
Vibration Analysis , Proc. of the 2nd Int. Modal Analysis Conf. and Exhibit, Vol. 1, pp. 330-339,
February, 1984.
Gallaher, Bruce.  Determination of Structural Dynamic Response Sensitivity to Modal Truncation ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 10, March, 1986.&lt;/p&gt;
&lt;p&gt;1041 CHAPTER
Bibliography
Main Index
Ghosh, Tarun; Nall, Marsha; Muniz, Ben; Cheng, Joseph.  Space Station Solar Array Pointing
System Control/Structure Interaction Study Using CO-ST -IN for Modal Reduction , The MSC 1993
World Users’ Conf. Proc., Paper No. 68, May, 1993.
Gieseke, R. K.  Modal Analysis of the Mated Space Shuttle Configuration , NASTRAN:  Users’
Exper., pp. 221-236, September, 1971, (NASA TM X -2378).
Girard, A.; Boullet, A.; Dardel, R.  Dynamic Analysis of a Satellite Using the Normal Modes of the
Appendages , Proc. of the MSC/NASTRAN Eur. Users’ Conf., April, 1985.
Grandle, Robert E.; Rucker, Carl E.  Modal Analysis of a Nine -Bay Skin -Stringer Panel ,
NASTRAN:  Users’ Exper., pp. 343-362, September, 1971, (NASA TM X -2378).
Gupta, Viney K.; Zillmer, Scott D.; Allison, Robert E.  Solving Large -Scale Dynamic Systems Using
Band Lanczos Method in Rockwell NASTRAN on Cray X -MP, Fourteenth NASTRAN Users’
Colloq., pp. 236-246, May, 1986, (NASA CP -2419).
Hardman, E. S.  Static and Normal Modes Analysis of an Aircraft Structure Using the NASTRAN
External Superelement Method , Proc. of the MSC/NASTRAN Eur. Users’ Conf., May, 1986.
Harn, Wen -Ren; Hwang, Chi -Ching.  Evaluation of Direct Model Modification Methods via
MSC/NASTRAN DMAP Procedures , The MSC 1990 World Users Conf. Proc., Vol. II, Paper
No.43, March, 1990.
Hayashida, Mirihiro.  Application of Design Sensitivity Analysis to Reduction of Vibration of Ship’s
Deck Structure , The Sixth MSC/NASTRAN User’s Conf. in Japan, October, 1988, in Japanese.
Herting, D. N.; Joseph, J. A.; Kuusinen, L. R.; MacNeal, R. H.  Acoustic Analysis of Solid Rocket
Motor Cavities by a Finite Element Method , National Aeronautics and Space Administration,
pp.285-324, September, 1971, (NASA TM X -2378).
Herting, David N.  Accuracy of Results with NASTRAN Modal Synthesis , Seventh NASTRAN
Users’ Colloq., pp. 389-404, October, 1978, (NASA CP -2062).
Hill, R. G.  The Use of MSC/NASTRAN to Determine the Impact Response of a Reactor Core Due to
Seismic Loading , The MSC 1987 World Users Conf. Proc., Vol. I, Paper No. 26, March, 1987.
Hirano, Tohru.  Visual Evaluation Method for the Vibration Analysis Utilizing a Super Intelligent
Color Graphic Display , The First MSC/NASTRAN User’s Conf. in Japan, October, 1983, in
Japanese.
Hsueh, W. c.; Hsui, T. C.; Yen, K. Z. Y.  Modal and Frequency Response Analyses of Vertical
Machining Center Structures - VC65 , The Fifth Annual MSC Taiwan Users’ Conf. Proc.,
November, 1993.
Huang, Jieh -Shan.  Detect the Variety of Structural System by the Vibration Test , The 2nd Annual
MSC Taiwan Users Conf., Paper No. 11, October, 1990, in Chinese.
Igarashi, Mitsuo.  Eigenvalue Analysis of Shaft Supported by Anti -Isotropic Bearing , The Fifth
MSC/NASTRAN User’s Conf. in Japan, October, 1987, in Japanese.
Ito, Hiroyuki.  Application of Modal Analysis Technique for Cars , The Fourth MSC/NASTRAN
User’s Conf. in Japan, October, 1986, in Japanese.
Jabbour, K. N.  Normal Mode Analysis of the Radio Astronomy Explorer (RAE) Booms and
Spacecraft , NASTRAN:  Users’ Exper., pp. 237-250, September, 1971, (NASA TM X -2378).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1042
Main Index
Jasuja, S. C.; Borowski, V. J.; Anderson, D. H.  Finite Element Modeling Techniques for the
Simulation of Automotive Powertrain Dynamics, Proc. of the 5th Int. Modal Analysis Conf.,
Vol. II, pp. 1520 -1530, April, 1987.
Jiang, K. C.; Gahart, R.  Analysis and Modal Survey Test of Intelsat VIIA Deployed Solar Array ,
MSC 1994 World Users’ Conf. Proc., Paper No. 27, June 1994.
Jiang, L.; Liew, K.M.; Lim, M.K.; Low, S.C.  Vibratory Behaviour of Delaminated Honeycomb
Structures: a 3 -D Finite Element Modelling , Computers and Structures v 55 n 5 Jun 3 1995.
Ju, Yeuan Jyh; Ting, Tienko.  Modelling and Analysis of an Accelerometer Using MSC/ARIES and
MSC/NASTRAN , MSC 1995 World Users’ Conf. Proc., Paper No. 22, May, 1995.
Kabe, Alvar M.  Mode Shape Identification and Orthogonalization , AIAA/ASME/ASCE/AHS/ASC
29th Structures, Structural Dynamics and Materials Conf., Paper No. 88-2354, 1988.
Kajiwara, Itsuro; Nagamatsu, Akio.  Optimum Design of Structure and Control Systems by Modal
Analysis , 1994 MSC Japan Users’ Conf. Proc.
Kam, T. Y.; Yang, C. M.; Wu, J. H.  Determination of Natural Frequencies of Laminated
Composite Space Structures Via The Experiemental and Finite Element Approaches , The Sixth
Annual MSC Taiwan Users’ Conf. Proc., Paper No. 5, November, 1994.
Kang, J. M.; Kim, J. Y.; Lee, K. J.; Yum, D. J.; Seol, Y. S.; Rashed, S. Kawahara, A.  Simulation of
3-D Sloshing and Structural Response in Ship’s Tanks Taking Account of Fluid -Structure
Interaction , 1994 MSC Japan Users’ Conf. Proc., Paper No. 29, December 1994.
Kasai, Manabu.  Better Accuracy of Response Derived from Modal Analysis, The Second
MSC/NASTRAN User’s Conf. in Japan, October, 1984, in Japanese.
Katnik, Richard B.; Yu, Che-Hsi; Wolf, Walt.  Interactive Modal Animation and Structural
Modification , Proc. of the 6th Int. Modal Analysis Conf., Vol. I, pp. 947-952, February, 1988.
Kelley, William R.; Isley, L. D.  Using MSC/NASTRAN for the Correlation of Experimental Modal
Models for Automotive Powertrain Structures , The MSC 1993 World Users’ Conf. Proc., Paper
No.8, May, 1993.
Kientzy, Donald; Richardson, Mark; Blakely, Ken.  Using Finite Element Data to Set Up Modal
Tests , Sound and Vibration, June, 1989.
Knott, George; Ishin, Young; Chargin, M.  A Modal Analysis of the Violin , The MSC 1988 World
Users Conf. Proc., Vol. II, Paper No. 42, March, 1988.
Kodiyalam, Srinivas; Graichen, Catherine M.; Connell, Isobel J.; Finnigan, Peter M.  Design
Optimization of Satellite Structures for Frequency, Strength, and Buckling Requirements , Aerospace
Sciences Meeting and Exhibit, AIAA, January, 1993.
Krishnamurthy, Ravi S.  Stress and Vibration Analysis of Radial Gas Turbine Components ,
Sixteenth NASTRAN Users’ Colloq., pp. 128-137, April, 1988, (NASA CP -2505).
Lapi, M.; Grangier, H.  Modal Effective Parameters:  an Application to Shipboard Support
Structures to Reduce Vibrations Transmission , Proc. of the 17th MSC Eur. Users’ Conf., Paper
No.5, September, 1990.
Larkin, Paul A.; Miller, Michael W.  MSC/NASTRAN Superelement Analysis , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 10, March, 1982.&lt;/p&gt;
&lt;p&gt;1043 CHAPTER
Bibliography
Main Index
Lawrie, Geoff.  The Determination of the Normal Modes of a Gliding Vehicle , The Sixth
Australasian MSC Users Conf. Proc., November, 1992.
Lee, Jyh -Chian.  Using Residual Vector in MSC/NASTRAN Modal Frequency Response to Improve
Accuracy, The 4th MSC Taiwan Users’ Conf., Paper No. 8, November, 1992, in Chinese.
Lee, Sang H.  Effective Modal Mass for Characterization of Vibration Modes , Proc. of the Second
MSC/NASTRAN Users’ Conf. in Korea, Paper No. 22, October, 1991.
Liepins, Atis A.; Conaway, John H.  Application of NASTRAN to Propeller -Induced Ship
Vibration , NASTRAN:  Users’ Exper., pp. 361-376, September, 1975, (NASA TM X -3278).
Lim, Tae W.; Kashangaki, Thomas A. L.  Structural Damage Detection of Space Truss Structures
Using Best Achievable Eigenvectors , AIAA Journal v32 n 5 May 1994.
Lipman, Robert R.  Computer Animation of Modal and Transient Vibrations , Fifteenth
NASTRAN Users’ Colloq., pp. 111-117, August, 1987, (NASA CP -2481).
Liu, Dauh -Churn, Shieh, Niahn -Chung.  Vibration Suppression of High Precision Grinding
Machine Using Finite Element Method (MSC/NASTRAN) , The Sixth Annual MSC Taiwan Users’
Conf. Proc., Paper No. 7, November, 1994.
Lu, Y. P.; Killian, J. W.; Everstine, G. C.  Vibrations of Three Layered Damped Sandwich Plate
Composites , J. of Sound and Vibration, Vol. 64, No. 1, pp. 63-71, 1979.
Lui, C. Y.; Mason, D. R.  Space Shuttle Redesigned Solid Rocket Motor Nozzle Natural Frequency
Variations with Burn Time , AIAA/SAE/ASME 27th Joint Propulsion Conf., Paper No. AIAA
91-2301, June, 1991.
Lundgren, Gert.  MSC’s Solvers Predict the Best Attachment of the Sunbeam Tiger Fiberglass
Front -End , MSC 1996 World Users’ Conf. Proc., Vol. II, Paper No. 16, June, 1996.
Marcus, Melvyn S.  A Finite-Element Method Applied to the Vibration of Submerged Plates , J. of
Ship Research, Vol. 22, No. 2, pp. 94-99, June, 1978.
Marcus, Melvyn S.; Everstine, Gordon C.; Hurwitz, Myles M.  Experiences with the QUAD4
Element for Shell Vibrations , Sixteenth NASTRAN Users’ Colloq., pp. 39-43, April, 1988, (NASA
CP-2505).
Mase, M.; Saito, H.  Application of FEM for Vibrational Analysis of Ground Turbine Blades,
MSC/NASTRAN Users’ Conf., March, 1978.
McMeekin, Michael; Kirchman, Paul.  An Advanced Post Processing Methodology for Viewing
MSC/NASTRAN Generated Analyses Results , MSC 1994 World Users’ Conf. Proc., Paper No. 21,
June, 1994.
Mei, Chuh; Rogers, James L. Jr.  NASTRAN Nonlinear Vibration Analyses of Beam and Frame
Structures , NASTRAN:  Users’ Exper., pp. 259-284, September, 1975, (NASA TM X -3278).
Mei, Chuh; Rogers, James L. Jr.  Application of the TRPLT1 Element to Large Amplitude Free
Vibrations of Plates , Sixth NASTRAN Users’ Colloq., pp. 275-298, October, 1977, (NASA
CP-2018).
Meyer, Karl A.  Normal Mode Analysis of the IUS/TDRS Payload in a Payload
Canister/Transporter Environment , Eighth NASTRAN Users’ Colloq., pp. 113-130, October,
1979, (NASA CP -2131).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1044
Main Index
Michiue, Shinsuke.  On the Accuracy in Vibration Analysis for Cylindrical Shell -Comparison
Between QUAD4/QUAD8 , The First MSC/NASTRAN User’s Conf. in Japan, October, 1983, in
Japanese.
Miller, R. D.  Theoretical Analysis of HVAC Duct Hanger Systems , Fifteenth NASTRAN Users’
Colloq., pp. 222-249, August, 1987, (NASA CP -2481).
Nack, Wayne V.; Joshi, Arun M.  Friction Induced Vibration , MSC 1995 World Users’ Conf.
Proc., Paper No. 36, May, 1995.
Nagayasu, Katsuyosi.  Method for Prediction of Noise -Oriented Vibration on Pipe Lines to
Refrigerators , The Third MSC/NASTRAN User’s Conf. in Japan, October, 1985, in Japanese.
Nagendra, Gopal K.; Herting, David N. Design Sensitivity for Modal Analysis , The 1989 MSC
World Users Conf. Proc., Vol. I, Paper No. 22, March, 1989.
Nagy, Lajos I.; Cheng, James; Hu, Yu -Kan.  A New Method Development to Predict Brake Squeal
Occurence , MSC 1994 World Users’ Conf. Proc., Paper No. 14, June, 1994.
Neads, M. A.; Eustace, K. I.  The Solution of Complex Structural Systems by NASTRAN within the
Building Block Approach , NASTRAN User’s Conf., May, 1979.
Newman, Malcolm; Pipano, Aaron.  Fast Modal Extraction in NASTRAN via the FEER Computer
Program , NASTRAN:  Users’ Exper., pp. 485-506, September, 1973, (NASA TM X -2893).
Nishiwaki, Nobukiyo.  Coupled Vibration of Rotating Disc and Blades , The Second
MSC/NASTRAN User’s Conf. in Japan, October, 1984, in Japanese.
Overbye, Vern D.  MSC/NASTRAN Dynamic Analysis:  Modal or Direct?,  MSC/NASTRAN
Users’ Conf. Proc., Paper No. 6, March, 1986.
Pamidi, M. R.; Pamidi, P. R.  Modal Seismic Analysis of a Nuclear Power Plant Control Panel and
Comparison with SAP IV , NASTRAN:  Users’ Exper., pp. 515-530, October, 1976, (NASA TM
X-3428).
Pamidi, P. R.  On the Append and Continue Features in NASTRAN , Seventh NASTRAN Users’
Colloq., pp. 405-418, October, 1978, (NASA CP -2062).
Paolozzi, A.  Interfacing MSC/NASTRAN with a Structural Modification Code , Proc. of the 18th
MSC Eur. Users’ Conf., Paper No. 30, June, 1991.
Park, H. B.; Suh, J. K.; Cho, H. G.; Jung, G. S.  A Study on Idle Vibration Analysis Technique
Using Total Vehicle Model , MSC 1995 World Users’ Conf. Proc., Paper No. 6, May, 1995.
Parker, G. R.; Brown, J. J.  Kinetic Energy DMAP for Mode Identification , MSC/NASTRAN Users’
Conf. Proc., Paper No. 8, March, 1982.
Parker, G. R.; Brown, J. J.  Evaluating Modal Contributors in a NASTRAN Frequency Response
Analysis , MSC/NASTRAN Users’ Conf. Proc., Paper No. 14, March, 1983.
Pulgrano, Louis J.; Masters, Steven G.  Self-Excited Oscillation of a 165 Foot Water Tower , MSC
1995 World Users’ Conf. Proc., Paper No. 32, May, 1995.
Reyer, H.  Modal Synthesis with External Superelements in MSC/NASTRAN , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., May, 1984.
Rose, Ted.  A Method to Apply Initial Conditions in Modal Transient Solutions , The MSC 1991
World Users’ Conf. Proc., Vol. I, Paper No. 13, March, 1991.&lt;/p&gt;
&lt;p&gt;1045 CHAPTER
Bibliography
Main Index
Rose, Ted.  Some Suggestions for Evaluating Modal Solutions , The MSC 1992 World Users’ Conf.
Proc., Vol. I, Paper No. 10, May, 1992.
Rose, Ted.  Using Optimization in MSC/NASTRAN to Minimize Response to a Rotating
Imbalance , MSC 1994 Korea Users’ Conf. Proc., December, 1994.
Rose, Ted.  Using Dynamic Optimization to Minimize Driver Response to a Tire Out -of-Balance ,
MSC 1994 Korea Users’ Conf. Proc., December, 1994.
Rose, Ted.  Using Optimization in MSC/NASTRAN to Minimize Response to a Rotating
Imbalance , 1994 MSC Japan Users’ Conf. Proc., Paper No. 28, December 1994.
Rose, Ted L.  Using Optimization in MSC/NASTRAN to Minimize Response to a Rotating
Imbalance , The Sixth Annual MSC Taiwan Users’ Conf. Proc., Paper No. D, November, 1994.
Saito, Hiroshi; Watanabe, Masaaki.  Modal Analysis of Coupled Fluid -Structure Response ,
MSC/NASTRAN Users’ Conf. Proc. March, 1982.
Salvestro, Livio; Sirocco, Howden; Currie, Andrew.  Cyclic Symmetry Analysis of an Air Blower
Fan, Seventh Australasian Users Conf. Proc., Sydney, October, 1993.
Scanlon, Jack; Swan, Jim.  A Stand -Alone DMAP Program for Modal Cross -Correlation , MSC
1995 World Users’ Conf. Proc., Paper No. 40, May, 1995.
Schiavello, D. V.; Sinkiewicz, J. E.  DMAP for Determining Modal Participation ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 15, March, 1983.
Schwering, W. Shulze.  A DMAP for Identification of Modeshapes , Proc. of the MSC/NASTRAN
Eur. Users’ Conf., June, 1983.
Shalev, D.; Unger, A.  Nonlinear Analysis Using a Modal -Based Reduction Technique , Composite
Structures v31 n 4 1995.
Shalev, Doron; Unger, A.  Nonlinear Analysis Using a Modal Based Reduction Technique , The
MSC 1993 World Users’ Conf. Proc., Paper No. 51, May, 1993.
Shippen, J. M.  Normal Modes Analysis of Spin Stabilised Spacecraft Possessing Cable Booms , Proc.
of the 18th MSC Eur. Users’ Conf., Paper No. 29, June, 1991.
Shirai, Yujiro; Arakawa, Haruhiko; Toda, Nobuo; Taneda, Yuji; Sakura, Kiyoshi.  Active Vibration
Control for Aircraft Wing , JSME International Journal, v 36 n 3 Spe 1993.
Shy, Tyson; Hsiu, T. C.; Yen, K. Z. Y.  Optimization of Structure Design of a Machining Center ,
The Sixth Annual MSC Taiwan Users’ Conf. Proc., Paper No. 6, November, 1994.
Somayajula, Gopichand; Stout, Joseph; Tucker, John.  Eigenvalue Reanalysis Using Subspace
Iteration Techniques , The 1989 MSC World Users Conf. Proc., Vol. I, Paper No. 26, March,
1989.
Stack, Charles P.; Cunningham, Timothy J.  Design and Analysis of Coriolis Mass Flowmeters
Using MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 54, May, 1993.
Starnes, James H. Jr.  Vibration Studies of a Flat Plate and a Built -Up Wing , NASTRAN:  Users’
Exper., pp. 637-646, September, 1971, (NASA TM X -2378).
Su, Hong.  Structural Analysis of Ka -BAND Gimbaled Antennas for a Communications Satellite
System , MSC 1996 World Users’ Conf. Proc., Vol. IV, Paper No. 33, June, 1996.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1046
Main Index
Subrahmanyam, K. B.; Kaza, K. R. V.; Brown, G. V.; Lawrence, C.  Nonlinear Vibration and
Stability of Rotating, Pretwisted, Preconed Blades Including Coriolis Effects , J. of Aircraft, Vol. 24,
No.5, pp. 342-352, May, 1987.
Sundaram, S. V.; Hohman, Richard L.; Richards, Timothy R.  Vibration Modes of a Tire Using
MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 26, March, 1985.
Tamba, Richard; Mowbray, Graham; Rao, Ananda.  An Effective Method to Increase the Natural
Frequencies of a Transmission Assembly , The Sixth Australasian MSC Users Conf. Proc., November,
1992.
Tawekal, Ricky; Budiyanto, M. Agus.  Finite Element Model Correlation for Structures , The MSC
1993 World Users’ Conf. Proc., Paper No. 73, May, 1993.
Tawekal, Ricky L.; Miharjana, N. P.  Validation of 3650 DWT Semi Containe Ship Finite Element
Model by Full Scale Measurements , MSC 1994 World Users’ Conf. Proc., Paper No. 19, June,
1994.
Thornton, Earl A.  A NASTRAN Correlation Study for Vibrations of a Cross -Stiffened Ship’s Deck ,
NASTRAN:  Users’ Exper., pp. 145-160, September, 1972, (NASA TM X -2637).
Ting, Tienko; Chen, Timothy L. C.; Twomey, William.  A Practical Solution to Mode Crossing
Problem in Continuous Iterative Procedure , The 1989 MSC World Users Conf. Proc., Vol. I, Paper
No.14, March, 1989.
Ting, Tienko; Chen, T.; Twomey, W.  Correlating Mode Shapes Based on Modal Assurance
Criterion , The MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 21, May, 1992.
Tokuda, Naoaki; Mitikami, Shinsuke; Sakata, Yoshiuki.  Accuracy of Vibration Analysis for Thin
Cylindrical Shell by MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 28, March,
1984.
Vaillette, David.  Evaluation of the Modal Response of a Pressure Vessel Filled with a Fluid , The
MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 24, March, 1991.
Vance, Judy, M.; Bernard, James E.  Approximating Eigenvectors and Eigenvalues Across a Wide
Range of Design , Finite Elements in Analysis and Design v 14 n 4 Nov 1993.
Vandepitte, D.; Wijker, J. J.; Appel, S.; Spiele, H.  Normal Modes Analysis of Large Models, and
Applications to Ariane 5 Engine Frame , Proc. of the 18th MSC Eur. Users’ Conf., Paper No. 6,
June, 1991.
Wamsler, M.; Komzsik, L.; Rose, T.  Combination of Quasi-Static and Dynamic System Mode
Shapes , Proc. of the 19th MSC European Users’ Conf., Paper No. 13, September, 1992.
Wang, B. P.; Cheu, T. C.; Chen, T. Y.  Optimal Design of Compressor Blades with Multiple
Natural Frequency Constraints , ASME Design Engineering Division Publication, Vol. 5,
pp.113-117, September, 1987.
Wang, B. P.; Lu, C. M.; Yang, R. J.  Topology Optimization Using MSC/NASTRAN , MSC 1994
World Users’ Conf. Proc., Paper No. 12, June, 1994.
Wang, Bo Ping.  Minimum Weight Design of Structures with Natural Frequency Constraints Using
MSC/NASTRAN , The MSC 1988 World Users Conf. Proc., Vol. II, Paper No. 60, March, 1988.
Welte, Y.  Vibration Analysis of an 8MW Diesel Engine , Proc. of the MSC/NASTRAN Eur. Users’
Conf., May, 1986.&lt;/p&gt;
&lt;p&gt;1047 CHAPTER
Bibliography
Main Index
West, Timothy S.  Approximate Dynamic Model Sensitivity Analysis For Large, Complex Space
Structues , MSC 1996 World Users’ Conf. Proc., Vol. I, Paper No. 6, June, 1996.
Wijker, J. J.  Substructuring Technique Using the Modal Constraint Method , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., June, 1983.
Wijker, J. J.  MSC/NASTRAN Normal Mode Analysis on CRAY Computers , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., June, 1983.
Yang, Howard J.  Sorted Output in MSC/NASTRAN , Proc. of the Conf. on Finite Element
Methods and Technology, Paper No. 4, March, 1981.
Yen, K. Z. Y.; Hsueh, W. C.; Hsui, T. C.  Chatter Suppression of a CNC Lathe in Inside -Diameter
Cutting , The Sixth Annual MSC Taiwan Users’ Conf. Proc., Paper No. 4, November, 1994.
Zhu, H.; Knight, D.  Finite Element Forced Response Analysis on the Mondeo Front End Accessory
Drive System , Proc. of the 20th MSC European Users’ Conf., September, 1993.
Shock and Vibration Handbook , Page 4-8, 3rd Edition, Cyril M. Harris, McGraw Hill, 1987.
Frequency-domain analysis of nonlinear circuits driven by multi-tone signals, A.Ushida and
L.O.Chua, IEEE Trans. Circuits Syst., Vol. CAS-31, pp. 766-778, Sept. 1984.
Steady-State Response of Continuous Nonlinear Rotor-Bearing Systems Using Analytical
Approach, J.W. Zu and Z.Y. Ji, Journal of Engineering for Gas Turbines and Power, ASME, 120,
pp 751 - 758, 1998
DYNAMICS - PORO-ELASTIC
Atalla, N., et al., A Mixed Displacement-pressure Formulation for Poroelastic Materials , Journal of the
Acoustical Society of America, 104(3), pp. 1444-1452, 1998.
Atalla, N., et al., Enhanced Weak Integral Formulation for the Mixed (u, p) Poroelastic Equations ,
Journal of the Acoustical Society of America, 109(6), pp. 3065-3068, 2001.
Biot, M.A., Theory of Propagation of Elastic Waves in a Fluid-Saturated Porous Solid – Low Frequency
Range , Journal of the Acoustical Society of America, 28(2), pp. 168-178, 1956.
Biot, M.A., Theory of Propagation of Elastic Waves in a Fluid-Saturated Porous Solid – High Frequency
Range , Journal of the Acoustical Society of America, 28(2), pp. 179-191, 1956.
FFT, Chapter 15, Poro-Elastic Elements , Actran 12 Users Guide, Volume 1: Installation, Operations,
Theory and Utilities.
DYNAMICS – RANDOM RESPONSE
Barnett, Alan R.; Widrick, Timothy W.; Ludwiczak, Damian R.  Combining Acceleration and
Displacement Dependent Modal Frequency Responses Using An MSC/NASTRAN DMAP Alter ,
MSC 1996 World Users’ Conf. Proc., Vol. II, Paper No. 17, June, 1996.
Chiang, C. K.; Robinson, J. H.; Rizzi, S. A.  Equivalent Linearization Solution Sequence for
MSC/NASTRAN , Winter Annual Meeting of the American Society of Mechanical Engineers,
pp.133-138, November, 1992.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1048
Main Index
Ciuti, Gianluca.  Avionic Equipment Dynamic Analysis , MSC 1995 European Users’ Conf. Proc.,
Italian Session, September, 1995.
Coyette, J. P.; Lecomte, C.; von Estorff, O.  Evaluation of the Response of a Coupled Elastic
Structure Subjected to Random Mechanical or Acoustical Excitations Using MSC/NASTRAN and
SYSNOISE , MSC European Users’ Conf., Paper No. 21, September, 1996.
Crispino, Maurizio.  A 3-D Model for the Evaluation through Random Analysis of Vertical Dynamic
Overloads in High Speed Railway Lines , MSC 1995 European Users’ Conf. Proc., Italian Session,
September, 1995.
Galletly, Robert; Wagner, R. J.; Wang, G. J.; Zins, John.  Random Vibration and Acoustic Analysis
Using ARI RANDOM, a NASTRAN Post Processor , MSC/NASTRAN Users’ Conf. Proc., Paper
No.26, March, 1984.
Hatheway, A.  Random Vibrations in Complex Electronic Structures , MSC/NASTRAN Users’
Conf. Proc., Paper No. 13, March, 1983.
Hatheway, Alson E.  Evaluation of Ceramic Substrates for Packaging of Leadless Chip Carriers ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 16, March, 1982.
Michels, Gregory J.  Vibroacoustics Random Response Analysis Methodology , MSC 1995 World
Users’ Conf. Proc., Paper No. 9, May, 1995.
Palmieri, F. W.  Example Problems Illustrating the Effect of Multiple Cross Correlated Excitations
on the Response of Linear Systems to Gaussian Random Excitations , The MSC 1988 World Users
Conf. Proc., Vol. I, Paper No. 18, March, 1988.
Palmieri, F. W.  A Method for Predicting the Output Cross Power Spectral Density Between Selected
Variables in Response to Arbitrary Random Excitations , The MSC 1988 World Users Conf. Proc.,
Vol. I, Paper No. 19, March, 1988.
Parthasarathy, Alwar; Elzeki, Mohamed; Abramovici, Vivianne.  PSDTOOL-A DMAP
Enhancement to Harmonic/ Random Response Analysis in MSC/NASTRAN , The MSC 1993 World
Users’ Conf. Proc., Paper No. 36, May, 1993.
Robinson, J. H.; Chiang, C. K.; Rizzi, S. A.  Nonlinear Random Response Prediction Using
MSC/NASTRAN , National Aeronautics and Space Administration, Hampton, VA, Langley
Research Center, October, 1993.
Robinson, Jay H.; Chiang, C. K.  An Equivalent Linearization Solution Sequence for
MSC/NASTRAN , The MSC 1993 World Users’ Conf. Proc., Paper No. 35, May, 1993.
Schwab, H. L.; Caffrey, J.; Lin, J.  Fatigue Analysis Using Random Vibration , MSC 1995 World
Users’ Conf. Proc., Paper No. 17, May, 1995.
Shieh, Niahn Chung.  Investigation of Swept Sine on Random Load , The 4th MSC Taiwan Users’
Conf., Paper No. 18, November, 1992, in Chinese.
Zins, J.  Random Vibration and Acoustic Analysis Using ARI RANDOM a NASTRAN
Postprocessor , Proc. of the MSC/NASTRAN Eur. Users’ Conf., Paper No. 4, May, 1984.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P54</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_054/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_dynamic_analysis_user_guide/msc_nastran_2024.1_dynamic_analysis_user_guide_054/</guid>
      <description>
        
        
        &lt;p&gt;1049 CHAPTER
Bibliography
Main Index
DYNAMICS – REDUCTION METHODS
Abdallah, Ayman A.; Barnett, Alan R.; Widrick, Timothy W.; Manella, Richard T.; Miller, Robert
P.  Stiffness -Generated Rigid -Body Mode Shapes for Lanczos Eigensolution with Support DOF Via a
MSC/NASTRAN DMAP Alter , MSC 1994 World Users’ Conf. Proc., Paper No. 10, June, 1994.
Flanigan, Christopher C.  Implementation of the IRS Dynamic Reduction Method in
MSC/NASTRAN , The MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 13, March, 1990.
Fox, Gary L.  Evaluation and Reduction of Errors Induced by the Guyan Transformation , Tenth
NASTRAN Users’ Colloq., pp. 233-248, May, 1982, (NASA CP -2249).
Komzsik, L.; Dilley, G.  Practical Experiences with the Lanczos Method , Proc. of the
MSC/NASTRAN Users Conf., Paper No. 13, March, 1985.
Kuang, Jao -Hwa; Lee, Chung -Ying.  On a Guyan -Reduction Recycled Eigen Solution Technique ,
The 2nd Annual MSC Taiwan Users Conf., Paper No. 13, October, 1990.
Levy, Roy.  Guyan Reduction Solutions Recycled for Improved Accuracy , NASTRAN:  Users’
Exper., pp. 201-220, September, 1971, (NASA TM X -2378).
Maekawa, Seiyou.  Effect of Guyan Reduction and Generalized Dynamic Reduction , The Second
MSC/NASTRAN User’s Conf. in Japan, October, 1984, in Japanese.
Mera, A.  MSC/NASTRAN Normal Mode Analysis with GDR:  An Evaluation of Limitations ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 27, March, 1985.
Mera, Andrew.  Static Reduction and Symmetry Transformation of Large Finite Element Models ,
Proc. of the MSC/NASTRAN Users’ Conf., Paper No. 12, March, 1979.
Vandepitte, D.; Wijker, J. J.; Appel, S.; Spiele, H.  Normal Modes Analysis of Large Models, and
Applications to Ariane 5 Engine Frame , Proc. of the 18th MSC Eur. Users’ Conf., Paper No. 6,
June, 1991.
Vollan, Arne; Kaporin, Igor; Babikov, Pavel.  Practical Experience with Different Iterative Solvers
for Linear Static and Modal Analysis of Large Finite Element Models , Proc. of the 21st MSC
European Users’ Conf., Italian Session, September, 1994.
Walker, James W.  Evaluation of MSC/NASTRAN Generalized Dynamic Reduction and Response
Spectrum Analysis by Comparison with STARDYNE , MSC/NASTRAN Users’ Conf., March,
1978.
DYNAMICS – RESPONSE SPECTRUM
Barber, Pam; Arden, Kevin.  Dynamic Design Analysis Method (DDAM) Using MSC/NASTRAN ,
MSC 1994 World Users’ Conf. Proc., Paper No. 31, June, 1994.
Cutting, Fred.  Individual Modal Accelerations as the Result of a Shock Response Spectra Input to a
Complex Structure , The 1989 MSC World Users Conf. Proc., Vol. I, Paper No. 11, March, 1989.
Gassert, W.; Wolf, M.  Floor Response Spectra of a Reactor Building Under Seismic Loading
Calculated with a 3 -D Building Model , Proc. of the MSC/NASTRAN Eur. Users’ Conf., June,
1983.
Hirata, M.; Ishikawa, K.; Korosawa, M.; Fukushima, S.; Hoshina, H.  Seismic Analysis of
Plutonium Glovebox by MSC/NASTRAN , January, 1993.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1050
Main Index
Kiureghian, Structural Response to Stationary Excitation,.
Kubota, Minoru.  Response Spectrum Analysis of Underground Tank Dome Roof Using Image
Superelement Method , The Fifth MSC/NASTRAN User’s Conf. in Japan, October, 1987, in
Japanese.
Moharir, M. M.  Shock Wave Propagation and NASTRAN Linear Algorithms , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 7, March, 1986.
Newmark N.M, Seismic Design Criteria for Structures and Facilities: Trans-Alaska Pipeline System,
.
Overbye, Vern D.  MSC/NASTRAN Dynamic Analysis:  Modal or Direct? , MSC/NASTRAN
Users’ Conf. Proc., Paper No. 6, March, 1986.
Parris, R. A.  Aspects of Seismic Analysis Using MSC/NASTRAN , Proc. of the MSC/NASTRAN
Eur. Users’ Conf., Paper No. 7, June, 1983.
Parthasarathy, A.  CONSPEC-A DMAP System for Conventional Response -Spectrum Analysis in
MSC/NASTRAN , MSC/NASTRAN Users’ Conf. Proc., Paper No. 8, March, 1986.
Petteno, L.; Rossetto, P.  Tecnomare Experiences in DMAP Processing , Proc. of the
MSC/NASTRAN Eur. Users’ Conf., May, 1984.
Rose, Ted L.  Using Superelements for Response Spectrum and Other Handy Alters , The 1989 MSC
World Users Conf. Proc., Vol. II, Paper No. 45, March, 1989.
Walker, James W.  Evaluation of MSC/NASTRAN Generalized Dynamic Reduction and Response
Spectrum Analysis by Comparison with STARDYNE, MSC/NASTRAN Users’ Conf., March, 1978.
DYNAMICS – SEISMIC
Bonaldi, P.; Peano, A.; Ruggeri, G.; Venturuzzo, M.  Seismic and Impact Analyses of Nuclear Island
Buildings of Italian Unified Nuclear Design , Proc. of the 15th MSC/NASTRAN Eur. Users’ Conf.,
October, 1988.
Burroughs, John W.  An Enhancement of NASTRAN for the Seismic Analysis of Structures , Ninth
NASTRAN Users’ Colloq., pp. 79-96, October, 1980, (NASA CP -2151).
Chen, J. T.; Chyuan, S. W.; Yeh, C. S.; Hong, H. K.  Comparisons of Analytical Solution and
MSC/NASTRAN Results on Multiple -Support Motion of Long Bridge During Earthquake , The 4th
MSC Taiwan Users’ Conf., Paper No. 20, November, 1992.
Chen, J. T.; Hong, H. K.; Yen, C. S.; Chyuan, S. W.  Integral Representations and Regularizations
for a Divergent Series Solution of a Beam Subjected to Support Motions , Earthquake Engineering
and Structural Dynamics, Vol. 25, pp. 909 -925, 1996.
Chen, Yohchia.  Nonlinear Seismic Analysis of Bridges:  Practical Approach and Comparative
Study , The MSC 1993 World Users’ Conf. Proc., Paper No. 57, May, 1993.
Chen, Yohchia.  Refined Analysis for Soil -Pipe Systems , MSC 1994 World Users’ Conf. Proc., Paper
No. 38, June, 1994.
Dahlgren, F.; Citrolo, J.; Knutson, D.; Kalish, M.  Dynamic Analysis of the BPX Machine Structure ,
Proc. of the 14th IEEE/NPSS Symp. on Fusion Engineering, Vol. 1, pp. 47-49, 1992.&lt;/p&gt;
&lt;p&gt;1051 CHAPTER
Bibliography
Main Index
Fallet, P.; Derivery, J. C.  MSC/NASTRAN Earthquake Analysis , NASTRAN User’s Conf., May,
1979.
Hill, Ronald G. Nonlinear Seismic Analysis of a Reactor Structure with Impact Between Core
Components , NASTRAN:  Users’ Exper., pp. 397-418, September, 1975, (NASA TM X -3278).
Hirata, M.; Ishikawa, K.; Korosawa, M.; Fukushima, S.; Hoshina, H.  Seismic Analysis of
Plutonium Glovebox by MSC/NASTRAN , January, 1993.
Liepins, Atis A.; Nazemi, Hamid.  Virtual Mass of Fluid in Egg -Shaped Digesters , The MSC 1993
World Users’ Conf. Proc., Paper No. 77, May, 1993.
Nomura, Yoshio.  Seismic Response Analysis by MSC/NASTRAN for Coupled Structure - Ground
and Pile , The Fifth MSC/NASTRAN User’s Conf. in Japan, October, 1987, in Japanese.
Pamidi, M. R.; Pamidi, P. R.  Modal Seismic Analysis of a Nuclear Power Plant Control Panel and
Comparison with SAP IV , NASTRAN:  Users’ Exper., pp. 515-530, October, 1976, (NASA TM
X-3428).
Tsaur, D. H.; Chyuan, S. W.; Chen, J. T.  On the Accuracy of MSC/NASTRAN on Response of
Two-Span Beams to Spatially Varying Seismic Excitation , The 4th MSC Taiwan Users’ Conf.,
Paper No. 9, November, 1992.
Yiak, K. C.; Pezeshk, S.  Seismic Study of a Cable -Stayed Bridge , Proceedings of the Structures
Congrees ’94, Atlanta, 1994.
Zhou, Hongye; Chen, Youping.  The Influence of Phase -Difference Effects on Earthquake Response
of Cable -Stayed Bridges , MSC 1994 World Users’ Conf. Proc., Paper No. 37, June, 1994.
DYNAMICS – TRANSIENT ANALYSIS
(Korean).  Vibration Analysis for Outercase in Drum Washer and Floor , MSC 1994 Korea Users’
Conf. Proc., December, 1994, in Korean.
Aslani, Chang; Yatheendar, Manicka; Visintainer, Randal, H.; Rohweder, David S.; Lopez de Alda,
Juan.  Simulation of Proving Ground Events for Heavy Truck Cabs Using Adams,
MSC/NASTRAN, and P/FATIGUE , MSC 1994 World Users’ Conf. Proc., Paper No. 5, June
1994.
Barber, Pam; Arden, Kevin.  Dynamic Design Analysis Method (DDAM) Using MSC/NASTRAN ,
MSC 1994 World Users’ Conf. Proc., Paper No. 31, June, 1994.
Barnett, Alan R.; Ibrahim, Omar M.; Sullivan, Timothy L.; Goodnight, Thomas W.  Transient
Analysis Mode Participation for Modal Survey Target Mode Selection Using MSC/NASTRAN
DMAP , MSC 1994 World Users’ Conf. Proc., Paper No. 8, June, 1994.
Bellinger, Dean.  Dynamic Analysis by the Fourier Transform Method with MSC/NASTRAN , MSC
1995 World Users’ Conf. Proc., Paper No. 10, May, 1995.
Chargin, M. L.; Dunne, L. W.; Herting, D. N.  Nonlinear Dynamics of Brake Squeal , MSC 1996
World Users’ Conf. Proc., Vol. V, Paper No. 47, June, 1996.
Cifuentes, A. O.; Herting, D. N.  Transient Response of a Beam to a Moving Mass Using a Finite
Element Approach , Innovative Numerical Methods in Engineering, Proc. of the Fourth Int. Symp.
on Numerical Methods in Engineering, Springer -Verlag, pp. 533-539, March, 1986.&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1052
Main Index
Cifuentes, A. O.; Lalapet, S.  Transient Response of a Plate to an Orbiting Mass , Proc. of the Second
Panamerican Cong. of Applied Mechanics, January, 1991.
Cifuentes, A. O.; Lalapet, S.  A General Method to Determine the Dynamic Response of a Plate to an
Orbiting Mass , Computers and Structures, Vol. 42, No. 1, pp. 31-36, 1992.
Dai, Chung C.; Yang, Jackson C. S.  Direct Transient Analysis of a Fuse Assembly by Axisymmetric
Solid Elements , Thirteenth NASTRAN Users’ Colloq., pp. 431-452, May, 1985, (NASA
CP-2373).
Deloo, Ph.; Klein, M.  In-Orbit Disturbance Sensitivity Analysis of the Hubble Space Telescope New
Solar Arrays , Proc. of the 19th MSC European Users’ Conf., Paper No. 11, September, 1992.
Everstine, Gordon C.  A NASTRAN Implementation of the Doubly Asymptotic Approximation for
Underwater Shock Response , NASTRAN:  Users’ Exper., pp. 207-228, October, 1976, (NASA TM
X-3428).
Flanigan, Christopher C.  Accurate Enforced Motion Analysis Using MSC/NASTRAN
Superelements , MSC 1994 World Users’ Conf. Proc., Paper No. 25, June, 1994.
Frye, John W.  Transient Analysis of Bodies with Moving Boundaries Using NASTRAN,
NASTRAN:  Users’ Exper., pp. 377-388, September, 1975, (NASA TM X -3278).
Hirata, M.; Ishikawa, K.; Korosawa, M.; Fukushima, S.; Hoshina, H.  Seismic Analysis of
Plutonium Glovebox by MSC/NASTRAN , January, 1993.
Katnik, Richard B.; Deutschel, Brian; Cherukuri, Ravi.  Transient Response of a Vehicle Over Road
Bumps Using the Fourier Transform in a Modal Subspace , The MSC 1992 World Users’ Conf.
Proc., Vol. I, Paper No. 6, May, 1992.
Kim, Hyoung M.; Bartkowicz, Theodoore J.; Van Horn, David A.  Data Recovery and Model
Reduction Methods for Large Structures , The MSC 1993 World Users’ Conf. Proc., Paper No. 23,
May, 1993.
Larkin, Paul A.; Miller, Michael W.  STS Coupled Loads Analysis Using MSC/NASTRAN ,
MSC/NASTRAN Users’ Conf. Proc., Paper No. 18, March, 1985.
Lee, J. H.; Tang, J. H. K.  Dynamic Response of Containments Due to Shock Wave , Proc. of the Int.
Conf. on Containment Design, pp. 25-32, June, 1984.
Lee, Sang H.; Bock, Tim L.; Hsieh, Steve S.  Adaptive Time Stepping Algorithm for Nonlinear
Transient Analysis , The MSC 1988 World Users Conf. Proc., Vol. II, Paper No. 54, March, 1988.
Leifer, Joel; Gross, Michael.  Non-Linear Shipboard Shock Analysis of the Tomahawk Missile Shock
Isolation System , 58th Shock and Vibration Symp., Vol. 1, pp. 97-117, October, 1978, (NASA
CP-2488).
Lipman, Robert R.  Computer Animation of Modal and Transient Vibrations , Fifteenth
NASTRAN Users’ Colloq., pp. 111-117, August, 1987, (NASA CP -2481).
Mattana, G.; Miranda, D.  MSC/NASTRAN Applications in P -180 Analysis , Proc. of the
MSC/NASTRAN First Italian Users’ Conf., October, 1987.
McMeekin, Michael; Kirchman, Paul.  An Advanced Post Processing Methodology for Viewing
MSC/NASTRAN Generated Analyses Results , MSC 1994 World Users’ Conf. Proc., Paper No. 21,
June, 1994.&lt;/p&gt;
&lt;p&gt;1053 CHAPTER
Bibliography
Main Index
McNamee, Martin J.; Zavareh, Parviz.  Nonlinear Transient Analysis of a Shock Isolated
Mechanical Fuse , The MSC 1990 World Users Conf. Proc., Vol. I, Paper No. 21, March, 1990.
Neilson, H. C.; Everstine, G. C.; Wang, Y. F.  Transient Response of Submerged Fluid -Coupled
Double -Walled Shell Structure to a Pressure Pulse , J. of the Acoustic Soc. of America, Vol. 70,
No.6, pp. 1776 -1782, December, 1981.
Pamidi, P. R.  On the Append and Continue Features in NASTRAN , Seventh NASTRAN Users’
Colloq., pp. 405-418, October, 1978, (NASA CP -2062).
Rose, Ted.  A Method to Apply Initial Conditions in Modal Transient Solutions , The MSC 1991
World Users’ Conf. Proc., Vol. I, Paper No. 13, March, 1991.
Rose, Ted.; McNamee, Martin.  A DMAP Alter to Allow Amplitude - Dependent Modal Damping
in a Transient Solution , MSC 1996 World Users’ Conf. Proc., Vol. V, Paper No. 50, June, 1996.
Swan, Jim.  A DMAP Alter for Interface Loads Across Superelements in Dynamic Analyses , The
MSC 1992 World Users’ Conf. Proc., Vol. I, Paper No. 23, May, 1992.
Tang, C. C.  Space Station Freedom Solar Array Wing:  Nonlinear Transient Analysis of Plume
Impingement Load , MSC 1994 World Users’ Conf. Proc., Paper No. 35, June, 1994.
Urban, Michael R.; Dobyns, Alan.  MSC/NASTRAN Transient Analysis of Cannon Recoil Loads on
Composite Helicopters , The MSC 1991 World Users’ Conf. Proc., Vol. I, Paper No. 28, March,
1991.
West, Timothy S.  Approximate Dynamic Model Sensitivity Analysis For Large, Complex Space
Structues , MSC 1996 World Users’ Conf. Proc., Vol. I, Paper No. 6, June, 1996.
Wingate, Robert T.; Jones, Thomas C.; Stephens, Maria V.  NASTRAN Postprocessor Program for
Transient Response to Input Accelerations , NASTRAN:  Users’ Exper., pp. 707-734, September,
1973, (NASA TM X -2893).
Yang, Jackson C. S.; Goeller, Jack E.; Messick William T.  Transient Analysis Using Conical Shell
Elements , NASTRAN:  Users’ Exper., pp. 125-142, September, 1973, (NASA TM X -2893).&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide 1054
Main Index&lt;/p&gt;
&lt;p&gt;MSC.Mvision Builder and Evaluator 2002 Installation Guide
IndexIndex
MSC Nastran Dynamic Analysis User’s Guide&lt;br&gt;
Main Index
A
ABS option , 383
ACCELERATION , 176
Acceleration , 6
Acceleration loads
example , 837
Acceleration method , 837
accelerations , 310
ACMODL , 544
Acoustic absorbers , 461
Acoustic analysis , 427, 438, 459
advanced methods , 465
diagnostics , 464
example , 467
job cost estimation , 462
model building , 459
MSC Nastran setup , 462
run strategies , 462
Acoustic barriers , 461
Acoustic loads , 128
Acoustic panels , 461
ACSRCE , 431
ADAMSMNF , 724
Adative time stepping , 861
Aerodynamic
degrees of freedom , 897
displacements , 897
extra points , 897
influence coefficient matrix , 896
matrices
generation of , 897
methods , 891
theories , 893
Aeroelastic
transient response analysis , 903Aeroelastic analysis , 889
DMAP sequences , 895
dynamic response , 890
flutter, 891
modules , 895
optimization , 891, 895
overview , 895
special features , 892
static response , 889
theoretical implementation in MSC.Nastran , 895
Aeroeleastic analysis
flutter, 890
Aeroeleastic solutions , 892
Applied loads , 898
ASCOUP , 429
ASET, 29, 685
ASETi, 829
Auto-correlation Function (AUTO) , 355
Automatic Givens method , 50
Automatic Householder method , 50, 65
auto-PSDs , 355
B
B2GG, 220, 818
B2PP, 220, 818
Base excitations , 33
Beating , 254
Bulk Data Entries
NLRSFD , 885
TABDMP1 , 675
C
CACABSF , 430
Case Control Commands
SDAMPING , 675
CBAR, 22, 88
CBEAM , 22
CBEND , 22
CBUSH , 22&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
1056
Main Index
CDAMPi , 141, 220, 227
CELASi , 78
CFAST , 22
CHACAB , 430, 570
CHACBR , 430
Characteristic frequency , 40
Characteristic shape , 40
CHEXA , 22, 83, 570
Circular natural frequency , 9, 42
CMASSi , 22, 27, 328, 329
Complex arithmetic , 128
Complex eigensolutions , 654, 656
Complex Lanczos method , 657
example , 661
Hessenberg method , 656, 660
Inverse power method , 657
Modal Hessenberg method , 658
modeling techniques , 660
user interface , 658
Complex eigenvalue analysis , 654
complex eigenvalue analysis , 194
complex source strength , 578
Component mode synthesis , 465, 829, 837
Computer resource requirements , 682
Computer resources , 21
CONEAX , 22
CONMi , 22, 27, 328, 329
CONROD , 22
Consistent mass , 23, 24, 25, 26
Control system , 877
Control systems , 892
example , 823
Coriolis forces , 31, 852
Coupled acoustic analysis
job output , 463
Coupled fluid -structural analysis
fluid model definition , 429
loading , 430
nonmatching mesh , 429
panel, 429coupled fluid -structural analysis
acoustic absorber , 430
acoustic barrier , 430
acoustic source , 431
enforced pressures , 430
fluid-structure interface , 431
matching mesh , 429
normal modes analysis , 431
output and plotting , 432
single -point constraints , 431
superelement analysis , 431
Coupled mass , 22, 23, 24, 25, 26
Coupled mass matrix terms , 29
Coupled scalar mass
example , 30
CPENTA , 22, 83
CQUAD4 , 22, 78, 570
CQUAD8 , 22
CQUADR , 22
CRAC2D , 22
CRAC3D , 22
Craig-Bampton , 725
Critical damping , 10
CROD, 22, 23
cross-PSDs , 355
CSHEAR , 22
CTETRA , 22
CTRIA3 , 22, 78
CTRIA6 , 23
CTRIAR , 23
CTRIAX6 , 23
CTUBE , 23
CVISC, 141, 220, 227
D
Damped circular natural frequency , 11
damper elements , 644
Damping , 33, 276, 679
modal, 282
nonlinear , 289
structural , 279, 290
viscuous , 278, 289
Damping ratio , 11
DAREA , 154, 158, 159, 177, 178, 188, 239,
242, 252, 258, 328, 344&lt;/p&gt;
&lt;p&gt;1057 INDEX
Main Index
Data recovery
and superelements , 647
for modal methods , 642
Decoupled response solutions , 465
DELAY , 155, 159, 177, 239, 243, 252
Design optimization , 876
Design sensitivity , 894
DIAG 10 , 847
Direct frequency response analysis , 128, 143
damping , 129
excitation definition , 150
Direct matrix input , 818
Direct matrix input (DMIGs) , 818, 820
Direct transient response analysis , 218, 231
damping , 220
excitation definition , 232
initial conditions , 221
DISPLACEMENT , 56, 74, 176, 186
displacements , 310
DLOAD , 328
DLOAD (Bulk Data) , 160, 177, 178, 188, 245, 252,
258, 344
DLOAD (Case Control) , 158, 160, 175, 181, 188,
242, 258
DMIG, 88
Doublet Lattice method , 892, 893
Downwash , 896
DPHASE , 155, 177, 178, 188
Dynamic absorbers , 183
Dynamic amplification factor , 13, 15
Dynamic degrees of freedom , 7
Dynamic reduction , 828
E
EDE, 699
effective mass , 689
Eigenvalue , 41, 44
Eigenvalue extraction methods , 48
Givens , 48
Householder , 48
inverse power , 48
Lanczos , 48
modified Givens , 48
modified Householder , 48
Sturm modified inverse power , 48Eigenvalue problem , 41, 43
Eigenvector , 41, 42, 44
MASS normalization , 47
MAX normalization , 47
orthogonality , 45
POINT normalization , 47
scaling , 46
strain energy , 47
EIGR, 53, 56, 57, 65, 94, 142, 177
EIGRL, 56, 57, 74, 142, 177, 178, 181, 188, 252,
258
EKE, 697
ELFORCE , 176, 186, 249
ELSTRESS , 176, 249
Enforced acceleration , 326
Enforced motion , 308
with loads , 317
enforced motion , 310, 313, 314
EPOINT , 877
ESE, 74, 695
Excitations , 123
Extra points , 660, 899
F
FLSFSEL , 570
FLSPOUT , 570
FLSTCNT , 570
Fluid
boundaries , 460
examples , 457
loads, 128
fluid load participation , 551
fluid mode participation , 551
fluid-structure panel participation , 551
fluid-structure panel-grid participation , 552
Flutter , 890, 894
Flutter analysis , 891, 894
PKmethod , 892
FORCE , 176
Forced vibration analysis , 12&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
1058
Main Index
Fourier
coefficients , 438
transform methods , 877
transform, inverse , 903
transformations , 903
transforms , 352
Free surfaces , 453
Free vibration analysis , 8
FREQ1 , 316
FREQ4 , 316
FREQi, 177, 178, 181, 188
FREQUENCY , 175, 181, 188
Frequency increment , 679
Frequency range , 21
Frequency response , 879, 894
equations for , 323
frequency response , 194, 309, 310
Frequency response analysis , 122
Frequency response guidelines
damping , 679
frequency increment , 679
number of retained modes , 678
Fundamental frequency , 40
Fundamental shape , 40
G
General dynamic reduction , 833
Generalized aerodynamic matrices , 899
Generalized mass , 44, 66
Generalized stiffness , 45, 66
Geometric nonlinearity , 841
Givens method , 49
Gravity effects , 456
Gravity, acceleration of , 27
GRDSET , 100
Grid Point Weight Generator (GPWG) , 686
Guidelines , 669
Guyan reduction , 829, 832
H
Halfpower bandwidth , 174
Halfpower bandwidth
Half?power bandwidth , 674
Hertz, 9
Hessenberg method , 656, 660HFREQFL parameter , 142
Householder method , 49
Hydroelastic analysis , 427
Hydroelastic modeling , 439
data processing , 444
sample , 445
solution sequences , 443
Hysteresis , 289
I
IC, 229, 254
IC(MODAL) , 229
IC(PHYSICAL) , 229
IC(STATSUB,DIFFK) , 229
IC(STATSUB) , 229
INCLUDE , 78
Include files , 78
Inertia relief , 21, 32, 33, 898
Inertial loads approach , 319
input data , 320
recommendations , 320
initial condition , 228
Initial conditions , 9
Integration matrix , 896
Interation strategies , 864
Inverse Fourier Transform , 903
Inverse power method , 50, 657, 658
Inverse transformation , 880
K
Flutter analysis
Kmethod , 899
Kmethod , 899
K2GG, 90, 818
K2PP, 818
kinetic energy , 694, 695
L
Lagrange multiplier method , 320, 850
DMAP alter implementation , 321
Lanczos , 683&lt;/p&gt;
&lt;p&gt;1059 INDEX
Main Index
Lanczos method , 49, 50, 74, 78, 84, 95, 657, 658
block size , 52
diagnostic output , 52
normalizes , 52
shift, 52, 95
Large mass method , 318, 330, 331, 838
Large mass/spring method , 317, 318
Large springs method , 318
LFREQFL parameters , 142
Linear transient integration method , 859
LMODESFL parameters , 142
Load tranformation
time to frequency , 879
Loading methods , 125
recommendations , 127
Loads, 21
LOADSET , 175
Logarithmic decrement , 675
Log-Log , 357
LSEQ, 177, 178, 252
Lumped mass , 22, 23, 25, 26
M
M2GG , 27, 91, 818
M2PP, 27, 818
Mach box method , 893
Mach number , 900
Mass, 21
mass density , 27, 67
PARAM,WTMASS , 27
units, 26
weight density , 27, 67
Mass distribution , 686
Mass matrix , 21, 42, 898
Mass modeling
and inertia relief , 21
effects in moving coordinate systems , 30
parameters , 29
massless mechanism , 58
Material nonlinearity , 842
MATi, 28, 129, 141, 220, 227
GE, 36
RHO, 28
Matrix method , 142, 231
for modal response , 643Matrix reduction , 20
Matrix reduction methods
theory, 829
Matrix theory
dynamic response , 323
MAXMIN(DEF) , 267
MCFRACTION , 194, 197, 198
Mechanical filter
example , 317
Mechanism , 45, 92
Mechanisms , 33
MEFFMASS , 691
Memory requirements , 683
METHOD , 175, 181, 188, 258
METHOD(FLUID) , 431, 570
METHOD(STRUCT) , 570
METHOD(STRUCTURE) , 431
MID1, 293
MID2, 293
MID3, 293
MID4, 293
Modal analysis , 642, 689
modal contribution fraction , 194, 197
modal damping , 675
Modal damping matrix , 900
modal damping processing , 675
Modal formulation
in aeroelastic solutions , 893
Modal frequency response analysis , 137, 143
damping , 138
excitation definition , 150
Modal Hessenberg method , 658
modal kinetic energy , 691
Modal mass matrix , 900
modal participation factor , 194
Modal stiffness matrix , 900
Modal transformations , 820
Modal transient response analysis , 222, 231
damping , 224
excitation definition , 232
mode truncation , 227
MODALKE , 692
MODALSE , 693
Mode acceleration , 644&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
1060
Main Index
Mode displacement
vector method , 642
Mode displacement method , 142, 231
Mode shape , 40, 42
Model debugging , 684
hints, 684
modal analysis , 689
static loading , 688
testing , 685
thermal test case , 689
Modeling
debugging , 684
geometry plots , 685
recommendations , 21
testing , 685
MODES , 74
Modified Givens method , 49
Modified Householder method , 49
MSC.ADAMS , 725
Multiple boundary conditions , 86
N
Natural frequency , 9, 26, 40
Newmark integration , 860
NLRSFD , 883
NOLINi , 844, 845, 849, 877
Nonlinear element library , 852
Nonlinear load functions (NOLINi) , 845
example , 847, 850
input recommendations , 849
velocity dependent , 848
Nonlinear transient analysis (SOL 129) , 289
solution sequences , 848
Nonlinear transient response , 852
user interface , 853
Nonlinear transient response analysis , 841
Nonstructural mass , 28, 68
Normal frequency , 40
Normal modes analysis , 41, 42
Numerical conditioning , 318
O
OFREQUENCY , 175
OLOAD , 176, 186
OMT, 29Options
automated meshing , 20
Orthogonality , 45
Output requests , 21
Overdamped system , 10
P
P2G, 818
PACABS , 430
PACBAR , 430
PANEL , 429, 570
PARAM
DDRMM,-1 , 697, 698, 700
GRDPNT , 687, 740, 742
MECHFIX , 58
NMLOOP , 724
RESVEC , 313
SHLDAMP , 293, 295
WTMASS , 740, 742
PARAMs
COUPMASS , 73
DDRMM , 143, 706, 708
G, 129, 220
GRDPNT , 78, 670
KDAMP , 141
LFREQ , 330, 346
MAXRATIO , 97
W3, 220, 221, 675
W4, 220, 675
WTMASS , 67, 329, 344, 673
participation factor , 690
PBUSH , 295
Peak response calculation , 389
Period of response , 9
Perturbations , 660
Phantom structural boundaries , 456
Phase lead , 15
Phase shift , 122
Pickups , 822
Piston theory , 893
Plastic yield , 289
PLOAD4 , 178, 191, 193, 252
Plotting , 275, 349, 381
Poisson&amp;rsquo;s ratio , 904
PostScript , 705, 711
PRESPT , 439&lt;/p&gt;
&lt;p&gt;1061 INDEX
Main Index
PRESSURE , 432, 439
Q
Quality factor , 35, 278
Quasi Newton line searches , 862
R
Random response analysis , 128, 465, 894
aeroelastic , 903
theory, 352
with coupled excitations , 350
RANDPS , 570
Rayleigh&amp;rsquo;s equation , 45
RBE2, 330
Reduced frequency , 896, 900
Repeated roots , 48
residual structure , 197
residual vector , 648
Resonance , 13, 15
Resonance frequency , 40
Resonant frequency , 40
Response spectra analysis , 382, 390
examples , 393
generation , 387
user interface , 391
user interface , 392
response spectrum analysis , 690
Restarts , 411, 863
Rigid body
modes , 326
Rigid body drift , 330
Rigid body modes , 45, 92
RLOAD1 , 150, 159, 178, 193, 312, 313
RLOAD2 , 152, 178, 188, 312, 313, 315
Root Mean Square
RMS, 357
RPRINT , 358
RPUNCH , 358
r-set, 898
RVDOF , 651
RVDOF1 , 651
S
SACCELERATION , 176SDAMPING , 175, 181, 188, 258
SDISPLACEMENT , 176, 186
SEUSETi,U6 , 651
SID, 235
Single degree offreedom (SDOF) system , 6
SOLs
109, 247, 844
110, 654
112, 247, 844
129, 841
200, 876
28, 654
Solution sequences
SOL 103 , 392
SOL 129 , 849
SORT1 , 176
SORT2 , 176, 178
SPC, 308, 312, 313
SPC1, 308, 313
SPCD, 308, 312
SPCFORCES , 176
Spectral densities , 350
Spinning bodies , 31
SPOINT , 877
Squeeze Film Dampers (SFDs) , 883
SRSS method , 384
Static
aeroelasticity , 893
equations of motion , 897
condensation , 829
loading , 688
preloads , 127
Static condensation , 829
Static degrees of freedom , 7
Stiffness matrix , 42
STRAIN , 176
strain energy , 691
STRESS , 74, 176
Strip theory , 892, 893
Structural damping , 34, 276, 900
structural damping , 293
structure mode participation , 551
Structure plotting , 704
Sturm modified inverse power method , 50, 68
Sturm sequence technique , 658&lt;/p&gt;
&lt;p&gt;MSC Nastran Dynamic Analysis User’s Guide
1062
Main Index
Subsonic theory , 893
Substructuring , 836
Superelement analysis , 836
Superelements , 290, 465
reduction operations , 29
superelements , 197
SUPORT , 94, 95, 96, 97, 98, 100, 330
SVECTOR , 176
SVELOCITY , 176
Symmetry , 86
T
TABDMP1 , 139, 177, 178, 181, 188, 252, 258,
673
TABLED1 , 159, 178, 188, 193, 243, 252, 344
TABLED4 , 340
TABLEDi , 150, 177
TABRND1 , 570
Thermal test case , 689
TIC, 221, 229, 252, 254
Time step , 219, 224, 246, 680
TLOAD1 , 232, 243, 252, 312, 313, 329, 344
TLOAD2 , 236, 252, 258, 312, 313, 329
Transducers , 822
Transfer functions , 28, 29, 353, 660, 818, 821
example , 823
higher order , 822
limitations , 821
Transient analysis , 382
solutions theory , 846
transient analysis , 308
Transient response , 894
equations for , 324
Transient response analysis , 218
Transient response guidelines
damping , 681
duration of computed response , 680
integration time step , 680
number of retained modes , 680
TSTEP (Bulk Data) , 246, 252, 254, 258
TSTEP (Case Control) , 246, 254, 258
Tuned mass dampers , 183
U
Underdamped system , 11Units of measure , 37
Unstable integration , 847
User messages
3035, 94, 101, 103
USETi,U6 , 651
V
VECTOR , 56, 176, 248
velocities , 310
VELOCITY , 176
Velocity , 6
Virtual fluid mass , 427, 451, 465
example , 452
theory, 453
user interface , 451
Virtual mass
phantom boundaries , 456
singularities for enclosed volumes , 454
Viscoelastic materials , 904
example , 907
Viscous damping , 33
W
WEIGHTCHECK , 687, 688
X
XY plotting , 710
Z
ZONA51 , 892&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
