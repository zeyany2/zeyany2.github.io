<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DOC REPO – MSC Nastran manuals</title>
    <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/</link>
    <description>Recent content in MSC Nastran manuals on DOC REPO</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    
	  <atom:link href="//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>User&#39;s Manual P1</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_001/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_001/</guid>
      <description>
        
        
        &lt;p&gt;MSC Nastran 2024.1
Embedded Vibration Fatigue
User’s GuideMSC Nastran Embedded Vibration Fatigue User’s Guide&lt;/p&gt;
&lt;p&gt;Worldwide Web
&lt;a href=&#34;https://www.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;www.hexagon.com&lt;/a&gt;
Support
&lt;a href=&#34;https://simcompanion.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com&lt;/a&gt;
Disclaimer
Hexagon reserves the right to make changes in specifications and other information contained in this document without prior notice.
The concepts, methods, and examples presented in this text are for illustrative and educational purposes only, and are not intended
to be exhaustive or to apply to any particular engineering problem or design. Hexagon assumes no liability or responsibility to any
person or company for direct or indirect damages resulting from the use of any information contained herein.
User Documentation: Copyright 2024 Hexagon AB and/or its subsidiaries. All Rights Reserved.
This notice shall be marked on any reproduction of this documentation, in whole or in part. Any reproduction or distribution of this
document, in whole or in part, without the prior written consent of Hexagon is prohibited.
This software may contain certain third-party software that is protected by copyright and licensed from Hexagon suppliers. Additional
terms and conditions and/or notices may apply for certain third party software. Such additional third party software terms and
conditions and/or notices may be set forth in documentation and/or at third-party software information  (or successor website designated
by Hexagon from time to time).
PCGLSS 8.0, Copyright © 1992-2016, Computational Applications and System Integration Inc. All rights reserved. PCGLSS 8.0 is
licensed from Computational Applications and System Integration Inc.
The Hexagon logo, Hexagon, MSC Software logo, MSC, Dytran, Marc, MSC Nastran, Patran, e -Xstream, Digimat, and Simulating
Reality are trademarks or registered trademarks of Hexagon AB and/or its subsidiaries in the United States and/or other countries.
NASTRAN is a registered trademark of NASA. FLEXlm and FlexNet Publisher are trademarks or registered trademarks of Flexera
Software. All other trademarks are the property of their respective owners.
Use, duplicate, or disclosure by the U.S. Government is subjected to restrictions as set forth in FAR 12.212 (Commercial Computer
Software) and DFARS 227.7202 (Commercial Computer Software and Commercial Computer Software Documentation), as
applicable.
U.S. Patent 9,361,413
May 16, 2024
NA:V2024.1:Z:Z:Z:DC-VIBRATION_FATIGUE-PDFCorporate Office
Hexagon Manufacturing Intelligence, Inc. UK
78 Portsmouth Road Cedar House
Cobham, Surrey KT11 1HY
Telephone: (+44) 02070686555&lt;/p&gt;
&lt;p&gt;Documentation Feedback
At Hexagon Manufacturing Intelligence, we strive to produce the highest quality documentation and
welcome your feedback. If you have comments or suggestions about our documentation, write to us .
Please include the following information with your feedback:
Document name
Release/Version number
Chapter/Section name
Topic title (for Online Help)
Brief description of the content (for example, incomplete/incorrect information, grammatical
errors, information that requires clarification or more details and so on).
Your suggestions for correcting/improving documentation
Note:   The above mentioned e-mail address is only for providing documentation specific
feedback. If you have any technical problems, issues, or queries, please contact Technical
Support .&lt;/p&gt;
&lt;p&gt;Contents
MSC Nastran Embedded Vibration Fatigue User’s Guide&lt;/p&gt;
&lt;p&gt;ContentsPreface
About this Book  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  x
Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  x
List of MSC Nastran Guides . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  xi
Technical Support  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  xii
Training and Internet Resources . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  xii
1 Fundamentals
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
What is Fatigue? . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  2
Rand om Vibration . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  4
What is the Freq uency Domain?  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  5
What is a P SD?. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  8
Signal Param eters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  12
What is a Transfer Fu nction? . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  15
Life Estim ation Process . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  17
2 Introduction to User Interface
Overview . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  30
FATIGUE Case Control  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  33
Fatigue Element Definitions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  36
Fatigue Parameters  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  45
Fatigue Loading  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  49
Analysis Model Units  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  63
Fatigue Optimization  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  64&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guidevi
3 Single I nput Random Loading
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  72
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  73
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  92
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  93
4 More Fa tigue Results
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  102
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  102
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  120
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  122
5 Stati c Offset on Random
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  134
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  135
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  141
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  142
6 Sine Sw eep on Random
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  152
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  153
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  166
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  174
7 Narro w Band on Random
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  188
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  189
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  195
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  201
8 Multiple R andom Events
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  212&lt;/p&gt;
&lt;p&gt;vii Contents
Fatigue Setup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  213
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  222
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  224
9 Differe nt S-N Methods
Problem Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  236
Fatigue Setup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  237
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  248
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  249
10 Random Res ponse Only
Problem Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  260
Fatigue Setup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  261
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  268
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  268
11 Aero space Applications
(Multiple Random Loads)
Problem Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  276
Fatigue Setup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  277
Multiple R andom Input Loading . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  289
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  293
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  296
12 Valid ation versus Time Domain
Problem Description . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  306
Analysis Setup  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  313
SOL112 Dy namic Transient Results . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  321
SOL111 Frequency Response Results  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  326
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  340
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  347&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide viii
13 Time  Signal Conversion to PSDs
Problem Description  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  354
Fatigue Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  356
Concluding Remarks  . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  360
Patran Setup . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .  363
Glossary
References&lt;/p&gt;
&lt;p&gt;Main Index
Preface
Preface
About this Book     x
List of MSC Nastran Guides     xi
Technical Support     xii
Training and Internet Resources     xii&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
About this Bookx
Main Index
About this Book
The MSC Nastran Embedded Vibration Fatigue User’s Guide is provided to serve as a guide to the proper
use of MSC Nastran for solving various fatigue analysis problems in the frequency domain. It is assumed that
the user has some experience already solving fatigue problems in the time domain. A separate User’s Guide
exists for time domain fatigue solutions. See the MSC Nastran Embedded Fatigue User’s Guide1. The major
emphasis of this User’s Guide focuses on understanding the methodologies in determining damage and
fatigue life from dynamic solutions, specifically frequency response and random vibration.
The basic types of fatigue analysis capabilities available in time domain fatigue solutions are also applicable
to the frequency domain. These common fatigue analysis capabilities include stress-life (S-N), sometimes
referred to as total life, and strain-life (e-N), more commonly know as crack initiation, and how to apply these
using frequency response and random analysis. These capabilities are described and illustrative examples are
presented. Theory used in fatigue analysis is presented only as it pertains to the proper understanding of the
use of each capability.
To effectively use this guide, it is important for you to be familiar with MSC Nastran’s dynamic analysis
capabilities and the principles of dynamic analysis, specifically frequency response and random analysis. Basic
finite element modeling and analysis techniques are covered only as they pertain to MSC Nastran fatigue
analysis. For more information on dynamic analysis and modeling, refer to the MSC Nastran Dynamic
Analysis User’s Guide.
This guide contains many highlighted links (in blue) to other MSC Nastran documents and all the
documents were delivered together as a collection. If you keep the collection together the links between
documents will work.
T wo ways of working with links are as follows:
Use “ alt ” to return back to the window your cursor is in.
To open the other “linked to” documents in a new window from an Adobe Reader, choose Edit 
Preferences  Documents    Open cross-document links in the same window. Then
uncheck the checkbox and select OK.
Acknowledgments
This guide incorporates all capabilities related to vibration fatigue analysis into one place except the
description of each release’s capabilities in the Release Guides and quick and direct access to fatigue related
case control and bulk data in the MSC Nastran Quick Reference Guide  (QRG).
This fatigue capability is jointly developed in close cooperation between MSC.Software Corporation  and its
vibration fatigue technology partner, CAE fatigue Limited.
1The basic, time domain based MSC Nastran Embedded Fatigue User’s Guide  serves as both an introduc -
tion to fatigue analysis for the new user and a reference for the experienced user for time domain
fatigue solutions.&lt;/p&gt;
&lt;p&gt;xi CHAPTER
Preface
Main Index
List of MSC Nastran Guides
A list of some of the MSC Nastran guides is as follows:
Installation and Release Guides
Installation and Operations Guide
Release Guide
Reference Guides
Quick Reference Guide
DMAP Programmer’s Guide
Reference Guide
Utilities Guide
Getting Started Guide
SOL 400 Getting Started Guide
MSC Nastran Error Messages Guide
Demonstration Guides
Linear Analysis
Implicit Nonlinear (SOL 400)
Explicit Nonlinear (SOL 700)
MSC Nastran Verification Guide
User’s Guides
Automated Component Modal Synthesis (ACMS)
Access Manual
Aeroelastic Analysis
Design Sensitivity and Optimization
DEMATD
Dynamic Analysis
Embedded Fatigue
Embedded Vibration Fatigue
Explicit Nonlinear (SOL 700)
High Performance Computing
Linear Static Analysis
Nonlinear (SOL 400)
Numerical Methods
Rotordynamics&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Technical Supportxii
Main Index
You may find any of these documents from Hexagon at:
&lt;a href=&#34;https://simcompanion.hexagon.com/customers/s/article/MSC-Nastran-Support-Home-Page&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com/customers/s/article/MSC-Nastran-Support-Home-Page&lt;/a&gt;
Technical Support
For technical support phone numbers and contact information, please visit:
&lt;a href=&#34;https://simcompanion.hexagon.com/customers/s/article/support-contact-information-kb8019304&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://simcompanion.hexagon.com/customers/s/article/support-contact-information-kb8019304&lt;/a&gt;
Support Center ( &lt;a href=&#34;http://simcompanion.hexagon.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;http://simcompanion.hexagon.com&lt;/a&gt;)
The SimCompanion link above gives you access to the wealth of resources for Hexagon products. Here you
will find product and support contact information, product documentations, knowledge base articles,
product error list, knowledge base articles and SimAcademy Webinars. It is a searchable database which allows
you to find articles relevant to your inquiry. Valid customer entitlement and login is required to access the
database and documents. It is a single sign-on that gives you access to product documentation for complete
list of products from Hexagon, allows you to manage your support cases, and participate in our discussion
forums.
Training and Internet Resources
The Hexagon corporate site has the information on the latest events, products, and services for the
CAD/CAE/CAM marketplace.
Design and Engineering e-Learning
The above link will point you to schedule and description of seminars. Following courses are recommended
for beginning MSC Nastran users.
NAS120 - Linear Static Analysis using MSC Nastran and Patran
This seminar introduces basic finite element analysis techniques for linear static, normal modes, and buckling
analysis of structures using MSC Nastran and Patran. MSC Nastran data structure, the element library,
modeling practices, model validation, and guidelines for efficient solutions are discussed and illustrated with
examples and workshops. Patran will be an integral part of the examples and workshops and will be used to
generate and verify illustrative MSC Nastran models, manage analysis submission requests, and visualize
results. This seminar provides the foundation required for intermediate and advanced MSC Nastran
applications.Superelements and Modules
Thermal Analysis
User Defined Services&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 1: Fundamentals
1Fundamentals
Overview
What is Fatigue?
Random Vibration
What is the Frequency Domain?
What is a PSD?
Signal Parameters
What is a Transfer Function?
Life Estimation Process&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Overview2
Main Index
Overview
MSC Nastran embedded vibration fatigue life estimation, when used early in a development design cycle has
the potential to greatly enhance product life as well as reduce testing and prototype costs, thus ensuring
greater speed to market.
The purpose of this manual is to provide you with typical example problems to demonstrate proper usage of
the program. Each example is designed to show certain aspects and help to convey various principles of fatigue
life estimation in the frequency domain. The intent is to get you up to speed as quickly as possible without
a steep learning curve or hours sifting through a thick manual.
Assu mptions
This guide makes certain assumptions of the reader. The basic assumptions made are, a good knowledge of
basic computer skills and terminology, and a working knowledge of finite element dynamic analysis using
MSC Nastran. This manual does not deal with creation of finite element models or any aspects of actual finite
element analyses except where necessary to achieve proper fatigue life estimations.
This manual assumes that the user has some experience with fatigue analysis in general (especially time-
domain based) and therefore makes little effort to explain principles of fatigue life estimation from example
to example. The user is referred to the time-based fatigue manual: MSC Nastran Embedded Fatigue User’s Guide&lt;br&gt;
for those discussions. This manual is not meant to be an exhaustive course on fatigue analysis. For this we
also refer you to the many references sited in the References  (App. ).
Organization of Guide
All chapters starting with Chapter 3, serve as tutorials to learn the basics of vibration fatigue analysis using
MSC Nastran.
First read this chapter in its entirety and then familiarize yourself with the Nastran case control and bulk data
input in the next chapter, after which it is highly suggested that you start at the first example and work your
way sequentially. Each exercise introduces concepts that build on each other from exercise to exercise.
What is Fatigue?
The first concept is the definition of the term fatigue  within the confines of this guide. Very often the terms
Fatigue , Fracture , and Durability  are used interchangeably. Each does, however, convey a specific meaning.
Although many definitions can be applied to the word, for the purposes of this manual, fatigue is
Failure under a repeated or otherwise varying load which never reaches a level sufficient to cause failure in a
single application.
It can also be thought of as the initiation and growth of a crack, or growth from a pre-existing defect, until it
reaches a critical size, such as separation into two or more parts.Note:   Throughout this manual terms in  blue italics  mean there is a definition provided in the Glossary&lt;br&gt;
(App. ).&lt;/p&gt;
&lt;p&gt;3 CHAPTER 1
Fundamentals
Main Index
Fatigue analysis itself usually refers to one of two methodologies: either the  Stress-Life (S-N)  or S-N method,
commonly referred to as Total Life  since it makes no distinction between initiating or growing a crack, or
the Local Strain  or Strain-Life (e-N)  method, commonly referred to as the Crack Initiation  method which
concerns itself only with the initiation of a crack.
Fracture specifically concerns itself with the growth or propagation of a crack once it has initiated. MSC
Nastran fatigue analysis concerns itself only with the prior two types of fatigue analysis and is not applicable
for crack growth or propagation. For this capability you are referred to MSC Nastran’s cohesive zone
modeling and/or virtual crack closure technique (VCCT) or MSC Fatigue, which uses a LEFM  method for
crack growth prediction.
Durability is then the conglomeration of all aspects that affect the life of a product and usually involves much
more than just fatigue and fracture, but also loading conditions, environmental concerns, material
characterizations, and testing simulations, to name a few. A true product durability program in an
organization takes all of these aspects (and more) into consideration.
The primary factor that affects (deformation based) fatigue is stress range as shown below. The bigger the
range, the faster the failure. And fatigue life reduces exponentially with range.
Figure 1-1  Primary factor affection fatigue - stress range
Once the number of stress cycles ( ni) of a particular stress range Si is known then the value for Ni, the
allowable number of stress cycles to failure (at stress range Si), can be calculated. From these two(2)
parameters the damage in a period of T seconds is calculated using:Note:   Fatigue cracks initiate and grow as a result of cyclic plastic deformation. Without plasticity there
can be no fatigue failure. Each method uses specific techniques to account for plasticity when
using results from linear finite element analysis.Stress Range
counted number of cycles n
Stress Range
Allowable cycles to failure N
ni
NSi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
0
&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Random Vibration4
Main Index
Rand om Vibration
All fatigue is dynamically induced. That is, there must be some level of dynamic loading in order for fatigue
damage to occur. It is probably a true statement to say that nothing in real life is actually static. Even slight
changes in temperature cause stress fluctuations in an otherwise apparently static structure. Some dynamic
loading is hardly detectable or changes very slowly and is quite repeatable, while other types are quite
noticeable and very random in nature, such as engine noise. T echniques for the former types of loading lend
themselves well to traditional time-domain fatigue techniques. The later are characterized as random in
nature since they do not repeat themselves. Every measurement of load results in a different time signal.
The techniques described in this manual deal with random vibration induced fatigue, which is calculated
from random vibration  and frequency response  finite element (FE) analysis results. It is not the intention of
this manual to teach the user all there is to know about random vibration, nor is there space in this book.
however certain concepts are introduced which should be familiar to those experienced in random vibration
analysis. For those unfamiliar with random vibration techniques, this manual is still quite useful, however it
is highly recommended that time be invested in understanding random vibration analysis before attempting
any serious fatigue analyses using these techniques.
It is worth clarifying the term vibration fatigue as the estimation of fatigue life when the stress histories
applied to the structure, or component, are random in nature and therefore best specified using stastical
information about the process.
T raditionally fatigue analyses have been dealt with by defining the time variation of the loading. Sometimes
these time histories become very complex, long, and even random in nature, making conventional transient
FE analysis and even pseudo-static fatigue analyses very time consuming, cumbersome, and inconvenient.
Dynamicists have long used frequency domain techniques to understand responses to structures subject to
these types of loading, mainly out of necessity to speed up computation times and reduce disk storage needs,
but also to understand dynamic behavior.
Most engineers, if asked to specify a random loading input or response output for a structure would specify
something like the random time history shown below. The process can be described as random and in the
time domain. Random because, strictly speaking, it can only be determined statistically, i.e., a second sample
taken for the same process would have different values to the first.
Figure 1-2  A Random Signal in the Time Domain
There are alternative ways of specifying the same random process. Fourier analysis  allows any random loading
history of finite length to be represented using a set of sine wave functions, each having a unique set of values
Response
Time&lt;/p&gt;
&lt;p&gt;5 CHAPTER 1
Fundamentals
Main Index
for amplitude, frequency, and phase. Such a representation is called deterministic  because the individual sine
waves can be determined precisely at any given point in time. It is still time based and so is therefore specified
in the time domain. For instance, the previous random signal could be the summation of 40 sine waves some
of which are shown here.
Figure 1-3  Sum of Sine Waves to represent Random Time Signal
What is the Freq uency Domain?
As an extension of Fourier analysis, Fourier Transforms allow any process to be represented using a spectral
formulation such as a Power Spectral Density  (PSD) function. Such a process is described as a function of
frequency and is therefore said to be in the frequency domain. It is still a random specification of the
function.
In a very simplistic way, one could look at the PSD as a mapping of the various sine waves that make up a
random time signal onto a frequency graph where each spike represents the frequency of the sine wave
(location of the spike) and amplitude (height of the spike). A PSD is therefore simply an equivalent
representation of a random time signal, but in the frequency domain.
Structural analysis can be carried out in either the time domain or the frequency domain.
In the time domain, the input takes the form of a time history of load (such as wind speed). The structural
model can be derived using a FE representation and a transient analysis. The output from this model is also
expressed as a time history, in this case, the stress at some particular location(s) in the structure over time.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
What is the Frequency Domain?6
Main Index
In the frequency domain, the input is given in the form of a PSD, say, of wind speed, and the structure is
modeled by a linear transfer function  relating input wind speed to the output stress at a particular location
in the structure. The output from the model is expressed as a PSD, in this case, a PSD of stress.
Figure 1-4  Transfer Function representation from Input load to Output response.
Time histories may be transferred between the time and frequency domains easily using the Fourier and the
Inverse Fourier T ransforms. In this way the engineer can see both time and frequency domain representations
of a signal in the same way as he would flip a graph between log and linear axes to gain different perspective.
Figure 1-5  Frequency Domain represents alternative way of describing a Time History
Using the Fourier and Inverse Fourier transforms to flip back and forth between the time and frequency
representation of the signal is akin to taking logs and anti-logs.
Fourier Transform
InverseFourier Transform&lt;/p&gt;
&lt;p&gt;7 CHAPTER 1
Fundamentals
Main Index
What Does the FFT Tell Us?
The figure below shows a physical representation of what the frequency domain graphs are showing.
The FFT is a complex number given with respect to frequency. A sine wave of frequency , amplitude A,
and initial phase angle is represented in the frequency domain by a spike occurring at  along the
frequency axis. If the magnitude of the complex FFT is plotted, then the area under the spike is found to be
the amplitude A of the sine wave. When the argument of the complex FFT is plotted then the area is found
to be initial phase angle of the sine wave.
The frequency, amplitude and phase of the sine wave is therefore retained in both the time and frequency
domains. As it is rather cumbersome to plot complex numbers, we generally plot two separate graphs; one
for the amplitude and the other for the phase angle.
Figure 1-6  Sine wave represented in frequency domain
How Do We Use FFTs?
The French Mathematician J. Fourier (1768-1830) postulated that any periodic function can be expressed
as the summation of a number of sinusoidal waves of varying frequency, amplitude and phase. Each
individual sinusoidal wave can be expressed as a spike in the frequency domain and as the number of sine
waves increase, the difference in frequencies between them tends to zero and so the spikes tend to merge into
a continuous function. Therefore, if we want to find the amplitude and phase of the sinusoidal waves in a
particular frequency range, say between 2 and 2 1/2 Hz, we can measure the area under the curve in that
frequency range. As this area is given as a complex number, the amplitude content can be obtained by taking
the modulus of this and the phase content from the argument.
Area of spike = amplitude of sinusoidal wave
Argument of FFT = phase angle of sinusoidal wave&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
What is a PSD?8
Main Index
Figure 1-7  Simplified meaning and interpretation of FFT
For many engineering cases we are only interested in the amplitude of the various sine waves and are not
concerned with the initial phases. In fact, in many cases we find that the initial phase angle is totally random,
and so it proves unnecessary to show it. For this reason the Amplitude Spectral Density (ASD) function alone
is usually shown. This is simply a plot of the modulus of the complex FFT given with respect to frequency.
What is a P SD?
PSD (Power Spectral Density) functions are effectively obtained by taking the modulus squared of the FTT.
Some normalization has to take place but this can differ depending on the FFT algorithm used.
Frequency domain techniques were pioneered by the electronics in the early 1940s. The method was
employed to investigate the cause of electrical noise in circuits. As power was generally the parameter being
measured, it found its way into the title of the spectrum. The mean square amplitude of the sinusoidal waves
is used because this was easily obtained by the early analog circuits of the day; it would be more difficult to
derive the amplitude spectra and so this step was never carried out.
Any periodic function can be expressed by adding
numerous sine waves, with various amplitudes and
phase relationshipsThe argument of the FFT represents the phase
relationship between each sine waveArea under each spike represents the amplitude of
the sine wave at that frequency&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P10</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_010/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_010/</guid>
      <description>
        
        
        &lt;p&gt;169 CHAPTER 6
Sine Sweep on Random
Main Index
Sine Sweep + Static Offset on Random
It is also possible to include a static offset to the sine sweep on random loading.
Figure 6-10  Sine Sweep + Static Offset on Random PSD loading&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks170
Main Index
In this case each event now has three simultaneously acting loads and is formulated in this manner as shown
below (see knuckleSINEpsdOFF .dat ).
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
$
$ Deterministic Loads (sine waves 401-432) + PSD (200) + offset (801)
$
FTGEVNT 101     401      200     801
FTGEVNT 102     401      200     801
FTGEVNT 103     401      200     801
&amp;hellip; (Repeats for every frequency )
FTGEVNT 124     401      200     801
$
$ Random loading definition
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (sine waves)
$
FTGLOAD 401             1                               SINE
DETLOAD 5.0     3000.0
FTGLOAD 401             1                               SINE
DETLOAD 6.0     3200.0
FTGLOAD 401             1                               SINE
DETLOAD 7.0     3400.0
&amp;hellip; (Repeats for every frequency )
FTGLOAD 401             1                               SINE
DETLOAD 28.0    5000.0
$
$ Fatigue static offset loading
$
FTGLOAD 801     555     1               -40000 .         S TATIC
UDNAME  555
knuckle_static.op2
To run the above job, first run knuckle_static.dat  to produce the static offset stresses for the analysis.&lt;/p&gt;
&lt;p&gt;171 CHAPTER 6
Sine Sweep on Random
Main Index
Harm onic Loads
It is also possible to superimpose harmonic loading onto a random load or a static offset plus harmonic
loading onto a random load. This problem ( knuckleHARMpsdOFF .dat ) superimposes four (4) harmonics
plus a static offset on a random PSD load. The case of four (4) harmonics (at 5, 10, 15 and 20 Hz) is shown
below.
Figure 6-11  Harmonics + static offset on random PSD loading
The difference between applying harmonic loading and sine sweep loading is that all the frequencies are
defined in one single FTGLOAD  entry, and thus only one event ( FTGEVNT ) is needed. The frequency singe waves
are applied all at the same time rather than doing a separate analysis from frequency to the next frequency
(thus sweeping across the frequency range).
FTGSEQ  42      1               SECS    1.0
101     1.0
$
$ Deterministic Loads (harmonics 401) + PSD (200) + offset (801)
$
FTGEVNT 101     401     200     801
$
$ Random loading definition
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (harmonics)
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks172
Main Index
FTGLOAD 401             1                               SINE
DETLOAD 5.0     5000 .           1 0.0    5000 .
15.0    5000 .           2 0.0    5000 .
$
$ Fatigue static offset loading
$
FTGLOAD 801     555     1               -40000 .         S TATIC
UDNAME  555
knuckle_static.op2
The job knuckleHRM.dat  only applies the four harmonics with no underlying random load or any static
offset.
Phase Relati onship between Sine Waves in Random Response
When sine waves of load are applied to a structure the load magnitudes are multiplied by the equivalent stress
in the transfer function (TF) as shown below. The TF (von-Mises) values at 5, 10, 15 and 20Hz are 2.39E-
5, 2.60E-6, 7.70E-6 and 9.30E-6, respectively.
Figure 6-12  Transfer function (von-Mises) values at 5, 10, 15 and 20Hz
The sine waves of response are therefore obtained by taking the square root of these TFs as shown below.
From these numbers the magnitudes of the FRFs can be calculated as 4.90E-3, 1.64E-3, 2.77E-3 and 3.05E-
3, respectively. The load magnitude applied is 5000 and this results in sine waves of stress response equal to
24.49MPa, 8.22MPa, 13.87MPa and 15.25MPa, respectively.
T ransfer Function FRF Response amplitude with magnitude 5000
2.39E-05 4.90E-03 24.49
2.60E-06 1.64E-03 8.22
7.70E-06 2.77E-03 13.87
9.30E-06 3.05E-03 15.25
61.83&lt;/p&gt;
&lt;p&gt;173 CHAPTER 6
Sine Sweep on Random
Main Index
Figure 6-13  Reconstitutes time signal from sine waves at 5, 10, 15 and 20 Hz with amplitudes of 12.49,
8.22, 13.87 and 15.25
The result can now be compared directly with the fatigue damage result obtained from a reconstituted time
signal. To do this we created four (4) sine waves with random phases (and a small harmonic variation) and
then added them together to make one combined signal. This combined signal is phase dependant and so
multiple reconstructions were made and the sample with the largest range was used.
Figure 6-14  Rainflow cycle count obtained from a reconstituted time signal made from 4 sine waves at 5,
10, 15 and 20 Hz with amplitudes of 12.49, 8.22, 13.87 and 15.25&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup174
Main Index&lt;/p&gt;
&lt;p&gt;Figure 6-15  Damage caused by each of the above Rainflow cycles
A summary of the &amp;ldquo;time signal reconstruction&amp;rdquo; damage is given below. The damage is approximately twice
that of the time signal reconstruction which is a very close result and is unexpectedly close given that the
Dirlik approach used assumes a random, Gaussian and stationary signal. This confirms that four(4) sine
waves mixed together conform remarkable closely with the Gaussian, stationary and random assumptions.
Damage from this histogram = 1.87E-12
Damage using Dirlik = 9.24E-11 (approx. twice damage from reconstituted signal)
This example raises many interesting issues related to how harmonics should be accounted for in any analysis
which aims to replicate a test scenario. When harmonic loads are applied to structures the phase relationships
(between the individual sine waves) are skewed by the phase versus frequency relationship for that frequency
response function (the other part of the complex transfer function). This raises the issue of whether sines
should all be applied as cosines where peaks are forced together to give larger overall stress ranges (common
in some test scenarios) or whether the phases should be allowed to randomize. The implemented approach
assumes randomized phases and is therefore likely to be more realistic.
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knucklePSD . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knucklePSDsine_a.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC.Nastran.
Step 2: Check the Model&lt;/p&gt;
&lt;p&gt;175 CHAPTER 6
Sine Sweep on Random
Main Index
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry. Verify that they are the same.
Open the Options  form and ensure that the Log x-axis  and Log y-axis  toggles are set ON. Also check
the non-spatial field (Field.400 ) that defines our input PSD loading. The values here are from the
TABRND1 entry.Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate Tensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup176
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job
knucklePSDsine_a.dat , a job by the name of knucklePSDsine_a  has been created. Click on it to restore
all its settings. Open the Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open
the Solution Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form
and ensure the following parameters are set, which are written to the FTGPARM  entry. If a parameter is
not mentioned below, use the default value or leave it blank. Close all the forms when done using the
OK buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Center
Recovery: Center
Layer: Worst
Level of Output: Standard
T op RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this OFF
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;177 CHAPTER 6
Sine Sweep on Random
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. To limit the
output to only the critical element, change the Type of include data  to Groups  and select the group
that contains only the critical element ( set3_600 ). Also select CSV File  as Additional Output File
Formats .
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see the
subcase in the bottom list box: FRFX.SC1 .
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the loading in this example, we want to define a single load event
for each frequency in the sine sweep associated to our transfer function subcase called FRFX.SC1  and
to also have a PSD load input defined by a non spatial field created or inspected earlier.
So for the first (1st) event, make sure the Event  data box (next to the layer arrows) is set to one ( 1)
and the Event Name  is the default Event_1 . You can click on the arrows to advance (or return) to the
next (previous) layer (Event) as necessary.
With Define Load Event  set to PSD Input , define the PSD input as done in all previous examples.
•Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from
the bottom list box. The Subcase j  field is automatically filled with the same subcase since this is
a direct PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup178
Main Index
•Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from
the appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection.
The single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with
defaults.
With Define Load Event  set to Deterministic :
•Click on the cell under the Subcase  column in the spreadsheet and then select the subcase from
the bottom list box. The next cell ( Frequency ) should become selected or active.
•If not, click on the cell under the Frequency  column, if necessary, and enter the frequency and
press the Enter  key. (The frequency and amplitude of each Event  are defined in the FTGLOAD&lt;br&gt;
entries with TYPE = Sine on the DETLOAD line.) The next cell ( Amplitude ) becomes active.
•Enter the amplitude of the sine wave and press the Enter  key. The next cell ( Band Width ) becomes
active. Just press the Enter key to accept the default as this value is for Narrow Band loading only.
• The Divisor , Scale Factor, and Offset  can remain with defaults (scroll the spreadsheet to the right
to see these entries).
This completes the first event. Click on the up arrow button to advance to the next layer (Event). The
Event  and Event Name  data box should show two ( 2) and Event_2 , respectively. Repeat the above
procedure for this event for both the random PSD Input  and the Deterministic  load. The PSD input
is identical for all Events and you can use the Duplicate Previous  button to easily fill in the
spreadsheet with this loading from the previously defined Event. The deterministic loading varies by
Event, but you can still use the Duplicate Previous  button to fill in the data and then only change
the frequency and amplitude as necessary for that event.
Repeat this procedure for all remaining Events.
In the tree widget on the left, ensure that a Load Sequence with all the Events is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select all the Events in the correct order from the list box
that appears and press Apply . It may take a few selections to get them in order of increasing Event.
The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;179 CHAPTER 6
Sine Sweep on Random
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup180
Main Index
Step 8: View the Results
Below is the procedure for creating a damage vs sweep frequency plot shown in the Chapter. A special
utility in Patran has been created to easily and quickly make these plots as introduced in More Fatigue
Results  (Ch. 4). Once the plots are created they can be saved and manipulated in any manner necessary
using the XY Plot  application.
To access this utility go to the Tools  | Results  | NEF Random Vibration&amp;hellip;  pull down menu and form.
The utility is easy to use. Simply follow these steps.
1.Set the type of plot to be made: Events
2.Select the file containing the information: knucklePSDsine_a.csv
The file knucklePSDsine_aCFV.log  is also required to extract the sine sweep frequencies and if the file
is not present or cannot be read or the sweep frequencies are not greater than zero (0.0) and in
ascending order, then the plot is made versus Event ID instead of sweep frequency.
3.Set the entity and results type of interest
a.Select the Element ID  (Elem13897 )
b.Select the Grid ID  (Center )
c.Select the Layer  (Bottom )&lt;/p&gt;
&lt;p&gt;181 CHAPTER 6
Sine Sweep on Random
Main Index
d.Select the Result  (Damage)
4.Press the Plot button
5.Modify the plot by turning the LogY toggle ON.
6.Close the utility when done. The XY Windows are unposted and the curves are automatically cleaned
up (deleted) unless the Save Curves toggle was on when creating the curves.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup182
Main Index
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knucklePSDsine_a  and then
renaming it and making the modifications as necessary. The table below lists the modifications necessary for
each using the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.&lt;/p&gt;
&lt;p&gt;183 CHAPTER 6
Sine Sweep on Random
Main Index
Input Deck Modification
knucklePSDsine_a.dat Baseline - no modifications necessary
knucklePSDsine_b.dat The required change from the baseline job ( knucklePSDsine_a ) is to
define only a single Event and to specify both the PSD Input  and a Sine
Sweep  input as opposed to the Deterministic  load input. The PSD
Input  is identical to the previous job. The Sine Sweep  is easily defined
on a single spreadsheet line by specifying the Start Frequency  (1.0),
Start Amplitude  (9600.), End Frequency  (32.0), and End Amplitude&lt;br&gt;
(9600.). This method of specifying a sine sweep analysis is much easier
but not as versatile. You have only limited control of what frequencies
are actually analyzed. Once the Event is created you specify how many
frequencies between the start and end frequencies on the Edit Event&lt;br&gt;
form. This form is invoked by using the Right Mouse Button (RMB)
and clicking on the Event in the widget tree and selecting Edit Event .
knuckleSINE_a.dat In comparison to the baseline job ( knucklePSD_a ), do not define any
PSD Input  loading on any of the Events. You can remove a loading
from an Event by selecting all the rows and clicking on the Clear Select
Row(s) button on the first Event and then going through each event
and clicking the Duplicate Previous button to clear the remaining
Events. Or modify the Field that defines the input PSD and set all
values to zero (0.0) at all frequency values. Finally change the Rainflow
Method  on the Fatigue Parameters&amp;hellip;  form to Sines.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup184
Main Index
knuckleSINE_b.dat T o turn job knucklePSDsine_a  into knuckleSINE_b , simply clear the
PSD Input from the Event as was done for knuckleSINE_a . Only one
Event exists, which makes this a simple operation. Or you can zero out
the PSD as explained in knuckleSINE_a . Finally change the Rainflow
Method  on the Fatigue Parameters&amp;hellip;  form to Sines.
knuckleSINEpsdOFF .dat From the baseline job ( knucklePSD_a ), edit each Event and add a Static
Offset  load by referencing knuckle_static.op2  (Subcase No .1) with a
Scale Factor of -40000 . Each Deterministic  load also needs to be edited
and the Frequency  and Amplitude  changed per that specified in the
FTGLOADs (TYPE=SINE) in knuckleSINEpsdOFF .dat . On the
Fatigue Parameters&amp;hellip;  form set the Mean Stress Correction  to
Goodman , the Results Location to Element Nodal  and the Recovery  to
Corner .Input Deck Modification&lt;/p&gt;
&lt;p&gt;185 CHAPTER 6
Sine Sweep on Random
Main Index
knuckleHRMpsdOFF .dat In comparison to the baseline job ( knucklePSD_a ), remove all Events
except Event_1  (the first event) from the Load Sequence . You can do
this with the RMB on the Load Sequence  name in the widget tree. Add
a Static Offset  load to Event_1  by referencing knuckle_static.op2&lt;br&gt;
(Subcase No. 1) with a Scale Factor of -40000 . And add a
Deterministic  load to Event_1  with four (4) frequencies. Change the
Max # of Freqs.(Bands)  to four ( 4) and press the Enter  key. This
updates the spreadsheet to allow four (4) frequency rows. Enter
frequencies 5.0, 10.0, 15.0, and 20.0, respectively. Change the
Amplitude  for all frequencies to 5000 . On the Fatigue Parameters&amp;hellip;&lt;br&gt;
form set the Mean Stress Correction  to Goodman , the Results Location&lt;br&gt;
to Element Nodal and the Recovery  to Corner .
knuckleHRM.dat This job is the same as knuckleHRMpsdOFF  except the Event has no
PSD Input  loading and no Static Offset  loading. Simply clear these
from the Event of the previous job. Since it has no Static Offset  loading
the Mean Stress Correction  should be set back to None , although there
will be no effect if it is not, Input Deck Modification&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup186
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 7: Narrow Band on Random
7 Narro w Band on Random
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description188
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. The purpose of this tutorial is to apply
a narrow band sweep on top of the random loading in a similar manner that we applied a sine sweep on
random in the last Chapter.
Figure 7-1  The Knuckle model and applied load inputs
Objective
To run a fatigue analysis of just the narrow band sweep alone with no random loading.
To apply a narrow band sweep on top of random input load.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 7-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knucklePSDnb.dat Fatigue analysis of Knuckle with narrow band sweep on random
loading of critical element only.
knuckleNB.dat Fatigue analysis of Knuckle with narrow band sweep only and no
random loading of critical element only.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P11</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_011/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_011/</guid>
      <description>
        
        
        &lt;p&gt;189 CHAPTER 7
Narrow Band on Random
Main Index
Fatigue Setup
The objective of this example is to combine a PSD (the same one used in all previous examples) with a narrow
band sweep defined by a series of FTGLOAD  entries of TYPE=NARROW superimposed on top with a specific
amplitudes, frequencies, and bands. In a sense this mechanism is identical to setting up a manual sine sweep
with only a few minor differences as noted throughout the Chapter.
From a job setup perspective, only the loading is changed from previous examples. So only those entries are
explained. Also, only the one critical shell element is analyzed. The narrow band block is designed with a
height of 2.56E7 MPa2/Hz and a frequency width of 1.8 Hz varying from 1 to 32 Hz. The analysis is done
also with only the narrow bands applied with and without any underlying random load.
Figure 7-2  Representation of a single narrow band process applied without an underlying random PSDknuckleNBpsdOFF .dat Fatigue analysis of Knuckle with narrow band sweep plus static offset
on random PSD loading of critical element only.
knuckle_static.dat Knuckle static job for producing Output2 file of static offset stresses.
knucklePSDoff.dat Knuckle model run with random load and static offset only for damage
sensitivity study with subsequent narrow band sweep.
knucklePSDoffNBsens.dat Knuckle model run with random load and static offset and narrow
band sweep for damage sensitivity study.Table 7-1  Files Required
Files Required Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup190
Main Index
Narrow Band on Random Setup
A narrow band sweep is entered manually with one FTGLOAD  entry per frequency to be swept over. Each
narrow band on top of the random load must be treated as a separate event. The damage from all events (all
deterministic loads on top of the random) are then summed to give the total damage. So the input looks like
this for the narrow band sweep on top of random (see file knucklePSDnb.dat ).
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis + sine sweep
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
SUBCASE 1
&amp;hellip;
BEGIN BULK
&amp;hellip;
$ Fatigue Element Set Definition
SET3    600     ELEM    13897
FTGDEF  42      100.0
ELSET   600
$
$ Fatigue Parameters
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            ELEM            CENTER
FOS             1.0
VIBFTG  NARROW  16.0    16.0    3.0     64      99.9
$
$ Fatigue Material Properties
MATFTG  42              0
STATIC  135     400             RANGE
TABLE   1.0     60
MATID   210000. 0.3
1       777     999
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
$ Fatigue Loading Sequence - narrow band sweep on random
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
125     1.0     126     1.0     127     1.0     128     1.0
129     1.0     130     1.0     131     1.0     132     1.0
$
$ Deterministic Loads (narrow bands 401-432) + PSD (200)
FTGEVNT 101     401     200
FTGEVNT 102     402     200
&amp;hellip;
&amp;hellip; &lt;!-- raw HTML omitted --&gt;
&amp;hellip;&lt;/p&gt;
&lt;p&gt;191 CHAPTER 7
Narrow Band on Random
Main Index
FTGEVNT 132     432     200
$
$ Random loading definition
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Narrow band loads
FTGLOAD 401             1                               NARROW
DETLOAD 1.0     2.56E7  1.8
FTGLOAD 402             1                               NARROW
DETLOAD 2.0     2.56E7  1.8
FTGLOAD 403             1                               NARROW
DETLOAD 3.0     2.56E7  1.8
&amp;hellip;
&amp;hellip; &amp;lt; repeats for every narrow band
&amp;hellip;
FTGLOAD 432             1                               NARROW
DETLOAD 32.0    2.56E7  1.8
$&amp;hellip;
include &amp;lsquo;knuckle.bdf&amp;rsquo;
&amp;hellip;
ENDDATA
So notice that we now have 32 events ( FTGEVNT ). The total load sequence FTGSEQ  is made up of all events.
Each event has two loads, the random vibration load, and a single narrow band at a designated frequency
with designated frequency width and height in stress units (stress2/Hz) to match the response PSD units. The
duration of each event is specified as 1.0 seconds. This duration is important as it affects the damage
calculation.
Narrow Band only Setup
Now look at file knuckleNB.dat . This is the setup for a narrow band sweep only with no underlying random
loading. To convert the model with the random loading to include only the narrow band loading, only the
random load reference needs to be removed from the FTGEVNT entries. Only the loading entries are shown.
$ Fatigue Loading Sequence - narrow band sweep (no random signal)
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
125     1.0     126     1.0     127     1.0     128     1.0
129     1.0     130     1.0     131     1.0     132     1.0
$
$ Narrow band load events (narrow bands 401-432)
FTGEVNT 101     401  &lt;br&gt;
FTGEVNT 102     402&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup192
Main Index
&amp;hellip;
&amp;hellip; &lt;!-- raw HTML omitted --&gt;
&amp;hellip;
FTGEVNT 132     432  &lt;br&gt;
$
$ Random loading definition - ( NO LONGER REFERENCED in FTGEVNTs )
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Narrow band loads
FTGLOAD 401             1                               NARROW
DETLOAD 1.0     2.56E7  1.8
FTGLOAD 402             1                               NARROW
DETLOAD 2.0     2.56E7  1.8
FTGLOAD 403             1                               NARROW
DETLOAD 3.0     2.56E7  1.8
&amp;hellip;
&amp;hellip; &amp;lt; repeats for every narrow band
&amp;hellip;
FTGLOAD 432             1                               NARROW
DETLOAD 32.0    2.56E7  1.8
Although the random load is still defined in FTGLOAD  of ID 200, it was not called out in any of the defined
events. So it is ignored. As with the sine sweep example of the previous Chapter, the same thing could be
accomplished in three different ways:
1.Do not reference the FTGLOAD  of TYPE=PSD in the FTGEVNT  entries
2.Scale the FTGLOAD  of TYPE=PSD to zero by including a SCALE field defined as 0.0
3.Scale the actual PSD loading on the TABRND1 entries so all the y-values are 0.0
Narrow Band Sweep Results
The results from running with both the narrow band on random and the isolated narrow band signal are:
knucklePSDnb.dat :Damage = 3.203E-02 (ATYPE=Narrow Band)
knucklePSDnb.dat : Damage = 2.921E-02 (ATYPE=Dirlik)
knuckleNB.dat :Damage = 5.384E-03 (ATYPE=Narrow Band)
knuckleNB.dat :Damage = 5.384E-03 (ATYPE=Dirlik)
Note that the two different jobs (with and without random loading) were actually run twice with different
Rainflow analysis methods (ATYPE field on FTGPARM  entry). This was done on purpose to point out an
important fact regarding the Rainflow method used.
In the previous example when we had a pure sine sweep loading, the ATYPE was set to SINES because there
was no underlying random loading. In this case a narrow band signal is a type of random loading. So we do
want to employ a proper method of Rainflow counting.&lt;/p&gt;
&lt;p&gt;193 CHAPTER 7
Narrow Band on Random
Main Index
Note that when only the narrow band signal is analyzed, the results are very comparable between the Dirlik
and the Narrow Band methods. This is because the signal is a narrow band signal only. The Narrow Band
method was developed primarily with narrow band signals in mind. The Dirlik method works equally well
for both wide and narrow band.
But as soon as the signal starts to widen in its bandwidth, the Narrow Band method starts becoming very
conservative. This can be seen by the job with the random loading where the analysis type was run with Dirlik
and again with Narrow Band. The Narrow Band method shows much more damage than the Dirlik method.
The reason for this is again explained below.
It is also possible, as with the sine sweep, to plot damage versus frequency. This information is in the output
CSV file and each frequency corresponds to an event.
Figure 7-3  Damage as a function of narrow band loading frequency
Narrow Ba nd Rainflow Cycle Count
Previously we explained both the Dirlik method of creating the PDF of rainflow cycle counts and that used
when pure sine waves are used. Here is the equation used for the Narrow Band (nb)
method.
The narrow band method has been utilized for more than 50 years and makes use of the fact that, for a narrow
band time signal as shown in the figure below the probability density function (PDS) of the peaks (which is
known to follow the Rayleigh mathematical equation) is identical to the PDF of amplitudes. And since, for
a narrow band signal, a range of a cycle is exactly twice the amplitude, this gives us a direct correlation
between the Rayleigh function and the associate Rainflow cycle count.
nnbS
4m0&amp;mdash;&amp;mdash;&amp;mdash;-eS2
8m0&amp;mdash;&amp;mdash;&amp;mdash;–
    
dSEPT =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup194
Main Index
Figure 7-4  Connection between PDF of peaks and amplitudes for narrow band signal
The Rayleigh function is shown here, and we can see that it is completely defined in terms or the zeroth
moment, which we know is a function of the RMS. This is very convenient when dealing with narrow band
processes. This above equation is the Rayleigh function expressed in range form.
The fundamental problem with the narrow band method only arises when dealing with wide band signals as
shown below. In these situations the use of the narrow band approach can be very conservative, sometimes
resulting in fatigue life results being orders of magnitude too short as a result of the conservative nature of the
approach. For this reason the Rainflow cycle method employed by Dirlik is always the preferred option. But
the Narrow Band method is available if that is the preferred method.
Figure 7-5  Why Narrow Band method can be very conservative for wide band signals&lt;/p&gt;
&lt;p&gt;195 CHAPTER 7
Narrow Band on Random
Main Index
Concluding Remarks
In this example we investigated the narrow band sweep capability:
1.Narrow band sweep on random loading
•Requires all narrow bands to be defined as FTGLOAD  entries with TYPE=NARROW using the
DETLOAD line. A event ( FTGEVNT ) for each frequency in the sweep is created and references both
a narrow band load plus the random load. The FTGSEQ  groups all the events into a single loading
sequence. Each event defines the duration of the narrow band for that frequency. Damage from
each narrow band on random load is summed.
•The Dirlik  method is the best to employ as it is accounts for the possibility of a wide band signal
in the random loading and reports more realistic life predictions
•Damage can be determined and plotted as a function of narrow band frequency.
2.Narrow band sweep only
•The mechanism is the same as with random loading except no FTGLOAD  of TYPE=PSD is defined
by either not including it, or zeroing it out in some manner such as removing the reference in the
FTGEVNT  entries, scaling it to zero in the FTGLOAD  entry, or setting the actual PSD load values to
zero in the TABRND1  entry.
•Since the loading is purely a narrow band random signal, rainflow cycle counting be done with
either the Narrow Band  or Dirlik  methods on the FTGPARM  entry with similar results.
3.Spectral moment calculation is done in this manner for narrow band definitions. If FRF( fk) is the
value of the FRF (transfer function) calculated (by interpolation) at fk then the relevant moments can
be calculated using: mnNARROWBAND   fknhkfbkfFRFfk 
k1=
=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks196
Main Index
Narrow Band Sweep + Static Offset on Random
It is also possible to include a static offset to the narrow band sweep on random loading.
Figure 7-6  Narrow Band Sweep + Static Offset on Random PSD loading&lt;/p&gt;
&lt;p&gt;197 CHAPTER 7
Narrow Band on Random
Main Index
This is a repeat of sine sweep plus static offset on random from the previous Chapter, which has been repeated
for a narrow band plus static plus random loading instead. The objective is to replicate a typical MIL-STD-
810G load specification as shown below.
Figure 7-7  MIL-HBK-810G typical mixed load specification
In this case each event now has three simultaneously acting loads and is formulated in this manner as shown
below (see knuckleNBpsdOFF .dat ).
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
$
$ Deterministic Loads (sine waves 401-432) + PSD (200) + offset (801)
$
FTGEVNT 101     401     200     801
FTGEVNT 102     401     200     801
FTGEVNT 103     401     200     801
&amp;hellip; (Repeats for every frequency )
FTGEVNT 124     401     200     801
$
$ Random loading definition
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
$
$ Deterministic loads (sine waves)
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks198
Main Index
FTGLOAD 401             1                               NARROW
DETLOAD 5.0     4000000 1.0
FTGLOAD 401             1                               NARROW
DETLOAD 6.0     4000000 1.0
FTGLOAD 401             1                               NARROW
DETLOAD 7.0     4000000 1.0
&amp;hellip; (Repeats for every frequency )
FTGLOAD 401             1                               NARROW
DETLOAD 28.0    4000000 1.0
$
$ Fatigue static offset loading
$
FTGLOAD 801     555     1               -40000 .         S TATIC
UDNAME  555
knuckle_static.op2
To run the above job, first run knuckle_static.dat  to produce the static offset stresses for the analysis.&lt;/p&gt;
&lt;p&gt;199 CHAPTER 7
Narrow Band on Random
Main Index
Simultaneous Narr ow Bands
Just as we applied four harmonic loads simultaneously in the last Chapter in the concluding remarks, also we
can apply simultaneous narrow bands (rather than doing a narrow band sweep). And they can be applied by
themselves, with a static offset, and/or on top of random PSD loading. The set up is identical to the
harmonics with only two differences: the TYPE=NARROW on FTGLOAD and the width of the bands must
be given in the DETLOAD line. The height of a narrow band are in units stress2/Hz, where as for a harmonic
load the units are in peak amplitude (FE stress units).
FTGSEQ  42      1               SECS    1.0
101     1.0
$
$ Narrow Band Loads (401) + PSD (200) + offset (801)
$
FTGEVNT 101     401     200     801
$
$ Random loading definition
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
$
$ Narrow Bands (simultaneous)
$
FTGLOAD 401             1                               NARROW
DETLOAD 5.0     4000000 . 1.0    10.0    4000000 . 1.0
15.0    4000000 . 1.0    20.0    4000000 . 1.0
$
$ Fatigue static offset loading
$
FTGLOAD 801     555     1               -40000 .         S TATIC
UDNAME  555
knuckle_static.op2
Damage Sen sitivity
An interesting study to do is to identify particularly sensitive frequency bands in the model. This information
might be needed by a testing department when deciding which frequencies are needed in the input drive files.
Two input files are provided for this: knucklePSDoff .dat and knucklePSDoffNBsens.dat .
The first is a job with a static offset on top of our random load. The second is the first with the addition that
a small narrow band load swept across the frequency range 1-49Hz. The narrow band block is 2Hz wide and
40,000 units high.
This damage column (shown in red) can then either be plotted directly - or, as in this case, it can be plotted
as a percentage variation from the damage value with no narrow band damage block applied (damage from
the first input file with no narrow band applied). So in this case we are plotting the percentage change in&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks200
Main Index
damage. From this plot we can make the conclusion that loading in the range 5-10Hz has a dramatic effect
on damage but is much less important above 10Hz.
Figure 7-8  Percentage change in damage as a narrow band block of loading&lt;/p&gt;
&lt;p&gt;201 CHAPTER 7
Narrow Band on Random
Main Index
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knucklePSD . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knucklePSDnb.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC.Nastran.
Step 2: Check the Model
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry. Verify that they are the same.
Open the Options  form and ensure that the Log x-axis  and Log y-axis  toggles are set ON. Also check
the non-spatial field (Field.400 ) that defines our input PSD loading. The values here are from the
TABRND1 entry.Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate Tensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup202
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knucklePSDnb.dat ,
a job by the name of knucklePSDnb  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Center
Recovery: Center
Layer: Worst
Level of Output: +Rainflow Damage
T op RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this OFF
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;203 CHAPTER 7
Narrow Band on Random
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. To limit the
output to only the critical element, change the Type of include data  to Groups  and select the group
that contains only the critical element ( set3_600 ). Also select CSV File  as Additional Output File
Formats .
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see the
subcase in the bottom list box: FRFX.SC1 .
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the loading in this example, we want to define a single load event
for each frequency in the narrow band sweep associated to our transfer function subcase called
FRFX.SC1  and to also have a PSD load input defined by a non spatial field created or inspected
earlier.
So for the first (1st) event, make sure the Event  data box (next to the layer arrows) is set to one ( 1)
and the Event Name  is the default Event_1 . You can click on the arrows to advance (or return) to the
next (previous) layer (Event) as necessary.
With Define Load Event  set to PSD Input , define the PSD input as done in all previous examples.
•Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from
the bottom list box. The Subcase j  field is automatically filled with the same subcase since this is
a direct PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup204
Main Index
•Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from
the appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection.
The single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with
defaults.
With Define Load Event  set to Deterministic :
•Click on the cell under the Subcase  column in the spreadsheet and then select the subcase from
the bottom list box. The next cell ( Frequency ) should become selected or active.
•If not, click on the cell under the Frequency  column, if necessary, and enter the frequency (at the
height of the narrow band) and press the Enter  key. (The frequency, amplitude, and band width
of each Event  are defined in the FTGLOAD  entries with TYPE = Narrow  on the DETLOAD line.)
The next cell ( Amplitude ) becomes active.
•Enter the amplitude of the sine wave and press the Enter  key. The next cell ( Band Width ) becomes
active.
•Enter the band width of the narrow band and press the Enter  key. The next cell becomes active.
• The Divisor , Scale Factor, and Offset  can remain with defaults (scroll the spreadsheet to the right
to see these entries).
This completes the first event. Click on the up arrow button to advance to the next layer (Event). The
Event  and Event Name  data box should show two ( 2) and Event_2 , respectively. Repeat the above
procedure for this event for both the random PSD Input  and the Deterministic  load. The PSD input
is identical for all Events and you can use the Duplicate Previous  button to easily fill in the
spreadsheet with this loading from the previously defined Event. The deterministic loading varies by
Event, but you can still use the Duplicate Previous  button to fill in the data and then only change
the frequency, amplitude, and band width as necessary for that event.
Repeat this procedure for all remaining Events.
In the tree widget on the left, ensure that a Load Sequence with all the Events is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select all the Events in the correct order from the list box
that appears and press Apply . It may take a few selections to get them in order of increasing Event.
The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;205 CHAPTER 7
Narrow Band on Random
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup206
Main Index
Step 8: View the Results
Below is the procedure for creating a damage vs sweep frequency plot shown in the Chapter. A special
utility in Patran has been created to easily and quickly make these plots as introduced in More Fatigue
Results  (Ch. 4). Once the plots are created they can be saved and manipulated in any manner necessary
using the XY Plot  application.
To access this utility go to the Tools  | Results  | NEF Random Vibration&amp;hellip;  pull down menu and form.
The utility is easy to use. Simply follow these steps.
1.Set the type of plot to be made: Events
2.Select the file containing the information: knucklePSDnb.csv
The file knucklePSDnbCFV.log  is also required to extract the narrow band sweep frequencies and if
the file is not present or cannot be read or the sweep frequencies are not greater than zero (0.0) and
in ascending order, then the plot is made versus Event ID instead of sweep frequency.
3.Set the entity and results type of interest
a.Select the Element ID  (Elem13897 )
b.Select the Grid ID  (Center )
c.Select the Layer  (Bottom )&lt;/p&gt;
&lt;p&gt;207 CHAPTER 7
Narrow Band on Random
Main Index
d.Select the Result  (Damage)
4.Press the Plot button
5.Modify the plot by turning the LogY toggle ON.
6.Close the utility when done. The XY Windows are unposted and the curves are automatically cleaned
up (deleted) unless the Save Curves toggle was on when creating the curves.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup208
Main Index
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knucklePSDnb  and then renaming
it and making the modifications as necessary. The table below lists the modifications necessary for each using
the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P12</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_012/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_012/</guid>
      <description>
        
        
        &lt;p&gt;209 CHAPTER 7
Narrow Band on Random
Main Index
Input Deck Modification
knucklePSDnb.dat Baseline - no modifications necessary
knuckleNB.dat In comparison to the baseline job ( knucklePSDnb ), do not define any
PSD Input  loading on any of the Events. You can remove a loading
from an Event by selecting all the rows and clicking on the Clear Select
Row(s) button on the first Event and then going through each event
and clicking the Duplicate Previous button to clear the remaining
Events. Or modify the Field that defines the input PSD and set all
values to zero (0.0) at all frequency values. Finally change the Rainflow
Method  on the Fatigue Parameters&amp;hellip;  form to Narrow Band .
knuckleNBpsdOFF .dat In comparison to the baseline job ( knucklePSDnb ), the frequencies and
amplitudes on each event are different and there are a few more Events.
Compare the FTGLOAD  entries of TYPE  = Narrow  to see the changes
necessary for each Event. And in addition to the PSD Load , also define
a Static Offset  for each Event referencing the knuckle_static.op2  file
with a Scale Factor  or 40000 . Finally change the Rainflow Method  on
the Fatigue Parameters&amp;hellip;  form to Dirlik . Set the Results Location  to
Element Nodal and the Recovery  to Corner . Set the Mean Stress
Correction  to Goodman .
knucklePSDoff.dat In comparison to the job ( knuckleNBpsdOFF ), the Narrow Band
loading has been removed (or not defined). The PSD Load  and Static
Offset  for a single Event are the same.
knucklePSDoffNBsens.dat In comparison to the job ( knuckleNBpsdOFF ), the Deterministic&lt;br&gt;
(Narrow Band) loading has been modified to include 49 Events for
frequencies 1.0 through 49.0 Hz with an amplitude or 40000. and
band with of 2.0 Hz for each. The PSD Load  and Static Offset  for a
each Event are the same as are all parameters.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup210
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 8: Multiple Random Events
8 Multiple R andom Events
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description212
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. This time however, all three loads are
going to be used, one at a time as individual events, and the damage summed from each. Because the loads
themselves are still acting individually, this is still considered a single input loading problem. A job with
multiple, simultaneously applied loads is also introduced, but more detail on multi-input PSD analysis is
contained in subsequent chapters.
Figure 8-1  The Knuckle model and applied load inputs
Objective
To run a fatigue analysis with multiple random events.
To understand how the results are organized in the output.
To introduce multi-load PSD analysis.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 8-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knuckleEVNT_a.dat Knuckle with multiple random loading events from the same TF .
knuckleEVNT_b.dat Knuckle with multiple random loading events from different TFs.
knuckle3PSD.dat Knuckle with multi-load PSD input - single event.&lt;/p&gt;
&lt;p&gt;213 CHAPTER 8
Multiple Random Events
Main Index
Fatigue Setup
This problem introduces the concept of multiple events. For the first example in this Chapter the same load
case ID (LCID) is used, which points to the same transfer function (TF) subcase for each event, but durations
of each event are varied. The second uses different TF subcases for each event.
Multiple Events - Same TF
The partial input of file knuckleEVNT_a.dat  is shown here:
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
&amp;hellip;
SUBCASE 1
&amp;hellip;
BEGIN BULK
$
$ Fatigue Element Set Definition
$ The analysis is only done on elements 13897
SET3    600     ELEM    13897
FTGDEF  42      100.0
ELSET   600
$
$ Fatigue Parameters
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            NODE            CORNER
FOS             1.0
VIBFTG  DIRLIK  16.0    16.0    3.0     64      99.9
&amp;hellip;
$ Fatigue Loading Sequence - six separate events of different durations
FTGSEQ  42      1               SECS    1.0
101     1.0     102     2.0     103     3.0     104     4.0
105     5.0     106     6.0
$
$ The six separate events using same random load case (TF):
FTGEVNT 101     200
FTGEVNT 102     200
FTGEVNT 103     200
FTGEVNT 104     200
FTGEVNT 105     200
FTGEVNT 106     200
$
$ Random loading definition - pointing to SUBCASE 1
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
The following points are made:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup214
Main Index
A CSV output file is requested ( FORMAT=64 ) along with the FATIGUE  output request:
FATIGUE(SORT1,PRINT, FORMAT=64 ,BULK) = 42
The output is restricted to element 13897 (using ELSET on the FTGDEF  entry):
SET3    600     ELEM    13897
FTGDEF  42      100.0
ELSET   600
Since the fatigue material definition is the same as previous examples, it is not shown above. And the
fatigue parameters used in the analysis are the same as previous examples. You are referred to the
previous Chapters for explanations.
The FTGSEQ  entry, associates the individual events making up this loading sequence and defines their
durations. There are six (6) events to be applied with durations of 1.0, 2.0, 3.0, 4.0, 5.0, and
6.0 seconds each. The damage from each event is independently calculated and then damage from
all events is summed:
FTGSEQ  42      1               SECS    1.0
101     1.0     102     2.0     103     3.0     104     4.0
105     5.0     106     6.0
The FTGEVNT  entries define the actual events. An event definition is made up of simultaneously
acting loads defined by FTGLOAD  entries. In this case there is only one per event. So this is still
considered a single input random loading problem.
FTGEVNT 101     200
FTGEVNT 102     200
FTGEVNT 103     200
FTGEVNT 104     200
FTGEVNT 105     200
FTGEVNT 106     200
The FTGLOAD  is of TYPE= PSD and therefore references a RANDPS /TABRND1  combination that defines
the actual PSD loading:
FTGLOAD 200             300                             PSD
The RANDPS  references the TABRND1  entry and associates it with the transfer function (TF)
SUBCASE, which is SUBCASE 1. Both the J and K fields need to be set to 1 in the case of a direct
PSD input. A single load is always a direct PSD input. The X and Y fields need to be set to 1.0  and
0.0, respectively, to indicate that the input is real (as opposed to imaginary X=0.0, Y=1.0):
RANDPS  300     1       1       1.0     0.0     400
The TABRND1  defines the actual PSD loading input in terms of a linear/linear xy curve of input
load2/Hz per frequency. So in this case g2/Hz versus frequency in Hz:
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
Multi-event Output
The results from this run are shown below. This is a useful way to see the way results as reported and organized
in the CSV file. The CSV file is only produced if the FATIGUE  case control contains FORMAT=64 (or a
summation equivalent). Every CSV file is organized in the following way:&lt;/p&gt;
&lt;p&gt;215 CHAPTER 8
Multiple Random Events
Main Index
Column 1: ID of all elements requested (in this case only 13897)
Column 2: Grid ID (center = 0, plus corners 2858, 2859, 2756)
Column 3: Layer, in this case lower then upper for shell elements
Columns 4/5: The material ID ( MATFTG ) associated to the element
Column 6: Event ID, in this case 101 to 106 followed by the sum
Columns 7-n: Spectral parameters, RMS stress/strain and fatigue damage/life
Listing 8-1  Partial listing of CSV output file (knuckleEVNT_a.dat )
A summary of the damage results for the center of element 13897 (lower layer - element center Grid=0) is
given below and for all grid IDs and all results.
Note that for the summary row (Event=SUM), only the damage can be (and is) summed from the previous
events (101-106). So in the summary row the following is reported:
RMS Stress (or RMS Strain) - this is the maximum RMS stress experienced from any of the events
Damage - this is the sum of the damage from all the events
Log Damage - this is simply the Damage expressed in LOG base 10
(i.e., damage = 10log damage)
Life - for each individual event, this is the reciprocal of the damage/second. So notice in our example
that the life is reported the same for each event, but the damage is different. The damage is
increasing per event based on the duration of the event. Since each event uses the same TF of stress,
the actual damage/second remains the same. So if you divide the damage by the duration, you get
the damage/second and the life value reported for each event is the reciprocal. For the summary, the
damage/second from each event is summed then the reciprocal is taken to give life. Since in our
example the damage/second is the same for all events, the life is simply the reciprocal of six (6) times
the damage/sec, (i.e,. 1/(6*2.88E-07) = 5.78E05. See the bold numbers in the table below.
Log Life - this is simply the Life expressed in LOG base 10
(i.e., life = 10log life)
MOS or Margin of Safety - see the discussion belowElement Grid Layer Elset Id Material ID EventDamage
(Duty Cycle)
13897 0 lower 1 42 101 2.88E-07
13897 0 lower 1 42 102 5.76E-07
13897 0 lower 1 42 103 8.64E-07
13897 0 lower 1 42 104 1.15E-06
13897 0 lower 1 42 105 1.44E-06
13897 0 lower 1 42 106 1.73E-06
13897 0 lower 1 42 SUM 6.05E-06&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup216
Main Index
Listing 8-2  Full row listing of CSV output file
Margin of Sa fety
The procedure for calculating Margin of Safety (MOS) is done for each event and event sum in the following
manner:
Calculate number of cycles to failure for actual loads – call this Nact
Look at S-N curve and read off equivalent value for Sact
Use Nreq (Required Duration) from LIFE field of FTGPARM  entry, FOS line (this could also be called
Ntarget - the target duration or target life)
Convert to seconds and multiply by E[P] to get Nreq in cycles
Look at S-N curve and read off equivalent value for Sreq corresponding to Nreq
MOS is then obtained using  Element
Grid
Layer
Elset Id
Material ID
Event
m0
m1
m2
m4
rms_stress
rms_strain
E[0]
E[p]
Irr_Factor
Mean Stress
Mean+3sigma_stress
Mean-3sigma_stress
Mean+3sigma_strain
Mean-3sigma_strain
Damage(Duty Cycle)
Log Damage (Duty Cycle)
Life(seconds)
Log of Life(seconds)
MOS
Plasticity Index13897
0
lower
1
42
101
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
2.88E-07
-6.54E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42
102
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
5.76E-07
-6.24E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42
103
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
8.64E-07
-6.06E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42
104
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
1.15E-06
-5.94E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42
105
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
1.44E-06
-5.84E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42
106
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
1.73E-06
-5.76E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+0013897
0
lower
1
42SUM (or max event 101)
3.97E+01
0.00E+00
6.05E-06
-5.22E+00
5.78E+05
5.76E+00
5.74E+01
MOS 1Sact
Sreq&amp;mdash;&amp;mdash;&amp;mdash; – =&lt;/p&gt;
&lt;p&gt;217 CHAPTER 8
Multiple Random Events
Main Index
expressed as a percentage.
To calculate E[P] for the summed events use:
Figure 8-2  Calculation of Margin of Safety
Both Sact and Sreq are always positive so according to the MOS equation the result can vary between 100.0%
and minus infinity. A value above 0.0 would indicate that the result corresponds to a damage less than 1.0.
Anything greater than or equal to one denotes a static failure. So MOS less than one is highly desirable!EPsumEPiNi
Ni&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup218
Main Index
Multiple Events - Different TFs
The partial input of file knuckleEVNT_b.dat  is shown here. This problem again uses multiple events, but with
different load case IDs (LCIDs).
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
&amp;hellip;
SUBCASE 1
SUBCASE 2
SUBCASE 3
&amp;hellip;
BEGIN BULK
&amp;hellip;
$ Fatigue Loading Sequence - six separate events of different durations
FTGSEQ  42      1               SECS    1.0
101     1.0     102     2.0     103     1.0     104     2.0
105     1.0     106     2.0
$
$ The six separate events using same random load case (TF):
FTGEVNT 101     211
FTGEVNT 102     212
FTGEVNT 103     221
FTGEVNT 104     222
FTGEVNT 105     231
FTGEVNT 106     232
$
$ Random loading definition - pointing to SUBCASE 1
FTGLOAD 211             301                             PSD
FTGLOAD 212             301                             PSD
FTGLOAD 221             302                             PSD
FTGLOAD 222             302                             PSD
FTGLOAD 231             303                             PSD
FTGLOAD 232             303                             PSD
RANDPS  301     1       1       1.0     0.0     400
RANDPS  302     2       2       1.0     0.0     400
RANDPS  303     3       3       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
The following points are made (that differ from the previous example using the same TF subcase):
The FTGSEQ  entry, associates the individual events making up this loading sequence and defines their
durations. There are six (6) events to be applied with durations of 1.0, 2.0, 1.0, 2.0, 1.0, and
2.0 seconds each, respectively. The damage from each event is independently calculated and then
damage from all events is summed:
FTGSEQ  42      1               SECS    1.0
101     1.0     102     2.0     103     1.0     104     2.0
105     1.0     106     2.0&lt;/p&gt;
&lt;p&gt;219 CHAPTER 8
Multiple Random Events
Main Index
The FTGEVNT  entries define the actual events. An event definition is made up of simultaneously
acting loads defined by FTGLOAD  entries. In this case there is only one per event. So this is still
considered a single input random loading problem. But now a different FTGLOAD  is referenced for
each.
FTGEVNT 101     211
FTGEVNT 102     212
FTGEVNT 103     221
FTGEVNT 104     222
FTGEVNT 105     231
FTGEVNT 106     232
The FTGLOAD  is of TYPE= PSD and therefore references a RANDPS /TABRND1  combination that defines
the actual PSD loading. There is one for each now. And they must reference the proper
RANDPS /TABRND1  pair.
FTGLOAD 211             301                             PSD
FTGLOAD 212             301                             PSD
FTGLOAD 221             302                             PSD
FTGLOAD 222             302                             PSD
FTGLOAD 231             303                             PSD
FTGLOAD 232             303                             PSD
The RANDPS  references the TABRND1  entry and associates it with the transfer function (TF)
SUBCASE, which is SUBCASE 1, 2, and 3 now. Both the J and K fields need to be set to 1 in the
case of a direct PSD input. A single load is always a direct PSD input. The X and Y fields need to be
set to 1.0 and 0.0, respectively, to indicate that the input is real (as opposed to imaginary X=0.0,
Y=1.0):
RANDPS  301     1       1       1.0     0.0     400
RANDPS  302     2       2       1.0     0.0     400
RANDPS  303     3       3       1.0     0.0     400
The TABRND1  defines the actual PSD loading input in terms of a linear/linear xy curve of input
load2/Hz per frequency. So in this case g2/Hz versus frequency in Hz. All the actual PSD loads for
the different events are the same, so the RANDPS  entries can all reference the same PSD load table.
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
One final note is that the input could have been simplified even further since the first two events use
the same TF, the next two the same TF, and the last two the same TF, down to this where only
three FTGLOADs are actually necessary. The differences in the events using the same TFs are the
durations:
FTGSEQ  42      1               SECS    1.0
101     1.0     102     2.0     103     1.0     104     2.0
105     1.0     106     2.0
FTGEVNT 101     201
FTGEVNT 102     201
FTGEVNT 103     202
FTGEVNT 104     202
FTGEVNT 105     203
FTGEVNT 106     203
FTGLOAD 201             301                             PSD&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup220
Main Index
FTGLOAD 202             302                             PSD
FTGLOAD 203             303                             PSD
RANDPS  301     1       1       1.0     0.0     400
RANDPS  302     2       2       1.0     0.0     400
RANDPS  303     3       3       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000 .
ENDT
Multi-event Output
The first two events use the same TFs as the first two events of our previous example using the same TF
subcases. So we would expect the damage from those events to be identical to we got back in Listing 8-3. Note
however, that there is a very small (1%) change in the damage numbers. This is a result of the BIN
discretisation being a function of the MAXSTR and maximum RMS in the model. Because additional (or
different to be more precise) events are now included, a higher (max) RMS has been used resulting in a
different BIN width and hence a small change in the damage results.
Listing 8-3  Partial listing of CSV output file (knuckleEVNT_b.dat )
Element Grid Layer Elset Id Material ID EventDamage
(Duty Cycle)
13897 0 lower 1 42 101 2.76E-07
13897 0 lower 1 42 102 5.53E-07
13897 0 lower 1 42 103 3.82E-02
13897 0 lower 1 42 104 7.64E-02
13897 0 lower 1 42 105 5.85E-04
13897 0 lower 1 42 106 1.17E-03
13897 0 lower 1 42 SUM 1.16E-01&lt;/p&gt;
&lt;p&gt;221 CHAPTER 8
Multiple Random Events
Main Index
Multiple PSD Inputs
The partial input of file knuckle3PSDs.dat  is shown here. This problem introduces the concept of multiple
PSD load inputs acting simultaneously. Only one event is used. More detail and explanation of multi-PSD
loading is given in subsequent chapters. But as an introduction, assume that now all three directions (x-
direction, y-direction, z-direction) are to be loaded simultaneously in a single event. The input looks like this
for the load sequence:
&amp;hellip;
FTGSEQ   42      1               SECS   1.
101    1.
UNITS  1.      Repeats
$ Active Load Event: Event_1
FTGEVNT  101     20001
NAME   Event_1
$ Fatigue Loads of TYPE: PSD Loading
FTGLOAD  20001           20001          1.       0.      PSD
$ PSD Fatigue Loading:
RANDPS   20001   1       1      1.       0.      90001
RANDPS   20001   2       2      1.       0.      90002
RANDPS   20001   3       3      1.       0.      90003
$ Corresponding PSD Tables:
TABRND1  90001   LINEAR  LINEAR
0.      0.     .43     1.12+7  5.77    1.88+6  50.     1000.
ENDT
TABRND1  90002   LINEAR  LINEAR
0.      0.     .043    1.12+6  .577    188000. 5.      100.
ENDT
TABRND1  90003   LINEAR  LINEAR
0.      0.     .25     5.2+6   2.77    880000. 25.     500.
ENDT&amp;hellip;
The following points are made:
The FTGSEQ  entry, associates the individual events making up this loading sequence and defines their
durations. In this case there is only one event of duration one (1.) second. Note that the key word
UNITS is included. This is an optional mechanism for defining and reporting the fatigue life in
different units that make sense to the user. By including this, the total life of an event and/or loading
sequence is reported in both the time units (TUNITS = SECS ) and the equivalent units of
Repeats  of the loading sequence (or event). A scale factor on the life units can be applied. In this
case it is 1., which means that SECS  and Repeats  are the same thing. But as an example, a loading
sequence could represent five (5) laps around a track or landings of an airplane. In this case the
equivalent units scale factor on life in time units would be 5.0 and the name would be Laps  or
Landings .
FTGSEQ   42      1               SECS   1.
101    1.
UNITS  1.      Repeats&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks222
Main Index
The FTGEVNT  entries define the actual event. This event definition is made up of three (3)
simultaneously acting loads. But those loads are defined by a single FTGLOAD  entry as you will see
below. Note also that the key word NAME is included. Events can be named and the output in the
f06 file will reflect the name and the ID. If the NAME keyword is omitted, only the ID is referenced
in the output. Of course with only one event, this is of little value. In problems with multiple events,
the EVNTOUT field of the FTGSEQ  entry should be set to one (1) if you wish to see individual event
results as well as the summation of events.
FTGEVNT  101     20001
NAME   Event_1
The FTGLOAD  is of TYPE= PSD and therefore references RANDPS /TABRND1  combinations that define
the actual PSD loads. The LCID entry defines the RANDPS  entries. Note here that there are now
multiple RANDPS  entries with the same ID (see the next bullet point item). There is one for each PSD
load. And they must reference the proper RANDPS /TABRND1  pair.
$        ID              LCID           SCALE    OFFSET  TYPE
FTGLOAD  20001           20001          1.       0.      PSD
Each RANDPS  references a TABRND1  entry and associates it with the proper transfer function (TF)
SUBCASE, which are SUBCASEs 1, 2, and 3, respectively. Both the J and K fields are set to the
same SUBCASE ID, thus defining direct PSD input. The X and Y fields need to be set to 1. and
0., respectively, to indicate that the input is real (as opposed to imaginary X=0.0, Y=1.0). Note that
this loading is un-correlated, meaning that each load input has no influence (with possible cancelling
effect) on another. In order to for that to be the case, the loading would have to be correlated,
meaning that cross PSDs with real and imaginary components would also need to be defined. A
subsequent Chapter explains this in more detail. Note also that the RANDPS SIDs are the same as
the FTGLOAD ID. This is not necessary and they can be different, but as an illustration, they are
the same in this example.
RANDPS   20001   1       1      1.       0.      90001
RANDPS   20001   2       2      1.       0.      90002
RANDPS   20001   3       3      1.       0.      90003
The TABRND1  defines the actual PSD loading input in terms of a linear/linear xy curve of input
load2/Hz per frequency. So in this case g2/Hz versus frequency in Hz.
TABRND1  90001   LINEAR  LINEAR
0.      0.     .43     1.12+7  5.77    1.88+6  50.     1000.
ENDT
TABRND1  90002   LINEAR  LINEAR
0.      0.     .043    1.12+6  .577    188000. 5.      100.
ENDT
TABRND1  90003   LINEAR  LINEAR
0.      0.     .25     5.2+6   2.77    880000. 25.     500.
ENDT&amp;hellip;
Concluding Remarks
In this example we investigated multiple events and some results listings.
Events are load cases that do not act simultaneously. They act independently of one another and the
damage from each is accumulated (summed) to give over all total damage.&lt;/p&gt;
&lt;p&gt;223 CHAPTER 8
Multiple Random Events
Main Index
Events can reference the same TF subcase or different TF subcases from the same analysis
The CSV produced lists the results for each event as well as the damage summation over all events
Damage summation is the total damage summed from all events (or an individual event if looking at
results from only that event).
Life is reported based on damage/second (or TUNIT). To get the life from the damage you must
divide the damage by the total duration of the event and then take the reciprocal.
For the total life due to all events,  the damage/sec from each event is summed then the reciprocal
taken. Damage/sec is computed by diving the reported damage by the time duration of the event.
Margin of Safety (MOS) is a standard calculation and is affected by the target duration defined on
the FTGPARM  entry (LIFE field on FOS line). A value greater than or equal to one (1) indicates static
failure. Values less than one (1) are desirable.
Rainflow BIN width/discretization is a function of the MAXSTR and maximum RMS in the model
over all the events. This results in a small change in damage results.
Events can be named and reported in the output along with the Event ID if the NAME keyword is
included in the FTGEVNT  entry.
Equivalent fatigue units can be defined and life reported if the UNITs keyword is included in the
FTGSEQ  entry.
A brief introduction of simultaneous PSD load inputs was given - see below.
Multiple Inputs versus Multiple Events
Where more than one load input is applied simultaneously, phase relationships between inputs become
important. This means inputs need to be described as both direct PSDs and correlated with cross PSDs.
These cross PSDs are complex and therefore must contain two (2) bits of information at each frequency. This
is a much different situation from the multiple (6) events example shown in this section.
A multiple (simultaneous) input example is given in a subsequent Chapter. But as a taste, consider the truck
cab model below showing four (4) input application points, each with three (3) components, making for a
total of 12 input loads. This results is a matrix of load correlations as shown.
Figure 8-3  Application of PSDs and cross PSD in a multiple loaded system&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup224
Main Index
A simple two load correlation is shown with the cantilever beam. The response from all input loads acting
simultaneously is computed and damage determined directly from the output response PSD as opposed to
multiple events, each of which has its own damage calculated, and then summed. Multiple load input systems
can also have multiple events.
Correlated loading means that one load affects the other, possibly adding to or cancelling out the effects of
other loads. It is possible to ignore the correlation between loads and use only direct PSD input loads. This
has the effect of possibly leading to more conservative answers as there would be no cancelling out effect.
However, for more realistic fatigue life predictions, load correlation should be considered in the analysis.
Figure 8-4  Two correlated load inputs
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knuckleEVNT . Use the Analysis  application
(or tab) to import the first input deck associated with this example: knuckleEVNT_a.dat&lt;br&gt;
(Action =Read Input File ). Make sure the Analysis Preference  is set to MSC Nastran.
Step 2: Check the ModelSf HafHbfGabf
b1=n

a1=n
=&lt;/p&gt;
&lt;p&gt;225 CHAPTER 8
Multiple Random Events
Main Index
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction. An FRFY.SC2 and an
FRFZ.SC3 load case were also imported for unit loads in y- and z-directions. Repeat this steps to see
the load for these two other load cases.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry. Verify that they are the same.
Open the Options  form and ensure that the Log x-axis  and Log y-axis  toggles are set ON. Also check
the non-spatial field (Field.400 ) that defines our input PSD loading. The values here are from the
TABRND1 entry.Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate Tensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup226
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knuckleEVNT_a.dat ,
a job by the name of knuckleEVNT_a  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Nodal
Recovery: Corner
Layer: Worst
Level of Output: +Rainflow Damage
T op RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this OFF
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;227 CHAPTER 8
Multiple Random Events
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis, but for this job, only critical
element, 13897, is included in the analysis and a CSV File  is requested as show here. Make sure the
proper group ( set3_600 ) is selected and the CS F File request selected.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup228
Main Index
One last note about output requests. Fatigue life output requests are subcase independent unlike most
standard output requests such as stress and displacement. If you are using multiple subcases, the first
(or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the next
step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only if
necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: FRFX.SC1 , FRFY.SC2 , FRFZ.SC3 .
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a six (6)
load events that associates our transfer function subcase called FRFX.SC1  to the PSD load input
defined by a non spatial field created or inspected earlier. The only difference between each event is
the duration. But first:
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
Click on the Up arrow button below the spreadsheet to make or view Event : 2. Since the definition
is the same, simply click on the Duplicate Previous  button. Repeat this for Events : 3, 4, 5, and 6.
In the tree widget on the left, ensure that a Load Sequence with six (6) events is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select all the Events (1-6) from the list box that appears
and press Apply . The load sequence is now defined except for the duration of each event.
Now select each Event from the tree widget on the left one at a time and use the RMB to Edit Event .
This brings up the Edit Event  form. For Event 1-6, set the Duration s to 1.0, 2.0, 3.0, 4.0, 5.0, and
6.0, respectively, pressing the Apply  button on this form each time. A figure of editing Event 5 is
shown below.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P13</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_013/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_013/</guid>
      <description>
        
        
        &lt;p&gt;229 CHAPTER 8
Multiple Random Events
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup230
Main Index
Step 8: View the Results
Since only one element was analyzed, there is no point in viewing any type of fringe plot. But a XY
plot of Damage versus Event is possible. Since the duration of each event is simply incremental, we
would expect a simple linear increase in damage versus Event as shown in the plot below. The plot is
created by using a simple plotting tool for NEF vibration fatigue results under the Tools pull down
menu ( Tools  | Results  | NEF Random Vibration&amp;hellip; ). When the form appears, set the Plot Data  to
Events , select file knuckleEVNT_a.csv , set the Element ID , Node ID, Layer , and Result  to Elem
13897 , Center , Bottom , Damage(Duty Cycle) , respectively, and the press the Plot button.&lt;/p&gt;
&lt;p&gt;Step 9: Run other Fatigue Jobs
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knuckleEVNT_a  and then renaming
it and making the modifications as necessary. The table below lists the modifications necessary for each using
the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.&lt;/p&gt;
&lt;p&gt;231 CHAPTER 8
Multiple Random Events
Main Index
Input Deck Modification
knuckleEVNT_a.dat Baseline - no modifications necessary
knuckleEVNT_b.dat This problem uses different TFs for each event rather than the same TF
for each event as in knuckleEVNT_a . Modify the load sequence such
that each event references the following TF Subcases with the specified
duration:
Event 1: FRFX.SC1 duration = 1.0
Event 2: FRFX.SC1 duration = 2.0
Event 3: FRFY.SC2 duration = 1.0
Event 4: FRFY.SC2 duration = 2.0
Event 5: FRFZ.SC3 duration = 1.0
Event 6: FRFZ.SCE duration = 2.0
You can make the same plot of Damage versus Event and it should look
something like below, obviously showing that Events 3 &amp;amp; 4 dominate
the damage. (Use a logY scale.)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup232
Main Index
knuckle3PSDs.dat This problem uses our three (3) TF Subcases to define simultaneously
applied PSD loads in a single event. From our baseline model,
knuckleEVNT_a , modify the load sequence such that there is only one
(1) Event. Use RMB to delete events from the load sequence leaving
only the 1st Event. Change the Max #: FRF Subcases  to three ( 3) and
press the Enter  key. Then fill each row of the spreadsheet out as follows:
Row 1: FRFX.SC1, FRFX.SC1, Field 401, 1.0, 1.0, 0.0
Row 2: FRFY.SC2, FRFY.SC2, Field 402, 1.0, 1.0, 0.0
Row 3: FRFZ.SC3, FRFZ.SC3, Field 403, 1.0, 1.0, 0.0
See the image below as a guide. The Duration  of the Event is 1.0Input Deck Modification&lt;/p&gt;
&lt;p&gt;233 CHAPTER 8
Multiple Random Events
Main Index
Input Deck Modification&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup234
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 9: Different S-N Methods
9 Differe nt S-N Methods
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description236
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. Now however we are going to
investigate the different methods of defining the cyclic material properties for a fatigue analysis.
Figure 9-1  The Knuckle model and applied load inputs
Objective
To run a fatigue analysis using the various forms of defining S-N curves.
To run a fatigue analysis using the -N model.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 9-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knuckle_static.dat Knuckle model used to produce static offset stresses.
knuckleSNLogLog.dat Knuckle model analyzed tabular log-log form of S-N curve (range).
knuckleSNLinLin.dat Knuckle model analyzed tabular linear-linear form of S-N curve
(range).
knuckleSNLogLin.dat Knuckle model analyzed tabular log-linear form of S-N curve (range).
knuckleSNLinLog.dat Knuckle model analyzed tabular linear-log form of S-N curve (range).&lt;/p&gt;
&lt;p&gt;237 CHAPTER 9
Different S-N Methods
Main Index
Fatigue Setup
In this Chapter we investigate usage of different S-N definition methods. To this point in all previous
examples we have used a tabular definition of the S-N curve as such ( knuckleSNLogLog.dat ):
MATFTG  42
STATIC  135     400             RANGE
TABLE   1.0     60
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
Tabul ar S-N Data
The TABLE section of the MATFTG  entry points to a TABLEM1 entry, which contains the tabular input of
the S-N curve. The curve is defined as stress RANGE and the axis of the S-N curve are both defined as LOG.
in the above.
Alternatively the axes can be defined with LINEAR-LINEAR, LINEAR-LOG, LOG-LINEAR interpolation
along the axes. And the curves can be defined as being stress RANGE or stress AMPLitude:
knuckleSNLinLin.dat :
MATFTG  42
STATIC  135     400             RANGE
TABLE   1.0     60
TABLEM1 60      LINEAR  LINEAR
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
knuckleSNLinLog.dat :
MATFTG  42
STATIC  135     400             RANGE
TABLE   1.0     60
TABLEM1 60      LINEAR  LOGknuckleSNrange.dat Knuckle model analyzed with inverse Basquin form of S-N curve
(range).
knuckleSNampl.dat Knuckle model analyzed with inverse Basquin form of S-N curve
(amplitude).
knuckleMMPDSpsd.dat Knuckle model analyzed with MMPDS data using random loading and
mean stress offset.
knuckleMMPDSsine.dat Knuckle model analyzed with MMPDS data using deterministic
loading and mean stress offset.Table 9-1  Files Required
Files Required Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup238
Main Index
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
knuckleSNLogLin.dat :
MATFTG  42
STATIC  135     400             RANGE
TABLE   1.0     60
TABLEM1 60      LOG      LINEAR
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
Results from each of these is listed. You can see that the differences if fatigue life can vary greatly and the user
must keep in mind how the S-N curve is being define so as not to make a mistake. As an exercise, change
RANGE to AMPL to see the affect on the fatigue life .
Each of the examples above use a different form of interpolation for the following S-N data points.XAXIS YAXIS Damage  (RANGE) Damage (AMPL)
LOG LOG 4.58E-04 1.00E-08
LINEAR LINEAR 1.81E-04 3.44E-09
LINEAR LOG 1.88E-04 3.57E-09
LOG LINEAR 4.22E-04 8.79E-09
N S
1.0E15 121.10
2.0E11 121.10
7.19E9 150.00
1.86E7 220.00
1.0E6 265.50
1.71E3 400.00
5.31E1 500.00
1.0E0 645.50&lt;/p&gt;
&lt;p&gt;239 CHAPTER 9
Different S-N Methods
Main Index
The four (4) options available result in different data points for the points which join between these N,S
points and it is important to take this into account when specifying material properties. Here are the four (4)
curves, which are created for the log-log, lin-lin, lin-log and log-lin methods of interpolation.
Figure 9-2  Different interpolation routines available for tabular S-N data
Inverse Bas quin S-N Data
An alternative to the tabular form of an S-N curve is the inverse Basquin form. See knuckleSNrange.dat  and
knuckleSNampl.dat . This is done using the SN line of the MATFTG  entry in this manner.
MATFTG  42
STATIC  135     400             RANGE
SN      645.5   -0.0643 1E6     -0.0643 1E11
The S-N curve can also be defined in terms of stress amplitude ( AMPL ) as opposed to stress range ( RANGE )
as shown here.
MATFTG  42
STATIC  135     400             AMPL
SN      322.75  -0.0643 1E6     -0.0643 1E11
Note that this form is the equivalent inverse Basquin form of the tabular data (log-log) used in previous
examples. When specifying amplitude, the stress range intercept ( SRI1 ) value is half the range. The results
are identical:
Damage
TABLE (RANGE )
LOG-LOGDamage&lt;br&gt;
SN (RANGE )Damage
SN (AMPL )
4.58E-4 4.58E-4 4.58E-4&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup240
Main Index
The representation of Basquin and inverse Basquin (sometimes referred to as the &amp;ldquo;nCode&amp;rdquo; representation) are
show here along with the tabular representation.
Figure 9-3  Basquin and inverse Basquin (&amp;ldquo;nCode&amp;rdquo;) representation of S-N curve
Figure 9-4  Table (interpolation) form of S-N curve
The above curves are typically specified for a zero mean (fully reversed) stress (R-Ratio=-1) but it is known
that non-zero mean stresses affect fatigue behaviour and a number of mean stress correction methods are in
use as detailed in Mean Stress Correction  (Ch. 5).
Multiple Associations to MAT1
You may have noticed another line on the MATFTG  entry that has not been explained yet. That is the MATID
line. This is a simple mechanism to associate a single MATFTG  entry to multiple MAT1 entries. By default if
no MATID line is present, then the MATFTG  must have a corresponding MAT1 entry or it is ignored. If a
Basquin &amp;ldquo;nCode&amp;rdquo;
NSm K= Nb–S SRI1 =&lt;/p&gt;
&lt;p&gt;241 CHAPTER 9
Different S-N Methods
Main Index
MATID line is present, then the MATFTG  ID can be any ID and only those MAT1 IDs included in the
MATID line are associated to or with the MATFTG  entry (and thus a fatigue analysis performed on those
elements). So the below entry associates MAT1 of IDs, 1, 777, and 999 to MATFTG  ID 42. If the MATFTG  had
also been given ID 1 (or 777 or 999), which is an ID of an existing MAT1 entry, that ID would still need to
be included in the MATID line.
MATFTG  42              1
STATIC  135     400             RANGE
SN      645.5   -0.0643 1E6     -0.0643 1E11
MATID   210000. 0.3
1       777     999
The final thing to point out when using the MATID line is that the Young’s Modulus and Poison’s Ratio to
be used in the fatigue analysis should be included on the first line of the MATID line. Normally the values
are taken from the corresponding MAT1 entries when a one-to-one correspondence exists (no MATID line).
But with multiple associations to MAT1 entries, which Young’s Module and Poison’s Ratio to use would be
in question. So this is required to be entered on the MATID line. Naturally the engineer should ensure that
all associated MAT1 entries are of similar material behavior.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup242
Main Index
MMPD S S-N Data
Another mechanism supported for defining S-N data is the MMPDS method. For this example, first run the
knuckle_static.dat  to produce the static offset stresses needed for mean stress correction. Then run
knuckleMMPDSpsd.dat  and knuckleMMPDSsine.dat .
This example uses the MMPDS (Walker) mean stress correction method and material data. The mean stress
correction method is specified as CORR=MMPDS on the FTGPARM  entry and the material data is specified
by including the MMPDS line in the MATFTG  entry. Other than that and the fact that we have included a
static stress offset, the setup is identical to the other S-N examples in this Chapter.
FTGPARM 42      SN                      0       0
STRESS  SGVON   MMPDS           NODE            CORNER
FOS             1.0
VIBFTG  DIRLIK  16.0    16.0    3.0     64      99.9
&amp;hellip;
MATFTG  42
STATIC  135     400             AMPL
MMPDS   7.92    -2.69   0.64    16.00
MATID   210000. 0.3
1       777     999
$
$ Fatigue Loading Sequence - single event
$
FTGSEQ  42      1               SECS    1.0
100     1.0
$
$ Fatigue Loading Event - single PSD applied to SUBCASE 1 + offset
$
FTGEVNT 100     200     801
$
$ Fatigue PSD Loading
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50.0    1000.0
ENDT
$
$ Fatigue STATIC Offset Loading
$
FTGLOAD 801     555     1               -10000          STATIC
UDNAME  555
knuckle_static.op2
There are two MMPDS jobs in this Chapter. The one shown above ( knuckleMMPDSpsd.dat ) uses a static
offset on a random load. The other (not shown) uses a static offset on a limited sine sweep
(knuckleMMPDSsine.dat ).
Note the following when using MMPDS S-N data:
1.Data is always in stress amplitude (TYPE=AMPL on MATFTG  entry)
2.Data (A1-A4 on MMPDS line of MATFTG ) is always entered as KSI units regardless of the model
dimension. Use DTI,UNITS  to define the model units so that proper conversion is done.&lt;/p&gt;
&lt;p&gt;243 CHAPTER 9
Different S-N Methods
Main Index
Because of the way the program works it is possible to apply the MMPDS data but without using the form
of Walker (mean stress correction - MSC) that is built into the data. We will apply instead, both Goodman
and Gerber to get the following results. Note that to get these results the MMPDS variable on the FTGPARM&lt;br&gt;
entry needs to be changed to either GOODMAN or GERBER.
The MMPDS data is plotted as a function of Smax and R - the mean stress ratio defined as follows:
Figure 9-5  Basic variables for mean stress correction
The basic form of MMPDS S-N equation is as follows:
whereMSC Method Mean StressMean +
3&lt;em&gt;sigmaMean -
3&lt;/em&gt;sigma DamageNormalized
Damage
None +43.6 +163.00 -75.40 2.54E-06 1.00
MMPDS +43.6 +162.65 -75.35 6.26E-06 2.46
Goodman +43.6 +163.00 -75.40 5.80E-06 2.28
Gerber +43.6 +163.00 -75.40 2.78E-06 1.09
SWT +43.6 +163.00 -75.40 8.89E-06 3.50
RSmin
Smax&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
Nlog A1A2Smax1R–A3A4–   log + =
Seq1Smax1R–A3 =&lt;/p&gt;
&lt;h1&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup244
Main Index
So, for this material,   (A2219-T851 / Kt=2.0) the relevant parameters are, A1=7.92, A2= -2.69, A3=0.64,
A4=16.0, and we get this data:
Figure 9-6  MMPDS material data - best fit S-N curve for notched, Kt=2.0, 2219-T851 aluminium alloy
plate, longitudinal direction
MSC Nastran calculates (for known A1, A2, A3, A4) a &amp;ldquo;base&amp;rdquo; S-N curve using the following
expression:
T wo relevant mean stress correction options are then available as follows,
MMPDS where
SWT where
MMPDS is the standard mean stress correction method built into the MMPDS data. Both are only used for
tensile means (mean stress is skipped for compression).
Hand Check of Me an Stress Calculations
The above random stress response and material data has been used to for a series of approximate hand
calculations as follows:
N 10A1A2Sr
13.7895&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-2A3A4–  log +&lt;/h1&gt;&lt;h1&gt;SmodSrSr
2SmSr+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
   A31–&lt;/h1&gt;&lt;h1&gt;SmodSrSr
2SmSr+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
   0.5–&lt;/h1&gt;&lt;p&gt;245 CHAPTER 9
Different S-N Methods
Main Index
Input variables :
Using these variables the following approximate hand calculations have been done in order to check the mean
stress correction results:
These agree well with the MSC Nastran random vibration fatigue results calculated by
knuckleMMPDSpsd.dat  when changing the mean stress corrections accordingly.Stress range 6*rms 240 assuming maximum stress range is 6 times the RMS
Stress Mean  44.1 from the static OP2 file knuckle_static.op2
Ultimate TS  400 basic material property
Slope A1  7.92 from MMPDS material data
Modified Stress
Goodman 269.74 &lt;br&gt;
Gerber 242.95 &lt;br&gt;
MMPDS 268.62 &lt;br&gt;
STW 280.66 &lt;br&gt;
Goodman Gerber MMPDS SWT
Increase in stress 1.124 1.012 1.119 1.169
Increase in damage 2.522 1.102 2.441 3.454
MSC Nastran 2.28 1.09 2.46 3.50&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup246
Main Index
MMPDS Data Sets
MMPDS data can be found and extracted from DOT/FAA/AR-MMPDS-01 ( Metallic Materials Properties
Development and Standardization Handbook ).
Sine Sweep with MMPDS - Hand Check
This other MMPDS model ( knuckleMMPDSsine.dat ) runs a series of single sine waves (using DETLOAD
line on FTGLOAD  with TYPE=SINE) at 9Hz with STRBINS=500 on FTGPARM  entry using material type 2219-
T851. Note that a negative mean stress scale results in a tensile mean stress because the unit stress at this point
(13897) is compressive (negative).
A detailed S -N output (using MATOUT) is requested. The detailed S-N curve
(knuckleMMPSDsine_vmatftg_42.txt ) is shown below in both MPa and KSI units (KSI units as used in the
MMPDS-01 Handbook).
Figure 9-7  Detailed S-N curve for MMPDS data in MPa and KSI units&lt;/p&gt;
&lt;p&gt;247 CHAPTER 9
Different S-N Methods
Main Index
Below is the CSV file with the 16 individual results:
Listing 9-1   CSV file with 16 results for different Smax and R ratios
And this is the same data reorganized for direct comparison with the original MMPDS data.
Listing 9-2  The same results plotted with Smean, Smax, and R ratio&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks248
Main Index
And if we superimpose these results onto the original MMPDS curves we see agreement between these results
and the original data.
Figure 9-8  Hand check using 16 sine wave inputs, on the MMPDS curve for A2219-T851
Concluding Remarks
In this example we investigated several S-N data set possibilities:
Tabular S-N data - defined on the MATFTG  entry with the TABLE line
S-N data parameters - defined on the MATFTG  entry with the SN line - this is the inverse Basquin
form of S-N data.
MMPDS data - defined on the MATFTG  entry with the MMPDS line
The following notes are made:
MATFTG  entries must reference MAT1 entries. This can be a one-to-one correspondence with the
actual MATFTG  and MAT1 IDs (MIDs) or the MATFTG  can have a MATID line associating all the
applicable MAT1 entries to the single MATFTG  entry.
MMPDS data must be entered in KSI units and be of TYPE=AMPL (amplitude) on MATFTG  entry.
This is regardless of the model consistent units being used. The DTI,UNITS  entry should be used to
properly identify the model stress units.
Care should be taken when using the tabular form that a proper number of data points are used in
the definition so that accurate interpolation along the axes is performed (log vs linear).
For both the SN and TABLE method, the TYPE can be set to either RANGE or AMPLitude and
care should be taken that this is set to the proper representation of the actual stresses in the defined
S-N curves.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P14</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_014/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_014/</guid>
      <description>
        
        
        &lt;p&gt;249 CHAPTER 9
Different S-N Methods
Main Index
Multiple S-N Definitions
What if the MATFTG entry has multiply defined definitions? That is, what if the TABLE, SN, and MMPDS
lines are all present? Or for that matter, the EN line also (although this has not been introduced yet).
The answer is that a hierarchy of choice is made by the program. The TABLE, SN, and MMPDS lines are
mutually exclusive, but rather than exit with an error, the program selects which S-N definition to use in this
order:
1.MMPDS
2.TABLE
3.SN
If both an S-N definition (one of the above) is present and the EN (strain-life) lines are present, then the
TYPE entry on the FTGPARM is queried to see whether an S-N or an e-N analysis has been requested and
the appropriate data set is selected. In other words, if TYPE=EN and both S-N and -N data sets are present,
the -N data set is selected and an -N analysis proceeds. If TYPE=SN and both exist then the above
hierarchy rules apply to selecting an S-N data set and an S-N analysis proceeds.
It is entirely possible to have multiple MATFTG  entries all using different data sets and even analysis type (S-N
vs -N) as each element is assigned a material properly and therefore be analyzed with what it has been
defined
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knuckleSN . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knuckleSNLogLog.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC Nastran.
Step 2: Check the Model
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction. An FRFY.SC2 and an
FRFZ.SC3 load case were also imported for unit loads in y- and z-directions, but they are not used
in this example.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup250
Main Index
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry. Verify that they are the same.
Open the Options  form and ensure that the Log x-axis  and Log y-axis  toggles are set ON. Also check
the non-spatial field (Field.400 ) that defines our input PSD loading. The values here are from the
TABRND1 entry.Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate T ensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;251 CHAPTER 9
Different S-N Methods
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knucklePSD_a.dat ,
a job by the name of knucklePSD_a  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Nodal
Recovery: Corner
Layer: Worst
Level of Output: Standard
Top RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this ON
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup252
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis, but for this job, only critical
element, 13897, is included in the analysis and a CSV File  is requested as show here. Make sure the
proper group ( set3_600 ) is selected and the CS F File request selected.&lt;/p&gt;
&lt;p&gt;253 CHAPTER 9
Different S-N Methods
Main Index
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: FRFX.SC1 , FRFY.SC2 , FRFZ.SC3 . Even though all three are
selected, only one ( FRFX.SC1 ) will participate in the analysis as you will see from this setup.
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a single
load event (Event: 1) that associates our transfer function subcase called FRFX.SC1  to the PSD load
input defined by a non spatial field created or inspected earlier.
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
In the tree widget on the left, ensure that a Load Sequence with one event is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select the one and only event from the list box that appears
and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup254
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;255 CHAPTER 9
Different S-N Methods
Main Index
Step 8: View the Results
What we are investigating in this example is the usage of different S-N material curve definitions. By
outputting the fully populated material curve by defining MATOUT field on the MATFTG entry
to one (1), a file is produced with the S-N curve. This curve can be plotted using a simple plotting
tool for NEF vibration fatigue results under the Tools pull down menu ( Tools  | Results  | NEF
Random Vibration&amp;hellip; ). When the form appears, set the Plot Data  to Material , select file
knuckleSNLogLog_vmatftg_&lt;!-- raw HTML omitted --&gt;.txt , where &lt;!-- raw HTML omitted --&gt;  is the MAT1 material ID, and the press the
Plot button.
Step 9: Run other Fatigue Jobs
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knuckleSNLogLog  and then
renaming it and making the modifications as necessary. The table below lists the modifications necessary for
each using the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.
Input Deck Modification
knuckleSNLogLog.dat Baseline - no modifications necessary
knuckleSNLinLin.dat Go to the Fields  application. Set the Action  to Modify , and the Object&lt;br&gt;
to Material Property . Select Field.60 . Open the [Options&amp;hellip;]  form and
turn OFF the Log x-axis  and Log y-axis  toggles. Press the Apply  button
on the Fields  application form.
knuckleSNLogLin.dat Following the instructions for knuckleSNLinLin , turn the Log x-axis&lt;br&gt;
toggle ON and the Log y-axis  OFF .
knuckleSNLinLog.dat Following the instructions for knuckleSNLinLin , turn the Log x-axis&lt;br&gt;
toggle OFF and the Log y-axis  ON.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup256
Main Index
knuckleSNrange.dat Go to the Materials  application. Set the Action  to Modify . Select
mat1.1 . Select the Stress-Life (SN) constitutive model from the Current
Constitutive Models  list box on the Input Options  form that appears.
Change the following and then press the Apply  button on the main
Materials  application from.
Constitutive Model :Stress-Life (SN)
Option :Standard Parameters
Material (CODE) :None
Stress :Range
Curve Type :None
Conversion Factor (CNVRT)  = 1.0
Yield Stress (YS)  = 135.0
Ultimate Tensile Strength (UTS)  = 400.0
Stress Range Intercept (SRI1)  = 645.5
1st Strength Exponent (b1) = -0.0642
T ransition Point (NC1) = 1.0E6
2nd Strength Exponent (b2) = -0.0642
Fatigue Cutoff (Nfc)  = 1.1E10
Repeat for materials mat1.777  and mat1.999 .Input Deck Modification&lt;/p&gt;
&lt;p&gt;257 CHAPTER 9
Different S-N Methods
Main Index
knuckleSNampl.dat Follow the same instructions as knuckleSNrange , but set
Stress :Amplitude
Stress Range Intercept (SRI1)  = 323.0
Even though the property word SRI1 implies range, we must input the
value as the amplitude in this case.
knuckleMMPDSpsd.dat Go to the Materials  application. Set the Action  to Modify . Select
mat1.1 . Select the Stress-Life (SN) constitutive model from the Current
Constitutive Models  list box on the Input Options  form that appears.
Change the following and then press the Apply  button on the main
Materials  application from.
Constitutive Model :Stress-Life (SN)
Option :MMPDS
Material (CODE) :None
Stress :Amplitude
Curve T ype :None
Conversion Factor (CNVRT)  = 1.0
Yield Stress (YS)  = 135.0
Ultimate T ensile Strength (UTS)  = 400.0
Coefficient A1 (KSI)  = 7.92
Coefficient A1 (KSI)   = -2.69
Coefficient A1 (KSI)   = 0.64
Coefficient A1 (KSI)   = 16.0
Repeat for materials mat1.777  and mat1.999 .
Go to the Analysis  application and in the Fatigue Parameters&amp;hellip;  form,
set the Mean Stress Correction  to MMPDS  (the form is located under
Solution Parameters ).
In addition to our PSD load, the Load Sequence /Event  also has a Static
Offset . Go to the Subcase Select  form on the Analysis  application
form. Open the Define Load Sequences&amp;hellip;  form. Select Event 1  or
ensure it is the visible Event  in the spreadsheet. The PSD Input  should
already be define. Now select the Static Offset  switch for this Event  and
set the Subcase ID  to one ( 1), the OP2 File  to knuckle_static.op2 , and
the Scale Factor to -10,000.Input Deck Modification&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup258
Main Index
knuckleMMPDSsine.dat Follow the instructions for knuckleMMPDSpsd , but make the Scale
Factor  = -96,500 for the Static Offset  load and remove the PSD Input&lt;br&gt;
from Event 1. Then create a total of 16 Events where every event has
the same Static Offset . Each Event  should contain a Deterministic  load
using TF Subcase  FRFX.SC1 with Frequency  of nine ( 9) Hz. The
Amplitude  of each sine wave (Event) is to be set base on the FTGLOAD&lt;br&gt;
entry of TYPE = SINE as shown in the DETLOAD line, if you inspect
the input file.Input Deck Modification&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 10: Random Response Only
10 Random Res ponse Only
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description260
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. This time however no fatigue analysis
is requested. Or that is, the analysis is done and only the random responses are calculated.
Figure 10-1  The Knuckle model and applied load inputs
Objective
To run a random response only analysis.
To run a random only response with a static offset applied.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 10-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knuckle_static.dat Knuckle static job for producing Output2 file of static offset stresses.
knuckleRND.dat Knuckle random only analysis.
knuckleRNDoff.dat Knuckle random only analysis with static offset.&lt;/p&gt;
&lt;p&gt;261 CHAPTER 10
Random Response Only
Main Index
Fatigue Setup
This example ( knuckleRND.dat ) is exactly the same as the examples as we have been using up to this point
except we do not do the fatigue analysis in this case. To accomplish a random only analysis all that is necessary
is to leave the S-N (or -N) material definition blank.
$ Fatigue Material Properties
MATFTG  42              0
STATIC  135     400             RANGE
MATID   210000. 0.3
1       777     999
Notice that the above MATFTG  entry has not SN, TABLE, MMPDS, or EN lines. Thus a fatigue analysis is
not possible. So only the random vibration analysis is performed.
This is a repeat of the knuckle model with no fatigue material values specified. When only the random
vibration portion of the analysis is done it is still possible to plot of the random response stresses, such as&lt;br&gt;
RMS stress and other results such a the spectral moments.
Figure 10-2  RMS Stress for worst case layer - element based results - no averaging&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup262
Main Index
The above plot was created using Patran by requesting an element results file in the FATIGUE  case control with
the FORMAT command.
FATIGUE(SORT1,PRINT, FORMAT=192 ,BULK) = 42
The code ( 192) actually requests both a CSV file and a element results file (sometimes referred to as either
an ELS or FEF file). ELS stands for element stress and FEF stands for finite element fatigue. Either way, they
are element based results written to a neutral file. The actual file created combines the two definitions and
uses ELS_FEF as the file extension ( knuckleRND_E_W_EV1.els_fef). The E, W, and EV1 in the file name
refer to Element center (as opposed to Element Nodal), Worst layer (as opposed to Top or Bottom), and for
EVent #, respectively. What is written to this element results file is controlled by the FTGPARM  LAYER and
LOC fields.
The file is read into Patran under the File | Import  | Results  mechanism. When reading in this file you must
also specify a template file, which is also generated by the FORMAT=192  command ( knuckleRND.res_tmpl ),
so that Patran knows how to map the results and give proper labelling.
Patran has very powerful capabilities for post processing results. But these can also be confusing and
misleading in some circumstances. For example, if element results are being processed it might make sense to
suppress all averaging taking place within the post processor. Furthermore, when plotting results for a set of
elements made from a thin shell (as with the CTRIA6 element 13897) it is advisable to create a single group
with these elements for post processing so that inter group problems do not apply. Note these are post
processing results - the underlying response results are not affected.
Random with Offset
The other file in this example ( knuckleRNDoff.dat ) is exactly the same problem except that the PSD has been
scaled by 10.0 and a mean load is applied. And in addition, cyclic stress-strain data has been included in the
material definition. This is a pre-cursor to running strain-life ( -N) fatigue analysis. And to make a point, the
Young’s modulus was changed from 210,000 to 71700 MPa.
These are entries with differences ( black bold ) between the random job with not offset and this one:
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            ELEM            CENTER
FOS             1.0
VIBFTG  DIRLIK  16.0    16.0    4.0     64      99.9
MATFTG  42              0
STATIC  135     400
EN                                         0.070   662.0
MATID   7.17E4   0.3
1       777     999
FTGEVNT 101     200     801
FTGLOAD 200             300             10.0            PSD
FTGLOAD 801     555     1               -10000          STATIC
UDNAME  555
knuckle_static.op2&lt;/p&gt;
&lt;p&gt;263 CHAPTER 10
Random Response Only
Main Index
The MATFTG  entry specifies the values for K&amp;rsquo; and n&amp;rsquo; on the EN line, which are the cyclic stress strain
parameters as shown explained below.
Cyclic Str ess-Strain Curves
When dealing with fatigue, and random response in general, it is important to use the appropriate material
properties for stress-strain. In particular the &amp;ldquo;cyclic&amp;rdquo; values for K and n (normally denoted by K&amp;rsquo; and n&amp;rsquo;) have
to be entered in the following equation:
If values of K&amp;rsquo; = 662 and n&amp;rsquo; = 0.070 are used the following curve results. Note that these are entered in the
EN line of the MATFTG  entry and as long as the four fatigue parameters (Sf, b, c, Ef) are not specified, a
random only analysis is still executed. If the four fatigue parameters, which make up the definition of a strain-
life curve, are provided, then a fatigue analysis ensues after the random response calculations.
Figure 10-3  Cyclic Stress-strain Curve for K&amp;rsquo; = 662 and n&amp;rsquo; = 0.070
If a linear stress is obtained we can then use Neuber’s Rule to relate the linear FE stress result (S) to an elastic-
plastic stress result using the following relationship:
E&amp;mdash;
K&amp;rsquo;&amp;mdash;&amp;ndash;1
n&amp;rsquo;&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=
max
2E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;max
2K&amp;rsquo;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;rsquo;&amp;mdash;-&lt;/li&gt;
&lt;li&gt;maxSmax2
2E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup264
Main Index
Neuber’s Rule assumes that the product of stress concentration factor and strain concentration factor is always
constant. The elastic-plastic stress can then be related to elastic-plastic strain using the cyclic stress strain curve
given in the cyclic stress-strain equation above.
Because Young’s modulus is an integral part of the above equations, it is necessary to include Young’s modulus
in the MATFTG  MATID entry if associating to multiple MAT1 entries or on each MAT1 entry that has an
associated MATFTG . The strains are obviously highly dependent on Young’s modulus.
Hysteresis Loops and Rainflow Cycles
We already know the mean stress at any given grid ID. We also know the RMS stress, which can be used to
estimate a peak value of stress according the MAXPEAK variable. In effect we are looking to estimate the peak
value shown in the hysteresis loop plot below (shown here for a zero mean random signal). Now we can
assume (because of the link between rainflow cycles of stress and closed stress-strain hysteresis loops) that the
peak stress is equal to the maximum rainflow cycle in the random response. And MAXPEAK can be used to
estimate this value. The following figures show that, as minor loops (small rainflow cycles) are removed we
progressively get to the last, and biggest, rainflow cycle in the random history. This goes from -
MAXPEAK&lt;em&gt;RMS to +MAXPEAK&lt;/em&gt;RMS. The cyclic stress-strain relationship is then used with Neuber’s
Rule to establish a peak strain value.
Figure 10-4  Closed stress-strain Loops for a random time history
Figure 10-5  Closed stress-strain Loops after minor cycles have been removed&lt;/p&gt;
&lt;p&gt;265 CHAPTER 10
Random Response Only
Main Index
Figure 10-6  Closed stress-strain Loops after medium cycles have been removed
Figure 10-7  Closed stress-strain loops when only the largest cycles are retained
Figure 10-8  Closed stress-strain loops when only the largest cycle is retained&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup266
Main Index
Another important observation is that if a mean load is applied, the whole time history is transitioned along
the strain axis but the loops keep their original stress and strain ranges. The same process can therefore be
used to estimate the maximum strain at the mean plus MAXPEAK*RMS stress values etc.
Figure 10-9  The effect on the stress strain loops when a mean load is applied
Neuber’s Rule
Nueber’s Rule states simply that Kt(stress)*Kt(strain) is always constant. This can be used to derive the
relationship given above. Computationally this creates another line on the stress-strain diagram as follows:
Figure 10-10  Neuber’s Rule relates linear stress-strain to elastic-plastic stress-strain
This has to be solved for all values of Neuber constant or, in other words, for all values of stress at any grid ID.&lt;/p&gt;
&lt;p&gt;267 CHAPTER 10
Random Response Only
Main Index
For this model using cyclic stress-strain data, the RMS strain can now be plotted. Here are the RMS stress
and strain plots.
Figure 10-11  RMS Stress &amp;amp; Strain for worst case layer - element based - no averaging
Figure 10-12  *RMS Stress &amp;amp; Strain for worst case layer - element based - no averaging
4.0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks268
Main Index
Hand Calculation
Let us now take the raw results for the center of element 13897. For this location we have the following stress
results derived using a von-Mises equivalent stress assumption:
Then if we derive the value for the mean plus four (4) times the RMS (sigma) we get 545.41 MPa, which is
shown above and in Figure 10-12.
Concluding Remarks
In this example it was shown or discussed:
How to run a random response only skipping the fatigue analysis - simply do not include the SN,
TABLE, MMPDS, or EN lines in the MATFTG  entry.
That spectral moments, mean stress, RMS stress and other results are still available to postprocess
even though no fatigue results are available
The use of cyclic stress-strain curve in correcting for plasticity - this is a precursor to doing strain-life
(-N) analysis, which is discussed in a subsequent chapter. To obtain RMS strains, the cyclic
parameters n’ and K’ need to be included on the EN line of the MATFTG  entry.
When the EN line is provided and only a random response analysis is desired with no fatigue
calculations, the four strain-life parameters should be left blank.
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knuckleRND . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knuckleRND.dat  (Action =Read Input
File). Make sure the Analysis Preference  is set to MSC Nastran.
Step 2: Check the ModelMean stress 43.65 MPa
RMS stress 125.44 MPa
RMS strain 0.001754
Mean - 4 sigma stress -458.09 MPa
Mean + 4 sigma stress +545.39 MPa
Mean - 4 sigma strain -0.006937
Mean - 4 sigma strain +0.009370&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P15</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_015/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_015/</guid>
      <description>
        
        
        &lt;p&gt;269 CHAPTER 10
Random Response Only
Main Index
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Leave all other material properties blank. Do the same for the other two imported materials:
mat1.777  and mat1.999 . Note that there is also a Strain-Life (eN) constitutive model. It should have
the following defined when you click on it. Leave all other material property fields blank. The fact
that the fatigue material properties are left blank one flag that triggers a Random Only analysis.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the non-spatial field (Field.400 ) that defines our input PSD loading. The values here are from the
TABRND1 entry.
Step 3: Check the Fatigue ParametersParameter Value
Constitutive Model: Stress-Life (SN)
Option: Standard Parameters
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate Tensile Strength 400.0 MPa
Parameter Value
Constitutive Model: Strain-Life (eN)
Option: Standard Parameters
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate Tensile Strength 400.0 MPa
Strain Hardening Exp. (n’) 0.07
Strength Coefficient (K’) 662.0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup270
Main Index
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knuckleRND.dat , a
job by the name of knuckleRND  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
The important parameter to doing a random only analysis is to turn OFF the fatigue analysis and turn
ON the random only toggle.
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output RequestsParameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Center
Recovery: Center
Layer: Worst
Level of Output: +Rainflow Damage
T op RMS Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this OFF
Random Analysis Only T urn this ON
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;271 CHAPTER 10
Random Response Only
Main Index
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis in which case a FTGDEF  entry
is not actually needed (but Patran will always write one). In our example all shell elements are
analyzed by selecting the solid elements as an exclusion set ( set3_99 ) and also a CSV and FEF File  are
requested as additional output.
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see the
subcase in the bottom list box: FRFX.SC1 . Even though all three are selected, only one ( FRFX.SC1 )
will participate in the analysis as you will see from this setup.
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a single
load event (Event: 1) that associates our transfer function subcase called FRFX.SC1  to the PSD load
input defined by a non spatial field created or inspected earlier.
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
In the tree widget on the left, ensure that a Load Sequence with one event is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select the one and only event from the list box that appears
and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup272
Main Index&lt;/p&gt;
&lt;p&gt;273 CHAPTER 10
Random Response Only
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.
Step 8: View the Results
When the job is complete, attach the MSC Nastran database to Patran to view the results. Still in the
Analysis  application, set Action =Access Results , Object =Attach MASTER , and Method =Result
Entities . Select the knuckleRND.MASTER  file and press the Apply  button.
Go to the Results  application and view the results by selecting Stress, RMS from the
knuckleRND:SN_1:,A1:Event =Event_1  Results Case.
Step 9: Run other Fatigue Job
To run the other job from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knuckleRND  and then renaming
it and making the modifications as necessary. The table below lists the modifications necessary for each using
the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup274
Main Index
Input Deck Modification
knuckleRND.dat Baseline - no modifications necessary
knuckleRNDoff.dat The difference between this job and the previous is that the Load
Sequence contains a Static Offset  in the one defined Event . Simply
select the Event  from the tree widget to ensure it is the actively
displayed Event . Note that it already has a PSD Input . Click on the
Static Offset  switch and then add Subcase one ( 1) as the Subcase ID&lt;br&gt;
and select knuckle_static.op2  as the OP2 File and set the Scale Factor  to
-10,000.&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 11: Aerospace Applications (Multiple Random Loads)
11Aero space Applications
(Multiple Random Loads)
Problem Description
Fatigue Setup
Multiple Random Input Loading
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description276
Main Index
Problem Description
The problems presented in this Chapter use the model and loading detailed below. These examples are
intended to show standard analysis procedures for typical aerospace applications.
Figure 11-1  Cantilever beam loaded in x-, y-, and z-directions
Figure 11-2  First three (3) modes of cantilever beam
Objective
To illustrate standard analysis procedures in typical aerospace applications.
To summarize capabilities of previous Chapters
To introduce the simultaneous (multiple input) random loading capability&lt;/p&gt;
&lt;p&gt;277 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
The model is loaded at three points as shown above (on the beam tip). Note that time histories are shown
here but the PSDs of these load histories are actually applied.
The first three (3) modes for the model are shown above also and the frequency content of the loading is also
shown which clearly shows that dynamic response is significant.
Fatigue Setup
Many of the concepts have already been touched upon and, thus only those that have not been discussed
previously are given any amount of detail in this Chapter. These problems are very much a summary of what
has been covered thus far for a different model.Table 11-1  Files Required
Files Required Description
beamPSDs.dat Simple beam with consecutive random loading in three (3)
directions
beamPSDoff.dat Simple beam with consecutive random loading in three (3)
directions plus a steady load
beamSINEs.dat Simple beam with consecutive sine wave loading
beamSINEoff.dat Simple beam with consecutive sines loading plus a steady load
beamHRMNs.dat Simple beam with simultaneous sines loading
beamHRMNoff.dat Simple beam with simultaneous sines loading plus a steady
load
beamSWPs_a.dat (constant- manual)
beamSWPs_b.dat (constant-auto)
beamSWPs_c.dat (variable-manual)
beamSWPs_d.dat (variable-auto)Simple beam with constant or variable sine sweep loading
using a manual or automatic sweep method.
beamSWPoff.dat Simple beam with constant sweep loading plus a steady load
beamPSDsines.dat Simple beam with harmonic on random loading.
beamPSDsinesOFF .dat Simple beam with harmonic plus a steady load on random.
beamMultiPSDs.dat Simple beam with simultaneous random loading inputs in
three (3) directions
beamMultiPSDoff.dat Simple beam with simultaneous random loading inputs in
three (3) directions plus a steady load
beam_static.dat Simple beam static analysis for static stress offsets in some of
the above problems.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup278
Main Index
Generic Setup
The element set definition, parameters, material properties, model units, and general fatigue load are
common to all the jobs in this Chapter. Only where they differ, are there further explanations.
Fatigue Element Set Definition
The fatigue and other responses in these problems are limited to only one element, 1055, by using FTGDEF&lt;br&gt;
entry to limit the output. This is done for illustration purposes only to keep things manageable in a tutorial.
$ Fatigue Element Set Definition
$
SET1    99      1055
FTGDEF  42      100.0
ELSET   99
Fatigue Parameter Definition
The fatigue parameters used are as follows. These settings have all been discussed in previous Chapters.
$ Fatigue Parameter Definition
$
FTGPARM 42      SN                      0       0
STRESS  SGVON   NONE            ELEM            CENTER
FOS             5.0
VIBFTG  NARROW  40.0    10.0    3.0     48      99.9    UPR
Note the total desired or target duration is 5.0. This is in TUNIT time, which is defined as hours below.
Model Units
The model consistent units are Pounds and Inches, so stress units are in pounds per square inch (PSI) and
this is required information for the fatigue analysis to keep internal conversions handled properly.
$ Model UNITS
$
DTI     UNITS   1                                       PSI
Fatigue Material Properties
The fatigue parameters used are as follows. These settings have all been discussed in previous Chapters. Note
that the CNVRT field is set to 1.0. This means the material properties are expected to be input in model
consistent units. So any stress parameters are expected to be input in PSI. All the stress (S) values of the S-N
curve as defined in the TABLEM1  entry below are in PSI.
$ Fatigue Material Properties
$
MATFTG  1       1.0     1
STATIC  135 .    120000.         A MPL
TABLE   1.0     60
TABLEM1 60      LOG     LINEAR
1.0E0   120000. 1.0E1   112924. 1.0E2   106264. 1.0E3   100000.
1.0E4   66874.  1.0E5   44722.  1.0E6   29907.  1.0E7   20000.
1.0E8   20000.0 ENDT&lt;/p&gt;
&lt;p&gt;279 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
The material S-N curve as defined above appears as:
Figure 11-3  S-N data represented for this cantilever beam model
Fatigue Random Loading
The PSD input load that is applied to this model is shown below. The PSD input could be different for all
three directions, but for sake of simplicity, all three direction have the same PSD level input.
Figure 11-4  PSD loading in x-, y-, and z-directions for the cantilever beam
This is represented with the following input entries for the three different directions:
$ Fatigue Loading Definitions
$
FTGLOAD 401             501                             PSD
FTGLOAD 402             502                             PSD
FTGLOAD 403             503                             PSD
$PSD load association to SUBCASE Transfer Function
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup280
Main Index
RANDPS  501     1       1       1.0     0.0     300
RANDPS  502     2       2       1.0     0.0     300
RANDPS  503     3       3       1.0     0.0     300
$ PSD Load
$
TABRND1 300     LINEAR  LINEAR
2.0     0.0001  10.0    0.0010  590.0   0.0010  600.1   0.0001
ENDT
So note that random loading in the x-direction is defined by FTGLOAD  401 referencing RANDPS  501, which
associates SUBCASE 1 to PSD defined by TABRND1  300. Likewise, FTGLOAD  402, RANDPS  502, SUBCASE 2,
and TABRND1  300 for the y-direction. And FTGLOAD  403, RANDPS  503, SUBCASE 3, and TABRND1  300 for the
x-direction.
Static Offset Loading
A static offset load is defined with the following and references an external Output2 file containing the static
stresses (this is produced from running beam_static.dat ):
$ Static offset load
$
FTGLOAD 801     555     1               1.0             STATIC
$
UDNAME  555
beam_static.op
Deterministic and Harmonic Loading
Some problems define a sine wave at each frequency as a separate load. Here is an example oat 13.22 Hz with
1.2 peak stress amplitude of 1.2 PSI:
$ Deterministic (sine wave) load
$
FTGLOAD 401             1                               SINE
DETLOAD 13.22   1.2
Others define simultaneously applied sine waves (or harmonic loading) at various frequencies:
$ Harmonic ( simultaneous sine waves) loading
$
FTGLOAD 401             1                               SINE
DETLOAD 13.22   2.2900          45.63   0.1000
72.26   2.5000          270.09  0.6300&lt;/p&gt;
&lt;p&gt;281 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
Cons ecutive Random Loads
The first job (beamPSDs.dat ) in the list is an example of three consecutive random PSD loads. Each load is
contained in a separate load event. So the fatigue damage is computed for each event and then summed.
Once again, this still considered a single input loading since only one load is acting on the structure at the
same time even though multiple loads are applied (just not simultaneously).
Fatigue Load Sequence and Event Definition
The input entries for this job are shown here.
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     5.0     102     5.0     103     5.0
$
$ Fatigue Loading Events
$
FTGEVNT 101     401
FTGEVNT 102     402
FTGEVNT 103     403
Note that the time units are set to Hours. The duration of each event is 5.0 hours.
With St atic Offset
The 2nd job ( beamPSDoff.dat ) in the list is an example of three consecutive random PSD loads with as static
stress offset applied. Each load is contained in a separate load event as the previous analysis but each event
now references the static offset. Only the events need to be modified to include the static offset load as shown
here.
$ Fatigue Loading Events
$
FTGEVNT 101     401     801
FTGEVNT 102     402     801
FTGEVNT 103     403     801
Because this has a static stress offset, in order for that offset to be accounted for in the fatigue calculations, a
mean stress correction method must be specified:
FTGPARM 42      SN                      0       0
STRESS  SGVON   MODGOOD         ELEM            CENTER&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup282
Main Index
Consecutive Determ inistic Loads
The job beamSINEs.dat  in the list is an example of six (6) consecutive deterministic (sine wave) loads. Each
load is contained in a separate load event. So the fatigue damage is computed for each event and then
summed.
Fatigue Load Sequence and Event Definition
The input entries for this job are shown here.
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     0.4     102     0.5     103     1.0     104     0.5
105     3.0     106     3.5
$
$ Fatigue Loading Events
$
FTGEVNT 101     401
FTGEVNT 102     402
FTGEVNT 103     403
FTGEVNT 104     404
FTGEVNT 105     405
FTGEVNT 106     406
Note that the time units are set to Hours. The duration of each event is different. The events reference
FTGLOAD  entries of TYPE=SINE with the DETLOAD line to define the frequency and peak amplitude stress.
T wo frequencies for each TF subcase are defined.
FTGLOAD 401             1                               SINE
DETLOAD 13.22   1.2000
FTGLOAD 402             1                               SINE
DETLOAD 45.63   0.3200
FTGLOAD 403             2                               SINE
DETLOAD 13.22   0.0900
FTGLOAD 404             2                               SINE
DETLOAD 45.63   1.5000
FTGLOAD 405             3                               SINE
DETLOAD 13.22   10.000
FTGLOAD 406             3                               SINE
DETLOAD 45.63   15.000
Also since these are pure sine waves, Dirlik rainflow can not be used. Instead ATYPE=SINES is used:
FTGPARM 42      SN                      0       0
VIBFTG  SINES    16.0    16.0    3.0     256     99.9&lt;/p&gt;
&lt;p&gt;283 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
With Static Offset
The job beamSINEoff.dat  in the list is an example of the six (6) consecutive deterministic (sine wave) loads
with a static stress offset applied. Only the event definitions needs to be modified to include the static offset
as shown here.
$ Fatigue Loading Events
$
FTGEVNT 101     401     801
FTGEVNT 102     402     801
FTGEVNT 103     403     801
FTGEVNT 104     404     801
FTGEVNT 105     405     801
FTGEVNT 106     406     801
Again, with a static stress offset, in order for that offset to be accounted for in the fatigue calculations, a mean
stress correction method must be specified:
FTGPARM 42      SN                      0       0
STRESS  SGVON   MODGOOD         ELEM            CENTER&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup284
Main Index
Consecutive Har monic Loads
The job beamHRMNs.dat in the list is an example of three (3) consecutive events using harmonic loading
(simultaneously applied sine waves). Each harmonic load is contained in separate load events, but each load
has four sine waves defined at different frequencies. So the fatigue damage is computed for each event and
then summed.
Fatigue Load Sequence and Event Definition
The input entries for this job are shown here.
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     1.0     102     1.0     103     1.0
$ Fatigue Loading Events
$
FTGEVNT 101     401     801
FTGEVNT 102     402     801
FTGEVNT 103     403     801
The events reference FTGLOAD  entries of TYPE=SINE with the DETLOAD line but now define multiple
frequency and peak amplitude stresses. The same four frequencies are defined for each TF subcase to be
analyzed.
FTGLOAD 401             1                               SINE
DETLOAD 13.22   2.2900          45.63   0.1000
72.26   2.5000          270.09  0.6300
FTGLOAD 402             2                               SINE
DETLOAD 13.22   0.0400          45.63   1.3000
72.26   0.2300          270.09  9.0000
FTGLOAD 403             3                               SINE
DETLOAD 13.22   10.000          45.63   10.000
72.26   10.000          270.09  10.000
The difference between this and pure sine waves is that these sine waves are essentially summed and thus
results in a type of random loading (narrow or wide or anything in between). Thus the Dirlik rainflow
method can be used.
FTGPARM 42      SN                      0       0
VIBFTG  DIRLIK   16.0    6.0     3.0     128     99.9&lt;/p&gt;
&lt;p&gt;285 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
With Static Offset
The job beamHRMNoff.dat  in the list is the above harmonic loading job with a static stress offset applied. It
is done identically to the other jobs with static offset by modifying the events to include the static offset load
as shown here:
$ Fatigue Loading Events
$
FTGEVNT 101     401     801
FTGEVNT 102     402     801
FTGEVNT 103     403     801
And a mean stress correction method is specified:
FTGPARM 42      SN                      0       0
STRESS  SGVON   MODGOOD         ELEM            CENTER&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup286
Main Index
Consecuti ve Sine Sweeps
The jobs beamSWPs_a.dat  and beamSWPs_b.dat perform a basic random vibration response and fatigue
calculation with a constant amplitude sine load swept from 10Hz to 40Hz with X, Y, Z constant amplitudes
of 2.20G, 0.18G and 28.0G. The definition of the sweep is done both manually and with an automatic
method. Thus the reason for two input files for this problem.
Fatigue Load Sequence and Event Definition
The input entries for this job are shown here. This one uses seconds as the time unit.
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     25.     102     55.     103     35.     104     10.
105     10.     106     10.     107     10.5    108     10.
&amp;hellip; &amp;lt; NOT ALL SHOWN &amp;gt;
165     500.    166     500.    167     500.    168     500.
$ Fatigue Loading Events
$
FTGEVNT 101     401
FTGEVNT 102     402
FTGEVNT 103     403
etc. &amp;lt;66 more NOT ALL SHOWN &amp;gt;
Note the duration of each event can be and is different. This set up is actually identical in nature to
beamSINEs.dat .
FTGLOAD 401             1                               SINE
DETLOAD 10.00   2.200
FTGLOAD 402             1                               SINE
DETLOAD 11.00   2.200
etc. &amp;lt;23 more NOT ALL SHOWN &amp;gt;
FTGLOAD 424             2                               SINE
DETLOAD 10.00   0.180
FTGLOAD 425             2                               SINE
DETLOAD 11.00   0.180
etc. &amp;lt;23 more NOT ALL SHOWN &amp;gt;
FTGLOAD 447             3                               SINE
DETLOAD 10.00   28.00
FTGLOAD 448             3                               SINE
DETLOAD 11.00   28.00
etc. &amp;lt;23 more NOT ALL SHOWN &amp;gt;
Also since these are pure sine waves, ATYPE=SINES should be used:
FTGPARM 42      SN                      0       0
VIBFTG  SINES    16.0    16.0    3.0     256     99.9
With Static Offset
The job beamSWPoff.dat  contains the events with a static off set and mean stress correction as done with all
previous examples in the Chapter. The definition is the same by including the static offset load in each event.&lt;/p&gt;
&lt;p&gt;287 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
$ Fatigue Loading Events
$
FTGEVNT 101     401     801
etc. &lt;!-- raw HTML omitted --&gt;
and the mean stress correction method set:
FTGPARM 42      SN                      0       0
STRESS  SGVON   MODGOOD         ELEM            CENTER
Automatic Sweep
The input for the automatic sweep method reduces the amount of data necessary to define the events and
loading significantly, to this ( beamSWPs_b.dat ):
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               SECS    1.0
101     1500.   102     1475.   103     14750.
$
$ Fatigue Loading Events
$
FTGEVNT 101     401
FTGEVNT 102     402
FTGEVNT 103     403
$
$ Fatigue Loading Definitions
$
FTGLOAD 401             1                               SINE
SWEEP   10.0    2.2             40.0    2.2
HZ      50
FTGLOAD 402             2                               SINE
SWEEP   10.0    0.18            40.0    0.18
HZ      50
FTGLOAD 403             3                               SINE
SWEEP   10.0    28.0            40.0    28.0
HZ      50
The drawback to this approach is that it is not as versatile in that you can no longer define the duration of
each sine wave event. Instead the total duration of the event must be the sum of all the durations of each sine
wave in the sweep. Thus the duration of each sine wave is constant and determined by the total duration and
the number of frequencies requested in the frequency band (except the first and last defined frequencies are
half the duration).
Also you cannot specify specific frequencies, only a range and the number of frequencies.
And finally, only the first and last frequency magnitude can be specified. In this case it was constant for each
event, but if variable magnitudes are required, the manual method must be used.
Naturally because of this, the results between the two are different in our example. If however, the manual
method were modified to use the same frequencies, and magnitudes as those automatically produced by the
automatic method, then the results are identical.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup288
Main Index
Variable Loading Sweeps
The jobs beamSWPs_c.dat  and beamSWPs_d.dat  are the same sine sweeps (manual and automatic) as
beamSWPs_a.dat  and beamSWPs_b.dat , just with variable amplitude loading across the frequency range. A
basic random vibration response and fatigue calculation is done with a variable amplitude sine load swept
from 10Hz to 40Hz with X, Y, Z amplitudes of 1.90-2.20G, 0.19-0.17G and 25.0-31.0G. The user is left to
view and investigate these input decks.
Consecutive Har monics on Random
The jobs beamPSDsines.dat performs a basic random vibration response with harmonic loading on top of
random PSD loading in the x-, y-, and z-directions. This is to illustrate that all the loading cases discussed
thus far can be combined with single random PSD input and can have static offsets also.
Fatigue Load Sequence and Event Definition
The load input entries for this job differ only in that the events now include the harmonic loading and the
PSD loading (and possibly the static offset loading) all combined in each event. So each FTGEVNT  entry now
includes (in this case with a static offset) a PSD load ( FTGLOAD  of TYPE=PSD), a harmonic load ( FTGLOAD  of
TYPE=SINE with multiple frequencies defined), and a static load ( FTGLOAD  of TYPE=STATIC).
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     1.0     102     1.0     103     1.0
$ Fatigue Loading Events
$
FTGEVNT 101     611     401     801
FTGEVNT 102     612     402     801
FTGEVNT 103     613     403     801
$
$ Fatigue Loading Definitions
$
FTGLOAD 401             501             0.01            PSD
FTGLOAD 402             502             0.01            PSD
FTGLOAD 403             503             0.01            PSD
$
FTGLOAD 611             1                               SINE
DETLOAD 13.22   2.2900          45.63   0.1000
72.26   2.5000          270.09  0.6300
FTGLOAD 612             2                               SINE
DETLOAD 13.22   0.0370          45.63   1.3000
72.26   0.2310          270.09  9.0000
FTGLOAD 613             3                               SINE
DETLOAD 13.22   10.000          45.63   10.000
72.26   10.000          270.09  10.000
$
FTGLOAD 801     555     1               1.0             STATIC&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P16</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_016/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_016/</guid>
      <description>
        
        
        &lt;p&gt;289 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
Multiple R andom Input Loading
The last examples in the Chapter illustrate the multiple random loading input capability. Up to this point all
random loading has been single input. That is to say, only a single random input load in one direction has
been applied at any one time. Multiple events have been illustrated but within each event, only one single
random load has been applied.
In this section, the cantilever beam is not subject to all three input load as the same time (simultaneously) in
the three directions, x, y, and z.
For simplicity of this example, the actual PSD representation of the above loads is not actually used, but the
same PSD is used for all three direction. This problem is simply to introduce you to the concept of multi-
PSD loading and how to set it up and how it differs in its setup to single input loading. A more representative,
real-world model is illustrated in the next Chapter.
Fatigue Setup
A multi-PSD loading problem only differs in its setup to a standard single-input PSD problem in the load
sequence, load event, and loading information supplied. In our model we have three (3) subcases
corresponding to the three (3) directions of load. A unit excitation is applied in each of these three direction
in separate subcases to produce the transfer functions (TF) of stress.
The first example in this Chapter set up a job where each load was applied consecutively (one after another)
and each placed in its own load event. The load sequence was made up of three load events, each load event
referring to the PSD input and associated to the proper TF subcase. The input looked this as you may recall:
Consecutive PSD Loading:
SOL 111
CEND
&amp;hellip;
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
&amp;hellip;
$*  SUBCASE INPUT
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Multiple Random Input Loading290
Main Index
SUBCASE = 1
SUBTITLE = 1g, X DIRECTION
DLOAD = 31
$
SUBCASE = 2
SUBTITLE = 1g, Y DIRECTION
DLOAD = 32
$
SUBCASE = 3
SUBTITLE = 1g, Z DIRECTION
DLOAD = 33
$*
BEGIN BULK
&amp;hellip;
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     5.0     102     5.0     103     5.0
$
$ Fatigue Loading Events
$
FTGEVNT 101     401
FTGEVNT 102     402
FTGEVNT 103     403
$
$ Fatigue Loading Definitions
$
FTGLOAD 401             501                             PSD
FTGLOAD 402             502                             PSD
FTGLOAD 403             503                             PSD
$
$ PSD load association to SUBCASE Transfer Functions
$
RANDPS  501     1       1       1.0     0.0     300
RANDPS  502     2       2       1.0     0.0     300
RANDPS  503     3       3       1.0     0.0     300
$
$ PSD Load
$
TABRND1 300     LINEAR  LINEAR
2.0     0.0001  10.0    0.0010  590.0   0.0010  600.1   0.0001
ENDT
&amp;hellip;
ENDDATA
Just to reiterate the above setup:
The FTGSEQ  entry defines a fatigue load sequence with three (3) events ( 101, 102, &amp;amp; 103).
Each FTGEVNT  defines the simultaneously acting loads. Only one simultaneously acting load per event
is applied in these events.
So following event 101, it contains a PSD load defined by FTGLOAD  401 (TYPE=PSD), which in
turn points to RANDPS  entry 501.&lt;/p&gt;
&lt;p&gt;291 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
The RANDPS  entry associates SUBCASE 1 (TF in x-direction) to the PSD definition defined by
TABRND1  300.
The same type of associations are done for the other two directions (y and z). But once again, since these are
&amp;ldquo;events&amp;rdquo;, they do not act at the same time. Each acts independently and the fatigue damage is computed
individually. The total damage is the summation of all three.
Now for a truly multi-PSD acting load situation, where all three loads are applied at the same time, the input
looks like this (it actually takes less input in this case):
Simultaneous PSD Loading:
SOL 111
CEND
&amp;hellip;
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
&amp;hellip;
$*  SUBCASE INPUT
$
SUBCASE = 1
SUBTITLE = 1g, X DIRECTION
DLOAD = 31
$
SUBCASE = 2
SUBTITLE = 1g, Y DIRECTION
DLOAD = 32
$
SUBCASE = 3
SUBTITLE = 1g, Z DIRECTION
DLOAD = 33
$*
BEGIN BULK
&amp;hellip;
$ Fatigue Loading Sequence
$
FTGSEQ  42      1               HRS     1.0
101     5.0
$
$ Fatigue Loading Events
$
FTGEVNT 101     401
$
$ Fatigue Loading Definitions
$
FTGLOAD 401             501                             PSD
$
$ PSD load association to SUBCASE Transfer Functions
$
RANDPS  501     1       1       1.0     0.0     300
RANDPS  501     2       2       1.0     0.0     300
RANDPS  501     3       3       1.0     0.0     300
$
$ PSD Load&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Multiple Random Input Loading292
Main Index
$
TABRND1 300     LINEAR  LINEAR
2.0     0.0001  10.0    0.0010  590.0   0.0010  600.1   0.0001
ENDT
&amp;hellip;
ENDDATA
So now the following points are made:
The load sequence contains only one event
The event points only a single load of type PSD
The multi-input PSD is now defined by multiple RANDPS  entries
In this case each RANDPS  entry associates the TF subcases to the same PSD load ( TABRND1 ) but they
could and normally would be different.
The RANDPS  all have the same SID ( 501).
Correlated vs Uncorrelated Loading
Multi-PSD loading is set up in a matrix form where direct associations to a TF subcase are placed down the
diagonal. The off-diagonal terms are referred to as cross terms or cross PSDs. They relate the way the response
reacts to one load based on the other. When there are no cross terms and only direct terms we call this
uncorrelated  loading, meaning that the individual loads have no direct affect on one another. When cross
PSD terms are provided, then we call this correlated  loading. In the time domain you can think of this as
when the peaks and troughs of multiple time signals all occur at the same time verses when they do not, thus
resulting in a cancelling effect.
Correlated loading is generally less conservative than uncorrelated loading but probably more realistic. In real
life, loads do have affect on one another and could cause the effect of cancelling out some of the response of
each other. On the other hand they can also add to the response if the peaks/troughs are truly occurring at
the same time. It is best to use correlated loads if possible to simulate reality.
Figure 11-5  Matrix (triangular) representation of multi-PSD loading situations
In our example we are ignoring the off-diagonal terms and our loading is considered uncorrelated.
For direct PSD input (diagonal terms) there is one set of PSD information necessary and it is numerically
real. For cross PSD input (off-diagonal terms), there is both a real and an imaginary part based on the
complex mathematics. So for our example, only three RANDPS entries are needed to define a three (3) PSD
uncorrelated input. If this were fully correlated, then nine (9) pieces of information would be needed, the
three (3) direct pieces and the three cross terms, which are complex, thus they each have two terms associated
with them.
The RANDPS  entries define all this with the J, K, X, Y fields.PSD 11 cross PSD 12 cross PSD 13
PSD 22 cross PSD 23
PSD 33&lt;/p&gt;
&lt;p&gt;293 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
RANDPS  SID     J       K       X       Y       TID
When  then the term is direct (diagonal). And it must be a real term, meaning that X=1.0 and Y=0.0.
When  then the term is cross (off-diagonal). And it can be either real (X=1.0, Y=0.0) or imaginary
(X=0.0, Y=1.0).
Thus this would define uncorrelated loading in our case:
RANDPS  501     1       1       1.0     0.0     300
RANDPS  501     2       2       1.0     0.0     300
RANDPS  501     3       3       1.0     0.0     300
And this would define fully correlated loading (the diagonal terms are shown first, the off-diagnal real terms
second, and the off-diagnal imaginary terms third):
$ Direct terms:
RANDPS  501     1       1       1.0     0.0     300
RANDPS  501     2       2       1.0     0.0     300
RANDPS  501     3       3       1.0     0.0     300
$ Real Cross-terms:
RANDPS  501     1       2       1.0     0.0     300
RANDPS  501     2       3       1.0     0.0     300
RANDPS  501     3       1       1.0     0.0     300
$ Imaginary Cross-terms:
RANDPS  501     1       2       0.0     1.0     300
RANDPS  501     2       3       0.0     1.0     300
RANDPS  501     3       1       0.0     1.0     300
The problem with correlated loading is: how do you define or obtain the cross terms? The direct terms can
be obtain easily enough by FFT (Fast Fourier T ransformation) analysis of the time signals. T o obtain the
cross-terms, generally some sort of mathematical operation must be performed with each pair of time signals
to obtain the correlation. Typically a frequency response analysis is done to compute the cross correlation
function between the two supplied signal. This is done for some realistic loads in the next Chapter.
As an exercise go back to Chapter 3 and convert the input deck knucklePSD_a.dat  to a multi-PSD loading
problem using the same PSD input for all three TF subcases. (Just duplicate the RANDPS  entry two more times
using the same SID, X, Y, and TID but change the J and K designations to reference SUBCASEs 2 and 3.
You may have to scale the input PSD to get some realistic finite fatigue response. See knuckleMultiPSD.dat .)
Concluding Remarks
The following types of problems were considered in this example, all of which are typical in not only
aerospace applications, but many other applications as well:
Consecutive PSD loadings (one per event)J K=
JK&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks294
Main Index
Consecutive sine waves (deterministic loading), each a separate load event with damage summed
over all events (frequencies) - this can be considered a manual sine sweep depending on how many
frequencies are included
•Each sine wave frequency can specified
•Each sine wave amplitude can be specified
•Each sine wave (event) duration can be specified
Consecutive sine waves done with the automatic sine sweep mechanism - internally this is the same a
the manual method, the individual events for each sine wave are automatically created
•Only a frequency range can be specified
•Only a start and end amplitude can be specified
•Only the total duration over all the sine waves in the sweep can be specified for the event
All of the above with static stress offset and mean stress correction applied
All of the above on top of random loading
All of the above with static offset on top of random
Simultaneously applied multi-input random loading
Simultaneously applied multi-input random loading with static offset
The results of the problems in this Chapter are shown in table below for the one element of interest.
Problem File n/N (damage) Life
Consecutive PSDs
Consecutive PSDs w/ OffsetbeamPSDs.dat
beamPSDoff.dat2.386
4.3786.28  Hrs
3.42  Hrs
Consecutive Sine Waves
Consecutive Sine Waves w/ OffsetbeamSINEs.dat
beamSINEoff.dat0.9632
1.7479.24  Hrs
5.09  Hrs
Consecutive Harmonics
Consecutive Harmonics w/ OffsetbeamHRMNs.dat
beamHRMNoff.dat1.221
2.0402.45  Hrs
1.47   Hrs
Consecutive Sine Sweeps (manual - constant)
Consecutive Sine Sweeps (automatic - constant)
Consecutive Sine Sweeps (manual - variable)
Consecutive Sine Sweeps (automatic - constant)
Consecutive Sine Sweeps w/ OffsetbeamSWPs_a.dat
beamSWPs_b.dat
beamSWPs_c.dat
beamSWPs_d.dat
beamSWPoff.dat0.478
0.184
1.911
0.236
18.8537.61e+03 sec
96.25e+03 sec
94.17e+02 sec
74.97e+03 sec
95.49e+01 sec
Consecutive Harmonics on Random
Consecutive Harmonics w/ Offset on RandombeamPSDsines.dat
beamPSDsinesOFF .dat1.639
8.1501.83 Hrs
0.368 Hrs
Simultaneous PSDs
Simultaneous PSDs w/ OffsetbeamMultiPSDs.dat
beamMultiPSDoff.dat1.964
3.6052.54  Hrs
1.38  Hrs&lt;/p&gt;
&lt;p&gt;295 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
With all of the above jobs, the input PSD, TF (transfer function), and response PSDs can be plotted for any
element or element node of interest from the data produce in the CSV files as such:
Figure 11-6  Input PSD, transfer function (TF), and output response PSD for Element 13897, center, lower
layer for beamPSDs.dat&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup296
Main Index
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it beamPSDs . Use the Analysis  application (or
tab) to import the first input deck associated with this example: beamPSDs.dat  (Action =Read Input
File). Make sure the Analysis Preference  is set to MSC Nastran.
Step 2: Check the Model
Go to the Load Cases  application (or tab). On Windows in Skin GUI mode, this is accessible from
the Loads/BCs  application by selecting the Load Cases icon. Set the Action to Modify. Select each of
the existing Load Cases ( _1G_X_DIRECTION .SC1, _1G_Y_DIRECTION .SC2, and
_1G_Z_DIRECTION .SC3) one at a time and make sure each contains spc.1 displacement constraint,
and that darea.41.41  for _1G_X_DIRECTION .SC1, or darea.42.42  for _1G_Y_DIRECTION .SC2,
or darea.43.43  for _1G_Z_DIRECTION .SC3, are part of the Load Case definition. If not, add the
appropriate LBC to the spreadsheet and press the Apply  button on the main Load Cases form to
modify the Load Case.
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( _1G_X_DIRECTION .SC1). Select all the LBCs and
press the Apply  button. You should see the constraints and unit load in the x-direction. So the same
for the other two load cases to see the loading.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Amplitude
Curve Type: None
Ultimate T ensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;297 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry. Verify that they are the same.
Open the Options  form and ensure that the Log x-axis  and Log y-axis  toggles are set ON and OFF,
respectively. Also check the non-spatial field ( Field.300 ) that defines our input PSD loading. The
values here are from the TABRND1 entry.
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job beamPSDs.dat , a
job by the name of beamPSDs  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: PSI
Stress Combination: Signed von Mises
Results Location: Element Center
Recovery: Center
Layer: Worst
Level of Output: Standard
Top RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this ON
Analysis Settings:
Rainflow Method: T urn this to Narrow Band
Max. RMS Stress Levels: 40.0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup298
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our first subcase is called _1G_X_DIRECTION .SC1. Click on it from the Available Subcases  list box
to access all its settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form
Type:  Advanced  setting.RMS Stress Clip Level: 10.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 48&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Upper End of BINParameter Value&lt;/p&gt;
&lt;p&gt;299 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis in which case a FTGDEF  entry
is not actually needed (but Patran will always write one). The example in this Chapter analyzes only
Elem 1055. The FATIGUE output request should reference group set1_99 , which contains only this
element. Also a CSV File  output is also requested.
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: _1G_X_DIRECTION .SC1, _1G_Y_DIRECTION .SC2, and
_1G_Z_DIRECTION .SC3.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup300
Main Index
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a  load event
(Event: 1) that associates our transfer function subcase called _1G_X_DIRECTION .SC1 to the PSD
load input defined by a non spatial field created or inspected earlier. We will also define Event 2 with
_1G_Y_DIRECTION .SC2 and Event 3 with _1G_Z_DIRECTION .SC3.
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.300 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults. Use
the Up arrow to go to Event 2 and Event 3 to do the same for the other two load cases.
In the tree widget on the left, ensure that a Load Sequence with three (3) events is set up. If not, use
the right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse
button (RMB) click on the new sequence and Add Event . Set the Duration  to 5.0 and select the three
(3) events from the list box that appears and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;301 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.
Step 8: View the Results
With only one element analyzes, a fringe plot of fatigue life does not make much sense. But we can
plot the PSD results as shown earlier in the tutorial. Go to the Tools  | Results  | NEF Random
Vibration&amp;hellip;  form and select file beamPSDsPSD.csv . The plot can be made after selecting the Element
ID (1055 ), Node ID  (Center ), Layer  (Bottom ), and Event  (101).&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup302
Main Index
Step 9: Run other Fatigue Jobs
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job beamPDSs  and then renaming it
and making the modifications as necessary. The table below lists the modifications necessary for each using
the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.
Input Deck Modification
beamPSDs.dat Baseline - no modifications necessary
beamPSDoff.dat Set the Mean Stress Correction  on the Fatigue Parameters&amp;hellip;  form to
Modified Goodman .
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
add a Static Offset  to each Event by referencing Subcase  one ( 1) in the
OP2 File , beam_static.op2 . The additional Scale Factor and Offset&lt;br&gt;
should use the defaults (1.0 , 0.0, respectively.
beamSINEs.dat From the baseline, beamPSDs  job, set the Rainflow Method  to Sine
Waves  and use 16.0, 16.0, 256, and Average over BIN  for the Max. RMS
Stress Levels , RMS Stress Clip Level , # of Stress Range BINs , and &amp;ldquo;N&amp;rdquo;
Calc. Method , respectively.
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
clear out the PSD Input  load from each Event and define a total of six
(6) events each with Deterministic  loading with the Frequency  and
Amplitude  as shown from each of the FTGLOAD  entries of TYPE=SINE
for this job. The first two (2) Events reference the first TF Subcase, the
middle two (2) reference the second TF Subcase, and the last two (2)
reference the last TF Subcase. Only one frequency per Event is to be
defined.
beamSINEoff.dat From the previous job, beamSINEs , set the Mean Stress Correction  on
the Fatigue Parameters&amp;hellip;  form to Modified Goodman .
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
add a Static Offset  to each Event by referencing Subcase  one ( 1) in the
OP2 File , beam_static.op2 . The additional Scale Factor and Offset&lt;br&gt;
should use the defaults (1.0 , 0.0, respectively.&lt;/p&gt;
&lt;p&gt;303 CHAPTER 11
Aerospace Applications (Multiple Random Loads)
Main Index
beamHRMNs.dat From the baseline, beamPSDs  job, set the Rainflow Method  to Dirlik&lt;br&gt;
and use 16.0, 6.0, 128, and Average over BIN  for the Max. RMS Stress
Levels , RMS Stress Clip Level , # of Stress Range BINs , and &amp;ldquo;N&amp;rdquo; Calc.
Method , respectively.
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
clear out the PSD Input load from each Event and define a total of
three (3) events each with Deterministic  loading with the Frequencies&lt;br&gt;
and Amplitudes  as shown in the FTGLOAD  entries of TYPE=SINE for
this job. The first Events reference the first TF Subcase, the second
references the second TF Subcase, and the last references the last TF
Subcase. Each Event has four (4) frequency/amplitude pairs to define
the harmonic loading. The Duration  of each event is 1.0 (use RMB on
each Event in the tree widget to Edit Event&amp;hellip;  and change if necessary).
beamHRMNoff.dat From the previous job, beamHRMNs , set the Mean Stress Correction&lt;br&gt;
on the Fatigue Parameters&amp;hellip;  form to Modified Goodman .
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
add a Static Offset  to each Event by referencing Subcase  one ( 1) in the
OP2 File , beam_static.op2 . The additional Scale Factor and Offset&lt;br&gt;
should use the defaults (1.0 , 0.0, respectively.
beamSWPs_a.dat
beamSWPs_b.dat
beamSWPs_c.dat
beamSWPs_d.datChanges necessary for these jobs ( beamSWPs_a  and beamSWPs_c ) are
identical to job beamSINEs  except that 169 Deterministic  loading
Events are created instead of just six (6), 23 for each TF Subcase each
with its own Frequency  and Amplitude  pair. It is best to start by reading
this input file into its own empty database and investigating the
Loading Information&amp;hellip;  form setup. Jobs beamSWPs_b  and
beam_SWPs_d  are the same as beamSWPs_a  and beamSWPs_c ,
respectively, but done with an auto Sine Sweep  input setup on the
Loading Information&amp;hellip;  form instead. Again it is best to simply read in
these files into new, empty databases to investigate the setup.
beamSWPoff.dat From the previous job, beamSWP_a , set the Mean Stress Correction  on
the Fatigue Parameters&amp;hellip;  form to Modified Goodman .
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
add a Static Offset  to each Event by referencing Subcase  one ( 1) in the
OP2 File , beam_static.op2 . The additional Scale Factor and Offset&lt;br&gt;
should use the defaults (1.0 , 0.0, respectively.Input Deck Modification&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup304
Main Index
beamPSDsines.dat This job defines harmonic loading on top of random. From the
baseline, beamPSDs  job, set the Rainflow Method  to Dirlik  and use
16.0, 10.0, 128, and Average over BIN  for the Max. RMS Stress Levels ,
RMS Stress Clip Level , # of Stress Range BINs , and &amp;ldquo;N&amp;rdquo; Calc.
Method , respectively.
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
leave the PSD Input load from each Event but in addition, also define
Deterministic  loading with the Frequencies  and Amplitudes  as shown
in the FTGLOAD  entries of TYPE=SINE for this job for each Event. Each
Event has four (4) frequency/amplitude pairs to define the harmonic
loading. The Duration  of each event is 1.0 (use RMB on each Event in
the tree widget to Edit Event&amp;hellip;  and change if necessary).
beamPSDsinesOFF .dat From the previous job beamPSDsines , add the same Static Offset  load
to each Event as explained in all previous jobs that have a Static Offset&lt;br&gt;
loads. Also the Mean Stress Correction  method should be set to
Modified Goodman .
beamMultiPSDs.dat From the baseline, beamPSDs  job, change the Rainflow Method  to
Dirlik .
On the Loading Information&amp;hellip;  form for defining the Load Sequence,
RMB click on Event 2  and Event 3  to remove them from the Load
Sequence. Click on Event 1  in the widget tree to make it the active
Event. Change the Max # of TF Subcases  to three ( 3) and press the
Enter  key. In the spreadsheet make sure the first row reference the first
TF Subcase, the second row references the second TF Subcase, and the
third row references the third TF Subcase. The referenced Input PSD&lt;br&gt;
(field) should be the same for all rows as well as the Divisor , Scale
Factor , and Offset . Only one Event is active in this example.
beamMultiPSDoff.dat From the previous job beamMultiPSDs , add the same Static Offset  load
to the single Event as explained in all previous jobs that have a Static
Offset  loads. Also the Mean Stress Correction  method should be set to
Modified Goodman .Input Deck Modification&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 12: Validation versus Time Domain
12Valid ation versus Time
Domain
Problem Description
Analysis Setup
SOL112 Dynamic Transient Results
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description306
Main Index
Problem Description
In this example a realistic, real-world model of a truck cab is used to validate the frequency domain vibration
fatigue techniques with those of the accepted, traditional time domain and to discuss the practicality of using
one over the other. The truck cab is subject to three (3) translational loads and four (4) load application points
for a total of 12 loading inputs.
Figure 12-1  The truck cab model, applied load input, and expanded component views
Objective
To set up a fully correlated, multi-PSD loaded model.
To compare and validate frequency domain fatigue techniques against time domain techniques.
Cab FrameCab Shell
Cab Doors
Glass Screen Front Strut&lt;/p&gt;
&lt;p&gt;307 CHAPTER 12
Validation versus Time Domain
Main Index
In recent years there has been considerable debate about the advantages and disadvantages of performing
dynamic analysis of large automotive and ground vehicle systems (cars, trucks, buses, trains, defense vehicles,
etc.) in either the time or frequency domains. The time domain approach uses dynamic transient analysis
involving SOL 112 or SOL 109. Alternatively, a frequency response analysis followed by random response
analysis in the frequency domain requires applying a SOL 111 or SOL 108 solution.
Despite the fact that it is rather cumbersome, the time based Modal superposition approach (e.g. SOL 112)
has become widely used for the solution of dynamically responsive problems, especially when fatigue life
results are needed. This is despite the fact that a frequency based approach (e.g. SOL 108 or SOL 111) offers
far superior qualitative understanding of the structural behavior. This is primarily because the quantitative
performance of the frequency domain approach has not previously been demonstrated. The fundamental
question that needed to be answered was
Could a frequency domain approach be run fast enough, on large models, and give accurate results?
The results shown here, which can easily be reproduced, demonstrate that the frequency domain approach
for fatigue life analysis of large mechanical systems is now a practical alternative.
This is demonstrated firstly by showing equivalence between the results from a time based (SOL 112) analysis
and a SOL 111 analysis.
The objective of this section is then to present the necessary information (and files) needed in order to be
able to replicate any of the results presented.
The following topics are covered:
Quantitative Performance (accuracy)
Qualitative Performance (how useful are the results)
Ease of Use
Speed of Analysis
Detailed Pros and Cons - Time vs Frequency Domain
The conclusion is that the frequency domain approach for dynamic response and fatigue life analysis offers
many potential advantages over time based methods and should be considered as a viable analysis alternative
to the time domain.
This Chapter presents details of a multi input fatigue calculation in the frequency domain. A truck cab is
used for the structural model. This truck cab has previously been used to calculate fatigue results in the time
domain using a modal superposition transient dynamic approach (see  N W M Bishop and F Sherratt, Finite Element
Based Fatigue Calculations, NAFEMS book, 2000.  (App. )). When analyzed in this way using a SOL 112 analysis
approach it is necessary to generate 10 (number of events) times 12 (number of load application points)
modal participation factors using a SOL 112 analysis method. This highlights one major obstacle when
working in the time domain. The drastic reduction of the data, and computational power, associated with a
SOL 108 or SOL 111 approach is one potential advantage of working in the frequency domain. The pros
and cons of time versus frequency domain are discussed in a later section.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description308
Main Index
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl6/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 12-1  Files Required
Files Required Description
cab.bdf Include file containing truck cab model data -
nodes/elements/properties/etc.
cab_sol112.dat SOL 112 (modal superposition transient analysis + fatigue analysis in
time domain)
cab_sol111.dat SOL 111 (frequency response analysis + random vibration fatigue
analysis in frequency domain)
cab_sol101.dat SOL 101 (static analysis for use as static offset)
ea10.bdf
egvl.bdf
er20.bdf
er30.bdf
lp10.bdf
lp12.bdf
lp14.bdf
lr20.bdf
lr30.bdf
ls20.bdfInclude files containing input time histories for SOL 112
EA10bpsd.txt
EGV1bpsd.txt
ER20bpsd.txt
ER30bpsd.txt
LP10bpsd.txt
LP12bpsd.txt
LP14bpsd.txt
LR20bpsd.txt
LR30bpsd.txt
LS20bpsd.txtInclude files containing PSD input for SOL 111
1_40k_yield.txt
2_50k_yield.txt
3_A6_cab.txt
4_A6_doors.txt
5_glass_windshield.txtInclude files containing element SET definitions&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P17</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_017/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_017/</guid>
      <description>
        
        
        &lt;p&gt;309 CHAPTER 12
Validation versus Time Domain
Main Index
Model Details
The truck cab model shown above contains the following:
91,783 elements total
•85,491 quads
•6,033 tri&amp;rsquo;s
•17 bars
•234 springs
•8 lumped masses
96,793 nodes
580,758 DOF
12 load application points (x, y, z at four locations)
10 events (sets of load time histories)
The complete model has been subdivided into groups, which have different material properties as follows
Steel Cab Frame (critical element 1035259)
Main Cab Shell (critical element 1057009)
Doors (critical element 8158502)
Front Strut (critical element 1050094)
Glass Screen (critical element 1068132)
Loading Events
The loading for this model is force (N) specified in the time domain as 10 events shown below. Each event
consists of 12 time histories resulting in a total of 120 time histories. The data sample rate was 512Hz.
Event # Name DescriptionDuration
(s) Repeats Total Time (s)
1 ea10 Empty Abbreviated Belgian Blocks at 10 mph 38.0 4 152.0
2 egvl Empty Gravel Road 14.0 3 42.0
3 er20 Empty Railroad Crossing at 20 mph 6.0 3 18.0
4 er30 Empty Railroad crossing at 30 mph 6.0 3 18.0
5 lp10 Loaded Primary Belgian Blocks at 10 mph 96.0 5 480.0
6 lp12 Loaded Primary Belgian Blocks at 12 mph 58.0 29 1682.0
7 lp14 Loaded Primary Belgian Blocks at 14 mph 54.0 7 378.0
8 lr20 Loaded Railroad Crossing at 20 mph 6.0 3 18.0
9 lr30 Loaded Railroad Crossing at 30 mph 6.0 3 18.0
10 ls20 Loaded Supplemental Course at 20 mph 34.0 2 68.0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description310
Main Index
Loading Histories
A sample of the time histories for Event 08 (LR20) are shown here as force in Newtons (N):
Figure 12-2  X, Y and Z time histories for the left front load point of Event 8
Figure 12-3  X, Y and Z time histories for the left rear load point of Event 8
Figure 12-4  X, Y and Z time histories for the right front load point of Event 8&lt;/p&gt;
&lt;p&gt;311 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-5  X, Y and Z time histories for the right rear load point of Event 8
Statistical Analysis of Time Histories
A limited amount of statistical analysis has been performed on the 10 loading events. For each event the 12
histories were analyzed, resulting in the minimum, maximum and spread estimates of the Root Mean Square
(RMS shown as stdRat  in table below). Also, the minimum, maximum and mean values were also calculated
for the kurtosis. Note that in order to create non-dimensionalized results each time history was normalized
to an RMS of 1.0 before analysis and because sample lengths in some cases were not very long the block
lengths were overlapped by 50%.
Table 12-2  . Standard deviation and kurtosis values (Min, Max and Spread) for 10 Events
Conversion from Time to Frequency Domain
As described above, a typical duty cycle for truck system would be made up with both multiple input loads
and multiple events (the10 events). Each event (in the time domain) represents a specific time duration. For
example, event  one (1) is 152 seconds long. In order to use this duty cycle in the frequency domain each of
these events (12 time history load sets) has to be transformed into the frequency domain, into a so called PSD
matrix. This matrix (as shown below) contains the direct loading terms on the diagonal (1:1, 2:2, 3:3 etc.).
These are conventional single valued PSDs which directly correspond with the individual time histories. The
CPSDs (cross PSDs) are similar to the direct PSDs except they are complex to account for correlation that
can be phase dependant. The cross correlation between individual terms only requires one half of the matrix&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description312
Main Index
(upper half shown below) be populated with CPSD terms; the lower complex conjugate half is included in
the software calculation by default.
Using this process a set of frequency domain load matrices can be created. These are then used as input to the
process and this approach has been applied to the truck cab model.
PSD matrix event 1 to be applied for 152 seconds
PSD matrix event 2 to be applied for 42 seconds
PSD matrix event 3 to be applied for 18 seconds
PSD matrix event 4 to be applied for 18 seconds
PSD matrix event 5 to be applied for 480 seconds
PSD matrix event 6 to be applied for 1682 seconds
PSD matrix event 7 to be applied for 378 seconds
PSD matrix event 8 to be applied for 18 seconds
PSD matrix event 9 to be applied for 18 seconds
PSD matrix event 10 to be applied for 68 seconds
Figure 12-6  Duty Cycle conversion from time to frequency domain
This time history to PSD conversion is done using the TIM2PSD entry (see the next Chapter).&lt;/p&gt;
&lt;p&gt;313 CHAPTER 12
Validation versus Time Domain
Main Index
Analysis Setup
Two &amp;ldquo;equivalent&amp;rdquo; MSC Nastran dynamic analysis runs are carried out using the files indicated above. Loads
on this model are forces in Newtons, so the form of the input files varies somewhat from that which would
be needed for input accelerations.
In order to understand the forms of these input files the key elements of the files (with geometry such as
elements, grids etc. removed) are shown here. It can be seen that the input files contain (and must contain)
similar instructions.
Both files contain similar damping data (3% of critical). Damping is an important input, which must be
treated with care if comparisons are required. Some damping (PARAM, G for example) are dealt with
differently between SOL 111 (frequency domain) and SOL 112 (time domain).
In the case of the SOL 112 (transient response) each subcase represents the simultaneous application of 12
time histories (which have to be included in separate TABLED1 (pointed at from the TLOAD1 entry).
LSEQ and FORCE entries are used to specify where, and in which directions loads are applied. DLOAD and
TLOAD1 entries are used to specify the magnitude of the loads (normalized by the TABLED1 entry) and
the time increment (specified in the TSTEP entry).
In the case of SOL111 (frequency response) real load time histories are not applied. Instead, sine waves of
input loads (normally unit height) are applied at frequencies specified in the FREQ entries. In this case
FREQ1 (equal interval frequencies) and FREQ (where specific frequencies are specified) are used. A more
logical approach would have been to use the same FREQ1 entries but then use a single FREQ4 entry instead
of the FREQ in order to pick up the modal peaks. Different spread factors and numbers of points around
each mode are allowed to create the required cluster around mode shapes.
SOL 112 Input (transient response)
Partial listing ( cab_sol112.dat ). The fatigue portion of the setup is shown a little later.
SOL 112
CEND
SET 1 = 1035259,1050094,1057009,1068132,8158502
FATIGUE (PLOT, FORMAT=192, BULK) =  1234
RESVEC (INRLOD, APPLOD, ADJLOD, RVDOF, DAMPLOD, NODYNRSP) = YES
STRESS (SORT1,PRINT,CENTER) = 1
LOADSET = 1
METHOD = 1
SDAMPING=1
$!- First event (12 input time histories) defined by SUBCASE 1
SUBCASE 1
SUBTITLE=01-ea10
TSTEP = 1
DLOAD = 1
&amp;lt;Repeated for all 10 events - one SUBCASE for each &amp;gt;
BEGIN BULK
PARAM     WTMASS     1.0
TABDMP1 1       CRIT
.1      .03     1000.   .03      ENDT&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Analysis Setup314
Main Index
include ’cab.bdf’
include &amp;lt;10 sets of dynamic load tables (time histories) in TABLED1 format &amp;gt;
&amp;lt; (ref 101, 102, etc on TLOAD1 entries) &amp;gt;
EIGRL          1            80.0               0                    MASS
LSEQ           1     101     101
LSEQ           1     102     102
LSEQ           1     103     103
&amp;lt;Repeated for all 12 loads &amp;gt;
$`&amp;ndash; Left Front X, Y and Z
FORCE        101     101     101     1.0     1.0     0.0     0.0
FORCE        102     101     101     1.0     0.0     1.0     0.0
FORCE        103     101     101     1.0     0.0     0.0     1.0
&amp;lt;Repeated for left rear, right front and right rear &amp;gt;
$=&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.. Event 1: ea10
&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;&amp;hellip;.
TSTEP          1    3800     .01       1
&amp;lt;Repeated time steps for all 10 events &amp;gt;
DLOAD          1     1.0     1.0    1101     1.0    1102     1.0    1103
1.0    1201     1.0    1202     1.0    1203     1.0    1301
1.0    1302     1.0    1303     1.0    1401     1.0    1402
1.0    1403
TLOAD1      1101     101                     101
TLOAD1      1102     102                     102
TLOAD1      1103     103                     103
&amp;lt;Repeated for all 12 loads &amp;gt;
&amp;lt;Repeat for all 10 events &amp;gt;
ENDDATA
SOL 111 Input (frequency response)
Partial listing ( cab_sol111.dat ). The fatigue portion of the setup is shown a little later.
SOL 111
CEND
SET 11 = all elements for analysis
FATIGUE (SORT1,PRINT,FORMAT=192,BULK) =  777
RESVEC (INRLOD, APPLOD, ADJLOD, RVDOF, DAMPLOD, NODYNRSP) = YES
STRESS(PLOT,center) = 11
LOADSET = 1
METHOD = 1
SDAMPING=1
FREQ = 100
$!- Left Front
SUBCASE 1
SUBTITLE = Left Front X
DLOAD = 101
SUBCASE 2&lt;/p&gt;
&lt;p&gt;315 CHAPTER 12
Validation versus Time Domain
Main Index
SUBTITLE = Left Front Y
DLOAD = 102
SUBCASE 3
SUBTITLE = Left Front Z
DLOAD = 103
&amp;lt;Repeat for Left Rear X,Y,Z, Right Front X,Y,Z and Right Rear X,Y,Z &amp;gt;
BEGIN BULK
PARAM     WTMASS     1.0
TABDMP1 1       CRIT
.1      .03     1000.   .03      ENDT
include ’cab.bdf’
EIGRL          1            80.0               0                    MASS
FREQ1        100     0.0     0.2      76
FREQ1        100    15.5     0.5      10
FREQ         100    4.82    7.76    9.03   12.16   13.35   16.72   16.79
LSEQ           1     101     101
LSEQ           1     102     102
LSEQ           1     103     103
&amp;lt;Repeat for left rear, right front and right rear &amp;gt;
$`&amp;ndash; Left Front X, Y and Z
FORCE        101     101     101     1.0     1.0     0.0     0.0
FORCE        102     101     101     1.0     0.0     1.0     0.0
FORCE        103     101     101     1.0     0.0     0.0     1.0
&amp;lt;Repeat for left rear, right front and right rear &amp;gt;
$!&amp;ndash; left front
DLOAD        101     1.0     1.0    1101
DLOAD        102     1.0     1.0    1102
DLOAD        103     1.0     1.0    1103
&amp;lt;Repeat for left rear, right front and right rear &amp;gt;
$!&amp;ndash; left front
RLOAD1      1101     101                     600
RLOAD1      1102     102                     600
RLOAD1      1103     103                     600
TABLED1      600
0.0     1.0   100.0     1.0    ENDT
&amp;lt;Repeat for left rear, right front and right rear &amp;gt;
&amp;hellip;
ENDDATA&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Analysis Setup316
Main Index
Fatigue Material Properties
The following material types are used in the analyses.
Table 12-3  Fatigue materials used in analysis
Strain-Life Data
Strain Life curves and cyclic stress-strain data equations are used in the following
form:
Where
Table 12-4  -N fatigue data used for steel frame, doors, and front strut
The above Strain-Life data is used with linear FE results by applying a Neuber shakedown procedure using
the mean stress equations taken from reference 5. (Dowling, NE, Mean Stress Effects in Stress-Life and Strain-
Life Fatigue, SAE F2004/51, 2004).Group name Material Type Material Name Critical Element MAT1/MATFG ID
Steel Cab Frame Strain-Life ( -N) Mild Steel 1035259 2
Main cab Shell Strain-Life ( -N) RQC100 1057009 11
Doors Strain-Life ( -N) Mild Steel 8158502 8
Front Strut Strain-Life ( -N) Manten 1050094 1
Glass Screen Random response Random Response 1068132 3
Material b c K&amp;rsquo;n&amp;rsquo;
elastic
fatigue
strength
coefficientelastic
fatigue
strength
exponentplastic
fatigue
ductility
coefficientplastic
fatigue
ductility
exponentcyclic
strength
coefficientstrain
hardening
exponent
Mild Steel 560.8 -0.109 0.065 -0.390 461.7 0.12
Manten 917.0 -0.095 0.260 -0.470 1103.0 0.19
RQC100 1158.0 -0.075 1.060 -0.750 1151.0 0.10a&amp;rsquo;f
E&amp;mdash;&amp;mdash;2Nfb&amp;rsquo;+ =
f2Nfc

E&amp;mdash;
K&amp;rsquo;&amp;mdash;&amp;ndash;1
n&amp;rsquo;&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=
&amp;rsquo;f&#39;f&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;317 CHAPTER 12
Validation versus Time Domain
Main Index
Strain-Life - Morr ow N  Adjustment (both terms
adjusted):
Strain-Life - W alker N Adjustment:
Strain-Life - S WT N
Adjustment ::
For the data presented in this section the SWT mean stress adjustment shown above is used.
Random Response Only:
It is possible, with the fatigue capability in MSC Nastran, to perform random response analysis only. To
achieve this simply leave the material MATFTG  entry with only the STATIC line an no SN or EN lines), or on
the EN line only include the n’ and K’ parameters.
Fatigue Input Setup
Below shows the setup (partial listings) of the fatigue portion of the input decks.a&amp;rsquo;fm–
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;2Nfb&amp;rsquo;+ =
f&amp;rsquo;fm–
&amp;rsquo;f&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
c
b&amp;mdash;
2NfcNmorrowNf
1m
&amp;rsquo;f&amp;mdash;&amp;mdash;-–1
b&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
NwalkerNf
1R–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;1–
b&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
maxa&amp;rsquo;f2
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-2Nf2b&amp;rsquo;f&amp;rsquo;f2Nfbc++ = NswtNf
1R–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;1
2b&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Analysis Setup318
Main Index
SOL 112 Fatigue Input (transient response)
This is the time domain setup for the fatigue analysis ( cab_sol112.dat ).
DTI        UNITS       1     MGG       N      MM       S     MPA
FTGPARM     1234      EN     1.0       0       0
STRESS     SGVON     SWT         ELEM
FTGDEF      1234   100.0
ELSET       1      11
PFTG          11       0    NONE             1.0     1.0     0.0
1.0
$ Manten Material
MAT1           1 207.0+3 80859.2    0.28  7.82-9                     0.1
MATFTG         1     1.0
STATIC           800.0
EN   917.0  -0.095   -0.47   0.260    0.19  1103.0
FTGSEQ      1234       0       0
1     4.0       2     3.0       3     3.0       4     3.0
5     5.0       6    29.0       7     7.0       8     3.0
9     3.0      10     2.0
The following comments are made for this setup:
1.The FTGPARM , FTGDEF , and FTGSEQ  are activated by the presence of the FATIGUE  case control for ID
1234 .
2.The DTI,UNITS  entry is not necessary as MPA stress units is the default.
3.The FTGPARM  entry specifies an -N (EN) analysis, to use Signed von-Mises ( SGVON ) as the stress
combination parameter, to analyze using only element ( ELEM ) center stresses ( STRESS ) and to user
Smith-Watson-Topper ( SWT) mean stress correction.
4.The FTGDEF  entry specifies to analyze only those elements in SET1 definition of ID 1 (not shown) and
associates them to fatigue properties specified on the PFTG entry. The PFTG entry is not necessary
as all defaults are specified.
5.The MATFTG  entries define the fatigue material properties as discussed previously. There is one
MAT1/ MATFTG  pair for each material type - Manten material data shown only!
6.The FTGSEQ  entry defines the 10 events. Each SUBCASE of a transient dynamic analysis is a fatigue
load event. So the FTGSEQ  sets up the duty cycle by specifying how many times an event repeats itself
within the duty cycle. So SUBCASEs 1-10 are repeated 4.0, 3.0, 3.0, 3.0, 5.0, 29.0, 7.0, 3.0, 3.0, and
2.0 times each, respectively. For example, SUBCASE 1 duration is 38 seconds. Repeating it 4.0 times
gives a total of 152 seconds as stated in one of the tables above.&lt;/p&gt;
&lt;p&gt;319 CHAPTER 12
Validation versus Time Domain
Main Index
SOL 111 Fatigue Input (transient response)
This is the frequency domain setup for the fatigue analysis ( cab_sol111.dat ).
FTGPARM 777     EN                      0       1
STRESS  SGVON   SWT             ELEM            CENTER
FOS             2874.0
VIBFTG  DIRLIK  16.0    16.0    3.0     64      99.9
$
FTGDEF  777     100.0
ELSET   1               2               3
4               5
$ read in all sets for groups
$include &amp;rsquo; 1_40k_yield.txt&amp;rsquo;
$include &amp;rsquo; 2_50k_yield.txt&amp;rsquo;
$include &amp;rsquo; 3_A6_cab.txt&amp;rsquo;
$include &amp;rsquo; 4_A6_doors.txt&amp;rsquo;
$include &amp;rsquo; 5_glass_windshield.txt&amp;rsquo;
$ or just the critical element from each group
SET3    1       ELEM    1050094
SET3    2       ELEM    1035259
SET3    3       ELEM    1057009
SET3    4       ELEM    8158502
SET3    5       ELEM    1068132
$
FTGSEQ  777     0               SECS    1.0
101     152.0   102     42.0    103     18.0    104     18.0
105     480.0   106     1682.0  107     378.0   108     18.0
109     18.0    110     68.0
$
FTGEVNT 101     801     701
FTGEVNT 102     802     701
FTGEVNT 103     803     701
FTGEVNT 104     804     701
FTGEVNT 105     805     701
FTGEVNT 106     806     701
FTGEVNT 107     807     701
FTGEVNT 108     808     701
FTGEVNT 109     809     701
FTGEVNT 110     810     701
$
FTGLOAD 801             80001                           PSD
FTGLOAD 802             80002                           PSD
FTGLOAD 803             80003                           PSD
FTGLOAD 804             80004                           PSD
FTGLOAD 805             80005                           PSD
FTGLOAD 806             80006                           PSD
FTGLOAD 807             80007                           PSD
FTGLOAD 808             80008                           PSD
FTGLOAD 809             80009                           PSD
FTGLOAD 810             80010                           PSD
FTGLOAD 701     555     1                               STATIC
UDNAME  555
cab_static.op2&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Analysis Setup320
Main Index
$ Read in 10 sets of PSD Matrices (RANDPS 80001-80010 + TABRND1)
include &amp;lsquo;EA10bpsd.txt&amp;rsquo;
include &amp;lsquo;EGV1bpsd.txt&amp;rsquo;
include &amp;lsquo;ER20bpsd.txt&amp;rsquo;
include &amp;lsquo;ER30bpsd.txt&amp;rsquo;
include &amp;lsquo;LP10bpsd.txt&amp;rsquo;
include &amp;lsquo;LP12bpsd.txt&amp;rsquo;
include &amp;lsquo;LP14bpsd.txt&amp;rsquo;
include &amp;lsquo;LR20bpsd.txt&amp;rsquo;
include &amp;lsquo;LR30bpsd.txt&amp;rsquo;
include &amp;lsquo;LS20bpsd.txt&amp;rsquo;
The following comments are made about the fatigue setup:
1.The FTGPARM , FTGDEF , and FTGSEQ  are activated by the presence of the FATIGUE  case control for ID 777.
2.The FTGPARM  entry specifies Signed von-Mises ( SGVON ) as the stress combination parameter, to
analyze using only element ( ELEM ) center stresses ( STRESS ) and to user Smith-Watson-Topper ( SWT)
mean stress correction. Note that the analysis type ( SN or EN) is actually dependent on the material
properties defined for the specified elements. This setting in only used to resolve conflicts in multiple
material definitions (an SN and an EN line appearing in a single MATFTG  for example) if there are any.
3.The FTGPARM  entry also specifies parameters specific to the random vibration fatigue method. All of
these items have been highlighted in previous Chapters ( VIBFTG  line). The analysis uses DIRLIK  as
the method to calculate the PDF of rainflow stress ranges. 64 stress bins are used in the PDF. A
maximum stress of 16 times RMS  (+/- 8*RMS amplitudes) is to be used with a clipping level of the
same.
4.The FTGDEF  entry specifies to analyze only those critical elements in the SET3 definitions. If you want
the entire model sections analyzed, use the include files by commenting out the SET3 lines and un-
commenting the include  lines above them.
5.The MATFTG  entries define the fatigue material properties as discussed previously.
6.The FTGSEQ  entry defines the 10 events, each with its specific time duration in seconds. The required
or desired duration of all the events is 2874.0  seconds is placed on the FTGPARM  entry FOS line. This
is only used in a margin of safety analysis.
7.The events are defined in FTGEVNT  entries and each is made up of a static offset plus the equivalent
PSD to the time histories from the SOL 112 analysis (for each event).
8.Each FTGLOAD  defines a random load except for the one that defines the static offset. The STATIC
offset points to a UDNAME  entry that points to the output2 file containing the offset stresses. The others
point to the RANDPS  (SID) entries for defining the actual PSD loading. The RANDPS  associate the
actual PSD tables ( TABRND1 ) to the transfer function subcases. These are contained in include files.
These include files were generated from the SOL 112 time histories using a FFT conversion tool
called TIM2PSD , which is discussed in the next Chapter.&lt;/p&gt;
&lt;p&gt;321 CHAPTER 12
Validation versus Time Domain
Main Index
SOL112 Dy namic Transient Results
The data below is obtained from a SOL 112 analysis performed using the input file cab_sol112.dat . Whether
a SOL112 (dynamic transient) or SOL111 (modal frequency response) analysis is performed a modal analysis
(equivalent to SOL103) is done in the pre processing stage of the analysis. This stage is therefore the same
for both types of analysis. The first 15 structural modes obtained are listed below.
Details of these 15 modes are shown below and six (6) of the typical mode shapes are shown. All 73 modes
include the first six (6) rigid body modes and modes 62-73 are included via residual vectors.Mode # Frequency (Hz) Description
1-6 ~ 0.0 Rigid body modes
7 10.7 Doors rocking on hinges and latch
8 11.0 Doors rocking on hinges and latch
9 16.7 Back panel
10 21.3 Cab parallelogram
11 21.9 Back panel
12 26.5 Doors pumping
13 26.8 Doors twisting
14 27.6 Steering column pitching
15 30.9 Back panel
Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)
1 0.00 16 32.54 31 51.05 46 63.16 61 79.71
2 0.00 17 34.30 32 53.78 47 65.27 62 134.34
3 0.00 18 35.61 33 54.29 48 66.65 63 141.89
4 0.00 19 36.19 34 54.59 49 67.50 64 154.59
5 0.00 20 37.40 35 55341 50 67.88 65 179.70
6 0.00 21 39.38 36 55.56 51 71.34 66 191.83
7 10.68 22 40.19 37 56.41 52 71.44 67 215.05
8 10.69 23 43.41 38 56.63 53 71.98 68 250.14
9 16.68 24 45.58 39 56.92 54 73.41 69 256.99
10 21.22 25 46.53 40 57.36 55 73.94 70 296.64
11 21.82 26 46.70 41 59.98 56 75.04 71 329.73
12 26.38 27 47.06 42 60.13 57 75.68 72 498.97&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL112 Dynamic Transient Results322
Main Index&lt;/p&gt;
&lt;p&gt;Figure 12-7  Modes 9, 11, 12, 14 21 and 60
The SOL112 analysis, in this case, is being done as a means to perform detailed response and fatigue life
comparisons for five (5) different critical elements, one within each group described earlier. Five (5) stress
tensor time histories are generated for these five (5) critical elements. In order to perform a fatigue life
calculation on this stress tensor time history it is necessary to transform it into a signed von-Mises stress time
history.
Inside Nastran the stress time histories are obtained using a &amp;ldquo;modal superposition&amp;rdquo; approach. In effect the
input loading time histories (12 per event) are converted into modal participation factors (modal loads).13 26.72 28 47.06 43 60.13 58 75.68 73 498.97
14 27.14 29 48.91 44 62.17 59 77.09
15 30.79 30 49.13 45 62.91 60 77.69Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)Mode
#Frequency
(Hz)&lt;/p&gt;
&lt;p&gt;323 CHAPTER 12
Validation versus Time Domain
Main Index
A flow diagram showing the process used to perform the transient dynamic fatigue life calculation is shown
below:
Figure 12-8  Transient dynamic fatigue life calculation process
The transient dynamic fatigue analysis process also uses a form of linear superposition but this time in modal
coordinates. Quasi-static subcases are combined into events through association with time histories. A SOL
103 analysis is used to generate modal stress fields (eigenvectors) and these are combined with modal
participation factors obtained in a SOL112 analysis with a time step equal to 0.01 seconds (100 Hz). This
transformation allows for massively reduced DOF sets because it facilitates the application of the fatigue
modal superposition method.
Figure 12-9  von-Mises stress time history (sample) for element 1035259&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL112 Dynamic Transient Results324
Main Index
Figure 12-10  von-Mises stress time history (sample) for element 1057009
Figure 12-11  von-Mises stress time history (sample) for element 8158502
Figure 12-12  von-Mises stress time history (sample) for element 1050094&lt;/p&gt;
&lt;p&gt;325 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-13  von-Mises stress time history (sample) for element 1068132
The images below show some typical fatigue damage contour plots. The objective of this Chapter is to
compare the qualitative and quantitative performance between these results and a frequency domain (SOL
111) analysis. The difficulty with comparing contour plots, like those shown, is that the form of plotting
chosen makes direct comparisons of the contour plots difficult. So, instead, the five (5) critical elements
mentioned earlier have been used.
Figure 12-14  Fatigue results for a typical full sized automotive truck cab design&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results326
Main Index
SOL111 Frequency Response Results
The output obtained from the input file cab_sol111.dat  contains detailed results for many output parameters
including fatigue damage for the duty cycle and log of this fatigue damage results. Here we see analyzed four
(4) critical locations of the model. The following four (4) critical elements of those groups are:
Element 1050094 = group &amp;ldquo;front strut&amp;rdquo;
Element 1035259 = group &amp;ldquo;steel cab frame&amp;rdquo;
Element 8158502 = group &amp;ldquo;doors&amp;rdquo;
Element 1057009 = group &amp;ldquo;main cab shell&amp;rdquo;
Patran is used to show the different results quantities on the different element groups (A-D) below, which
correspond to the fatigue damage plots in Figure 12-15.
A) Fatigue damage (log of damage) contour plot for sum of all events for the main cab. A maximum
of -2.08 means the damage is 10-2.08 = 0.00832, or the life (in repeats of the complete duty cycle) is
0.00832-1 = 602.6 repeats.
B) Fatigue damage (log of damage) contour plot for sum of all events for the steel frame. A
maximum of -1.07 means the damage is 10-1.07 = 0.085, or the life (in repeats of the complete duty
cycle) is 0.085-1 = 11.75 repeats.
C) Fatigue damage (log of damage) contour plot for sum of all events for the cab doors. A maximum
of -1.28 means the damage is 10-1.28 = 0.0525, or the life (in repeats of the complete duty cycle) is
0.0525-1 = 19.05 repeats.
D) Fatigue damage (log of damage) contour plot for all events for the front strut. A maximum of
-0.762 means the damage is 10-0.762 = 0.173, or the life (in repeats of the complete duty cycle) is
0.173-1 = 5.78 repeats.&lt;/p&gt;
&lt;p&gt;327 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-15  Log of Damage plots of the various component of the truck cab
The above results are damage summation from all events. If you desire to see the results from individual
events as well, set EVNTOUT on the FTGSEQ  entry to 1. Then you can make contour plots of not only the
sum of the damage from all events, but also plots for each individual event.
FTGSEQ  777     1               SECS    1.0
The CSV output file contain all the response data, including the RMS levels for each event and each critical
element location. These RMS levels have been tabulated and then compared with the RMS levels obtained
from the von-Mises stress time histories created with the SOL 112 run. In effect this is a check on the
intensities of the stress responses computed using SOL 111 and compared against a full time based SOL112
solution.
A B
D&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results328
Main Index
RMS Comparisons
Table 12-5  SOL 111 RMS values for each event and each critical element
Table 12-6  SOL 112 RMS values (von-Mises time histories) for each event / critical elementGroup name Material Type Material Name Critical Element MAT1/MATFG ID
Steel Cab Frame Strain-Life ( -N) Mild Steel 1035259 2
Main cab Shell Strain-Life ( -N) RQC100 1057009 11
Doors Strain-Life ( -N) Mild Steel 8158502 8
Front Strut Strain-Life ( -N) Manten 1050094 1
Glass Screen Random response Random Response 1068132 3
Event Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
From PSD 01-EA10 57.60 85.04 56.69 148.06 4.06
From PSD 02-EGVL 27.85 47.08 33.69 72.02 2.40
From PSD 03-ER20 59.45 64.96 59.98 149.58 3.31
From PSD 04-ER30 51.43 99.13 49.52 169.92 4.79
From PSD 05-LP10 68.57 107.31 64.15 181.69 4.90
From PSD 06-LP12 96.81 115.33 88.74 206.69 5.01
From PSD 07-LP14 104.94 135.05 95.60 231.81 5.87
From PSD 08-LR20 85.54 141.18 80.79 230.65 6.81
From PSD 09-LR30 89.66 94.11 80.33 171.51 3.91
From PSD 10-LS20 82.61 152.76 76.05 243.06 6.77
Event Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
From time 01-EA10 58.19 85.49 61.96 156.50 4.58
From time 02-EGVL 28.74 47.03 40.56 84.91 3.23
From time 03-ER20 61.69 64.76 64.43 154.64 4.61
From time 04-ER30 53.60 97.16 54.89 173.02 5.07
From time 05-LP10 69.11 108.68 66.39 186.07 5.09
From time 06-LP12 97.63 116.81 90.36 209.76 5.47
From time 07-LP14 105.32 136.29 98.08 235.31 6.64
From time 08-LR20 97.52 144.71 93.28 241.34 7.43
From time 09-LR30 96.10 96.85 88.12 185.61 4.68
From time 10-LS20 82.48 153.08 78.33 242.47 7.15&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P18</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_018/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_018/</guid>
      <description>
        
        
        &lt;p&gt;329 CHAPTER 12
Validation versus Time Domain
Main Index
The next table then shows the comparisons between the frequency and time domain results. The numbers
shown are the frequency based RMS value divided by the time signal derived RMS value.
Table 12-7  Normalized RMS values from SOL 111 / SOL 112
Damage Comparisons
The next three (3) tables show the comparisons for fatigue damage.
Table 12-8  Damage from SOL 111 for each event and critical elementEvent Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
PSD/time 01-EA10 0.990 0.995 0.915 0.946 0.887
PSD/time 02-EGVL 0.969 1.001 0.831 0.848 0.743
PSD/time 03-ER20 0.964 1.003 0.931 0.967 0.717
PSD/time 04-ER30 0.959 1.020 0.902 0.982 0.945
PSD/time 05-LP10 0.992 0.987 0.966 0.976 0.961
PSD/time 06-LP12 0.992 0.987 0.982 0.985 0.915
PSD/time 07-LP14 0.996 0.991 0.975 0.985 0.884
PSD/time 08-LR20 0.877 0.976 0.866 0.956 0.917
PSD/time 09-LR30 0.933 0.972 0.912 0.924 0.836
PSD/time 10-LS20 1.002 0.998 0.971 1.002 0.947
Event Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
From PSD 01-EA10 3.071E-04 6.791E-07 2.903E-04 1.34E-03 N/A
From PSD 02-EGVL 1.933E-06 1.324E-10 5.885E-06 1.37E-06 N/A
From PSD 03-ER20 4.671E-05 3.323E-09 5.168E-05 1.87E-04 N/A
From PSD 04-ER30 2.104E-05 4.914E-07 1.946E-05 3.52E-04 N/A
From PSD 05-LP10 2.335E-03 3.288E-05 1.642E-03 1.35E-02 N/A
From PSD 06-LP12 5.824E-02 2.710E-04 3.526E-02 1.01E-01 N/A
From PSD 07-LP14 2.284E-02 3.492E-04 1.377E-02 4.46E-02 N/A
From PSD 08-LR20 3.323E-04 2.444E-05 2.612E-04 1.90E-03 N/A
From PSD 09-LR30 4.503E-04 3.146E-07 2.456E-04 4.40E-04 N/A
From PSD 10-LS20 1.047E-03 1.931E-04 6.727E-04 9.32E-03 N/A
SUM 0.0856 0.00087 0.0522 0.0173&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results330
Main Index
Table 12-9  Damage from SOL112 von-Mises time histories for each event / critical element
Table 12-10  Normalized damage from SOL 111 /  SOL112
If very little to no damage was computed from either the time or frequency domain analysis, the normalized
results above indicate N/A. There is a generally agreed view that any two (2) fatigue damage (or life) results
which vary by less than a factor two (2) are actually the same result. This is because the stress change needed
to cause a factor of two (2) change in damage is usually less than 10% and can be as low as 5%. In view of
this, the results are excellent.Event Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
From time 01-EA10 4.56E-04  0.8884E-07 6.12E-04 1.16E-03 N/A
From time 02-EGVL 4.16E-06 0.0000E+00 2.30E-05 1.15E-05 N/A
From time 03-ER20 1.09E-04 0.0000E+00 1.38E-04 1.80E-04 N/A
From time 04-ER30 6.14E-05 0.0000E+00 6.28E-05 1.80E-04 N/A
From time 05-LP10 2.56E-03 0.3368E-04 2.02E-03 6.55E-03 N/A
From time 06-LP12 3.85E-02 0.4926E-03 2.72E-02 3.09E-02 N/A
From time 07-LP14 1.19E-02 0.5521E-03 8.30E-03 1.34e-02 N/A
From time 08-LR20 7.51E-04 0.1049E-04 5.06E-04 8.61E-04 N/A
From time 09-LR30 5.89E-04 0.0000E+00 4.15E-04 3.93E-04 N/A
From time 10-LS20 1.14E-03 0.0000E+00 7.18E-04 3.33E-03 N/A
SUM 0.0560 0.0014 0.0400 0.0570
Event Elem 1035259 Elem 1057009 Elem 8158502 Elem 1050094 Elem 1068132
PSD/time 01-EA10 0.673 7.644 0.474 1.155 N/A
PSD/time 02-EGVL 0.465 N/A 0.256 0.119 N/A
PSD/time 03-ER20 0.429 N/A 0.374 1.039 N/A
PSD/time 04-ER30 0.343 N/A 0.310 1.956 N/A
PSD/time 05-LP10 0.912 0.976 0.813 2.061 N/A
PSD/time 06-LP12 1.513 0.550 1.296 3.269 N/A
PSD/time 07-LP14 1.919 0.632 1.659 3.328 N/A
PSD/time 08-LR20 0.442 2.330 0.516 2.207 N/A
PSD/time 09-LR30 0.765 N/A 0.592 1.120 N/A
PSD/time 10-LS20 0.918 N/A 0.937 2.799 N/A
SUM 1.527 0.621 1.306 3.031&lt;/p&gt;
&lt;p&gt;331 CHAPTER 12
Validation versus Time Domain
Main Index
PSD Comparisons
If LOGLVL is set to 1 on the FTGPARM  entry, the response PSDs are available in a CSV file. These PSDs have
then been compared to PSDs calculated directly from the SOL112 von-Mises time histories. The number of
(time signal) points chosen for the (SOL112 derived) PSDs was 256, meaning the number of points in each
PSD estimate was 128. The number of available estimates used to create a reliable estimate then varied
according to the overall length of the time signal. Six (6) seconds meant three (3) estimates. The Nyquist
frequency was 50Hz (half of the TSTEP value used in the Nastran run). This meant the frequency resolution
in the calculated PSDs was 0.390625Hz. This was carefully chosen to be somewhat similar to the FRF
resolution in the SOL111 run, which was generally 0.200Hz or less. Below are  comparisons between SOL
111 PSDs calculated and the SOL112 (direct time signal) calculated PSDs for each of the events at the critical
locations. The agreement between the two (2) sources of data is excellent.
Figure 12-16  Event 1: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-17  Event 2: SOL 111 PSDs compared to the SOL 112 generated PSDs&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results332
Main Index
Figure 12-18  Event 3: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-19  Event 4: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-20  Event 5: SOL 111 PSDs compared to the SOL 112 generated PSDs&lt;/p&gt;
&lt;p&gt;333 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-21  Event 6: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-22  Event 7: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-23  Event 8: SOL 111 PSDs compared to the SOL 112 generated PSDs&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results334
Main Index
Figure 12-24  Event 9: SOL 111 PSDs compared to the SOL 112 generated PSDs
Figure 12-25  Event 10: SOL 111 PSDs compared to the SOL 112 generated PSDs
Rainflow Comparisons
If LOGLVL is set to 2 on the FTGPARM  entry, the response PSDs and the PDFs of rainflow cycle counts are
available in a CSV file. The RCC file contains both the Rainflow cycle data (values of n) and the damage
values ( n/N) for each of the 64 BINS requested. Note that in order to plot the histograms the values of BIN
stresses needs to be calculated as:
BIN stress (i) = ((i-0.5)/STRBINS)&lt;em&gt;MAXSTR&lt;/em&gt;RMS
=((i-0.5)/64)&lt;em&gt;16&lt;/em&gt;RMS
The results for Rainflow cycle count (RCC) and damage have been plotted below along with the same data
obtained directly from the SOL112 von-Mises time history data.
It is interesting to note how the frequency domain acts like a smoothing filter on both sets of data. With
agreement increasing with increasing stress range. Since it is the higher stress ranges, which dominate the
fatigue life results this explains why the agreement is so good in terms of a damage comparison. Please see the
concluding section of this Chapter for a more detailed discussion on the subject of scatter.&lt;/p&gt;
&lt;p&gt;335 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-26  Event 1, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-27  Event 2, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-28  Event 3, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-29  Event 4, SOL 111 vs SOL 1112 RCC &amp;amp; Damage&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results336
Main Index
Figure 12-30  Event 5, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-31  Event 6, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-32  Event 7, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-33  Event 8, SOL 111 vs SOL 1112 RCC &amp;amp; Damage&lt;/p&gt;
&lt;p&gt;337 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-34  Event 9, SOL 111 vs SOL 1112 RCC &amp;amp; Damage
Figure 12-35  Event 10, SOL 111 vs SOL 1112 RCC &amp;amp; Damage&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
SOL111 Frequency Response Results338
Main Index
Plot Comparisons
As a final comparison the detailed results obtained using Nastran Embedded Fatigue (NEF) for SOL 111 and
SOL 112 are shown.
A) Fatigue damage (log of damage) contour plot for sum of all events for the steel frame using NEF
SOL 112 (time domain transient dynamic analysis). A maximum of -1.10 means the damage is 10-
1.10 = 0.0794, or the life (in repeats of the complete duty cycle) is 0.0794-1 = 12.58 repeats.
B) Fatigue damage (log of damage) contour plot for all events for the steel frame using SOL 111. A
maximum of -1.07 means the damage is 10-1.07 = 0.0.0851, or the life (in repeats of the complete
duty cycle) is 0.0851-1 = 11.75 repeats
C) - H) Close up views of zones A, B, &amp;amp; C for SOL 111 vs SOL 112
Figure 12-36  NEF SOL 112 vs NEF SOL 111 for three zones
A) SOL 112 (Time Domain) B) SOL 111 (Frequency Domain)&lt;/p&gt;
&lt;p&gt;339 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-37  Close up NEF SOL 112 vs NEF SOL 111 for Zone A
Figure 12-38  Close up NEF SOL 112 vs NEF SOL 111 for Zone B
C) SOL 112 (Time Domain) D) SOL 111 (Frequency Domain)
A) SOL 112 (Time Domain) B) SOL 111 (Frequency Domain)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks340
Main Index
Figure 12-39  Close up NEF SOL 112 vs NEF SOL 111 for Zone C
Concluding Remarks
From the above we can see the comparison between time domain and frequency domain solutions is quite
comparable.
Random Response in the Frequency Domain
Techniques for doing response calculations in the frequency domain have been in the public domain for well
over 50 years. These techniques are based on the concept that system properties can be represented by a
&amp;ldquo;transfer function&amp;rdquo; (TF) between the input and output of a system. If the input is, for example, fluctuating
G load, and the output is stress then the TF becomes stress per G as a function of frequency, as shown below.
Loading in the form of direct PSDs for each input applied is shown in the leading diagonal of the matrix in
Figure 12-6. The cross PSDs (CPSD), which describe the phase relationship between each load pair, are shown
in the off diagonal terms. Direct PSDs are real; CPSDs are complex conjugate pairs (e.g. CPSD1-2 = CPSD2-
1*).
The response PSDs obtained in this way can then be kept in their full form or they can be reduced to their
statistical moments using the following equation,
A) SOL 112 (Time Domain) B) SOL 111 (Frequency Domain)
Sf HafGabfHbf
b1=n

a1=n
=
mnfnGffd
0
finGfif
1i
= =&lt;/p&gt;
&lt;p&gt;341 CHAPTER 12
Validation versus Time Domain
Main Index
The first four (4) response moments (m0, m1, m2 and m4) are typically used. What is really quite astonishing
is that these four (4) moments can be used to completely represent (at any particular grid ID) any required
stress response quantities.
These basic response statistics (m0, m1, m2 and m4) can then be used to calculate various derived statistics
like the mean crossing rate, E[0], and mean peak rate, E[P], and the irregularity factor which is equal to
E[0]/E[P].
The root mean square (RMS) is obtained from .E0m2
m0&amp;mdash;&amp;mdash;-           EP ;m4
m2&amp;mdash;&amp;mdash;-            ;E0
EP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;m22
m0m4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = = = =
m0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks342
Main Index
The Choice - Time Domain or Frequency Domain?
It has been recognized since the 1960s that frequency domain methods for structural analysis offer superior
qualitative information about structural response. For example, the transfer function information obtained
provides unique information about how and why the structure behaves in the way it does. The transfer
function is also very useful in terms of analysis efficiency because it is independent of input load conditions.
In other words, once the analysis process reaches the transfer function stage (e.g. SOL108 or SOL111
Frequency Response Functions) the additional work involved in applying multiple sets of input load sets is
trivial in comparison. Contrast this with a typical time based (SOL112) analysis. Consider the example of a
structural system with 200 modes and 50 events. This would require 50 Nastran system solutions with
10,000 modal participation factors being generated by Nastran and then processed in the durability process.
And do not forget that each modal participation factor might be 500,000 time points or more in order to
adequately define the Rainflow cycle behavior! Consider further that a time based durability solution is
completely impractical for a direct dynamic (SOL109) solution but is still a very practical option in the
frequency domain (SOL108).
Given the above considerations the obvious question then becomes why have frequency domain methods not
been more widely used for the analysis of, for example, full body vehicle systems. The answer has two (2)
parts.
Firstly, until the development of Nastran Embedded Fatigue within SOL 111, the handling of very large (say
greater than 10GB) transfer function files was practically impossible. But because of a novel way of handling
the stress request this obstacle has now been overcome.
And secondly, there were issues related to the quality of the quantitative results. In other words, for typical
real world situations there was a question about whether the frequency domain approach was valid. This issue
related directly to the requirement to make the following three (3) assumptions.
Assum ption 1:
It is necessary to assume that the data being processed is stationary. This simply means that the statistics of
the process do not change. At first this assumptions seems rather awkward to overcome. However, techniques
used in the offshore industry for 50 years show the way forward. Sea wave conditions are routinely specified
in the frequency domain using PSDs. The shape of each PSD is controlled by the dominant wave period TD
and the significant wave height HS. Then, for every 10 minute interval the conditions are measured and re-
coded in a &amp;ldquo;Duty Cycle&amp;rdquo; matrix. What is important is that the matrix itself can be non-stationary even though
the individual PSDs remain stationary. This gives the way forward for vehicle loads. We simply have to break
our processes up into smaller segments. Note also that because there is no significant computational expense
with this the overall analysis time does not increase.
This &amp;ldquo;trick&amp;rdquo; also gives another possible significant advantage that could be investigated. If road load
conditions could also be parameterized (in a similar way to the offshore case) the option for huge amounts of
data reduction become possible. This could significantly reduce the task of road load data storage and
processing. Further, it is now a very straightforward process to convert from time signal load data to a PSD
matrix for each event.&lt;/p&gt;
&lt;p&gt;343 CHAPTER 12
Validation versus Time Domain
Main Index
Assumptions 2 &amp;amp; 3:
The second and third assumptions required that the data be Gaussian (or normal) and random. These two
(2) assumptions are closely related and often a problem where one will distort the other. In many analysis
situations this relates to the problem of mixed loading. Extensive research into this topic has been done for
this embedded fatigue technology and has developed a mixed random-deterministic loading procedure,
which significantly reduces the importance of these two (2) assumptions. And this now makes frequency
domain durability calculations a practical option for full body fatigue calculations. And this then means that
significant efficiency gains can be made, as well as a significant improvement in the quality of the results.
The frequency domain is now a practical option for multi-input durability calculations and does offer the
possibility of significant reductions in analysis time and data storage requirements as well as a vastly improved
understanding of structural behavior. This is demonstrated below with data for a large (55 input, 5M DOF)
vehicle system below.
55 input points (load application points)
5M DOF FEM model
1M stress output points
300 modes
80 events (sets of time histories)
Time history lengths 1000 seconds (512,000 points at 512 Hz))
Assume input PSD length of 1024 frequencies
Assume shells (quad4&amp;rsquo;s) for FEM mesh, which means six (6) stress values for each grid output point
(GID).
Assume 100 frequency output request
Figure 12-40  Quantitative and qualitative comparisons - time versus frequency domain&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks344
Main Index
Table 12-11  Resource requirements comparison - time versus frequency domain
Time Domain Frequency Domain
QUANTITATIVE
(Speed of Solver)Computationally intensive. Loads are
part of system so analysis time
proportional to time number/length
of time histories.Computationally efficient. Loads
are not part of structural system
QUANTITATIVE
(Speed of Fatigue Calculation)Large models become difficult to
process, especially for multiple events,
modes and inputs (subcases).Is now suitable for very large models.
Multiple events and modes cause no
problems.
QUANTITATIVE
(Accuracy)Can be used for highly deterministic
loading sources (one off kerb strike
for instance).
Limits to amount of data reduction
and test acceleration that can be done.Strict interpretation of “random
assumption” can now be relaxed but
must still use care with some highly
deterministic loads.
QUANTITATIVE
(Files Needed – Input Loading)Often involves huge number of time
histories of long duration to represent
duty cycle.
4400 time history files (55 * 80) =
each one 512,000 points.Duty cycle can be represented using
condense PSD load matrix. There is
therefore the possibility for huge
reduction in load data storage
requirements
Very amenable to accelerated testing
concepts.
80 PSD matrices  – each one
containing 55 * 55 * 1024 = 3M
data points
QUANTITATIVE
(Files Needed – Structural System)One stress field for each mode 300
Modal stress fields (2M * 6) total data
points (3,600M data points).
Data file size of Modal Participation
Factor sets for - 300 * 80 * 512,000 =
122,880 M data points.One single transfer function of size
55 * 2M * 6 * 200 = 1,320,000M
data points&lt;/p&gt;
&lt;p&gt;345 CHAPTER 12
Validation versus Time Domain
Main Index
Comments on Statisti cal Scatter
In this short, final section we present data for both time and frequency domain analyses and comparing the
two (2) sets of results for accuracy. In general the correlation is excellent. However, as would be expected there
is some level of statistical scatter between the results sets and even within each result set. This is not surprising.
If, for example, we take a very long time estimate and then break it down into smaller samples we will notice
differences (scatter) in the results from sample to sample. Indeed, from a practical engineers perspective this
would be expected. Further, we would be advised to make the sample as large as possible in order to minimise
this sample to sample scatter. But this issue is not related to only the frequency domain - it affects both
frequency and time domains.
To understand this better let us look at a study done in 1989 by Bishop &amp;amp; Sherratt (ref. 2.), extracts from
which are shown below. Here a long time sample was used as a &amp;ldquo;reference&amp;rdquo;. This long time sample was then
subdivided into blocks of different lengths and response quantities computed - in this case RMS, expected
peaks (E[P]) and fatigue. Lets call these the &amp;ldquo;time domain estimates&amp;rdquo;. And, as expected, as the sample length
increases the scatter reduces.
Now let us follow a different course. We will start from the same long sample, sub divide into the smaller
blocks as before, but in this case we use the time sample to calculate a PSD and then use that PSD to calculate
the same parameters - lets call these the &amp;ldquo;frequency domain estimates&amp;rdquo;. QUANTITATIVE
(Files Needed – Response Data)Stress time history output at each
output point is not practical. Fatigue
and other scalar results are practical
(one result at each output point.) Fatigue and response (moments)
data is possible at each output point.
Only 4 moments are needed at each
output point.
QUALITATIVE
Ease of UseModal Superposition methods of
stress and fatigue analysis for large
multi input systems require large
numbers of Modal participation
factors to be generated and managed.
File sizes of the Nastran job can be
difficult to manage.A frequency based approach for
stress analysis and fatigue requires a
single PSD matrix per event plus a
single transfer function for all
events. This makes the overall
approach extremely easy to apply
and very elegant.
QUALITATIVE
(Understanding Structural
Behaviour)Hard to understand structural
behaviour via time history responses.Results often provide insight into
structural behaviour.
Computational efficiency enables
Monte Carlo “what if” types of
analysis.
Damage sensitivity (for test
profiling) is also available.Time Domain Frequency Domain&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks346
Main Index
In all cases the sample values calculated are normalized by the full sample result. Then, for example with
fatigue damage, values above 1.0 represent an over estimate of the damage and values less than 1.0 represent
an underestimate. Careful inspection of the results shows that the frequency domain approach is no worse
than the time domain result in terms of scatter. In fact, in both cases the sample estimate is just that, an
estimate of the true long term value and there is just as much likelihood of a over or under estimate of that
population value with the time domain approach as there is with the frequency domain approach. This is an
important observation and confirms the validity of the frequency domain approach.
Figure 12-41  Frequency domain (left) and Time Domain (right) estimate of RMS for different sample lengths
Figure 12-42  Frequency domain (left) &amp;amp; Time Domain (right) estimate of expected Peak rate (E[P]) for different
sample lengths&lt;/p&gt;
&lt;p&gt;347 CHAPTER 12
Validation versus Time Domain
Main Index
Figure 12-43  Frequency domain (left) &amp;amp; Time Domain (right) estimate of fatigue damage using Rainflow
ranges for different sample lengths
Patran Setup
This section explains how to run the example in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Run the Demo
The problem in this Chapter is large and complex in comparison to previous Chapters. Rather than
explain how to set up and run the job, it is suggested that you start Patran and open a new Patran
database or any existing database. Then go to the Analysis  application (or tab) to run the Demo
(Action =Run Demo ). Click on Select Demo  and under the What’s New  category (for Version 2017)
or the Fatigue (Nastran Embedded)  category select the SOL 111 demo of the Truck Cab. Then click
the Apply  button to run the demo. If the Method  is Full Run , then the Nastran analysis of each model
will be run (SOLs 101, 112, &amp;amp; 111). If you just want the input decks imported and created anew,
without analysis, set the Method  to Analysis Deck .
Step 2: Check the Model
Once the demo is run, you can inspect the model as needed to see how it is set up. There are three
databases created, one for the SOL 101 job, one for the SOL 112 job and one for the SOL 111 job.
Step 3: Check the Fatigue Setup.
Remember that four (4) things are required for a fatigue analysis to proceed:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup348
Main Index
•Fatigue Material Properties  - inspect those under the Material  application.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P19</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_019/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_019/</guid>
      <description>
        
        
        &lt;p&gt;349 CHAPTER 12
Validation versus Time Domain
Main Index
•Fatigue Parameters  - inspect those under the Analysis  application under the Solution
Parameters&amp;hellip;  form&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup350
Main Index
•Fatigue Output Request  - inspect that under the Subcases  form in the Analysis  application by
selecting the first Subcase in the analysis (or the Subcase that has the output request). Remember
that only one of the selected Subcases needs to have the FATIGUE output request. If they all have
it, that is OK too! But at least one must have it.&lt;/p&gt;
&lt;p&gt;351 CHAPTER 12
Validation versus Time Domain
Main Index
•Fatigue Loading  - inspect this under the Subcase Select  form in the Analysis  application. A Load
Sequence must be defined with Events associated to it. Note that the PSDs and cross PSDs for
the 10 Events in this model are all defined as non-spatial fields, the cross PSDs being complex
non-spatial fields with frequency as the independent variable. These can be inspected and plotted
under the Fields  application.
Note that
Step 4: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup352
Main Index
Step 5: View the Results1
When the job is complete, attach the MSC Nastran database to Patran to view the results. Still in the
Analysis  application, set Action =Access Results , Object =Attach MASTER , and Method =Result Entities .
Select the cab_sol111.MASTER  file and press the Apply  button.
Go to the Results  application and view the results by selecting Log of Damage  or Log of Life  from the
Results Case that contains the sum of events. Note that to get a fringe plot over the entire model or
set of displayed elements, you must have run the analysis on those elements.So make sure the Output
Request  for FATIGUE references either All FEM  or selects a group containing the elements of
interest.
1Be aware that the results in the body of this Chapter may not compare identically to those from running
this Demo. The validation results were computed using CAEfatigue, which is the analysis engine for
Nastran’s embedded vibration fatigue analyzer. CAEfatigue is one of MSC’s partners. Results from
CAEfatigue and NEF are identical when all inputs are the same. Differences in parameters, material
properties, damping values, frequency content, and other things can influence the results dramatically if
not the same between time and frequency domain solutions.
A B
D&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 13: Time Signal Conversion to PSDs
13Time  Signal Conversion to
PSDs
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description354
Main Index
Problem Description
In the previous Chapter we ran a fatigue analysis on the truck cab using both the time domain and the
frequency domain techniques. The time signals used in the transient analysis (SOL 112) were converted to
input PSDs for input to the frequency domain analysis (SOL 111). T o do this, the signals must be run
through a Fast Fourier T ransformation (FFT) to produce the direct PSDs and cross correlations (CPSDs).
The PSDs produced were used directly in the frequency domain fatigue analysis. A utility called TIM2PSD  is
provided so that the time signals can be used directly as the input without first doing the FFT operation
manually. TIM2PSD  does this automatically and internally produces the RANDPS /TABRND1  entries necessary. .
Figure 13-1  The Truck Cab model and applied load inputs - conversion to PSDs
Objective
To use time signals directly from a CSV file in a random vibration fatigue analysis.
To use time signals directly from a RPC file in a random vibration fatigue analysis.&lt;/p&gt;
&lt;p&gt;355 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 13-1  Files Required
Files Required Description
cab.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
cab_sol101.dat Knuckle model static analysis to produce static offset stresses. This must
be run before the other input files below.
cab_sol111_rpc.dat Knuckle model using time signals in external channel data file of
format/type RCP ( .rsp  file extensions).
cab_sol111_csv.dat Knuckle model using time signals in external channel data file of type
CSV (comma separated column format).
CAB_event1.csv
CAB_event2.csv
CAB_event3.csv
CAB_event4.csv
CAB_event5.csv
CAB_event6.csv
CAB_event7.csv
CAB_event8.csv
CAB_event9.csv
CAB_event10.csvComma separated files containing the time history signals for each
event in the form of column channel data. These files are ASCII and
can be easily read by MS Excel.
CAB_event1.rsp
CAB_event2.rsp
CAB_event3.rsp
CAB_event4.rsp
CAB_event5.rsp
CAB_event6.rsp
CAB_event7.rsp
CAB_event8.rsp
CAB_event9.rsp
CAB_event10.rspBinary formatted RPC3 channel data files containing the time history
signals for each event.
1_40k_yield.txt
2_50k_yield.txt
3_A6_cab.txt
4_A6_doors.txt
5_glass_windshield.txtInclude files containing element SET definitions, if required to do
analysis over entire model parts rather than just the critical elements.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup356
Main Index
Fatigue Setup
The objective of this Example is to convert the time history loading directly into PSD matrix form as part of
the analysis. This is done with the time histories in two different file formats:
RPC (RSP extension) binary files
CSV (comma separated) ASCII files
The RPC files are remote procedure control files that are produced by measurements from test rigs or by
flexible body products such as ADAMS that produce/simulate loads. These loads are then used directly as
input loading to FE analysis.
TIM2PSD Input
The setup for an MSC Nastran SOL 111 frequency response analysis with random vibration fatigue request
is shown below for the truck cab model. Only the loading entries differ from the previous example, so only
they are shown.
FTGSEQ  777     0               SECS    1.0
101     152.0   102     42.0    103     18.0    104     18.0
105     480.0   106     1682.0  107     378.0   108     18.0
109     18.0    110     68.0
$
FTGEVNT 101     801     701
FTGEVNT 102     802     701
FTGEVNT 103     803     701
FTGEVNT 104     804     701
FTGEVNT 105     805     701
FTGEVNT 106     806     701
FTGEVNT 107     807     701
FTGEVNT 108     808     701
FTGEVNT 109     809     701
FTGEVNT 110     810     701
$
FTGLOAD 801     80001   -1                              PSD
FTGLOAD 802     80002   -1                              PSD
FTGLOAD 803     80003   -1                              PSD
FTGLOAD 804     80004   -1                              PSD
FTGLOAD 805     80005   -1                              PSD
FTGLOAD 806     80006   -1                              PSD
FTGLOAD 807     80007   -1                              PSD
FTGLOAD 808     80008   -1                              PSD
FTGLOAD 809     80009   -1                              PSD
FTGLOAD 810     80010   -1                              PSD
FTGLOAD 701     555     1                               STATIC
UDNAME  555
cab_static.op2
$
$ Processes 10 sets of PSD Matrices
TIM2PSD 777     512.0   HANNING RPC     YES     1
EVENT   80001                                    2.0     1.0
80002                                    2.0     1.0&lt;/p&gt;
&lt;p&gt;357 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
80003                                   1.0     0.5
80004                                   1.0     0.5
80005                                   2.0     1.0
80006                                   2.0     1.0
80007                                   2.0     1.0
80008                                   1.0     0.5
80009                                   1.0     0.5
80010                                   2.0     1.0
UDNAME  80001
CAB_event1.rsp
UDNAME  80002
CAB_event2.rsp
UDNAME  80003
CAB_event3.rsp
UDNAME  80004
CAB_event4.rsp
UDNAME  80005
CAB_event5.rsp
UDNAME  80006
CAB_event6.rsp
UDNAME  80007
CAB_event7.rsp
UDNAME  80008
CAB_event8.rsp
UDNAME  80009
CAB_event9.rsp
UDNAME  80010
CAB_event10.rsp
The above input uses RPC files as the time history channel data. If CSV files were used instead, the difference
in the input is only this line:
TIM2PSD 777     512.0   HANNING CSV     YES     1
and the UDNAME  entries would point to the CSV files like this:
UDNAME  80001
CAB_event1.csv
The following notes are made to explain the above input:
1.The FTGSEQ  entry serves the exact same function. It sets up the duty cycle load sequence by assembling
the events and assigning durations to each event.
2.The FTGEVNT  entries also do not change. For the truck cab example each event one has a random load
with a static offset defined.
3.The FTGLOAD  of type STATIC is unchanged from the previous example/Chapter of the truck cab and
provides for the static offset in each event.
The differences begin now with the FTGLOAD  entries of type PSD. When a TIM2PSD  entry is present by the
same ID as that called out by the FATIGUE  case control (and same as FTGSEQ  entry: 777) then this indicates
that FFT conversion of time signals is requested. Note the following for the FTGLOAD  entry of TYPE=PSD
with TIM2PSD  present:
1.The TID field now serves a dual purpose:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup358
Main Index
•First it points to a UDNAME  entry that contains the name of the external RPC or CSV file
containing the time signal channel data for the event
•Second it acts as the starting ID number for the internal RANDPS  entries that are to be created
2.The LCID field is set to -1 in our example. This means that the loading is to be fully correlated. Thus
both the direct and the cross PSDs are to be created. If LCID were set to -2, then fully un-correlated
loading is assumed and only the direct PSDs are produced.
The TIM2PSD  entry contains four (4) primary lines of input as follows:
1.Line 1 contains the FID ( 777), the sample rate ( 512.0 ), the window type ( HANNING ), the file format
(RPC or CSV), a flag to calculate and store mean signal data ( YES)1, and how many header lines to
skip if reading a CSV file.
2.Line 2, the EVENT line, is necessary and has continuation lines, one for each event. The event ID
that is entered is the same ID as the FTGLOAD  TID field and the UDNAME  ID. Two pieces of information
are necessary for the time signals in each event: the length of the window function and the overlap or
gap in time between windows.
3.Line 3, the DELETE line (not shown) is for deletion of various portions of the signal. If you wish to
remove a portion of the signals in this event simply supply the event ID (same as done for line 2) and
pairs of time values defining the sections of time signal to be removed. This may be necessary to
eliminate a spurious signal that makes the over all signal not random in nature - such as a pot hole.
4.Line 4, the MAP line (not shown) is for mapping each channel to a transfer function subcase. By
default there is a one-to-one correspondence between the MSC Nastran SUBCASEs and the channel
data in the RPC or CSV files. For example channels 1-12 correspond to SUBCASEs 1-12 (or the first
12 subcases correspond to the first 12 channels). But if there were an occasion where say, just one
channel (say 7) was being used than you would have to indicate on the MAP line that channel 7
corresponded to say, SUBCASE 2. The MAP must always use increasing SUBCASE numbers.
Note that the time signals (channels) of each event must have the same length signals. Different events can
be of different lengths, but each load within an event as stored in an RPC or CSV file must have the same
number of points. Thus the operations of TIM2PSD  are done on a per event basis only.
TIM2PSD Equivalent Entries
What are the equivalent input entries when using TIM2PSD ?
In our example we have 10 events. Each event has 12 loading input channels. The PSD loading for each event
is defined by a FTGLOAD  entry of TYPE=PSD (an event can only have one random load definition). The
FTGLOAD  TID field defines the SID of the RANDPS  entries to be internally created. So let us take a look at just
the first event.
1 At this time the signal means are only calculated and written to the external output file that
contains the generated RANDPS/TABRND1 entries. The signal means are not yet incorporated
automatically as static offset.&lt;/p&gt;
&lt;p&gt;359 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
The first event specifies that RANDPS  SID 80001 is to be used. This means that the following RANDPS  are
internally created for the direct PSD input. There are 12 channels of signal data, so there are 12 direct PSDs
generated, making up the diagonal of our PSD matrix.
RANDPS    80001      1       1        1       0   90001
RANDPS    80001      2       2        1       0   90024
RANDPS    80001      3       3        1       0   90045
&amp;hellip;
RANDPS    80001      12      12       1       0   90144
With 12 channels, this produces (122 - 12)/2 = 66 cross PSDs. Each cross PSD has a real and an imaginary
term making up the off-diagonal, upper triangular portion of our PSD matrix. These appear as:
$ channel 1 x all other channels
RANDPS    80001      1       2        1       0   90002
RANDPS    80001      1       2        0       1   90003
RANDPS    80001      1       3        1       0   90004
RANDPS    80001      1       3        0       1   90005
RANDPS    80001      1       4        1       0   90006
RANDPS    80001      1       4        0       1   90007
&amp;hellip;
RANDPS    80001      1       12       1       0   90022
RANDPS    80001      1       12       0       1   90023
$ channel 2 x all other channels
RANDPS    80001      2       3        1       0   90025
RANDPS    80001      2       3        0       1   90026
RANDPS    80001      2       4        1       0   90027
RANDPS    80001      2       4        0       1   90028
RANDPS    80001      2       5        1       0   90029
RANDPS    80001      2       5        0       1   90030
&amp;hellip;
RANDPS    80001      2       12       1       0   90043
RANDPS    80001      2       12       0       1   90044
$ channel 3 x all other channels
RANDPS    80001      3       4        1       0   90046
RANDPS    80001      3       4        0       1   90047
RANDPS    80001      3       5        1       0   90048
RANDPS    80001      3       5        0       1   90049
RANDPS    80001      3       6        1       0   90050
RANDPS    80001      3       6        0       1   90051
&amp;hellip;
RANDPS    80001      3       12       1       0   90062
RANDPS    80001      3       12       0       1   90063
&amp;hellip; &lt;!-- raw HTML omitted --&gt;
This gives a total of 144 generated RANDPS entries, 12 PSDs and 66 CPSDs (real and imaginary) defined
with internally generated TABRND1  entries (90001 -90144 ) containing the actual generated PSD data. The
process is repeated for the other nine (9) events, thus producing a total of 10x144=1440 RANDPS /TABRND1&lt;br&gt;
entry pairs that make up our equivalent time domain loading in the frequency domain.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks360
Main Index
Concluding Remarks
Time signals can be used directly in a frequency response analysis (SOL 111) with random vibration fatigue
by using the TIM2PSD  entry. The below schematic is an overview of the process:
Figure 13-2  Overview of FFT process TIM2PSD  to produce equivalent PSDs from time signal channel data
Process Overview
The presence of a TIM2PSD  entry and a FTGSEQ  entry (of the same FID) triggers this feature in SOL 108 and
111.
The loading sequence entry ( FTGSEQ ) points to each individual event ( FTGEVNT ) entry. The number of FTGEVNT&lt;br&gt;
entries referenced on the FTGSEQ  is the number of events for the load sequence. Only an event that contains
a reference to a FTGLOAD  of TYPE=PSD is considered in this process. Thus pure deterministic loading or
sine/narrow band sweep events are not affected by this process.
Each FTGLOAD  of TYPE=PSD points to the RANDPS  entries of the designated SID in a normal (non- TIM2PSD )
process using the LCID field. However these RANDPS  entries are not defined in the deck when TIM2PSD  is used.
The TIM2PSD  operation automatically creates them and their corresponding TABRND1  entries. So instead, the
TID field of the FTGLOAD  provides the SID of the RANDPS  entries that are to be internally generated. It also is
used to point to the external files (CSV or RPS) containing the channel data by referencing a UDNAME  entry
of the same TID.
The IDs of the TABRND1  entries are also automatically created in this process.&lt;/p&gt;
&lt;p&gt;361 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
The J,K entries (SUBCASE IDs) on the RANDPS  entries are determined by the &amp;ldquo;MAP&amp;rdquo; line on the TIM2PSD&lt;br&gt;
entry. For example if SUBCASE 10 and 20 are specified as the 1st and 2nd LCIDs on the MAP line and
CHANs are 15 and 16, respectively, in the &amp;ldquo;MAP&amp;rdquo;, then four (4) RANDPS  entries are created corresponding
to an upper diagonal matrix.
The first two RANDPS  entries are for J=K=10 and J=K=20 for the diagonal (direct PSD) terms of the
RANDPS  entries and the time histories in CHAN 15 &amp;amp; 16 of the referenced RPC or CVS file on the
FTGLOAD  entry are converted to direct PSDs and placed in a TABRND1  entries referenced by these
RANDPS  entries.
The other two are the real and imaginary cross-correlation PSDs. For the off diagonal terms, two
more RANDPS  are created where, J,K=10,20. X=1.0, Y=0.0 for the first representing the real part of
the cross PSD. X=0.0, Y=1.0 for the second representing the imaginary part of the cross PSD.
Likewise the cross PSDs computed by the FFT process are written to TABRND1  entries and referenced
by the RANDPS  entries representing these cross terms.
Note the following:
1.TIM2PSD  must be called out by the FATIGUE  case control in order to be active.
2.The channel data can be in RPC or CSV format and each contains all the time signal loads for a
particular event. Each file is referenced by a UDNAME  entry, which is referenced by the FTGLOAD  TID
field. All channel files must
•have the same file format (RPC or CSV)
•use the same window function and sample rate
•the channels in the same order
3.All the channels within an event file must have the same number of data points. Each event can have
different length however.
4.The TIM2PSD  operation not only internally creates the RANDPS /TABRND1  entry pairs, but also puts them
out to an output file that can be used directly as an include file for subsequent runs without TIM2PSD .
5.The process also determines the overall mean values of the time histories for each event. The means
are normally thrown away in conversion to PSDs and cross-PSDs. Currently the mean effect is not
automatically taken into account in the subsequent fatigue analysis.
6.The TID on the FTGLOAD  entry serves a dual purpose in referencing the UDNAME  entry that contains
the name of the external channel data file for the event, but also defines the SID of the internally
generated RANDPS  entries.
7.The EVENT line on the TIM2PSD  is required to define the length of the window function in time and
gap or overlap in time between windows, if any. The event ID (EVNTID) points to the FTGLOAD&lt;br&gt;
associate to the event being processed. There must be one line on the EVENT line for each event.
8.The MAP line is optional if all TF SUBCASEs correspond one-to-one to the channel data in the
external CSV or RCP files, otherwise they must be mapped (in ascending order of SUBCASE
number).
9.The DELETE line on the TIM2PSD is optional and is used to remove sections of the signal that
should not be considered in the FFT process to create PSDs. A graphical example of using the
DELETE line is given below.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks362
Main Index
10. A couple examples of windowing (Hanning and no windowing) is also graphically illustrated below.
Figure 13-3  Example of deleting sections of the time signal showing resultant signal
Figure 13-4  Example of window length T and positive  (overlap)&lt;/p&gt;
&lt;p&gt;363 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
Figure 13-5  Example window length T and negative  (gap) and WINDOW=NONE (typical SAE575 example)
Patran Setup
This section explains how to run the example in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Run the Demo
The problems in this Chapter is large and complex in comparison to previous Chapters. Rather than
explain how to set up and run the job, it is suggested that you start Patran and open a new Patran
database or any existing database. Then go to the Analysis  application (or tab) to run the Demo
(Action =Run Demo ). Click on Select Demo  and under the What’s New  category (for Version 2017)
or the Fatigue (Nastran Embedded)  category select the SOL 111 demo of the Time to PSD Conversion .
Then click the Apply  button to run the demo. If the Method  is Full Run , then the Nastran analysis
of each model will be run. If you just want the input decks imported and created anew, without
analysis, set the Method  to Analysis Deck .
Step 2: Check the Model
Once the demo is run, you can inspect the model as needed to see how it is set up. There are two
databases created, one for the SOL 101 static offset job, and one for the two (2) SOL 111 jobs using
CSV and RPC files.
Step 3: Check the Fatigue Setup.
Remember that four (4) things are required for a fatigue analysis to proceed:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup364
Main Index
•Fatigue Material Properties  - inspect those under the Material  application.&lt;/p&gt;
&lt;p&gt;365 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
•Fatigue Parameters  - inspect those under the Analysis  application under the Solution
Parameters&amp;hellip;  form&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup366
Main Index
•Fatigue Output Request  - inspect that under the Subcases  form in the Analysis  application by
selecting the first Subcase in the analysis (or the Subcase that has the output request). Remember
that only one of the selected Subcases needs to have the FATIGUE output request. If they all have
it, that is OK too! But at least one must have it.&lt;/p&gt;
&lt;p&gt;367 CHAPTER 13
Time Signal Conversion to PSDs
Main Index
•Fatigue Loading  - inspect this under the Subcase Select  form in the Analysis  application. A Load
Sequence must be defined with Events associated to it. Only Time-&amp;gt;PSD and Static Offset&lt;br&gt;
loading is defined for the two jobs in this example. The difference between each job is simply that
2nd column of the spreadsheets selects CSV versus RPC files. Otherwise the input is identical.
Each Event selects a separate CSV or RPC file. The same CSV or RPC file must be defined for
each TF Subcase of any particular Event. The interface will only allow you to set on CSV or RPC
file. That is why in the 2nd column it list the same file for all rows. But each layer (Event) of the
spreadsheets selects the appropriate CSV or RPC file containing the time history loads for that
Event.
Note that a Static Offset  is also applied for each Event. Also both Time-&amp;gt; PSD and PSD Input are
not both allowed in the same analysis. Time-&amp;gt;PSD will override any PSD Input loads should they
also be defined. And also any Deterministic or Sine Sweep loads are ignored, if defined, for any multi-
PSD loading problems.
Step 4: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.
Step 5: View the Results
Results are similar to the previous Chapter where the Truck Cab model was introduced..&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup368
Main Index&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P2</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_002/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_002/</guid>
      <description>
        
        
        &lt;p&gt;9 CHAPTER 1
Fundamentals
Main Index
Figure 1-8  Power Spectral Density Function
Today, logic would suggest that we use the Amplitude Spectral Density (ASD) function; after all, this is more
intuitive than the Power Spectral Density (PSD), and we no longer rely on analog computers. However,
many design standards refer to the PSD and for this reason it is still the preferred option.
PSD
frequencyWe cannot determine what the
phase relationship between the
wave any more.PSD1
2T&amp;mdash;&amp;mdash;-FFT2=The area under each spike
represents the Mean
Square of the sine wave at
that frequency.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
What is a PSD?10
Main Index
Time S eries from a PSD
Many design standards give data on random processes in the form of PSDs. This is particularly true of
environmental conditions such as wave elevations, wind speeds, and earthquake accelerations. Using
vibration fatigue analysis, we are able to take these spectra and calculate the anticipated fatigue life of a
structure. However, if a time domain analysis were adopted, we would have to regenerate a statistically similar
time history from the PSD data. How this can be achieved is helpful in understanding frequency domain
theory.
Figure 1-9  Frequency to Time Domain Conversion
The PSD contains information on the amplitude and frequency content of the sinusoidal waves, but does not
show the phase relationships. To regenerate a time history from a PSD we must therefore reintroduce the
random phase angles before applying the Inverse Fourier T ransform. The time history regenerated will not
be exactly the same as the original but will be statistically equivalent.&lt;/p&gt;
&lt;p&gt;11 CHAPTER 1
Fundamentals
Main Index
Signal Chara cterization
Now that we have seen what a PSD is, it is useful to discuss what information can be seen from them. Below
are four types of time histories and their corresponding PSD representations.
A sinusoidal time history appears as a single spike on the PSD plot. The spike is centered at the frequency of
the sine wave and the area of the spike represents the mean square amplitude of the wave. In theory this spike
should be infinitely tall and infinitely narrow for a pure sine wave. However, because of the numerical
analysis, the spike will have finite width and will therefore have finite height. Remember, with PSD plots we
are interested in the area under the graph and not the height of the graph.
A narrow band  process is one which is built up of sine waves covering only a narrow range of frequencies. A
narrow band process is typically recognized in the time history by the amplitude modulation, often referred
to as a beat envelope.
Figure 1-10  Representative time signals as PSDs
Wide band  processes are built up of sine waves over a broad range of frequencies. These are shown in the
PSD plot as either a number of separate spikes, as illustrated, or one wide peak covering many frequencies.
This type of process is usually more difficult to identify from the time history but is typically characterized
by its positive valleys and negative peaks.
White noise is a special time history which is built up of sine waves over the whole frequency range and
therefore appears as a flat line in the PSD plot.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Signal Parameters12
Main Index
Signal Param eters
The above discussion and figures showed how easy it is to characterize a process by observing the PSD. It is
almost impossible to do the same by just observing the time history. However, we can define a mathematical
parameter  to indicate how wide the banding of a process is; this is defined such that =0.0 indicates white
noise and  = 1.0 indicates a a pure sine wave.
Zeros, Peaks, &amp;amp; Irregularity Factor in Time Domain
The parameter  is called the Irregularity Factor  and is determined by the ratio  = E[0]/E[P] where E[0] is
the expected number of upward mean crossings (when the mean is zero it is referred to as upward zero
crossings ) and E[P] is the expected number of peaks. This expression implies that for a sine wave there is a
peak following every upward crossing of the mean.
Random stress or strain time histories can only properly be described using statistical parameters. This is
because any sample time history can only be regarded as one sample from an infinite number of possible
samples which could occur for the random process. Each time sample will be different. However, as long as
the samples are reasonably long then the statistics of each sample should be constant.
Figure 1-11  Zeros, Peaks, Irregularity factor of a time signal
T wo of the most important statistical parameters are the number of so-called zero crossings and peaks in the
signal. The above figure shows a one second piece cut out from a typical wide band signal. E[0] represents
the number of (upward) zero crossings, or mean level crossings for a signal with a non-zero mean. E[P]
represents the number of peaks in the same sample. These are both specified for a typical one second sample.
The irregularity factor is defined as the number of zeros divided by the number of peaks. Thus, by knowing
the irregularity factor, you know something about the signal.
Moment s of a PSD
Since we are concerned with structural systems analyzed in the frequency domain we require a method for
extracting the Probability Density Function (PDF) of rainflow (stress) ranges directly from the PSD of stress.
Number of Upward Zero Crossings:
Number of Peaks:
Irregularity Factor:
E0
EP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;3
6&amp;mdash; = =EP 6=E0 3=&lt;/p&gt;
&lt;p&gt;13 CHAPTER 1
Fundamentals
Main Index
In other words, we require the rainflow cycle count, just as we do from a time signal; except now, instead of
an exact count of cycles, a statistical representation of the cycle count is obtained - the PDF of rainflow
ranges. More on rainflow cycle counting is explained in the subsequent section. Suffice it to say for now that
we need the same information from the PSD as we would get from a time domain signal of stress response
in order to determine fatigue life.
The characteristics of a PSD that are used to obtain this information are the nth moments of the PSD
function. The relevant spectral moments  are easily computed from a one sided PSD function G(f) in units
of Hertz using the following expression.
Figure 1-12  Moment calculations from a PSD
The nth moment of area of the PSD (mn) is calculated by dividing the curve into small stripes as shown above.
The nth moment of area of the strip is given by the area of the strip multiplied by the frequency arm raised
to the power n. The nth moment of area of the PSD is then found by summing the moments of all the strips.
In theory all possible moments are required to fully characterize the original process. However, in practice we
find that m0, m1, m2, and m4 are sufficient to compute all the information required for the subsequent
fatigue analysis.
mnfnGffd 
0
fnGff= =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Signal Parameters14
Main Index
Zeros, Peaks &amp;amp; Irreg ularity Factor in Frequency Domain
The first serious effort at providing a solution for estimating fatigue damage from PSDs was undertaken by
S.O. Rice in 1954. He developed the very important relationships for the number of upward mean crossings
per second (E[0]) and peaks per second (E[P]) in a random signal expressed solely in terms of their spectral
moments, mn. The irregularity factor  may therefore be evaluated from these parameters as  = E[0]/E[P] as
mentioned previously.
Figure 1-13  Zeros, Peaks, Irregularity factor of a PSD
E0M2
M0&amp;mdash;&amp;mdash;&amp;ndash; =EPM4
M2&amp;mdash;&amp;mdash;&amp;ndash; =
E0
EP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;M22
M0M4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = =&lt;/p&gt;
&lt;p&gt;15 CHAPTER 1
Fundamentals
Main Index
Probability Density Fu nctions (PDFs)
Two important Probability Density Functions can be computed from a stress or strain time history. These
are the amplitude and peak PDFs as shown. The best way to visualize these parameters is to draw tram lines
horizontally through the time history and then count either the number of times the signal crosses the tram
lines or the number of times a peak occurs in between the tram lines. The complete PDFs are obtained by
repeating this process for all horizontal levels in the signal. A PDF can therefore be visualized as a mechanism
for defining the probability of a peak occurring in a random time signal. For most engineering purposes the
amplitude PDF will be approximately Gaussian (bell shaped). Furthermore, for a narrow band process the
peak PDF will be approximately equivalent to the Rayleigh PDF .
Figure 1-14  PDF of Peak Position and Amplitude
What is a Transfer Fu nction?
We have established that data may be transferred back and forth between the time and frequency domains
using the Fourier and Inverse Fourier T ransforms, respectively. It is now necessary to consider how we can
take loads expressed in the frequency domain and calculate a structure’s response to these.
In the time domain the structural model can be derived using a FE representation and a transient solution
approach. The output from this model is expressed as a time history of stress, strain, or structural
displacement at some particular location in the structure. For this type of analysis the response at each time
step in every loading history has to be obtained taking account of all previous loading steps. This means that,
for instance, two response time histories take twice as long to compute as one time history.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
What is a Transfer Function?16
Main Index
In the frequency domain the structure is modeled by a linear T ransfer Function  relating input loads of
accelerations, etc., to structural stresses, strains, or displacements at a particular location. The output from
the model is expressed as a response PSD. Refer to figure Figure 1-4.
Most of the computational time is spent in solving the structural model. In the time domain, the structural
model is solved for each time history of input, hence two load cases would take twice as long to calculate as
one. In the frequency domain the linear transfer function is only calculated once, hence two load cases take
little more time to analyze that one, and each additional load case can be done virtually instantandously.The
structural calculation is effectively separated form the response analysis when working in the frequency
domain.
If a sinusoidally varying force is applied to a linear structure then the structure will respond with a sinusoidally
varying displacement of the same frequency as the applied load. For a linear structure we can also expect that
an increase in the amplitude of the forcing function will cause a proportional increase in the structural
displacement. This leads to the concept of a response parameter relating the amplitude of displacement to the
amplitude of the forcing function.
The amplitude of the structural displacement varies with respect to the frequency of the applied load and so
the response parameters are frequency dependent. The T ransfer Function (TF) is defined as a plot of the
response parameters with respect to frequency as shown above. We can therefore use the TF to predict the
amplitude displacement of the structure by multiplying the amplitude of the load, F , by the T ransfer
Function, T , for a particular frequency of applied load.
The TF can also be used in the frequency domain. For example, if we multiply the Amplitude Spectrum of
force by the T ransfer Function, the results will give the Amplitude Spectrum of the displacement.
The TF can be calculated using a number of methods including computer generated models (FEA analysis)
and using data acquired from tests. An intuitive way to calculate the TF would be to apply a series of sine
waves to a test rig or an FEA model and then find the amplitude of the structural response for each frequency.
The structural response does not have to be in the form of displacement; it could be in the form of strain or
stress provided that the relationships are linear. Similarly, the input may be wind speed, acceleration, wave
height, etc. and need not be force, but again the relationships must be linear.&lt;/p&gt;
&lt;p&gt;17 CHAPTER 1
Fundamentals
Main Index
Figure 1-15  Transfer Function relating input to output
To get the TF into the correct units for a PSD analysis the response parameter (per unit input loading) has
to be squared. This is because the units of PSDs are units of interest squared per Hertz. If one takes the
example of an offshore platform, the input loading is typically expressed as a sea state spectrum. The process
which this PSD defines is the sea surface elevation profile. In the time domain this is the sea surface elevation
variation with time. The units of the input PSD are therefore given as m2/Hz (in SI units). Since the response
parameter of interest is stress (or strain) the output PSD is usually expressed as MPa2/Hz. The units of the
TF are therefore given as (MPa/Hz)2.
Life Estim ation Process
Time D omain Process
The starting point for any fatigue analysis is the response of the structure or component, which is usually
expressed as a stress or strain time history in the time domain. If the response time history was made up of
constant amplitude stress or strain cycles then the fatigue design could be accomplished by referring to a
typical S -N diagram. However, because real signals rarely conform to this ideal constant amplitude situation,
an empirical approach is used for calculating the damage caused by stress signals of variable amplitude.
Despite its limitations, the Palgren-Miner  rule for damage summation is generally used for this purpose. This
linear relationship assumes that the damage caused by parts of a stress signal with a particular range can be
Sinusoidal force with amplitude A
and frequency Sinusoidal displacement with
amplitude X&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process18
Main Index
calculated and accumulated (summed) to determine total damage separately from that caused by other
amplitudes. A ratio is calculated for each stress range, equal to the number of actual cycles at a particular stress
range, n, divided by the allowable number of cycles to failure, N, at that stress (obtained from the S -N curve).
Failure is assumed to occur when the sum of these ratios, for all stress ranges equals one (1.0).
Figure 1-16  Time domain life estimation process&lt;/p&gt;
&lt;p&gt;19 CHAPTER 1
Fundamentals
Main Index
Rainflow Cyc le Counting
If the response time history is irregular with time, as shown above, then rainflow cycle counting is widely
used to decompose the irregular time history into equivalent sets of block loading. The number of cycles in
each block are usually recorded in a stress range histogram. This can then be used in the Palmgren-Miner
damage summation calculation. Matsuishi and Endo first introduced the concept of rainflow ranges to the
scientific community over thirty years ago. The concept of rainflow is derived by standing the time history
on its end and pretending that rain drops are falling of the end of each peak, like a pagoda roof. Thus the
name “rainflow” to count stress range cycles.
It is interesting, and useful, to note that there is a direct connection between rainflow stress range cycles
counted and the closed stress-strain hysteresis loops that can be identified if the local stress and strain are
monitored as a function of time. As shown below, for every closed hysteresis loop, such as B -C, E -F , and G -H
there is a separately identifiable rainflow cycle. And when these are counted and extracted there remains one
final loop, which is made from the largest cycle from the maximum and minimum peaks A -D.
Figure 1-17  Rainflow counting correlation to stress-strain hysteresis loops&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process20
Main Index
S-N Relatio nship
A traditional S -N curve as shown below is used to model the material properties of components being
analyzed. This simply shows that, under constant amplitude cyclic loading, a linear relationship exists
between cycles to failure, N, and applied stress range, S, when plotted on a log -log graph. There are two
alterna tive ways of defining this relationship, as shown below.
Figure 1-18  The S -N relationship
Similarly an -N relationship can be employed using a strain -life curve and techniques to account for
plasticity. Please see the time-domain MSC Nastran Embedded Fatigue User’s Guide  for in-depth descriptions of the
actual fatigue calculation methods.&lt;/p&gt;
&lt;p&gt;21 CHAPTER 1
Fundamentals
Main Index
More on P DFs
The most convenient way, mathematically, of storing stress range histogram information is in the form of a
probability density function (PDF) of stress ranges. A typical representation of this function is shown below.
It is very easy to transform from a stress range histogram to a PDF , or back. The bin widths used, and the
total number of cycles recorded in the histogram are the only additional pieces of information required.
Figure 1-19  PDF of stress ranges
To get PDF from rainflow
histogram, divide each bin
height by
St x dS
St = total # of cycles
dS = bin width
The probability of the stress range occurring between
Si - dS/2  and Si + dS/2  is P(Si) dS&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process22
Main Index
Damage for Random Res ponse Histories
Once the stress range histogram has been converted into a stress range PD then there is an elegant and
efficient equation to describe the expected fatigue damage caused by this loading history. The probability
density function, P(S), simply represents the characteristics of the loading. In order to compute fatigue
damage over the lifetime of the structure (T) the form of material (S -N) data must also be defined using the
parameters k and m. In addition the total number of cycles in time (T) must be determined from the number
of peaks per second E[P]. If the damage caused in the time T is greater than 1.0 then the structure is assumed
to have failed. or alternatively the fatigue life can be obtained by setting T=1.0 and then finding the fatigue
life in seconds from the equation.
Frequency Dom ain Process
This section describes a variety of approaches for computing fatigue life, or damage, from a PSD of stress (or
strain). The techniques fall into two broad categories: those that estimate fatigue life directly and those which
compute rainflow cycle PDFs as an intermediate stage. These techniques are the result of a considerable
amount of research around the world. More relevant work has taken place over the last 30 years, firstly at
Warwick University under the direction of Dr. Frank Sherratt, then at Sheffield University and later at
University College London under the direction of Dr. NWM Bishop. As a result of this work a number of
new techniques have been developed. These techniques are now available embedded inside of MSC Nastran.
General Fatigue Damage Equation
This is an identical equation to that shown above, indicating the equivalence between the time domain and
frequency domain approaches. In the frequency domain, however, P(S) is obtained with the appropriate
vibration fatigue modeler instead of with rainflow cycle counting. Information in the right hand side of the
equation is therefore required from a time history or a PSD.Fatigue Damage from Random Response Histories
DEPT
K&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-SmPSSd=
P(S) is therefore the all important outputNSiK
Sm&amp;mdash;&amp;mdash;- =niPSdsSt =Damage ratio then becomes
Dni
NSi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;St
K&amp;mdash;-SmPSSd= = St = total number of cycles in required time = E[P]T
DEPT
K&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-SmPSSd=&lt;/p&gt;
&lt;p&gt;23 CHAPTER 1
Fundamentals
Main Index
Frequency vs Time Domain Models
A earlier figure highlighted the overall process for fatigue life estimation in the time domain. The parallel
approach in the frequency domain is shown here. If we assume that the structural model shown is now an
FEA model, this model would be identical for both the time domain and the frequency domain approaches.
Figure 1-20  Frequency vs time domain approached to fatigue life estimation
To obtain a time history of stress or strain response, either a steady state or transient analysis would be
required. For the random response history indicated this would obviously be a transient analysis. A fatigue
analysis is the time domain would then be as described earlier. In the frequency domain a TF would first be
computed for the structural model. This is completely independent of the input loading and is a fundamental
characteristic of the system, or model. The PSD response caused by any PSD of input loading is then
obtained by multiplying the TF by the input loading PSD. Further response PSDs caused by additional
PSDs of input loading can then be calculated with a trivial amount of computing time. An essential
requirement of a structural analysis in the frequency domain is that it results in a PSD which is equivalent to
the time history obtained using the transient approach. The rest of the design process is then concerned with
using the vibration fatigue tools to compute fatigue life directly from these PSDs of stress. These tools either
estimate rainflow histograms (or PDFs), or fatigue life directly. These are shown schematically in the dashed
box in the figure above under the heading fatigue modeler. This is intended to show that the time and
frequency domain processes are actually very similar. The only difference being the structural analysis
approach used (time or frequency domain) and the fact that a fatigue modeler is required to transform from
a PSD of stress to the rainflow cycle histogram. In this context the vibration fatigue modeler can be envisage
as just another form of rainflow cycle counting.&lt;/p&gt;
&lt;h1&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process24
Main Index
Narrow Ba nd Solution
J.S. Bendat (1964) developed the theoretical basis for the so called Narrow Band solution. This expression is
defined solely in terms of the spectral moment m0. However, the fact that this solution was suitable only for
a specific class of response conditions was an unhelpful limitation for the practical engineer.
This was the first frequency domain method for predicting fatigue damage from PSDs and it assumes that
the PDF of peaks is equal to the PDF of stress amplitudes. The Narrow Band solution was then obtained by
substituting the Rayleigh PDF of peaks with the PDF of stress ranges.
Figure 1-21  The Narrow Band solution
The problem with this solution is that by using the Rayleigh PDF , positive troughs and negative peaks are
ignored and all positive peaks are matched with corresponding troughs of similar magnitude regardless of
whether they ar actually form stress cycles. For wide band response data the method therefore overestimates
the probability of large stress ranges and so any damage calculated tends to be conservative. This is illustrated
below.
Figure 1-22  Why Narrow Band solution is conservative for Wide Band signals
Narrow Band Signal PDF of Peaks PDF of Stress Amplitude
Full equation given by Reyleigh function for peaks:
PSNBfm0 = PSNBS
4m0&amp;mdash;&amp;mdash;&amp;mdash;-eS2
8m0&amp;mdash;&amp;mdash;&amp;mdash;-&lt;/h1&gt;&lt;p&gt;25 CHAPTER 1
Fundamentals
Main Index
The above shows two time histories. The narrow band history is made up by summing two independent sine
waves at relatively close frequencies, while the wide band history uses two sine waves with relatively widely
spaced frequencies.
Narrow banded time histories are characterized by the frequency modulation known as the beat effect. Wide
band processes are characterized by the presence of positive troughs and negative peaks and these are clearly
seen in the above illustration as a sinusoidal ripple superimposed on a larger, dominant sine wave.
As said before, the problem with the narrow band solution is that positive troughs and negative peaks are
ignored and all positive peaks are matched with corresponding troughs of similar magnitude regardless of
whether they actually form stress cycles. T o illustrate why narrow band solutions become conservative with
wide band histories, take every peak and trough and make a cycle with it by joining it to an imaginary trough
(peak) at an equal distance the other side of the mean level. This is shown in the bottom graph of the above
illustration. It is easy to see that the resultant stress signal contains far more high stress range cycles than were
present in the original signal. This is the reason why the Narrow Band solution is so conservative.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process26
Main Index
Dirlik Solut ion
All of the existing frequency domain solutions for fatigue analysis assume that the PDF of rainflow ranges is
the factor which controls fatigue life. Therefore, a better approach is to estimate this directly from the PSD
without using the Narrow Band approach as a starting point. Dirlik has produced an empirical, closed-form
expression for the PDF of rainflow ranges, which was obtained using extensive computer simulations to
model the signals using the Monte Carlo technique. Although apparently more complicated than some of the
alternative methods, it is still only a function of m0, m1, m2, and m4. This equation has been found to be a
widely applicable solution which consistently outperforms all of the other available
methods.
Other Soluti on Methods
Since Bendat first derived the Narrow Band solution, a number of methods have been derived in order to
improve on its short comings. T unna and Wirsching solutions are both effectively corrected versions of the
Narrow Band approach. T unna’s equation was developed with specific reference to the railway industry.
Wirsching’s technique was developed with reference to the offshore industry, although it has been found to
be applicable to a wider class of industrial problems.
The Chaudhury and Dover, and Hancock solutions were both developed for the offshore industry. They are
both in the form of an equivalent stress parameter. Neither tend to work well when used for other industrial
problems. Additionally, the omission of rainflow cycles from the solution output for both approaches is a
further limitation.Dirlik Solution: PSDfm0m1m2m4   =
PSDD1
Q&amp;mdash;&amp;mdash;-eZ–
Q&amp;mdash;&amp;mdash;D2Z
R2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;eZ2–
2R2&amp;mdash;&amp;mdash;&amp;mdash;
 D3ZeZ2–
2&amp;mdash;&amp;mdash;&amp;mdash;
 + +
2 m0&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
where
ZS
2 m0&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = xmm1
m0&amp;mdash;&amp;mdash;-=m2
m4&amp;mdash;&amp;mdash;- m2
m0M4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
D12xm2– 
12+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = D31D1– D2– = D21– D1D12+ –
1R–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
Q1.25D3– D2R –  
D1&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = RxmD12– –
1– D1– D12+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;h1&gt;27 CHAPTER 1
Fundamentals
Main Index
The Steinberg solution method is used by the electronics industry in the USA. It leads to a simple solution
which is described next.
MSC Nastran employs on the Dirlik (default), Narrow Band, and Steinberg techniques for fatigue damage
calculations.
Steinberg Solution
The approach of Steinberg leads to a very simple solution based on th eassumption that no stress cycles occur
with ranges greater than 6 * RMS values (RMS = root mean square). The distribution of stress ranges is then
arbitrarily specified to follow a Gaussian distribution. This defines the stress range cycles to occur with the
following probability.
Figure 1-23  The Steignberg solution
It is possible to define the maximum stress range used in the subsequent fatigue analysis. If this is set at 6 *
RMS, it is possible to see that large stress ranges are omitted using this approach. MSC Nastran will set this
value automatically, if not over ridden, to be somewhere around the 9 * RMS for stress range! Anything less
than this is likely to result in an under prediction of fatigue damage. Of course this is counter balanced by
the fact that medium range stress cycles of levels between 4 and 6 * RMS are over predicted. Nevertheless it
must be stated that this approach is very questionable. It is included only as a means of allowing designers in
the electronics industry, who are used to the Steinberg approach, a means of comparison.Steinberg Solution: Seq,steinfm0 =
Seq,stein0.6832 m0m0.2714 m0m0.0436 m0m +  +  1
m&amp;mdash;-&lt;/h1&gt;&lt;p&gt;68.3% time at 2 * RMS; 27.1% time at 4 * RMS; and 4.3% at 6 * RMS.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Life Estimation Process28
Main Index
Theoretical Validation of Dirlik Method (by Bishop)
Dirlik’s empirical formula for the PDF of rainflow ranges has been shown to be far superior, in terms of
accuracy, than the previously available correction factors. However, the need for certification of the technique
before its use meant that theoretical verification was required. This was achieved in 1988 when a theoretical
solution for predicting rainflow ranges from the moments of the PSD was produced. An essential
requirement of any theoretical solution was a statistical rather than a spatial description of rainflow ranges.
One crucial element of the new theoretical solution was a means of computing the joint probability of peaks
and troughs. That is, the probability of a trough occurring given that a peak has just occurred at a specified
level. For this, a solution by Kowalewski was used.
For more details on this and the discussion presented in this chapter thus far, please refer to References  (App. ).
More discussion on vibration fatigue theory can also be found in Vibration Fatigue Theory  (Ch. 9) in the MSC
Fatigue User’s Guide .&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P20</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_020/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_020/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
Glossary
Glossary&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 370
Main Index
Glossary
Amplitude
Amplitude is half of the range of a cycle. It is the maximum less the minimum divided by two.
August WoehlerNote:   The terms and definitions in this appendix may have multiple meanings to different people. The
definitions give here are as used in the context of this guide.&lt;/p&gt;
&lt;p&gt;371 APPENDIX
Glossary
Main Index
This German gentleman is probably the most famous of all fatigue researchers being the “Father of Fatigue”
as many know him. He is responsible for the invention of the “stress-life” or “S-N” method of fatigue life
prediction. See glossary term Stress-Life (S-N) .
Average Nodal Stress/Strain
See glossary term Stress/Strain (from FEA) .
-Solution
See glossary term Compliance Function .
Bastenaire
This is another representation of the S-N or stress-life curve.
Based upon the analysis of thousands of tests carried out on different steels, Bastenaire proposed in 1974 a
general formulation of the Stress Life curve:
The four parameters A, B, C and EB are derived from material raw data. If C &amp;gt; 1, the SN curve has an
inflexion point. If C = 0, the model simplifies to the Stromeyer formulation N = A/(S-E) (with a factor of e).
NA
SEB–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;SEB–
B&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;C
– exp =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 372
Main Index
The Bastenaire formula aims to correctly describe the whole endurance domain and the parameter calculation
takes into account all tested specimens, including the run-outs.
Bastenaire curves can also be modified to calculate lives at any certainty of survival, using a scatter factor and
the normal distribution law (the assumption is made that the stresses are normally distributed for a specified
life):
sd: scatter factor, estimation of the standard deviation on stress
m: number of standard deviations from the mean value, defines the required probability
and is given by the normal law tables.
Below are given example formulas for 84%, 50% and 16% certainty of survival:
Biaxial - Biaxiality Ratio
For surface resolved stresses the two major principal stresses lie in the plane of the surface with the third
principal stress being zero (normal to the surface). The principal stresses therefore, correspond to the X, Y,
and Z=0 component stresses. The ratio of the minimum in-plane stress divided by the maximum in-plane
stress defines the biaxiality ratio. This ratio can take on any number between -1 and 1. Zero indicates a
uniaxial state of stress with only one principal stress being non-zero.
Broad Band
See glossary term Wide Band .
Certainty of Survival
SE, the standard error of log10(N), is used to adjust the life/damage predicted to any given probability of
survival. Fatigue life always includes some scatter, and at any given level of stress range, the distribution of
fatigue lives is assumed to be a log-normal distribution, that is, a Normal or Gauss distribution of the
logarithm of the fatigue life.
The Gauss distribution defines the probability density function of a value x as:Np%A
SmsdEB– &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-S msdEB–  
B&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-  C
– exp =
N84%A
SsdEB– + &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;SsdEB– +
B&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;  C
– exp =
N50%A
SEB–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;SEB–
B&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;C
– exp =
N16%A
SsdEB– + &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;SsdEB– +
B&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;  C
– exp =&lt;/p&gt;
&lt;h1&gt;373 APPENDIX
Glossary
Main Index
and the cumulative probability of x as:
When applying this to fatigue calculations:
x is replaced by log10(N) where N is the fatigue life in cycles.
 is replaced by log10(N50) where N50 is the number of cycles at which 50% of tested specimens are
predicted to fail.
 is the standard error of log10(N) associated with the S-N curve (obtained from linear regression of
the original test data – SE in the material database).
In practice, if we want to make a life or damage prediction based upon a particular percentage probability of
survival, we use a lookup table to determine the deviation from the mean (50%) life in terms of the number
of standard errors.
Table 0-1  Lookup Table for Certainty of Survival
Number of SD’s from mean % Certainty of survival
-3.0 99.9
-2.5 99.4
-2.0 97.7
-1.5 93.0
-1.0 84.0
-0.5 69.0
0.0 50.0
0.5 31.0
1.0 16.0
1.5 6.7
2.0 2.3
2.5 0.6
3.0 0.1x1
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;ex–2
22&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- –&lt;/h1&gt;&lt;p&gt;x1
2&amp;mdash;1erfx–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;+  =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 374
Main Index
For example, if the standard error is 0.1,creating a calculation with 97.7% certainty of survival corresponds
to -2 standard errors. Therefore:&lt;/p&gt;
&lt;p&gt;In the case of a strain-life curve, if a design criterion of 97.7% is desired, z = -2, the strain-life curve is then
shifted downwards as follows:
Combination Method
See glossary terms Stress Combination  or Strain Combination .
Compliance Function
For crack growth analysis, a compliance function needs to be defined. This is also known as a -function or
a K-solution. It is defined based on the crack geometry and the dimension of the specimen. In physical terms
it is simply a measure of how the compliance (stiffness or flexibility) of the structure changes as the crack
propagates. These functions take on the form of look up tables in the software and can be defined in terms
of a polynomial equation or selected from a standard library set. They are then used in the crack growth rate
(Paris) equation to determine the stress intensity for any given stress cycle and, in turn, used to determine a
incremental crack size. log10N  10N500.2– log=
N N50100.2–=
af
E&amp;mdash;&amp;mdash;-2Nfb10zSEe f2Nfc+ 10zSEp =&lt;/p&gt;
&lt;p&gt;375 APPENDIX
Glossary
Main Index
Com ponent S-N
This is an S-N curve which is tied to a specific component geometry and relates nominal stress (S) to life.
The stress that is looked up on the S-N curve is not the actual stress at the failure location (in general) but
the stress as measured in a location away from the failure. This is usually because of the impracticality of
placing a strain gauge at the failure location. The S-N curve can only be used for components with the same
geometry (and material) as that used to create the S-N curve. The components themselves are used as test
specimens to create the S-N curves (such as a weld class). These types of S-N curves are not used to identify
the location of a possible fatigue failure since this location is already identified by the nature of the S-N curve.
Instead they are used to evaluate resistance to variation of the loading. These S-N curves are generally used
when the failure mechanism is not well modeled with material S-N curves or other methods. They represent
a more macro way of characterizing the failure mechanism by building into the curve all influences on the
fatigue life, i.e., plasticity, geometry, residual stress, etc. The challenge when using these S-N curves with FE
analysis is to know where the measured or reference location is, which is the stress that should be used to look
up damage using these S-N curves.
Crack Initiation
See glossary term Strain-Life (e-N) .
Crack Growth (Propagation)
See glossary term LEFM .da
dN&amp;mdash;&amp;mdash;- CKm  Paris Equation =
K Ya  Stress Intensity =
Compliance Function&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 376
Main Index
Critical Plane Analysis
The principal stress tensor axis can rotate from time step to time step when subject to multiple load inputs.
A fatigue analysis done at various angles is said to be a critical plane analysis. The plane that exhibits the most
damage is said to be the critical plane. These types of analyses are typically illustrated using a polar plot of
damage versus angle.
Cycles (cycle counting)
A stress or strain cycle is one event that may or may not cause damage. A single constant amplitude, fully
reversed sine or triangle wave that passes upwards positively through its mean will register a stress cycle each
time. Many methods of counting cycles in a randomly varying signal have been adopted and abandoned over
the years. The rainflow cycle counting method is the most widely accepted. Another way to understand cycle
counting is illustrated by the diagram where a portion of a time signal is stood on end and then each point is
mapped onto stress-strain space. This simulates loading and unloading where the material may yield
producing a hysteresis loop. Each loop represents one stress cycle. Cycles with noticeable inner area are
damaging and cycles which appear as straight lines are purely elastic and cause no damage. For any time
varying load, all cycles will fall with in one outer, large cycle representative of the maximum and minimum
of the signal. So in short, cycle counting counts the number of hysteresis loops and keeps track of their
range/mean or maximum/minimum values.&lt;/p&gt;
&lt;p&gt;377 APPENDIX
Glossary
Main Index
The basic method has the following steps (assume we are looking at a stress history):
1.Reduce the stress time history to a series of turning points (maxima and minima):
2.Cycles are identified by considering four (4) points at a time. The logic is as follows:
If point n is a maximum, IF Sn  Sn-2 AND Sn-1  Sn-3 then Sn-2 and Sn-1 make a cycle that can be
extracted from the sequence.
If point n is a minimum, IF Sn  Sn-2 AND Sn-1  Sn-3 then Sn-2 and Sn-1 make a cycle that can be
extracted from the sequence.
After this logic has been applied to the whole sequence, any remaining points are known as the
residual.
This is illustrated below:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 378
Main Index
Two cycles are extracted from the sequence, represented by points 2 and 3 and by points 5 and 6. The
remaining turning points, 1, 4 and 7 form the residual. (In the trivial case where the history contains
only 2 or 3 points, there will be only 1 obvious cycle and no residual.)
3.Finally, the residual may be closed down. This is done by re-ordering the points to start from the
point with the largest absolute value, and repeating this point at the end. Steps 1 and 2 are then
repeated. In this case, point 7 is no longer a turning point, so we are left with the trivial case with only
3 points.
The end result of cycle counting is a list of cycles. For example, the case illustrated gives:&lt;/p&gt;
&lt;p&gt;379 APPENDIX
Glossary
Main Index
Note that if you start cycle counting a stress time history starting from the absolute maximum value, all cycles
will close, that is, there will be no residual.
The following values associated with each cycle may be used in subsequent fatigue calculations:
Max – the maximum value of the cycle
Min – the minimum value of the cycle
The range of stress (Max – Min)
The amplitude – half the range
The mean stress (Max + Min)/2
The load ratio or stress ratio R, Min/Max
Rainflow cycle counting for the local strain ( -N) approach is based on the same principles as for the S-N
method, but there are additional requirements in that we need to know the total (elastic-plastic) strain range
for each cycle, together with its mean or maximum stress.
Consider the case of a simple bar, subjected to a variable amplitude loading under uniaxial conditions, and
suppose we can determine the total strain and stress histories. If we plot stress against strain, the stress-strain
history will appear as a number of nested hysteresis loops, each corresponding to a rainflow cycle, as
illustrated.Cycle number Max value Min value
1 S2 S3
2 S6 S5
3 S4 S1&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 380
Main Index
Each excursion takes the shape of part of the hysteresis curve.
Starting at point 1, we follow the hysteresis curve as far as point 2. At this point the strain direction reverses,
so we start again from point 2 up to 3, and from point 3 we reset to the beginning of the hysteresis curve
again until point 4. 2-3-4 represents a closed rainflow cycle. At point 4, the well-known material memory
effect has to be considered. The material appears to “remember” that it was interrupted after starting from
point 1, so when it gets to point 4 it resumes along the hysteresis curve starting from 1 until it reaches the
next turning point at 5.
By continuing in this way, we will find that the entire history can be tracked and reduced to a number of
hysteresis loops that can be identified with rainflow cycles. For each cycle, we can determine the important
parameters we need for a fatigue calculation, namely the strain range and mean or maximum stress.
However, FE-based -N fatigue calculations are very often based on elastic FE results, so that the equivalent
strain history generated by the -N analysis engine based on the load provider is a pseudo-elastic strain
history. In reality, there may be plasticity, especially at critical locations, and this needs to be estimated if
realistic life predictions are to be obtained. In addition, the stress state may not be uniaxial. In these
circumstances, the tracking rainflow cycle counting procedure has to be modified to include a notch
correction procedure such as the Neuber or Hoffmann-Seeger methods, to estimate the total strain range of
each cycle, and to allow the resulting hysteresis loops to be correctly positioned.
The steps in the calculation are as follows:
1.Reduce the elastic strain history to a peak-valley sequence, and re-order it to start from the Abs Max
value, with the first point repeated at the end.
2.Position this point in stress-strain space using the cyclic stress strain curve and using a notch
correction method such as the Neuber method to estimate the elastic-plastic stress and strain.
3.From this point, calculate the next excursion using the hysteresis curve and the Neuber correction
again.
4.Repeat this process. When a cycle or cycles close, remove these points from the sequence, noting the
calculated total strain range, mean and maximum stress for the cycle, and reset the starting point for
the next strain excursion to the last remaining point.
5.Continue until the end of the history is reached and all cycles have closed.
Cyclic Properties
Cyclic material properties are those that are obtained from a material test similar to a monotonic test with
one big difference. The loading is reversed and cycled at various load levels. From these tests are derived the
cyclic stress-strain curve and the strain-life curve used in crack initiation analysis. At each load level the
stabilized hysteresis loop is extracted, its maximum stress/strain value extracted and plotted onto a single plot
to create the cyclic stress-strain curve.&lt;/p&gt;
&lt;p&gt;381 APPENDIX
Glossary
Main Index
Cyclic Hardening
This is a behavior exhibited by materials that, when subject to cyclic loading, actually strengthen with time.
This is illustrated by the hysteresis loops becoming taller and skinnier on stress-strain space. The yield
strength become greater.
Cyclic Softening
This is a behavior exhibited by materials that, when subject to cyclic loading, weaken with time. This is
illustrated by the hysteresis loops becoming shorter and fatter on stress-strain space. The yield strength lessens
.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 382
Main Index
da/dN C urve
This is the crack growth rate (da/dN). It is a material characteristic and as such, is treated as a material data
set and is obtained by experiments. It relates the growth rate of a crack to stress intensity ( K), or in other
words, the driving force of the crack. There are three regions on a da/dN curve. Region 1 is the threshold
region where the driving force is not great enough to grow a crack (like a fatigue limit). Region 2 is the linear
region of the curve where behavior is described by the Paris equation. Region 3 is where static or fast fracture
occurs as the driving force reaches or becomes very near to the fracture toughness of the material.&lt;/p&gt;
&lt;p&gt;383 APPENDIX
Glossary
Main Index
Damage (Log of Damage)
Damage is the reciprocal of Life. Sometimes it is reported in log base(10) units mainly for convenient contour
plotting.
Dam age Summa tion
This is the mechanism of summing the damage from the various stress cycles. All cycles are identified using
rainflow cycle counting. Damage due to each is determined from the appropriate damage curve such as an
S-N or strain-Life curve. Damage is then summed using the linear damage summation law as defined by
Palmgren and Miner which simply states that each cycle causes a damage which is equal to 1/(number of
cycles to failure at that load level). When you apply a series of cycles, damage is added up linearly until the
total is unity (1) when failure is predicted. Fatigue damage is a non-linear process, but we find that if we have
a fairly random repeated sequence it works satisfactorily.
Dam age Tolerant
This is a fatigue life design philosophy which adopts the crack growth method and is used in conjunction
with the fail safe philosophy. A crack or flaw is assumed to exist and its growth rate determined to set up
specific inspection periods to ensure that the flaw will not grow to any critical size between these inspections.
Dete rministic
This is a loading event which can be determined at any point in time, such as a constant amplitude sine wave.
Repeatable loading falls into this category. This is in opposition to a random load where no events can be
determined at any given point in time or more specifically, where the next sequence of events cannot be
determined from any previous events.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 384
Main Index
Durability
Durability is the conglomeration of all aspects that effect the life of a product and usually concerns itself with
much more than just fatigue and fracture, but also loading conditions, environmental concerns, material
characterizations, and testing simulations to name a few. A true product durability program in an
organization that takes all of these aspects and more into consideration.
Duty Cycle
A duty cycle is a series of events (roading, loading, digging, hauling, etc.) that comprises the typical loading
that a system will see throughout its life cycle. The duty cycle, as a sequence of events, is processed through
the analysis engine. Duty cycles can be processed by the fatigue analysis in three different ways, which can be
summarized as follows:
Independent  mode. Each unique event in the duty cycle is processed separately, and the damage
from each is multiplied by the number of times it appears in the complete sequence. The total
damage is the sum of the damage from all the different events. This is fast, but may miss significant
cycles that cross different events.
Combined Full  mode. All the events in the duty cycle are concatenated, including all repeats of each
event, and the resulting stress history is processed as if it was one long event. This is accurate, but is
computationally inefficient and could take a long time to process.
Combined Fast mode. An intermediate method that cycle counts events individually but also
captures the cycles that cross events. It will in general be almost as accurate as the Combined Full
option and almost as quick as the Independent mode.
The methods are best explained with the aid of a simple example.&lt;/p&gt;
&lt;p&gt;385 APPENDIX
Glossary
Main Index
Consider a duty cycle consisting of Event 1, which has 2 repeats, and Event 2, which has 3 repeats. We will
now consider how the resulting combined stress histories for these two events are handled by the different
duty cycle processing options.  See glossary term Cycles (cycle counting)  before reading this explanation.
In Independent mode, Event 1 is cycle counted. This results in a cycle with range B and a residual, which is
also closed to give cycle A. Each of these cycles appears twice in the duty cycle, so their damage is calculated
and multiplied by 2. The same procedure is applied separately to Event 2, resulting in 3 repeats of cycles C,
D and E.
The result can be summarized as 2&lt;em&gt;A, 2&lt;/em&gt;B, 3&lt;em&gt;C, 3&lt;/em&gt;D, 3*E.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 386
Main Index
This method has the virtue of being quick and simple, but it does miss out the obvious larger cycle formed
by the minimum of Event 1 and the maximum of Event 2. However, for many applications where there are
no big mean shifts between events, it may be sufficiently accurate.
In the Combined Full method, the entire duty cycle is concatenated, including every repeat of each event in
the correct sequence, and the result is rainflow counted from the beginning and the residuals closed down.
The result in terms of cycles can be summarized as: 1&lt;em&gt;A, 2&lt;/em&gt;B, 3&lt;em&gt;C, 2&lt;/em&gt;D, 2&lt;em&gt;E, 1&lt;/em&gt;F , 1*G.
This method has the virtue of being accurate – no assumptions or approximations are made. However, for
duty cycles with many repeats of individual events it could be prohibitively slow.
The Combined Fast option provides a good compromise between speed and accuracy. It works as follows:
1.Each unique event is cycle counted. Cycles that close within individual events are multiplied by the
total number of repeats of that event. The residual for each event is also closed and multiplied by the
total number of repeats of that event less the number of times the event appears in the duty cycle. In
the case of Event 1, we get 2 repeats of cycle B and 1 repeat of cycle A.
2.The residuals for each event are concatenated in the sequence in which they occur and then cycle
counted, including closing down any residuals.&lt;/p&gt;
&lt;p&gt;387 APPENDIX
Glossary
Main Index
In this case, the resulting cycles are: 1&lt;em&gt;A, 2&lt;/em&gt;B, 3&lt;em&gt;C, 2&lt;/em&gt;D, 2&lt;em&gt;E, 1&lt;/em&gt;F , 1*G. For this simple example, the result
is exactly the same as for the Combined Full option, but in general this cannot be guaranteed. However, for
almost all practical applications, this method should be sufficiently accurate.
Elastic
Elastic behavior refers to a component or material, which when subject to loading conditions that cause
structural deformation, if removed, returns to its original state. No permanent state of deformation is left
when the loads are removed. Linear elastic analysis denotes that as the loads vary, the responses vary in a linear
and elastic manner relative to the loads. For instance if you double or triple the load, the responses will double
or triple respectively. Whether the stresses exceed the yield or even the ultimate stress is not taken into
account.
Elastic-plas tic Correction
Elastic-plastic corrections are often required because the local strain approach requires total (elastic-plastic)
strain as well as stress, yet for efficiency reasons, calculations often have to be based on linear elastic finite
element (FE) calculations. Notch corrections allow elastic plastic strains and stresses to be estimated based
on elastic FE results.
Neuber: The Neuber method provides a simple way of estimating the total elastic-plastic strain and
stress at an “average” stress concentration, based on the local elastic stress/strain. Consider a simple
notched specimen subjected to a uniaxial loading. As long as the yield stress is not exceeded, linear
FE analysis gives (assuming a good model) a reasonably accurate estimate of the strain and stress at
the root of the notch. However, once the yield stress is exceeded, the elastic solution becomes
increasingly unrealistic. In practice, as yielding occurs, there will be a redistribution of stress and
strain around the notch, so that the real strain will be greater than the elastic value and the real stress
less than the value from elastic analysis. The true solution must lie somewhere on the material stress-
strain curve. To get a reasonably accurate estimate of the way this stress and strain is redistributed,
we could carry out an elastic-plastic FE solution, taking into account the geometry of the specimen,
but this could be rather time consuming, especially if we have to consider many loading cycles.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 388
Main Index
The Neuber method provides a simple alternative that provides a rough estimate for how the stress
and strain might redistribute, without reference to the real geometry. The Neuber method assumes
that the product of stress and strain before and after redistribution is constant. This is represented by
the Neuber hyperbola, where the product of stress and strain is constant and equal to the elastic
stress x elastic strain.
The Neuber method can be applied to monotonic or cyclic loading. It is applied to cyclic loading, in
one of two ways:
1.To position the outside hysteresis loop by applying Neuber to the Abs Max value of the elastic strain
in the strain history, together with the cyclic stress-strain curve. This is achieved by solving the pair
of equations
2.To calculate a subsequent strain excursion, by applying Neuber to the elastic strain range of the
excursion, together with the hysteresis curve, i.e., by solving the pair of equations
These two ways of using Neuber are illustrated below. First, the position of the Absolute Maximum
value is estimated using the Neuber method at Point 1. All hysteresis loops are positioned relative to
this point. The next strain excursion, to Point 2, is then corrected by applying the Neuber correction
to the range of the excursion, using the hysteresis curve.EeABsMax 2maxmax=
maxmax
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;max
K&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=
Ee2 =

E&amp;mdash;&amp;mdash;-2
2K&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/li&gt;
&lt;li&gt;=&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P21</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_021/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_021/</guid>
      <description>
        
        
        &lt;p&gt;389 APPENDIX
Glossary
Main Index
Note that the Neuber method as implemented takes the damage parameter (Abs Max Principal,
Signed von Mises, etc.) and treats it as if it is the strain under uniaxial loading conditions (biaxiality
ratio a = 0).   In reality, the stress state is very often not uniaxial, and the Hoffmann-Seeger method
may give more realistic results.
Hoffma nn-Seeger : The Hoffmann-Seeger method is a modified version of the Neuber method that
takes into account the state of stress, allowing it to be extended to proportional multiaxial loadings.
If the loading is very non-proportional, then most of the assumptions implicit in this method are
violated; hardening is really kinematic and not isotropic, and the principal axes may not only rotate,
but the principal stress and strain axes are no longer necessarily aligned with each other.
The Hoffmann-Seeger method requires 2-D stresses or strains (e.g., from thin shells, or surface
resolved) and knowledge of the biaxiality ratio. As implemented, the Hoffmann-Seeger method
makes the following assumptions:
•The principal stress and strain axes are fixed in orientation.
•The ratio of the in-plane principal strains is constant.
•The uniaxial stress-strain curve can be extended for use with von Mises equivalent stress and strain
under different states of stress.
•Hencky’s flow rules.
•Masing’s hypothesis and material memory are implemented to achieve stress-strain tracking in
the same way as with Neuber.
For convenience, the in-plane principal stresses and strains are denoted 1, 2, 1, 2 and the surface
normal strain z. The principals are ordered so that
Application of Neuber correction to cyclic loading
1212&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 390
Main Index
First, the elastic value of the signed von Mises strain is computed, which is defined as
If the chosen damage parameter (stress combination) is Signed von Mises, this is calculated directly.
However, in practice, the calculation will often be based upon the Abs Max Principal strain, Critical
Plane strain, etc. In these cases, the elastic equivalent (Signed von Mises) strain can be deduced
knowing the elastic Poisson ratio e and the mean elastic biaxiality ratio ae (convert to von Mises).
If using Abs Max Principal Strain or Critical Plane
If using Signed T resca or Type B Critical Plane Shear, and ae  0&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;or if ae &amp;lt; 0
Then the elastic equivalent stress can be deduced
where “eq” denotes elastic equivalent.
The strain biaxiality ratio is deduced from the mean value of the elastic biaxiality ratio (from the
multiaxial assessment) as follows:
This strain ratio is assumed constant.
Now the Neuber correction is carried out as normal, but based on the elastic equivalent strain and
stress, i.e., by solving
if positioning the largest hysteresis loop, oreq1
1&amp;mdash;&amp;mdash;&amp;ndash;1
1ve+2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;12–22z–2z1–2+ +   =
eq11ae– ae2+
1aeve–
&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
eqSignedTresca1ae– ae2+ =
eqSignedTresca1ae– ae2+
1ae–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
eqEeq=
2
1&amp;mdash;&amp;ndash;aeve–
1aeve–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
qq
E&amp;mdash;&amp;mdash;q
K&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;= andqqeq=eqEeq2=&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;391 APPENDIX
Glossary
Main Index
for subsequent strain excursions. The subscript “q” here denotes the estimated elastic-plastic strain
and stress.
Once the plasticity correction has been carried out, the principal stresses and strains can be
calculated, assuming Hencky’s flow rules and that the principal strain ratio remains constant.
First, the effective Poisson ratio must be calculated:
Then&lt;/p&gt;
&lt;p&gt;a is the elastic plastic biaxiality ratio. (If the ratio of the principal strains is considered fixed, the ratio
of the principal stresses will in general change.)
Critical plane strain is treated as if it were Abs Max Principal Strain, and Type B Critical Plane Shear
strain is treated as if it were Signed T resca Strain.qq
E&amp;mdash;&amp;mdash;&amp;mdash;-2q
2K&amp;mdash;&amp;mdash;&amp;mdash;-1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;= andqqeq=eqEeq2=
v0.5 0.5ve–q
Eq&amp;mdash;&amp;mdash;&amp;mdash; – =
141va–
1a– a2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
22
1&amp;mdash;&amp;ndash;
1=
141
1a– a2+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
2a1=
a2
1&amp;mdash;&amp;mdash;2
1&amp;mdash;&amp;ndash;v+
1v2
1&amp;mdash;&amp;ndash; +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = =
a2
1&amp;mdash;&amp;mdash;2
1&amp;mdash;&amp;ndash;v+
1v2
1&amp;mdash;&amp;ndash; +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = =&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 392
Main Index
Note that the assumption of constant strain ratio means that the Hoffmann-Seeger method will give
slightly different results to the Neuber method for uniaxial loadings. However, the differences are
small, and as long as 2-D FE results are available, the Hoffmann-Seeger method is a sensible default.
Elemental and Element Nodal Stress/Strain
See glossary term Stress/Strain (from FEA) .
Endur ance Limit
This is similar to the fatigue limit and is an imposed limit of reversals on strain-Life curves above which the
component is said to have infinite life. This limit, referred to as the material cut-off, is set to 2e8 reversals but
can be changed by the user.
Event Pr ocessing
See glossary term Duty Cycle .
Failure Criterion
The criterion that defines failure such as catastrophic failure into two or more pieces, until an engineering
crack of 2mm appears, or until a crack reaches a critical size to be deemed unsafe. Understanding the failure
criterion in a fatigue analysis is very important. The material properties used in any fatigue analysis, be it an
S-N curve, strain-Life curve, or crack propagation da/dN curves, define the failure criterion.
Fail Safe
This is a fatigue life design philosophy which adopts the total life (S-N) method generally where failure
cannot be tolerated. Therefore built in redundancy is generally used such that if a failure were to occur, the
structure would fall into a state that it would survive until repair can be accommodated.
Fatigue
This is a failure under a repeated or otherwise varying load which never reaches a level sufficient to cause
failure in a single application. The initiation and growth of a crack, or growth from a pre-existing defect, until
it reaches a critical size, such as separation into two or more parts
Fatig ue Concentra tion Factor, Kf
This is similar to the stress concentration, Kt, except it accounts for the fact that small notches have less effect
on fatigue than is indicated by Kt. This has led to the idea of a fatigue concentration factor, Kf, which is
normally less than Kt, being introduced and being used to replace Kt within Neuber’s rule. Kf is related to Kt
according to
where p’ is a material constant dependent on grain size and strength and r is the notch root radius.Kf1 Kt1– + 1 p&amp;rsquo;r§ +  § =&lt;/p&gt;
&lt;p&gt;393 APPENDIX
Glossary
Main Index
Fatigue Limit
This is a stress level below which no fatigue failures will occur. See Stress-Life (S-N) , (page 436).
Fourier Analysis
In simplistic terms, Fourier analysis is the ability to represent a finite length of time signal by the sum of a
series of sine waves with varying amplitudes, frequencies, and phases.
Fracture
A fracture is the growth or propagation of a crack once it has been initiated. Fracture also denotes sudden
breakage of a component or structure in two. However for the purposes of this manual it refers to the life
prediction method of crack growth as implemented using LEFM. See LEFM , (page 402).
Fracture Mechanics Triangle
The fracture mechanics triangle states that if any two of the three variables are known, through fracture
mechanics and their relationships to one another, the other can be determined.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 394
Main Index
Frequency Domain
The time domain relates a variable (stress) to time and describes how the variable changes with time. Time
signals can also be represented in the frequency domain which relates the variable to frequency, describing
how that variable changes with or is affected by frequency. The time and frequency domains present the same
information in different ways, helping the engineer understand the effect a signal or response may have on a
structure. Consider, for example, a random signal which when converted to the frequency domain shows only
content at 10 Hz. This signal when applied to a structure with natural frequencies well above 10 Hz may not
be damaging at sufficiently low enough levels. However if the structure has natural frequencies in the 10 Hz
range, the signal would be far more damaging. Being able to view a signal in the frequency domain can alert
an engineer to this potential danger.
Gaussian
For a random signal and for most engineering purposes the amplitude Probability Density Function (PDF)
will be approximately Gaussian. This means that the density distribution will take on a bell like curve as
shown here where the highest levels of the signal are the least probable of occurring. See also glossary term
Power Spectral Density (PSD) .
Gerb er Mean Stress
This is a mechanism to correct for a non-zero mean stress range for the S-N method. See glossary term Mean
Stress Correction .
Good man Mean Stress
This is a mechanism to correct for a non-zero mean stress for the S-N method. This is a more conservative
method than the Gerber one. See glossary term Mean Stress Correction .&lt;/p&gt;
&lt;p&gt;395 APPENDIX
Glossary
Main Index
Haigh
Another way of defining stress-life data is in terms of a constant life sometimes referred to as a Haigh diagram.
The material behavior is described by a number of curves on a plot of stress amplitude vs. mean stress, each
of which represents test failures with the same fatigue life. See glossary term Interpolation  for more details.
High C ycle Fatigue (HCF)
This is the ability of a component or structure to withstand or survive many stress cycles. S-N analysis
applications deal completely in the high cycle regime and are not valid in the low cycle regime. The technical
definition of high cycle versus low cycle fatigue is where the elastic and plastic strain-Life curves cross each
other on the strain-Life plot. This is known as the transition life above which is high cycle fatigue and below
which is low cycle fatigue. It is clear that above the transition life elastic events dominate and below it, plastic
events dominate. S-N analysis does not compensate for plastic events in an adequate way as the strain-life
method does and for this reason is not a good choice for low cycle fatigue problems. The strain-life method
can handle both high and low cycle fatigue problems. The transition life is generally around 104 or 105 cycles
and is material dependent.
Hoffman-Seeger
See glossary term Elastic-plastic Correction .&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 396
Main Index
Hyster esis
This is a material behavior that is illustrated by loading a material beyond its yield point and then unloading
it and perhaps reversing the load until it yields in compression and cycling. When the stress and strain are
cross plotted, they create plots such as the one shown here. Each loop is a hysteresis loop. This phenomenon
is know as the Baush inger effect after the German engineer that first documented this behavior of most
metallic materials.
Inverse Fourier Transform
The ability or methodology of converting a frequency domain signal back into the time domain by recreating
the time signal from a power spectral density (PSD) function is called the Inverse Fourier T ransformation.
Because no phase information is kept with a PSD, random phases are created. The regenerated time signal
will not be exactly the same as the original but will be statistically equivalent.
Interpol ation
The S-N analysis can accept the S-N data in the form of a family of curves representing the fatigue strength
of the material at different mean stress levels. This is another way of compensating for mean stress effects. The
normal way to use such a curve set is to interpolate between the curves to determine the life and
corresponding damage for each cycle. This process is illustrated in the following diagram for constant mean,
constant r-ratio, and constant (Haigh) curves.
Constant Mean Curves : The material S-N behavior is described in this case by two S-N curves
representing the material at mean stress levels of 0 and 100.&lt;/p&gt;
&lt;p&gt;397 APPENDIX
Glossary
Main Index
•Consider a cycle with Range X . First we must identify which two curves to use for interpolation
by finding the pair with mean values either side of that of our cycle.
If the cycle has a mean of 50, this lies between our two curves. In this case, we look up the
log(Life) values on the two curves corresponding to LogX, and locate points A and B. If necessary,
we extrapolate the curves beyond their end points. We then linearly interpolate between these two
log(Life) values based upon the mean stress of our cycle to determine the log(Life) of our cycle.
If the cycle has a mean less than or equal to the minimum mean of all the curves (in this case 0),
the life is determined using the curve with the minimum mean value. The life corresponds to
Point B.
If the cycle has a mean greater than the maximum mean in the curve set, in this case 100, either
the two curves with the highest mean values can be used to determine the log(life) by
extrapolation, or the curve with the highest mean may be used, i.e., in this case the life
corresponds to point A. This is controlled by the interpolation limit  property.
•Consider a cycle with range Y . This corresponds to point C on the Mean = 100 curve, but it does
not intersect the mean = 0 curve, or that intersection point is beyond the Fatigue Cutoff Life. In
this case, the second point D used for interpolation or extrapolation is set to 30 (corresponding
to life of 1E30).
•Consider now a cycle with Range Z.  This cycle does not intersect any of the S-N curves at a value
less than the material cutoff, so the damage value will be set to zero.  Any cycle for which the
resulting life is beyond the material cutoff will have its damage set to zero.
Constant Mean S-N Curves&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 398
Main Index
Constant R-ratio Curves : The handling of multiple r-ratio curve data is very similar to that of
constant mean data.  The material S-N behavior is described in this case by two S-N curves
representing the material at R-ratios of -1 and 0.
•Consider a cycle with range X.  First we must identify which two curves to use for interpolation
by finding the pair with mean values either side of that of our cycle. We have to be a little careful
because the R-ratio has two distinct regimes bounded by the condition where maximum stress =
0, at which point R is undefined.
Constant R-ratio Curves&lt;/p&gt;
&lt;p&gt;399 APPENDIX
Glossary
Main Index
If the cycle has an R-ratio of -0.5, this lies between our two curves. In this case, we look up the
log(Life) values on the two curves corresponding to LogX, and locate points A and B. If necessary,
we extrapolate the curves beyond their end points. We then calculate the mean stress
corresponding to points A and B and linearly interpolate between these two log(Life) values based
upon the mean stress of our cycle to determine the log(Life) of our cycle. We don not use the R-
ratio for interpolation because of the non-linear and discontinuous behavior illustrated in the
figure of lines of constant R-ratio above.
Assuming that there are no curves present with R &amp;gt; 1 (i.e., totally in the compressive regime,
which is unlikely):
If the cycle has an R-ratio less than or equal to the minimum curve R-ratio, or which is
greater than 1, the life is determined using the curve with the minimum R-ratio value.
If the cycle has an R-ratio greater than the maximum R-ratio in the curve set, but less than
1, either the two curves with the highest R-ratio values can be used to determine the
log(life) by extrapolation, or the curve with the highest R-ratio value may be used, i.e., in
this case, the life would correspond to point A. This is controlled by the interpolation limit&lt;br&gt;
property.
•Consider a cycle with Range Y.  This corresponds to point C on the R = 0, but it does not
intersect the R = -1 curve, or that intersection point is beyond the Fatigue Cutoff Life. In this
case, the second point D used for interpolation or extrapolation is set to 30 (corresponding to a
life of 1E30).
•Consider now a cycle with Range Z . This cycle does not intersect any of the S-N curves at a value
less than the material cutoff, so the damage value will be set to zero.  Any cycle for which the
resulting life is beyond the material cutoff will have its damage set to zero.
Lines of Constant R-ratio&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 400
Main Index
Constant Life (Haigh) Curves : Another way of defining stress-life data is in terms of a constant life
or Haigh diagram. The material behavior is described by a number of curves on a plot of stress
amplitude vs. mean stress, each of which represents test failures with the same fatigue life.
The life for a given cycle is determined by interpolation between the curves of the Haigh diagram.
For example, in the illustration below, consider the cycle represented by point A. This lies between
the curves for Nf = 1E4 and Nf = 1E6. Based upon the mean stress of this cycle, we look up the stress
amplitudes corresponding to points D and E. The life for this cycle is determined by linear
interpolation of the log(Life) between these points. For example, if A lies halfway between D and E,
the predicted life for that cycle will be 1E5 (damage 1E-5).
The stress amplitude points for interpolation may be determined by extrapolation if necessary, as for
point C.
For a cycle that lies above or below all the curves such as that represented by point B, the life and
damage is determined by extrapolation (subject to limitations imposed by the MaxDamage and
Fatigue cutoff properties).
Results based upon cycles that use extrapolation should be treated with some caution.&lt;/p&gt;
&lt;p&gt;401 APPENDIX
Glossary
Main Index
Irregul arity Factor
This is a parameter for describing or characterizing a process such as a time signal or a power spectral density
function. For a time signal, it is defined as the ratio of the number of times a signal passes upward in a positive
manner through the mean of a signal divided by the number of peaks. In the frequency domain, the
irregularity factor is determined from its moments. The irregularity factor takes on values between zero and
one, one describing a narrow band process and non-zero values describing wide or broad band processes. A
value of unity describes a process whose peaks and adjacent valleys are roughly the same order of magnitude
Fatigue Life by Interpolation using Haigh Diagram&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 402
Main Index
but of opposite sign whereas a value of near zero represents a signal that has an infinite number of peaks versus
upward mean crossings, e.g., a dominate sine wave with noise superimposed on top of it.
K-So lution
See glossary term Compliance Function .
LEFM
Linear Elastic Fracture Mechanics. This is the art of crack growth prediction as determined from linear elastic
stresses. It assumes only a localized plastic zone around the crack tip and uses the stress intensity or driving
force of the crack to determine crack growth rates according to the Paris equation.
Life (Log of Life)
The Life (Log of Life) is the result reported as to how long a component or structure will last. This life can
be reported in terms of stress cycles or reversals survived, however this is usually not a convenient way of
reporting it. Time series are generally given some sort of fatigue equivalent units such as laps, miles, hours,
missions, etc., which are more descriptive to a user in describing the life. A repeat of a time history may have
many stress cycles but can be described as representative of, say, 30 times around a cobblestone test track. The
life is then reported as laps. Because the computed life of a component can vary dramatically from location
to location on the component itself, the life is often reported in log (base 10) units. This is convenient because
the spread can be from some small finite number (1000) to infinite life (the cutoff being around 1018). This
helps spread out contour bands on graphical plots for better visualization and for xy plots.
Local Strain
See glossary term Strain-Life (e-N) .
Low C ycle Fatigue (LCF)
Low cycle fatigue is the inability of a component or structure to withstand or survive many stress cycles. See
glossary term High Cycle Fatigue (HCF) .
Mate rial Cut-off
See glossary term Endurance Limit.
Mate rial Generation
Allows for standard S-N, -N or Dang Van fatigue material properties to be estimated or derived, based on
basic information such as the type and strength of the material.
Standard properties can be generated for four(4) different material classes - Ferrous, Aluminium, Titanium
and Other. Apart from selecting the material class, the user provides the static strength (UTS) and an estimate
of the Standard Error of log(N), except for the case of &amp;ldquo;Other&amp;rdquo; materials, where the Elastic Modulus and
Reduction in Area (%) are also required. The fatigue properties are then calculated as follows. Note that any
property values not listed are not set.&lt;/p&gt;
&lt;p&gt;403 APPENDIX
Glossary
Main Index
Then the S-N curve is defined by the values of the stress at 1000 cycles (call this S1) and at the transition life
Nc1 (call this S2).Parameter NameCalculation
Ferrous Aluminum Titanium Other
MaterialType 99 100 300 0
UTS User entry User entry User entry User entry
E 210000 MPa 73000 MPa 110000 MPa User entry
Me 0.3 0.3 0.3 0.3
Mp 0.5 0.5 0.5 0.5
Parameter NameS-N Calculation
Ferrous Aluminum Titanium Other
S1 0.9 x UTS 0.7 x UTS 0.8 x UTS 0.8 x UTS
S2 0.357 x UTS 0.258 x UTS 0.307 x UTS 0.274 x UTS
Parameter
NameS-N Calculation
Ferrous Aluminum Titanium Other
SRI1 2 x S2/(Nc1)b1 2 x S2/(Nc1)b1 2 x S2/(Nc1)b1 2 x S2/(Nc1)b1
b1 (log(S2) -
log(S1))/(log(Nc1) -
3)(log(S2) -
log(S1))/(log(Nc1) -
3)(log(S2) -
log(S1))/(log(Nc1) -
3)(log(S2) -
log(S1))/(log(Nc1) -
3)
Nc1 1E6 5E8 1E6 1E6
b2 b1/(2 + b1) b1/(2 + b1) b1/(2 + b1) b1/(2 + b1)
SE User entry User entry User entry User entry
RR -1 -1 -1 -1
Parameter
Name-N Calculation
Ferrous Aluminum Titanium Other
Sf &amp;lsquo;1.5 x UTS &amp;lsquo;1.67 x UTS &amp;lsquo;1.67 x UTS &amp;lsquo;1.9 x UTS
b -0.087 -0.095 -0.095 -0.12
c -0.58 -0.69 -0.69 -0.6&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 404
Main Index
where
if UTS/E &amp;gt; 3E-3, ? = 1.0
if 3E-3 &amp;lt; UTS/E &amp;lt; 1E-2, ? = 1.375 - (125 x UTS/E)
if E-2 &amp;lt; UTS/E, ? = 0.1
and where
D = log (1/(1-RA/100)). RA is the Reduction in Area (%) entered by the user.
Dang Van properties can be estimated for ferrous materials only, based on the UTS as follows:
Mate rial S-N
This is an S-N curve that relates local stress ( ) to life. These types of curves are generally obtained through
material tests of highly polished test coupons where the monitored stress is the stress experienced at the failure
location. These type of S-N curves are geometry independent; that is, the S-N curves are valid for any
geometry and are only dependent on the actual material that they represent. All plasticity modeling is built
into the curve.
Mean
Mean is the average value of a cycle or signal. It is the maximum plus the minimum divided by two for a
simple constant amplitude oscillating signal as shown here. Note that the two small cycles in the stress-strain
plot have the same strain range but have different mean stress.Ef &amp;lsquo;0.59 &amp;lsquo;0.35 &amp;lsquo;0.35 &amp;lsquo;0.76 x D0.6
n &amp;lsquo;0.15 &amp;lsquo;0.11 &amp;lsquo;0.11 &amp;lsquo;0.2
K &amp;lsquo;1.65 x UTS &amp;lsquo;1.61 x UTS &amp;lsquo;1.61 x UTS &amp;lsquo;Sf&amp;rsquo;/(Ef&amp;rsquo;n&amp;rsquo;)
Nc 2E8 2E8 2E8 2E8
SEe User entry User entry User entry User entry
SEp User entry User entry User entry User entry
SEc User entry User entry User entry User entry
Material Parameter Description
MaterialType 99
UTS User Entry
E 210000
TAFE 0.28 x UTS if UTS &amp;lt; 1400 MPa; 430 MPa if UTS &amp;gt; 1400 MPa
HSS 0.35Parameter
Name-N Calculation
Ferrous Aluminum Titanium Other&lt;/p&gt;
&lt;p&gt;405 APPENDIX
Glossary
Main Index
Mean Stress Correction
This is a technique for correcting or compensating for non-zero mean signals when looking up damage on
damage curves that have been created with zero mean (R=-1) signals in a test laboratory. Various methods
exist for both the S-N and strain-life methods. Fracture mechanics uses different da/dN curves for different
R-ratios. See also Interpolation , which is used for mean stress correction using multiple life curve. For the S-
N method:
Good man: The Goodman mean stress correction calculates an effective stress amplitude based upon
the mean stress and UTS of each cycle. Again, this can work with all S-N data types, but if it is to
function with multiple curve data, the material data set must include data sets corresponding to zero
mean or R = -1, otherwise an error message is issued.
In its original form, it is used to calculate an effective stress Se that can be compared to an R = -1 S-
N curve, based upon the stress amplitude Sa, mean stress Sm and the material UTS:
This has been extended to allow the equivalent stress to be determined for any R-ratio:
This is illustrated below:mmaxmin+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
Sa
SeR=1–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Sm
UTS&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; + 1=
SeRR Sa UTS
UTSSm– Sa1RR+1RR– +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 406
Main Index
Goodman Tension Only : The Goodman correction in the form described above can be rather non-
conservative for cycles with compressive mean stresses. Goodman Tension Only addresses this by
flattening off the constant life curve when the mean stress is compressive, as illustrated below:
Goodman Mean Stress Correction&lt;/p&gt;
&lt;p&gt;407 APPENDIX
Glossary
Main Index
Gerber: The Gerber correction in its original form is similar to Goodman, except that the second
term is squared:
We can then calculate the equivalent stress for any other R-ratio RR:
Graphically, this looks like:
Goodman Tension Only Mean Stress Correction
Sa
SeR=1–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;Sm
UTS&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1=
SeRR 14SeR=-11RR+2 
1RR–2UTS2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; +
   1–
    1RR–2UTS2
2SeR=-11RR+2 &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  =&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 408
Main Index
In practice this is not very realistic, because the reduction in fatigue strength under compressive
loading is the same as it is under tensile loading. The Gerber correction in its original form will in
general be rather non-conservative for tensile mean stresses and rather pessimistic for compressive
mean stresses. This is particularly unrealistic, and so the method as implemented is modified so that
for compressive loadings:
Nevertheless, this method is not highly recommended. Also (although this is not likely to be an issue
in practice) the user can imagine that this method may have problems finding a unique solution for
the equivalent stress, or any solution at all, when RR (the R-ratio of the test data) lies deep in the
compressive region.
Gerber Mean Stress Correction
Sa
SeR=-1&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;Sm
UTS&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2
– 1=&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P22</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_022/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_022/</guid>
      <description>
        
        
        &lt;p&gt;409 APPENDIX
Glossary
Main Index
Gerber Tension Only : This option provides a better solution by flattening off the constant life
diagram in the compressive region in the same way as for Goodman Tension Only.
Interpolate : When Interpolate is selected, the mean stress effect will be taken into account by
interpolation (or extrapolation) from multiple curves. The exact method depends upon the S-N
data type. See glossary term Interpolation .
Modified Gerber Mean Stress Correction
Tension Only Gerber Mean Stress Correction&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 410
Main Index
FKM : The FKM method as implemented here is based upon the method described in the FKM
Guideline “Analytical Strength Assessment of Components in Mechanical Engineering”, Tr. E.
Haibach. 2003.
In essence it uses 4 factors M1-4 which define the sensitivity to mean stress in 4 regimes:
1.R&amp;gt;1
2.–infinity &amp;lt;= R &amp;lt; 0
3.0 &amp;lt;= R &amp;lt; 0.5
4.0.5 &amp;lt;= R &amp;lt; 1
where R is the stress ratio (min/max) of the loading cycle. The method allows us to determine the
equivalent stress amplitude S-eq at a particular material R-ratio, Rref. The method is illustrated in the
form of a constant life or Haigh diagram:
The values of M1-4 can be determined from material tests or estimated as follows:
M1 = 0
M2 = -M
M3 = -M /3
M4 = 0
Where the value of Mis estimated as follows for the supported material types:
M = aM&lt;em&gt;10-3&lt;/em&gt;Rm + bM where aM and bM are constants and Rm is the UTS in MPa.
FKM Mean Stress Correction&lt;/p&gt;
&lt;p&gt;411 APPENDIX
Glossary
Main Index
Values of aM and bM for the different supported material classes are as follows:
In the software, if M1-4 are undefined, and the material type is one of those listed, all the parameters
will be estimated using these rules. If only M2 is defined, then M1 and M4 will be set to zero and M3
to M2/3.
A simple mean stress correction based on FKM where M1=M2=M3=M4=-MSS can be used the
fatigue analysis of spot welds per this schematic.
Morrow: Used in -N analysis only, the Morrow mean stress correction adjusts the value of the
intercept of the elastic part of the strain life curve before looking up the life/damage, on a cycle-by-
cycle basis as follows:
where m is the mean stress of each cycle. The effect of this mean stress correction, correlated with
test data, is illustrated below:Table 0-2  FKM Mean Stress Correction Parameters
Material
Type SteelGS
(cast
steel)GGG
(nodular
cast iron)GT
(malleable
cast iron)GG (cast
iron with
lamellar
graphite)Wrought Al
alloyCast Al
alloy
Material Type
No. (CODE)13,14,16-22-
25,26-999-12,15 5-8 2-4 1 100-105 106
aM .35 .35 .35 .35 0 1.0 1.0
bM -0.1 0.05 0.08 0.13 0.5 -0.04 0.2
afm– 
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-2Nfbf2Nfc+ =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 412
Main Index
Smith Wat son Topper  (SWT) : Used in -N analysis only, while loosely termed a mean stress
correction method, the Smith-Watson-Topper method actually defines a new damage parameter
based upon the product of the strain amplitude and the maximum stress of each cycle.
In practice, there are two ways this can be applied.
•In the Formula  method, the following equation is solved for life/damage.
•In the Iterative  method (not currently supported), a fully reversed cycle that has the same value
of PSWT as the cycle being analyzed is sought.
PSWTamax=
amaxf
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;2
2Nf2bff2Nfbc++ =&lt;/p&gt;
&lt;p&gt;413 APPENDIX
Glossary
Main Index
The strain amplitude of the fully reversed cycle defines an equivalent strain amplitude that can be
looked up on the standard strain-life curve. Because the strain amplitude and max stress of the
equivalent fully reversed cycle are related by the cyclic stress-strain curve, the equations to be
solved are:
The equivalent stress amplitude is then looked up on the standard strain-life curve as normal.&lt;br&gt;
Generally, the Iterative method is considered a more correct approach.
Miner’s Constant
Miner’s constant is the damage summation constant that defines failure, usually set to unity (1). See glossary
term Damage Summation .
Monotonic Properties
Monotonic material properties are those that are obtained from a material test. Test coupons are placed in
servo-hydraulic machines and loaded in a single application of steady load increase through the yield point
of the material and to ultimate fracture of material. From these tests come various material parameters such
as Young’s Modulus (E), the yield strength ( y), and the ultimate tensile (UTS). The load is not reversed, nor
is it cycled to obtain these properties.
Morro w Mean Stress
A mechanism to correct for non-zero mean stress for the strain-life method. See glossary term Mean Stress
Correction .PSWTamaxaequivmaxequiv= =
aequivmaxequiv
E&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;maxequiv
K&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 414
Main Index
Multia xial
Multiaxial means that the stress state is not uniaxial. More than one principal stress exists. The biaxiality ratio,
ae, defined as the minimum in-plane stress divided by the maximum in-plane stress (for surface stresses), is
non-zero. There are two different degrees of multiaxial stress states: proportional and non-proportional.
Proportional multi-axial or proportional loading refers to the principal stresses always being in proportion to
one another in magnitude and are stationary. Stationary means that the principal stress axes do not rotate
significantly with time or in other words, the maximum and minimum principal stresses are always in the
same direction. Non-proportional loading is the opposite of this where the two principal in-plane stresses are
not proportional to each other at any given time, nor is the principal stress axis always in the same direction.
Narrow Band
This is a signal which contains frequency content predominantly at or around one frequency which when
converted to the frequency domain appears as single peak spanning only a portion of the frequencies.
Neuber’s Rule
See glossary term Elastic-plastic Correction .
Nodal Averaged Stress/Strain
See glossary term Stress/Strain (from FEA) .
Non-pro portional Loading
See glossary term Multiaxial .
Notch Correction
This is a term that is adopted in the FE-fatigue world to signify the correction from purely elastic stresses and
strains to elastic-plastic stresses and strains. See glossary term Elastic-plastic Correction . Historically the term
comes from determination of stress at a notch while taking measurements away from the notch and using a
stress concentration factor, Kt, knowing that the material has yielded in the notch area and an additional
correction needs to be made to determine the true stress (and/or strain).
Offset
See glossary term Scale Factor and Offset .&lt;/p&gt;
&lt;p&gt;415 APPENDIX
Glossary
Main Index
Paris E quation
This is the main equation that governs the LEFM (crack growth) method and relates the crack growth rate
(da/dN) to stress intensity ( K). , where C and m are material constants.
Peak-Val ley Extraction
See glossary term Time History Compression .
Plastic Load Limit Correction
See glossary term Shape Factor .
Plasti city
Fatigue does not generally involve major changes to the properties of the bulk of the material in a component.
In most components that have failed by fatigue, the processes that lead to the fatigue failure are confined to
the region around the crack tip. Fatigue is always caused by plastic deformation. Plasticity is an irreversible
process of deforming the material beyond its yield point. Some who have experienced fatigue failures may
say “there is no plastic deformation in my component,” or “the FEA results showed that all stresses were below
yield.” If there is a fatigue failure, then there must be plastic deformation, even if it is confined to only a few
grains, or to a very small region around the tip of a crack or a notch.
Power Spectral Density (PSD)
The term originated with electronic engineers in the 1940’s trying to characterize equipment noise. The PSD
is a way of describing a random time signal. A random signal is random because there is no way of predicting
a future section of the signal from previous sections. Therefore some sort of statistical method of describing
these signals was devised. By taking a time signal, squaring it, and taking its average you get what is called
the mean square value. If the squared signal is passed through a low pass filter at various cut-off frequencies,
the mean value can be plotted as a function of frequency. The slope of this curve describes the density of the
mean square with respect to frequency and is called a “spectrum.” The term “spectral density” comes from da
dN&amp;mdash;&amp;mdash;- CKm=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 416
Main Index
the fact that it is a property with respect to frequency such as a rainbow which is the variations of frequency
in the colors of visible light. The term “power” dates back to the electrical engineers who used power as the
key parameter. Dynamicists have simply adopted the term. In simple summary, a PSD is nothing other than
an equivalent representation of a random time signal in a different domain, which has certain advantages over
the time domain. In terms of Fourier analysis, the area under any infinitesimal strips of the PSD represents
the mean square of the sine wave at that frequency where a time signal is made up of a number of sine waves
summed together.
Probabilistic Nature of Fatigue
See glossary term Certainty of Survival .
Probability Density Function (PDF)
T wo important Probability Density Functions (PDF) can be computed from a stress or strain time history.
These are the amplitude and peak PDFs as shown. The best way to visualize these parameters is to draw tram
lines horizontally through the time history and then count either the number of times the signal crosses the
tram lines or the number of times a peak occurs in-between the tram lines. The complete PDFs are obtained
by repeating this process for all horizontal levels in the signal. For most engineering purposes the amplitude
PDF will be approximately Gaussian. Furthermore, for a narrow band process the peak PDF will be
approximately equivalent to the Rayleigh PDF . A PDF , therefore, is the probability of a certain stress or strain
level occurring and is represented as a density distribution.
Proportio nal Loading
See glossary term Multiaxial .
R-Ratio
This is a measure of the mean stress or the mean of constant amplitude signal or the mean of a stress cycle. R
= -1 is a fully reversed signal or a cycle with zero mean. R = 0 is a signal which goes from zero to a maximum
value and returns to zero. R = infinity is the reverse where the signal goes from zero to a negative maximum
value and back to zero.
Rainf low Cycle Counting
See glossary term Cycles (cycle counting) .&lt;/p&gt;
&lt;p&gt;417 APPENDIX
Glossary
Main Index
Rand om Vibration
This is excitation due to loading which is random in nature. That is to say that at any particular point in time
it is impossible to determine anything specific about the loading. It can only be described by its statistics such
a mean level, rms, standard deviation, etc. This is in opposition to a loading event which can be determined
at any point in time, such as a constant amplitude sine wave. Random vibration is usually dealt with in the
frequency domain by converting signals to power spectral density functions (PSDs).
Range
Range is the total absolute magnitude between the maximum and minimum values of a cycle. Note that the
two small cycles in the stress-strain plot have the same stress and strain range but have different mean stress.
Refere nce Location
When dealing with component S-N curves, this is the location on the test specimens used to create the S-N
curve. The nominal stress axis of the S-N curve relates stress levels at this location to failure. When using a
component S-N curve in conjunction with finite element models you must know the equivalent location
(reference location) as only stress from this location relates to the S-N curve.
maxmin– =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 418
Main Index
Regres sion Analysis
Regression analysis is the art of taking measured data such as that for an S-N curve and determining an
equation to describe the curve from the raw data, also called curve fitting.
Residual Stress
This is a permanent stress that is left behind in a component or structure after unloading. Residual stress can
be caused or induced in a number of ways such as shot peening, overloads, and manufacturing processes to
name a few. Residual stresses can be tensile (positive) or compressive (negative) in nature and can be beneficial
to bettering fatigue life (compressive) or detrimental (tensile).
Root M ean Square (rms)
By taking a time signal, squaring it, then taking the average, you get the mean square of the signal. If you take
the square root of the mean square of the signal you get the root mean square (rms). The rms is a parameter
that allows you to gauge the overall intensity of a signal relative to another random signal.
Safe Life
This is a fatigue design philosophy which adopts the crack initiation method. In general it is applied to
relatively inexpensive components which can easily be thrown away and replaced. In addition it is applied to
structures or parts where the initiation of a crack takes up the majority of the life relative to the growth of the
crack or where it is intolerable to have a crack in the structure. This philosophy generally produces fairly
optimized structures and is used heavily in the ground vehicle industry. A failure of a component designed
with this philosophy should not have catastrophic consequences.
Sample Rate
When measuring a signal, the sample rate is the number of times you take a sample in a given period of time,
usually one second. It is the frequency of samples in number/second. Sampling too slowly can cause
important loading events to be missed.
Scale Factor and Offset
The scale factor and offset settings allow the user to manipulate the stresses or strains before further analysis,
for whatever purpose. For example, the offset might be used as a simple way to explore the possible effect of
a residual stress.
In the case of the S-N analysis, the scale factor and offset are applied to the combined stress history (i.e., after
extracting the Abs Max Principal, Critical Plane stress, etc.) before cycle counting.
(Stress for cycle counting) = (Combined stress) x (Scale Factor) + (Offset)
In the case of the -N method, the offset, which is defined as a stress, has to be converted into strain units
first, so:
(Strain for cycle counting) = (Combined strain) x (Scale Factor) + (Offset)/E
In the case of the Dang Van approach, because it is a multiaxial safety factor approach, and because it includes
an elastic shakedown procedure, definition of an offset of undefined direction makes little sense. For this&lt;/p&gt;
&lt;p&gt;419 APPENDIX
Glossary
Main Index
reason, the Dang Van engine supports only the scale factor, which is applied to the whole stress tensor before
the Dang Van calculation.
Seam  Welds (fatigue analysis of)
The original work to develop this methodology of fatigue analysis of seam welds is found in Mikael Fermér,
Magnus Andréasson and Björn Frodin. “Fatigue Life Prediction of MAG-Welded Thin-Sheet Structures”,
SAE T echnical Paper 982311 . The calculation method is explained here.
Having identified the FE entities (nodes/elements) from which stresses will be recovered for calculation, and
the correct surfaces of each element to use, the calculation proceeds as follows:
1.Determine “weld-top” and “weld-bottom” surface stress tensor time histories and calculate “weld-
top” and “weld-bottom” surface combined stress histories (Abs Max Principal or Critical Plane)
2.Use “weld-top” and “weld-bottom” surface stresses to determine the degree of bending in the loading
on the weld at the calculation point in question.
3.Interpolate between “stiff” and “flexible” S-N curves
4.Rainflow count the “weld top” stress history
5.Do damage calculation base on normal S-N approach with optional mean stress correction FKM
method and optional thickness (size effect) correction
Let us examine each of these steps in more detail.
Stress Calculation and Combination: The stress tensor histories for the “weld-top” and “weld-
bottom” surfaces are calculated in the usual way as for any standard analysis. The extracted stress are
un-averaged node-at-element stresses.
If Absolute Maximum Principal  stress is used, this is determined for the “weld top” surface in the
usual way from the in-plane principals:
The orientation p of the absolute maximum principal with respect to the element x-axis is
determined from:
The bottom surface stress is calculated by determining the direct stress in the same direction as the
top surface absolute maximum principal stress.
Note that the “weld-top” stress is the primary stress used for the fatigue calculation; the “weld-
bottom” surface stress is used only to determine the degree of bending.1,2xxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  2
xy2+  =
eq,topAMP1 if 12  otherwise  AMP2= = =
2ptan2xy
xxyy–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
eq,botxxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;pcosxypsin + + =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 420
Main Index
If the Critical Plane  method is being used, the “weld-top” and “weld-bottom” surface stresses are
both determined on a number of planes at 10-degree intervals:
p = 0, 10, 20 &amp;hellip;170 degreesxxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;cosxysin + + =&lt;/p&gt;
&lt;p&gt;421 APPENDIX
Glossary
Main Index
Determine the Degree of Bending : The stress in a shell can be partitioned into two components - a
bending stress b and a direct or normal stress n as shown below.
The instantaneous degree of bending at a given calculation point is defined by the bending or flex
ratio r, which always lies between 0 (no bending) and 1 (pure bending):
During the fatigue calculation, the minimum, maximum, average, and standard deviation of the
bending ratio is calculated over all points in the loading history.
The average bending ratio is the most important value for the fatigue calculation; it is a weighted
average calculated as follows:
Material Properties and Interpolation : The material data set required for a seam weld calculation
consists of basic material properties, and either one or two children S-N curves. If two curves are
present, one must represent “flexible” or bending loading conditions (r = 1) and the other “stiff” or
membrane loading conditions (r = 0).
The generic (parent) data is as follows:
a.Material type: Numeric code defining the type of material
b.UTS: Ultimate tensile strength
c.E: Modulus of elasticity
rb
nb+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
req,topeq,bot–
eq,topeq,bot+ eq,topeq,bot– +&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
rreq,bot2
n
eq,bot2
n&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 422
Main Index
d.M1-M4: Mean stress sensitivity factors for FKM mean stress correction
e.Tref: Reference thickness/threshold for sheet thickness correction (RTHICK on MATFTG  entry)
f.n: Sheet thickness correction exponent (nTHICK on MATFTG  entry)
g.RR: R-ratio (ratio of minimum to maximum load) of the tests used to define the S-N curve
h.rth: Threshold value of the bending (r) ratio, used in interpolation between “stiff” and “flexible”
curves. Default of 0.5 is assumed. (BTHRESH on MATFTG  entry)
For each “stiff” and “flexible” S-N curves:
a.BendingRatio: Bending or flex ratio of the curve. If two curves are present, BendingRatios must
be 1 and 0 to identify “flex” and “stiff” curves.
b.SRI1: Stress range intercept
c.b1: First fatigue strength exponent
d.Nc1: Transition life
e.b2: Second fatigue strength exponent
f.SE: Standard error of log10(N) used to calculate the life adjusted to a certain probability of
failure/survival
g.NFc: Numerical fatigue cutoff life. Beyond this life, damage will be assumed to be zero.
The formulation of the curve is the same as for the Standard S-N curve formulation as shown below.
Note that in this particular dataset, b1 and b2 are set to be the same, and that the curve should not
be modified in the low-cycle regime to take into account the UTS. This can be ensured by the
DAMAGE flag CHECK to none (-1) on the FTGPARM  entry.
Some weld types may interpolate between the curves. First, an interpolation factor is determined
based on the mean bending ratio and the threshold bending ratio rth:&lt;/p&gt;
&lt;p&gt;423 APPENDIX
Glossary
Main Index
IF I = 0
ELSE IF&lt;br&gt;
The default value of rth is 0.5. Graphically this is like:
For values of the bending ratio up to the threshold, the “stiff” (r = 0) S-N curve will be used. Above
that value, interpolation will be made between the “stiff” (r = 0)and “flexible” (r=1) curves.
The interpolation scheme is used to determine an interpolated set of parameters (SRI1, b1, Nc1, b2,
SE), which will be used to predict fatigue damage as shown below.0rrth
rthr1 Irrth–
1rth–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 424
Main Index
This defines the stress level at 1 cycle.
This defines the stress level at Nc1int cycles. These two points define the first section of the curve up
to Nc1int cycles. The last section is defined by finding a third point as follows: A life value is defined,
being 10 x the greater of the Nc1 values for the stiff and flexible curves. From these, we can calculate
s2flexible  and s2stiff. From these, we can interpolate to get s2int which defines the high cycle part of
the curve.
Note that if only one S-N curve is present, it will be used directly without interpolation.
Thickness Correction : Optionally, a thickness (size effect correction) may be applied, based on the
thickness, t, of each element. This works as follows:
If t Tref (the reference thickness or threshold), there is no effect.
If t &amp;gt; Tref the fatigue strength is reduced at all lifetimes by a factor where n is the thickness exponent.
(The factor is used to increase the stress.)
Fatigue Calculation : Once any interpolation and/or thickness correction has been carried out, the
fatigue calculation proceeds as for a standard S-N calculation, based on the “weld-top” stress. If a
mean stress correction is to be applied, the FKM method is used. Multiaxial assessment may be
carried out using the Standard or Simple Biaxiality options. The Auto mode is not available. See
glossary terms Biaxial - Biaxiality Ratio  and Multiaxial .
Seeg er-Heuler
See glossary term Shape Factor .
Shape Facto r
This property is used by -N analysis only, and when defined, invokes the Seeger-Heuler plastic limit load
correction.
Simple notch rules such as the Neuber’s Rule  and Hoffman-Seeger  rules estimate the redistribution of stress
and strain around a notch with limited yielding, but with no reference to the geometry of the component. In
practice, particularly when a notch is shallow or the loading is high, plasticity may become more widespread,
and these simple notch rules may then significantly underestimate the plastic strains.
The Seeger-Heuler method provides a variation on the Neuber or Hoffmann-Seeger methods that increases
the amount of plasticity estimated when net section yielding is predicted, based on the Shape Factor. The
Shape Factor for any section is defined as the ratio of the plastic limit load to the yield load.
Simple notch rules such as the Neuber and Hoffmann-Seeger rules estimate the redistribution of stress and
strain around a notch with limited yielding, but with no reference to the geometry of the component. In SRI1intSRI1stiffSRI1flexibleSRI1stiff–  I + =
NC1int10Nc1stiff Nc1flexible log Nc1stiff log–  I + log =
s1ints1stiffs1flexibles1stiff–  I + =
s2ints2stiffs2flexibles2stiff–  I + =&lt;/p&gt;
&lt;p&gt;425 APPENDIX
Glossary
Main Index
practice, particularly when a notch is shallow or the loading is high, plasticity may become more widespread,
and these simple notch rules may then significantly underestimate the plastic strains.
The Seeger-Heuler method provides a variation on the Neuber or Hoffmann-Seeger methods that increases
the amount of plasticity estimated when net section yielding is predicted, based on a Shape Factor. If this
property is not defined there is no effect of shape factor considered.
The Shape Factor or limit load ratio for any cross-section is defined:
the ratio of the plastic limit load (load at which plasticity spreads across the section) to the yield load (load
at which yielding starts). This limit load ratio or shape factor or formzahl can be calculated for simple sections
assuming an idealized elastic-perfectly plastic stress-strain curve.
For example:
Suppose we now add a small notch to the surface of the bar with a stress concentration factor of 2.5, the yield
load will be reduced by a factor of 2.5, but if the notch is small the plastic limit load will be more or less
unaffected, so we might estimate a shape factor for the notched bar as 2.5 x 1.5 = 3.75
An un-notched bar in tension is a trivial case where .
From similar arguments, a plate with a small round hole in tension would have
With the Seeger Heuler plastic limit load correction method, the application of the notch rule is very similar
to that described for the Neuber method described earlier, the only difference being that the stress-strain
product is modified.
1.To determine the position of the largest hysteresis loop, we solvepLp
Ly&amp;mdash;&amp;mdash;=
p1–
p3.–&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 426
Main Index
for  and .
2.To determine the range of stress and strain associated with each subsequent excursion, we solve:&lt;/p&gt;
&lt;p&gt;for  and .
When the strain levels are low and/or the shape factor is large, the terms
become insignificant, and the solution converges with the Neuber method.
Since this approach could equally well be applied to the equivalent stress and strain, it is compatible with the
Hoffmann-Seeger method.
Spec tral Moments
Spectral moments are used to obtain other statistical properties of the PSD. The n-th spectral moment&lt;br&gt;
of a PSD is defined by
Spot  Welds (fatigue analysis of)
The method implemented in MSC Nastran for the fatigue analysis of spot welds is based closely upon the
work of Rupp, A., Störzel, K.and Grubisic, V. (1995). “Computer Aided Dimensioning of Spot-Welded
Automotive Structures”. SAE T echnical Paper 950711.  Forces transmitted through the elements representing
the spot welds are used to calculate structural stresses in the weld nugget and adjoining sheets at intervals
around the perimeter of each weld. The stresses are then used to make life predictions using the standard S-
N (total life) method.
The structural stresses in the sheets are the radial stresses from the inner surfaces of the two sheets around the
perimeter of the weld nugget. The structural stresses in the nugget are determined from the principal stresses  Eepe
p&amp;mdash;&amp;mdash;Ee
pK&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
1
n&amp;mdash;-
+
     
and  = 
E&amp;mdash;
K&amp;mdash;&amp;ndash;1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;= 
 Eep2e
2p&amp;mdash;&amp;mdash;&amp;mdash;Ee
2pK&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
1
n&amp;mdash;-
+
     
and  =
2&amp;mdash;&amp;mdash;
2E&amp;mdash;&amp;mdash;-
2K&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/li&gt;
&lt;li&gt;=

Ee
2pK&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
1
n&amp;mdash;-
andEe
pK&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
1
n&amp;mdash;-
mn
mnS S
–
ffndf Þ =&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;427 APPENDIX
Glossary
Main Index
around the perimeter of the nugget at a section representing where the two sheets meet, based on the nominal
shear and direct stresses in the nugget at that point.
The structural stresses in the sheets are a function of the shear (FX, FY), axial (FZ),and bending moments
(MX, MY) transmitted by the structural element to the sheet, and varying with the angle . For example, for
sheet 1:&lt;/p&gt;
&lt;p&gt;where
(Contributions from the shear forces. Note that these are adjusted by an empirical factor, which adjusts the
contributions of the shear forces relative to those of the axial force and bending moments, and allows a size
effect in terms of weld diameter and sheet thickness to be taken into
account.)
(Contributions from the axial force; note that only the contribution from tensile loads is considered. Note
also the empirical factor in the same form as
sheet1maxFX1( )cos – maxFY1( )sin – FZ1( )maxMX1 ( ) + sinmaxMY1( )cos – + =
maxFX1( )FX1
ds1&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;SFFXYdDEFXYs1TEFXY   =
maxFY1( )FY1
ds1&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;SFFXYdDEFXYs1TEFXY   =
FZ1( )1.744FZ1
s12&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;SFFZdDEFZ s1TEFZ     if F Z1 &amp;gt; 0 or 0 if FZ1 0 =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 428
Main Index
before.)
(Contribution from the bending moment, again including an empirical factor.)
A similar set of equations is used for the stresses in sheet 2.
The empirical factors are calculated from a set of nine material properties.
The stress around the periphery of the nugget at Point 3 is calculated as follows:
Shear stress:
Direct stress:
where
Then, from the shear and direct components of stress, we can calculate the Absolute Maximum Principal
stress in the nugget as follows:
Although most spot welds in a well-designed structure will not experience significant torsional loads under
normal conditions, occasionally, spot welds will fail early due to torsional fatigue. Torsional fatigue is modeled
separately as a distinct failure mode, determined by the circumferential shear stress in each sheet. This is
calculated as follows:
Note that this torsional calculation is optional and requires appropriate material properties and the
TORSION flag on the FTGPARM  entry to be activated.maxMX1 ( )1.872MX1
ds12&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;SFMXYdDEMXYs1TEMXY   =
maxMY1( )1.872MY1
ds12&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-SFMXYdDEMXYs1TEMXY   =
maxFX3( )2sinmaxFY3( )2 cos + =
FZ3( )maxMX3 ( )sinmaxMY3( )cos – + =
maxFX3( )16FX3
3d2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = maxFY3( )16FY3
3d2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; =
FZ3( )4FZ3
d2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  if F Z3 &amp;gt; 0 or 0 if FZ3 0 = maxMX3 ( )32MX3
d3&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
maxMY3( )32MY3
d3&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
AMP,nugget
2&amp;mdash;
4&amp;mdash;2
2+ if 0 + = AMP,nugget
2&amp;mdash;
4&amp;mdash;2
2+ if 0 – =
12MZ1
s1r2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = 22MZ1
s2r2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P23</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_023/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_023/</guid>
      <description>
        
        
        &lt;p&gt;429 APPENDIX
Glossary
Main Index
Strain Combination
The combination method defines how a damage parameter for fatigue calculation will be extracted from the
strain tensor history. The options, based on the strain tensor ij and the principal strains 1,2,3, are as follows:
Absolute Maximum Principal : The Absolute Maximum Principal strain is defined as the principal
strain with the largest magnitude:
Signed von Mises : The Signed von Mises strain is the von Mises strain, but forced to take the sign
of the Absolute Maximum Principal strain, i.e.:
Signed Shear : The Signed Shear strain is the Maximum Shear strain (Tresca Criterion) forced to
take the sign of the Absolute Maximum Principal strain. A factor is applied to ensure that the
parameter has the same value as the Absolute Maximum Principal strain under uniaxial loading
conditions.
Critical Plane : The Critical Plane option is available only for stresses/strains flagged as 2-D. The
normal strain is calculated and rainflow counted on multiple planes. The critical plane is the plane
with the most predicted fatigue damage. The planes on which the normal strain is determined have
normals that lie in the plane of the physical surface, i.e., in the x-y plane of the 2-D stress or strain
results coordinate system. The orientation of each plane is defined by the angle  made with the
local x-axis.AMP3= if31 otherwiseAMP1=
SVMAMP
AMP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-1
1ve+2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;12–223–231–2+ +   =
SShAMP
AMP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-13–
1ve+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;  =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 430
Main Index&lt;/p&gt;
&lt;p&gt;The strain on each plane is calculated from
can take the values 0, 10, 20, 30, …170 degrees.
Strain Hardening
See glossary term Cyclic Hardening .
Strain-Life ( -N)
This is a fatigue life prediction method commonly referred to as “crack initiation,” or “local strain.” It only
concerns itself with the initiation of a crack. The method is called “strain-life” because it relates local strain
xxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; + 2xy2sin + cos =&lt;/p&gt;
&lt;p&gt;431 APPENDIX
Glossary
Main Index
to life. It is a fairly recent and well accepted method of fatigue life prediction brought about by the work of
many but principally the Americans, Manson and Coffin in the mid 1950s. This work would not have been
possible without the invention of the servo-hydraulic test machine. These machines allowed strains to be
precisely controlled as opposed to stresses which are near impossible to control. Because of this the scatter in
material data for the strain-life method is much less than that of the S-N method and a more accurate
prediction of fatigue life can be made.
The Coffin-Manson-Basquin formula defines the relationship between strain amplitude a and the number
of cycles to failure Nf:
(0-1)
Graphically, it looks like:
Fatigue damage is predicted in the same way as for the S-N method – the damage due to an individual cycle
is calculated by looking up the strain amplitude of that cycle on the curve to find the number of reversals to
failure 2Nf. The damage assigned to that cycle is then 1/Nf.
If the life Nf corresponding to a particular cycle is greater than the cutoff Nc, zero damage is predicted. Ne
is an endurance limit. The main application for this is in the consideration of surface finish.
The basic operation of a standard -N analysis can be summarized in the following diagram:f
E&amp;mdash;&amp;mdash;-2Nfbf2Nfc+ =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 432
Main Index
A typical -N analysis has the following basic steps, which are executed for each analysis entity (Node,
Element, Node-on-Element), shell surface and critical plane where appropriate.
1.The strain tensor history, as a function of time or data points, is assembled from the information
provided in the load provider. This applies to time-series, time step, constant amplitude, duty cycle
and hybrid load providers. In most cases, the strains are linear elastic strains at this point.
2.From the strain tensor (still elastic), extract a combined strain parameter (Abs Max Principal, Signed
von Mises, Signed Shear, Critical Plane, etc.).
3.Rainflow count the combined strain history to obtain a list of rainflow cycles, at the same time
estimating the total local strain (elastic-plastic) using a notch rule (e.g., Neuber’s rule) and tracking
the shape and position of each hysteresis loop. This procedure is called a tracking rainflow count. This
more complex rainflow procedure is necessary because the local strain approach requires that we know
the total (elastic-plastic) strain range for each cycle, and often we also require the mean or maximum
stress of each cycle too.
4.Calculate and accumulate damage from -N curve definitions, using linear damage accumulation
(Miner’s rule).
Strain S oftening
See glossary term Cyclic Softening .
Strain vs. Stress
See glossary term Stress vs. Strain .
Stress/Strain (from FEA)
Note that stresses and strains used in fatigue analysis from finite element models can be of three different
types.&lt;/p&gt;
&lt;p&gt;433 APPENDIX
Glossary
Main Index
Elemental  or Element Centroidal : the stresses (or strains) are calculated at the center of the element
and only one stress (or stress tensor) result exists per element. In fatigue analysis, only shell type
elements are appropriate for this type of stress. As cracks tend to initiate at the surface, it would be
inappropriate or inaccurate to use these types of stresses for solid elements.
Element Nodal  or Node on Element : these stresses occur at the nodes of each individual element.
This means that there are multiple stresses at any one node due to the contribution of each element.
Typically this results in a more conservative fatigue results since damage from the highest calculated
stress at a given node will be used in the analysis.
Nodal Averaged  or Grid Point Stresses : these are stresses that are averaged at the nodes due to all
the contributions from the associated elements. Since all contributions of stress from each associated
element are averaged to give only one stress (or stress tensor) per node, the resulting damage tends to
be less conservative than the element nodal approach. But the result may be more realistic since in
actuality only one stress state can exist at any node at any given point in time.
Stress Combination
For all cyclic loads in the time domain the fatigue analysis engine creates a stress tensor history, ij(t). In order
to make a fatigue calculation, we need to reduce this stress tensor to a scalar value, so that we can cycle count
it and compare the resulting cycles to an S-N curve or curves. This process is called stress combination. The
available options for combined stress damage parameters are:
Abs Max Principal
Signed von Mises
Signed Shear
Critical Plane
In general, a stress tensor has 9 components, but due to symmetry, this reduces to 6.
However, the majority of fatigue cracks initiate at free surfaces. At a free surface, we can assume that there is
no direct or shear stress applied to the surface. This means that if we choose an appropriate Cartesian
coordinate system - one where the z-axis is a surface normal - all stress components containing a “z” disappear
and we are left with a stress tensor with only 3 non-zero components.
See the glossary term on Surface Resolved Stresses  for details of surface resolution. If the stresses are resolved
to the plane of the surface, the zz, yz and zx stress components will be ignored (assumed to be zero). 2-D
stresses may be processed more quickly.ijxxxyzx
xyyyyz
zxyzzz
ijxxxy0
xyyy0
000&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 434
Main Index
Most of the combination methods require the determination of principal stresses. The principal stresses are
the eigenvalues of the stress tensor matrix.
In the case of 2-D stresses, the calculation of the 2 in-plane principal stresses reduces to the solution of a
quadratic:
The third principal in this case is the surface normal stress, which is always zero.
Whether the stress tensor is flagged as 2-D or 3-D, the result is three principal stresses 1,2,3 which are
ordered so that 1  2  3. These are useful for calculating the other combined stress options as follows.
Absolute Maximum Principal : The absolute maximum principal stress is defined as the principal
stress with the largest magnitude:
Signed von Mises: The signed von Mises stress is the von Mises stress, but forced to take the sign of
the Absolute Maximum Principal stress, i.e.,
Signed Shear : The Signed Shear stress is the Maximum Shear stress (Tresca Criterion), forced to
take the sign of the Absolute Maximum Principal stress. A factor of 2 is applied to ensure that the
parameter has the same value as the Absolute Maximum Principal stress under uniaxial loading
conditions.
Critical Plane : The critical plane option is available only for stresses flagged as 2-D. The normal
stress is calculated and rainflow counted on multiple planes. The critical plane is the plane with the
most predicted fatigue damage. The planes on which the normal stress is determined have normals
that lie in the plane of the physical surface, i.e., in the x-y plane of the 2-D stress results coordinate
system. The orientation of each plane is defined by the angle  made with the local x-axis.  See
glossary term Critical Plane Analysis .
The stress on each plane is calculated from:
can take the values 0, 10, 20, 30, …170 degrees.principalxxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;  2
xy2+  =
AMP3= if31otherwiseAMP 1=
SVMAMP
AMP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;12–223–231–2+ +
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-  =
SShAMP
AMP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;13–  =
xxyy+
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;xxyy–
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; 2xy2sin + cos + =&lt;/p&gt;
&lt;p&gt;435 APPENDIX
Glossary
Main Index
Maximum Principal : Maximum principal is the maximum principal stress 1. It may be smaller in
magnitude than the minimum principal stress and should be used with caution. If the three
principal stresses are 1, 2,3 where 123, this is 1. Use with caution as this isn&amp;rsquo;t a
recommended damage parameter.
von Mises : This is the von Mises stress where 1, 2, 3 are the three principal stresses. It is always
positive (not signed by the absolute maximum principal stress) and should be used with caution.
Shear : The shear stress is the Maximum Shear stress (Tresca Criterion), i.e.,  sh =1-3 where&lt;br&gt;
1, 2,3 are the three principal stresses and 123. A factor of 2 is applied to be
consistent with the Signed Shear parameter. This is always positive and is not recommended as a
damage parameter.
Stress Concentration Factor, Kt
This is a factor which relates stress at one point in a structure to stress at another point. For example, the
stress concentration factor for a large plate with a hole is three (3). This relates the nominal stress (P/A) at an
area away from the hole to the stress at the radius of the hole. Concentration factors have come about due to
the fact that it is difficult to place a measurement device directly on the highest stressed area. Therefore some
factor had to be established to convert measured response to actual responses at critical locations. In FE
fatigue based analysis, Kt is generally taken as unity (1), since in this case we do know the stress at the critical
area. In fact we know the local stress at all locations.VM12–223–231–2+ +
2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 436
Main Index
Stress Intensity
In simplistic terms, this is the driving force that causes a crack to propagate forward. It controls the stress
around a crack tip and is know as K (not to be confused with Kt or Kf, the stress and fatigue concentration
factors). When the magnitude of K reaches the fracture toughness of a material, failure occurs. K is a function
of the crack length, a, the nominal or far field stress away from the crack, and other geometric dimensions of
the component or structure and has units of stress-length1/2.
Stres s-Life (S -N)
This is a fatigue life prediction method commonly referred to as “total life” because it does not make a
distinction between initiating or propagating a crack but instead considers only the total life of the
component until failure into two or more pieces. The method is called “stress-life” because it relates nominal
or local stress to life. It was the first method of fatigue life prediction conceived by the German, August
Woehler in the late 1800’s due to his work in the railway industry. His famous rotating-bending tests gave
rise to the concept of the S-N curve. These curves are generally denoted in log units and some materials
exhibit a “fatigue limit,” a stress level below which no fatigue failures will occur.&lt;/p&gt;
&lt;p&gt;437 APPENDIX
Glossary
Main Index
The standard S-N curve consists of 3 linear segments on a log-log plot. The central section has the formula
where Nf is the number of cycles to failure.
NC1 defines the point on the curve where it transitions to the second slope b2. If b2 is set to zero, this acts
as a fatigue limit. &lt;br&gt;
At lives of less than 1000 cycles, the slope of the curve may be modified to take into account the limitation
in fatigue strength imposed by the static strength of the material, so that, at a life of 1 cycle, the maximum
stress is equal to the UTS.
The fatigue cutoff is a numerical limit, normally set at around 1E30 cycles. It has no physical interpretation.
The basic operation of the standard S-N analysis can be summarized in the following diagram.
 SRI1Nfb1=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 438
Main Index
Figure 0-1  Basic S-N analysis engine steps
A typical S-N analysis has the following basic steps, which are executed for each analysis entity (Node,
Element, Node-on-Element), shell surface and critical plane where appropriate.
1.The stress tensor history, as a function of time or data points, is assembled from the information
provided in the load provider. This applies to time-series, time step, constant amplitude and hybrid
load providers.
2.From the stress tensor, extract a combined stress parameter (Abs Max Principal, Signed von Mises,
Signed Shear or Critical Plane).
3.Rainflow count the combined stress history to obtain a list of rainflow cycles, each with a known range
and mean value.
4.Calculate and accumulate damage from S-N curve definitions.
Smith-Watson-Topper (STW) Me an Stress
This is a mechanism to correct for non-zero mean stress for the strain-life method. See glossary term Mean
Stress Correction .
Stress-S train Relationship
The local strain ( -N) approach requires that the cyclic stress-strain behavior be modelled. This requires that
we know the relationship between stress amplitude and strain amplitude (cyclic stress-strain curve), and how
to predict the shape of hysteresis loops. The uniaxial cyclic stress strain curve is modelled using a Ramberg-
Osgood relationship.
Masing’s hypothesis is used to predict the shape of each hysteresis loop by doubling the size of the cyclic stress-
strain curve.
aa
E&amp;mdash;&amp;mdash;a
K&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;439 APPENDIX
Glossary
Main Index
The relationship between the two curves is illustrated below.
If SEc &amp;gt; 0, then the design criterion (certainty of survival) will also adjust the stress strain behavior as follows,
based on the number of standard errors from the mean:
The effects of this adjustment can be counter-intuitive, particularly when the Smith-Watson-T opper method
is being used. It is probably best to leave SEc set to 0.
E&amp;mdash;&amp;mdash;-2
2K&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;=

E&amp;mdash;&amp;mdash;-2
2K&amp;mdash;&amp;mdash;&amp;mdash;1
n&amp;mdash;-&lt;/li&gt;
&lt;li&gt;10zSEc – =&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 440
Main Index
Stress vs. S train
Note that -N calculations may be based on linear stresses or linear strains from the finite element (FE)
analysis. If stresses ij are used, they have to be converted to linear strains ij at the beginning of the
calculation, using Hooke’s Law.
Where
G is the shear modulus and e is the elastic Poisson ratio.
Note that when 2-D linear strains are obtained from shell elements, the out-of-plane z-strains are frequently
not calculated by the FE code. However, it is not correct to assume that these are zero. In these circumstances
the out-of-plane strain is calculated from the in-plane strains and the Poisson ratio as follows:
Surface Fin ish/Treatment
Surface finish and treatment can have a significant effect on fatigue behavior. Rough surface finishes, e.g., due
to machining marks, will in general reduce the fatigue strength, whereas surface treatments are often applied
to increase the fatigue strength.
Surface finish and treatment effects are modelled in the S-N and -N analysis by means of a single surface
factor Ksur. This works in a different way from the Scale Factor and Offset  described above, with which it
should not be confused. The Surface Factor is used to adjust the material curve. The application is slightly
different for the S-N and -N methods, but the basic principal is the same – the surface factor is applied to
the fatigue strength of the material in the high cycle (long-life) regime, but the effect reduces in the low cycle
(short-life) regime.
Standard S-N curves are modified by changing the slope and intercept of the central portion of the
S-N curve so that the fatigue strength is reduced by a factor Ksur at life Nc1 (the transition life), but
remains the same for life 1000 cycles.
Bastenaire data is modified by multiplying the Bastenaire fatigue limit parameter EB by Ksur
resulting in shifting the curve.xxxx
E&amp;mdash;&amp;mdash;&amp;ndash;ve
E&amp;mdash;&amp;ndash;yyzz+  – =
yyyy
E&amp;mdash;&amp;mdash;&amp;ndash;ve
E&amp;mdash;&amp;ndash;zzxx+  – =
zzzz
E&amp;mdash;&amp;mdash;-ve
E&amp;mdash;&amp;ndash;xxyy+  – =
xyxy
2&amp;mdash;&amp;mdash;-xy
2G&amp;mdash;&amp;mdash;&amp;ndash; = = GE
21ve+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
zzvexxyy+  –
1ve–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;441 APPENDIX
Glossary
Main Index
For all the other S-N options, that is multiple mean, multiple R-ratio, or Haigh curves, all the stress
values (Amplitude, Range or Max stress) are multiplied by a factor, say Ksur’ which is a function of
Ksur and the life value Nf corresponding to the stress value.
For Nf  1E3, Ksur’ = 1.0
For Nf  Ne, Ksur’ = Ksur
For 1E3 &amp;lt; Nf &amp;lt; Ne, Ksur’ is interpolated logarithmically as follows:
Ksur is the product of three factors, which can be defined via the material map. Each of these has default value
1.
Ksur = (KTreatment) x (KUser) x (KRoughness)
KTreatment  - A factor used to adjust the fatigue strength to take into account surface treatment. A
factor &amp;gt; 1 will result in an improvement in fatigue strength.
KUser  - A factor used to adjust the fatigue strength for any unspecified reason. A factor &amp;gt; 1 will
result in an improvement in fatigue strength.
KRoughness  - defined in three different ways, depending on the setting of the Surface Roughness
Type. The roughness factor normally provides an indication of the fatigue strength relative to a
polished surface condition, but in practice it is relative to whatever the surface condition of the
material was on the specimens used to derive the material properties.  The three methods for creating
a surface roughness factor (KRoughness) are:Ksur&amp;rsquo;=10Ksur3 Nf log– 3 Ne log–  log
Modifications of standard S-N curves to
take into account surface condition.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 442
Main Index
•Descriptive  - if one of the surface roughness descriptions is selected (Polished, Ground, Machined
etc.) the FKM method described above will be applied, using one of a number of pre-set values
for the surface roughness RZ. The values are given in the following table:
•Enter Roughness Factor  - if Surface Roughness Type = Enter Roughness Factor, the Surface
Roughness Factor KRoughness (KR) may be set directly, e.g., based on the user’s experience, or
on experimental evidence.
•Enter Surface Roughness  - if Surface Roughness Type = Enter Surface Roughness, the user should
enter a value for the Surface Roughness Rz in m. This is the average surface roughness according
the German standard DIN 4768. The Surface Roughness Factor KR will then be calculated, based
on the strength and type of material (for example, stronger materials are in general more sensitive
to surface finish, and cast materials less so). The method for calculating KR is taken from the FKM
Guideline “Analytical strength assessment of components in mechanical engineering”.
If Rz  1 m, KR = 1.
Otherwise:
KR = 1-aR.log(RZ).log(2Rm/Rm,N,min )
Rm is the UTS in MPa
Rm,N,min  and aR are constants.
Values of the constants are a function of the type of material and the UTS. They are defined in
the following table. In order for the calculation to work, the material type number must be
defined in the material data set, and must be one of the type numbers specified in the table.Table 0-3  Surface Roughness (RZ) Values Corresponding to Surface Finish Descriptors
Condition RZ (m)
Polished 0
Ground 12.5
Machined 100
Poor machined 200
As rolled 200
As cast 200&lt;/p&gt;
&lt;p&gt;443 APPENDIX
Glossary
Main Index
GS = cast steel and heat treatable cast steel, for general purposes
GG = cast iron with lamellar graphite (grey cast iron)
GGG = nodular cast iron
GT = malleable cast iron
In the case of the -N method, the effect of the surface condition is modelled by changing the slope of the
elastic part of the strain-life curve so that the fatigue strength at the endurance limit Ne is reduced by the
surface factor.
If the surface factor is denoted Ksur, the modified slope b’ is calculated from:
Note that if Ne is not defined, the fatigue cutoff Nc will be used instead.Table 0-4  Constants for Derivation of Surface Roughness Factor KR from Roughness Rz.
Material Steel GS GGG GT GGWrought Al
alloysCast Al
alloys
Material type
number
(CODE)13,14,16-
22-25,26-
999-12,15 5-8 2-4 1 100-105 106
aR .22 .20 .16 .12 .06 .22 .20
Rm,N,min /MPa 400 400 400 350 100 133 133
bbKsur log
Ne log&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; –=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 444
Main Index
Surface Resolved Stresses
Surface resolved stresses are the stress on the surface of a structure or component which is said to be in a state
of plane stress. The two principal stresses are in the plane of the surface while the third principal which is
normal to the surface is zero. Finite element shell element models produce surface resolved stresses by default.
However many solid element models produce stress results in elemental coordinate systems and need to be
transformed into surface resolved stresses. Surface resolved stresses are needed to correctly calculate biaxiality
ratios and perform multiaxial assessments.
Time History Compression
The time taken to run a fatigue analysis is a function of the number of entities (nodes and elements), load
cases (for superposition events), the type of analysis ( -N is somewhat slower than S-N) and for time-series
loadings, the number of data points in the time series. One way of reducing the time taken to run an analysis
is to reduce the number of data points to be processed. A means of doing this that applies to time-series only,
is peak-valley compression. In effect, this provides the option of reducing the number of points in the time-
series inputs before linear superposition.
Consider the simple example below. Peak valley extraction reduces the time history to seven turning points.
At the same time, the time history is rainflow cycle counted, and any cycles that have ranges less than a
specified Gate value are discarded (LOAD option). The Gate value can be expressed either as an absolute
value in the same units as the time history, or as a percentage of the maximum range of the time history.
For example, in the time history illustrated, we might use a gate value of 25%. First, the points labelled 1 to
7 are identified as turning points, and the rest are discarded. Rainflow Cycle Counting  this history identifies
3 cycles, formed by:
Points 1 and 4 – a range of 25 (in whatever units)
Points 2 and 3 – a range of 10
Points 5 and 6 – a range of 6
Because they are associated with a cycle that has a range of less than 25% of the maximum range, points 5
and 6 are also discarded.&lt;/p&gt;
&lt;p&gt;445 APPENDIX
Glossary
Main Index
Finally, the list of turning points processed looks like this.Note that the horizontal axis is now points and not
time:
When multiple channels are processed, it is important to maintain the synchronization between channels.
For this reason, when multiple channels are processed, after the peak-valley points to be retained in each
channel have been identified, the corresponding points in time from all other channels are also retained,
whether or not they are turning points. Fewer points will in general be discarded than would be the case for
a single channel.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 446
Main Index
Note that when setting the value of the cycle gate, there is a trade-off between the speed of processing and
accuracy. The bigger the gate value, the more potentially damaging cycles may be removed.
Note also that it is possible in certain circumstances that using this feature may eliminate the most damaging
loads from the loading history. For example, consider a simple example – a cantilever beam loaded in
combined tension-compression and bending, where the tension and bending have similar stress levels at the
root of the beam, with sinusoidal loading and a 90 degree phase difference. The result is illustrated in below.
This shows the contributions to the stress from bending and tension-compression, and the combined stress.
The black crosses indicate the data points that are retained by peak valley slicing, and the black line represents
the combined stress that will be calculated after peak valley slicing. In this case, the use of peak-valley slicing
will result in an attenuation of the peak stress of about 40%.
This example represents a worst case scenario. If loading histories are represented by out-of-phase sine waves
(which might be the case in simulating a rotating shaft, for example), it would be advisable not to use time
history compression. However, in the majority of cases with multiple load cases and variable amplitude
loadings, peak valley slicing provides a very useful way of reducing analysis times without great loss of
accuracy.
If in doubt, configure a second analysis run with no time-history compression, which re-analyzes the most
critical entities from the first run.&lt;/p&gt;
&lt;p&gt;447 APPENDIX
Glossary
Main Index
Using the FAST option gives a much greater degree of data reduction, rather like applying peak valley
extraction with a gate of 99.99%. Compression is applied, which retains the points corresponding to the
maximum and minimum values of each channel (time history), including the corresponding points from all
the other channels. It approximates the worst cycle, but discards many other damaging cycles. This method
is really only intended to be used as a way of identifying the most highly stressed regions of a structure for
more accurate analysis in a subsequent run.
When running a duty cycle, time compression operates on each event in the duty cycle independently.
Total Life
See glossary term Stress-Life (S-N) .
Transfer Function
A T ransfer Function is a way of relating one quantity to another. In the frequency domain the structure is
modeled by a linear Transfer Function relating input loads to output responses. The output from the model
is expressed as a PSD. In frequency response analysis these T ransfer Functions are determined by subjecting&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 448
Main Index
the model at the input load point to a series of sine waves with unit amplitude over the frequency range of
interest. Multiplying the input PSD of load by the T ransfer Function then gives the response PSD.
Unia xial
This is the stress state of a component or location in a component where only one principal stress exists, all
others being zero. The biaxiality ratio, ae, defined as the minimum in-plane stress divided by the maximum
in-plane stress (for surface stresses), is zero in this case. The principal stress is also stationary; that is, the
principal stress is always in the same direction and not rotating such as a rod in tension.
White Noise
White noise is a signal which contains frequency content from all frequencies and when converted to the
frequency domain, is a constant line. A sharp sudden impact is also a form of signal which contains content
at all frequencies.
Wide Ba nd
Wide band is a signal which contains frequency content at more than one frequency which when converted
to the frequency domain can appear as multiple spikes or as a broad curve spanning multiple frequencies.PSDinputTF PSDresponse=&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P24</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_024/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_024/</guid>
      <description>
        
        
        &lt;p&gt;References
References&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 450
Main Index
References1:
1.Bendat, JS. Probability functions for random responses. NASA report on contract NAS-5-4590,
(1964).
2.N W M Bishop and F Sherratt, Fatigue life prediction from power spectral density data.     Part 1,
traditional approaches and   Part 2, recent developments. Environmental Engineering, 2, (1989).
3.MIL-STD-810G, Department of Defence Test Methods Standard: Environmental Engineering
Considerations and Laboratory Tests, 31 October 2008.
4.Metallic Materials Properties Development and Standardization (MMPDS), DOT/FAA/AR-
MMPDS-01, January 2003.
5.N. E. Dowling, Mean Stress Effects in Stress-Life and Strain-Life Fatigue, Fatigue 2004: Second SAE
Brasil International Conference on Fatigue, June 2004, São Paulo, Brasil, 14 pages.
6.N W M Bishop and F Sherratt, Finite Element Based Fatigue Calculations, NAFEMS book, 2000.
7.Sweitzer, K. A., Bishop, N. W. M., and Genberg, V. L., Efficient computation of spectral moments
for determination of random response statistics, International Conference on Noise and Vibration
Engineering - ISMA, Leuven, BE, 2004
8.T Palmer et al., Solver Embedded Fatigue, SAE Technical Paper 2014-01-0904, 2014
9.Segalman, DJ, et al, An efficient method for calculating RMS von Mises stress in a random vibration
environment, Structural Dynamics and Vibration Control Department Sandia National Laboratories
10. Pitoiset, X, Preumont, A, et al, Tools for a multiaxial fatigue analysis of structures submitted to
random vibrations, Procs European Conference on Spacecraft Structures Materials and Mechanical -
ESA SP-428, February 1999.
11. Matsuishi, M. &amp;amp; Endo, T. (1968) Fatigue of metals subjected to varying stress, Japan Soc. Mech.
Engineering.=
12. Bendat, JS. Probability functions for random responses. NASA report on contract NAS-5-4590,
(1964)
13. Bishop, NWM et al, Using MSC Fatigue to Estimate the Fatigue Damage Caused to Vibrating
Automotive Components, MSC Software Automotive User Conference, 1999, Munich, Germany
14. Bishop, NWM et al, Advances Relating to Fatigue Calculations for Combined Random and
Deterministic Loads SAE Paper 2014-01-0725, 2014
15. Bishop, NWM et al, Fatigue calculations for multi input random and deterministic loads in the
frequency domain, UK 2014 NAFEMS paper
16. MMPDS data can be found and extracted from DOT/FAA/AR-MMPDS-01 ( Metallic Materials
Properties Development and Standardization Handbook ).
1 Many more references can also be found in the time domain  (App. ) in the MSC Nastran Embedded Fatigue
User’s Guide  (App. ) in the MSC Nastran Embedded Fatigue User’s Guide .&lt;/p&gt;
&lt;p&gt;451 APPENDIX
References
Main Index
Further Read ing:
1.“Wohler’s Experiments on the ‘Fatigue of Metals,” Engineering Editorial, March 24th, 1871, p199
et seq.
2.Bannantine, Julie A., Comer, Jess J., and Handrock, James L., “Fundamentals of Metal Fatigue
Analysis,” Prentice Hall, ISBN 0-13-340191-X, 1990.
3.Fuchs, H.O., and Stephens, R.I., “Metal Fatigue in Engineering,” John Wiley &amp;amp; Sons, ISBN 0-471-
052647, 1980.
4.Collins, J. A., “Failure of Materials in Mechanical Design — Analysis, Prediction, Prevention,” John
Wiley &amp;amp; Sons, ISBN 0-471-05024-5, 1981.
5.“Fatigue Under Complex Loading — Analysis and Experiments,” Society of Automotive
Engineering, SAE AE-6, 1974.
6.Hertzberg, R. W., and Manson, J. A., “Fatigue of Engineering Plastics,” Academic Press, ISBN 0-12-
343550-1, 1980.
7.“Multi-axial Fatigue — Analysis and Experiments,” Society of Automotive Engineering, SAE AE-14,
ISBN 0-89883-780-4, 1989.
8.Pickard, A. C., “The Application of 3-Dimensional Finite Element Methods to Fracture Mechanics
and Fatigue Life Prediction,” EMAS, ISBN 0-947817-22-0, 1986.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide 452
Main Index&lt;/p&gt;
&lt;p&gt;MSC.Fatigue Quick Start Guide
Index
Embedded Vibration Fatigue User’s Guide&lt;br&gt;
Main Index
A
about this book, 4, 12
allowable cycles to failure, N, 119
amplitude, 370
analysis units, 77
assumptions, 2, 162, 342
August Woehler, 370
B
Basquin, 239
Bastenaire, 371
Baushinger effect, 396
beta-solution, 371
biaxiality ratio, 372
broad band, 114, 372
bulk data, 30
DRESP1 , 30, 64
DTI UNITS , 30, 63
FTGDEF , 30
FTGEVNT , 30
FTGLOAD , 30
FTGPARM , 30, 45
FTGSEQ , 30, 51
MATFTG , 30
RANDPS , 30, 58
TABLEM1 , 30, 42, 44, 77
TABRND1 , 30, 59
TIM2PSD , 30, 61, 353
UDNAME , 30, 60
C
case control, 30, 74
clipping, 47, 118
compliance, 371, 374
component S-N curve, 375
correlated loading, 292
crack growth, 375
crack growth rate, 382
crack initiation, 3, 375critical plane analysis, 376
cycle counting, 45, 376
cyclic hardening, 381
cyclic loading, 79
cyclic material properties, 380
cyclic softening, 381
cyclic stress-strain, 40
cyclic stress-strain curve, 263
D
da/dN curve, 382
damage, 383
damage equation, 22, 119
damage response, 64
damage sensitivity, 199
damage summation, 383
damage tolerant, 383
derived materials, 402
deterministic, 5, 80, 114, 282, 383
deterministic loading, 50
Dirlik solution, 26, 116
DRESP1, 30, 64
DTI UNITS, 30, 63
durability, 2, 384
duty cycle, 384
dynamic transient, 321
E
elastic, 387
elastic-plastic correction, 387
e-N curve, 40
endurance limit, 392
equivalent units, 51
event processing, 392
events, 211
F
factor of safety analysis, 45, 66
fail safe, 392Index&lt;/p&gt;
&lt;p&gt;Embedded Vibration Fatigue User’s Guide
454
Main Index
failure criterion, 392
fatigue, 2, 392
FATIGUE case control, 30
fatigue concentration factor, 392
fatigue cutoff, 40
fatigue damage equation, 22, 119
fatigue ductility exponent/coefficient, 40
fatigue limit, 393
fatigue parameters, 78
fatigue response, 64
fatigue strength exponent/coefficient, 40
fatigue units, 51, 402
filtering output, 140
FKM mean stress correction, 410
Fourier analysis, 4, 393
Fourier transform, 10
Fourier transformation, 61, 80, 353
fracture, 2, 393
fracture mechanics triangle, 393
frequency domain, 5, 394
frequency domain process, 22
frequency response, 4
FTGDEF, 30
FTGEVNT, 30
FTGLOAD, 30
FTGPARM, 30, 45
FTGSEQ, 30, 51
further reading, 451
G
gamma, 40
Gaussian, 394
gaussian assumption, 163
Gerber, 137
Gerber mean stress, 49, 394
Gerber mean stress correction, 407
Goodman, 137
Goodman mean stress, 49, 394
Goodman mean stress correction, 405
H
Haigh, 395
harmonic loading, 171
high cycle fatigue, 76, 395
Hoffmann-Seeger, 389Hoffman-Seeger notch correction, 395
hysteresis, 264, 396
I
interpolation, 396
inverse Basquin, 239
inverse Fourier transform, 396
irregularity factor, 12, 14, 401
item codes, 66
K
k-solution, 371, 402
L
life, 402
life estimation process, 17
life response, 64
limiting output, 140
linear elastic fracture mechanics, 402
linearity assumption, 163
loading
consecutive deterministic , 282
consecutive harmonics , 288
consecutive random , 281, 284, 286
correlated , 292
deterministic , 282
harmonics , 288
multiple input random , 289
sine wave , 282
static offset , 281
uncorrelated , 292
loading events, 211
local strain, 3
local strain method, 402
low cycle fatigue, 402
M
margin of safety, 46, 216
material cut-off, 402
material generation, 402
material properties, 40
material S-N curve, 75, 404
MATFTG, 30
maximum frequency, 47
maximum stress, 47&lt;/p&gt;
&lt;p&gt;455 INDEX
Main Index
mean crossings, 12, 14
mean offset, 133
mean stress, 40, 404
mean stress correction, 45, 49, 137, 244, 317, 405
Miner’s constant, 413
Miner’s rule, 383
MMPDS, 40, 49, 137, 242
model units, 77
moments of PSD, 12, 47, 113
monotonic material properties, 413
Morrow, 317, 411
Morrow mean stress, 49, 413
multiaxial stress state, 414
multiple input random loading, 275
N
narrow band, 11, 114
narrow band loading, 50
narrow band signal, 414
narrow band solution, 24, 193
narrow band sweeps, 187
narrow bands, 187
simultaneous , 199
Neuber, 387
Neuber notch correction, 414
Neuber tolerance, 40
Neuber’s rule, 266
non-proportional loading, 414
notch correction, 45, 414
number of peaks, 12, 14
O
offset, 133, 414, 418
output files, 32, 35, 103
P
Paris equation, 415
peak RMS, 47
peaks, 12, 14
peak-valley extraction, 45, 415
phase relationship, 172
plastic limit load correction, 424
plastic load limit correction, 415
plasticity, 415plasticity correction, 45
power spectral density (PSD), 5, 8, 79, 415
probability density function (PDF), 15, 21, 416
probablistic, 416
proportional loading, 416
PSD moments, 12
R
rainflow, 45
rainflow cycle counting, 19, 116, 160, 264, 416
rainflow range methods, 46
random assumption, 165
random loading, 50, 71, 79, 162
random response, 259
random vibration, 417
RANDPS, 30, 58
range, 417
reading, 451
reference location, 417
references, 450
regression analysis, 418
residual stress, 418
response, 64
result files, 32, 35, 103
results, 85, 101, 105
results validation, 305
root mean square (RMS), 140
root mean square (rms), 418
r-ratio, 416
S
safe life, 418
safety factor, 45, 66
sample rate, 418, 424
scale factor, 66, 418
scale factors, 45
scatter, 345
seam welds, 419
Seeger-Heuler, 424
signal characterization, 11
signal parameters, 12
sine sweep, 50
sine sweeps, 151
sine wave loading, 50
single input random loading, 71&lt;/p&gt;
&lt;p&gt;Embedded Vibration Fatigue User’s Guide
456
Main Index
Smith Watson Topper mean stress, 49
Smith-Watson Topper, 412
Smith-Watson-Topper (SWT), 137, 317
S-N analysis methods, 235
S-N Curve, 44, 76
S-N curve, 20, 40, 436
Basquin , 239
MMPDS , 242
tabular , 237
S-N method, 3
SOL 111, 321
spectral moments, 12, 47, 113, 426
spectral statistics, 12
spot welds, 426
static offset, 133
stationarity assumption, 165
statistical scatter, 345
Steinberg solution, 26
strain combination, 429
strain hardening, 430
strain softening, 432
strain vs. stress, 432, 440
strain-life, 3, 40, 316
strain-life curve, 430
stress BINs, 47
stress clipping, 47, 118
stress combination, 433
stress combinations, 48
stress concentration, 392, 435
stress intensity, 436
stress offset, 133
stress range, 417
stress range intercept, 40
stress vs. strain, 432, 440
stress/strain combination, 45
stress-life, 3, 40
stress-life curve, 436
stress-strain curve, 263
stress-strain relationship, 438
STW mean stress, 438
surface finish/treatment, 440
surface resolved stress, 444
T
TABLEM1, 30, 42, 44, 77
TABRND1, 30, 59TIM2PSD, 30, 61, 353
time domain process, 17
time history compression, 45, 444
TOPRMS, 140
total life, 3, 447
transfer function, 6, 15, 447
transient analysis, 321
U
UDNAME, 30, 60
uncorrelated loading, 292
uniaxial stress, 448
units, 77
upward zero crossings, 12, 14
UTS(Ultimate Tensile Strength), 40
V
validation, 305
von-Mises Stress, 111
W
Walker, 40, 49, 137, 317
welds, 419, 426
white noise, 11, 114, 448
wide band, 11, 114, 448
Y
YS(Yield Strength), 40
Z
zero crossings, 12, 14&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P3</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_003/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_003/</guid>
      <description>
        
        
        &lt;p&gt;Main Index
Chapter 2: Introduction to User Interface
2Introduction to User Interface
Overview
FATIGUE Case Control
Fatigue Element Definitions
Fatigue Parameters
Fatigue Loading
Analysis Model Units
Fatigue Optimization&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Overview30
Main Index
Overview
Vibration (frequency domain based) fatigue analysis using MSC Nastran is very similar, and in many ways
identical, to the time domain based fatigue analysis. It consists of a FATIGUE case control output request
and various bulk data to define cyclic material properties, loading definitions and various other parameters,
each of which is described in this Chapter. A brief description of each entry is given below. Details of each
entry are given in subsequent sections of this Chapter. Only those items applicable to vibration fatigue are
shown.
Case Control
Bulk DataFATIGUE Request a vibration fatigue analysis and resultant life and damage output. See
FATIGUE Case Control, 33 .
DRESP1 Define fatigue responses in optimization (SOL200) runs. See Fatigue
Optimization, 64 .
DTI, UNITS Specify the model analysis stress units. See Analysis Model Units, 63 .
FTGDEF Define areas (elements) of the model on which to perform fatigue analysis.
See Fatigue Element Definitions, 36 .
FTGPARM Define various fatigue parameters such as vibration fatigue analysis methods.
See Fatigue Parameters, 45 .
FTGEVNT Define loading events consisting simultaneously occurring random, static,
deterministic, or other loading definition. Fatigue Loading, 49 .
FTGLOAD Associate random loading to RANDPS entries or static, deterministic, or
other loading to particular SUBCASEs of a frequency response analysis (SOL
108 or 111). Fatigue Loading, 49 .
FTGSEQ Define a sequence of load events, sometimes referred to as a duty cycle.
Fatigue Loading, 49 .
MATFTG Define cyclic material properties in the form of S-N or -N data. See Fatigue
Element Definitions, 36 .
RANDPS Associate PSD loading to particular SUBCASEs of a frequency response
analysis (SOL 108 or 111). Fatigue Loading, 49 .
TABLEM1 Define tabular S-N data. See Fatigue Element Definitions, 36 .
TABRND1 Define actual random loading in the form of a PSD. Fatigue Loading, 49 .
TIM2PSD Convert time loading into equivalent PSDs. Fatigue Loading, 49 .
UDNAME Associate an external file to a static or other loading. Fatigue Loading, 49 .&lt;/p&gt;
&lt;p&gt;31 CHAPTER 2
Introduction to User Interface
Main Index
Relationship Between Inputs
The relationship between each entry and other property entries is illustrated below.
Case Control (defines fatigue life output request):
FATIGUE[([ SORT1,SORT2],[ PRINT,PLOT],[FORMAT=CODE],[ BULK]) ] =  n
Bulk Data:
1 2 3 4 5 6 7 8 9 10
FTGPARM ID TYPE FACTOR NTHRD LOGLVL
&amp;ldquo;STRESS&amp;rdquo; COMB CORR PLAST LOC
&amp;ldquo;FOS&amp;rdquo; DURATION
“VIBFTG” ATYPE MAXSTR CLIPLVL MAXPEAK STRBINS MAXFREQ NCALC
FTGDEF ID TOPRMS
&amp;ldquo;ELSET&amp;rdquo; ELSID1  ELSID2  ELSID3&lt;br&gt;
&amp;ldquo;XELSET&amp;rdquo; XELSID1 XELSID2 XELSID3 XELSID4 XELSID5 XELSID6 -etc-
FTGSEQ ID EVNTOUT METHOD
FID1  N1 FID2  N2 FID3  N3 -etc-
FTGEVNT ID FLOAD1  FLOAD2 FLOAD3 FLOAD4 FLOAD5 FLOAD6 -etc-
FTGLOAD ID TID  LCID  LDM SCALE OFFSET TYPE
RANDPS SID J K X Y TID
TABRND1 TID XAXIS YAXIS
f1 g1 f2 g2 f3 g3 -etc.- ENDT
UDNAME UDID
NAME
TIM2PSD ID SRATE WINDOW FORMAT MEANS NSKIP
“EVENT” EVNTID1 T1 1
“MAP” LCID1 CHAN1 LCID2 CHAN2 -etc.-
MATFTG MID  CNVRT MATOUT
&amp;ldquo;STATIC&amp;rdquo; YS UTS TYPE
“SN”  SRI1 b1 Nc1 b2 Nfc&lt;br&gt;
&amp;ldquo;TABLE&amp;rdquo; VALUE1 TID1&lt;br&gt;
&amp;ldquo;MMPDS&amp;rdquo; A1 A2 A3 A4
&amp;ldquo;EN&amp;rdquo; Sf b c Ef n K GAMMA
SEe SEp SEc Ne FSN S TOLER
TABLEM1 TID XAXIS YAXIS
x1 y1 x2 y2 x3 y3 -etc.- ENDTWhat to Calculate
Where to Calculate
Random Loading}
MaterialsPoints to SET1, SET3, SET4
entries to define elements
Points to SUBCASE for TF stress/strain
extraction depending on TYPE
Points to UDNAME for FFT con -
version or STATIC offset depend -
ing on  TYPE
Associated to PSHELL,
PSOLID, et.c and corre -
sponding MAT1 entries.
Points to TABLEM1 for
defining discrete S-N
curves.Points to FTGLOAD of
TYPE  = PSD for FFT con -
version&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Overview32
Main Index
Output Fil es
Various output files are created during a fatigue analysis as described here.
&lt;!-- raw HTML omitted --&gt; refers to the jobname and &lt;!-- raw HTML omitted --&gt; refers to the FATIGUE  output request ID within a specific job.
&lt;!-- raw HTML omitted --&gt; refers to the location type ( N=element nodal, E=element center); &lt;!-- raw HTML omitted --&gt; refers to the layer ( W=worst layer,
T=top layer, B=bottom layer); &lt;!-- raw HTML omitted --&gt; refers to the event ID( S=sum of all events).
File Description
&lt;!-- raw HTML omitted --&gt;.f06
&lt;!-- raw HTML omitted --&gt;.f04
&lt;!-- raw HTML omitted --&gt;.logStandard Nastran output files containing results, statistics,
messages. Always check these files for possible errors if the job is
not running to completion properly. The fatigue results are always
printed in the &lt;!-- raw HTML omitted --&gt;.f06  file.
&lt;!-- raw HTML omitted --&gt;.MASTER
&lt;!-- raw HTML omitted --&gt;.DBALLNastran database necessary to restart jobs and to attach results to
a Patran database. The DBALL file can be very large. These files
are not created if job is submitted with scr=yes (scratch).
&lt;!-- raw HTML omitted --&gt;.op2 Nastran OUTPUT2 file that can be requested with the
PARAM,POST,1 parameter. Fatigue results are stored in the
&lt;!-- raw HTML omitted --&gt;.op2  file, which can also be attached to a Patran database.
Fatigue results are NOT stored in the &lt;!-- raw HTML omitted --&gt;.xdb  file, which is
requested with PARAM,POST ,0. Requesting an OUTPUT2 file
using PARAM,POST,-1, also does NOT store the fatigue results.
Please use only the &lt;!-- raw HTML omitted --&gt;.op2  produced with PARAM,POST ,1
or the &lt;!-- raw HTML omitted --&gt;.MASTER/DBALL  files to postprocess in Patran.
&lt;!-- raw HTML omitted --&gt;CFV.log Additional output containing information about the fatigue
analysis, which can be used for debugging purposes.
&lt;!-- raw HTML omitted --&gt;.csv Standard fatigue life/damage output for all requested entities in
the form of a comma separated file (CSV), which can be opened
directly in MS Excel. The FATIGUE  case control must have a
FORMAT=64 included to output a CSV file.
&lt;!-- raw HTML omitted --&gt;PSD.csv Output containing input and response PSDs and running
moment sums. By default a&lt;!-- raw HTML omitted --&gt;PSD.csv file is always generated,
which at a minimum contains the input PSD, stress transfer
function (TF) and result PSD for the critical entity.&lt;/p&gt;
&lt;p&gt;33 CHAPTER 2
Introduction to User Interface
Main Index
FATIGUE Case Control
All fatigue analyses must be initiated with a FATIGUE case control output request as described below.
Requests a fatigue analysis for use in frequency response (SOL 108 and SOL 111) runs.
Format:
Examples:
Two examples are shown here that are actually identical and use the default BULK option where bulk data
entries FTGDEF , FTGPARM , and FTGSEQ  of ID 100 are called out for the fatigue analysis.
FATIGUE=100
FATIGUE(BULK)=100&lt;!-- raw HTML omitted --&gt;RCC.csv Output containing rainflow cycle count data. This file is output
when LOGLVL is set to 1 or 2 on the FTGPARM  entry.
LOGLVL=1 outputs the damage sum for each event only.
LOGLVL=2 outputs damage for every stress range bin for each
event and the sum. Care should be taken as this can create a lot of
unnecessary data and severely degrade performance. Only the
entities of interest should be requested when this is done.
&lt;!-- raw HTML omitted --&gt;&lt;em&gt;&lt;!-- raw HTML omitted --&gt;&lt;/em&gt;&lt;!-- raw HTML omitted --&gt;_&lt;!-- raw HTML omitted --&gt;.els_fef
&lt;!-- raw HTML omitted --&gt;.res_tmplPatran neutral element results files that can be requested through
the FORMAT=128 option on the FATIGUE  case control. One
file is created for each event and the sum of all events indicated by
&lt;!-- raw HTML omitted --&gt;. The &lt;!-- raw HTML omitted --&gt; refers to either element nodal (N) or element
center (E) results. The &lt;!-- raw HTML omitted --&gt; refers to the layer: worst (W), top
(T), bottom (B). The corresponding is a template file used when
importing theses files into Patran for postprocessing.
&lt;!-- raw HTML omitted --&gt;&lt;em&gt;vmatftg&lt;/em&gt;&amp;lt; mid&amp;gt;.txt When MATOUT field is set to one on the MATFTG entry, a
debug text file of the fully derived material curve is written for each
material ID ( &lt;!-- raw HTML omitted --&gt;). This is also a CSV file, but with the .txt&lt;br&gt;
extension.File Description
FATIGUE Fatigue Output Request
FATIGUE(SORT1PRINT, PUNCH
PLOTFORMAT CODEBULK =FREQ
DFREQ
MFREQ)    n=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
FATIGUE Case Control34
Main Index
Remarks:
1.Both PRINT and PUNCH may be requested.
2.A single FATIGUE  case control is required to perform a single fatigue analyses and must be present
above the SUBCASE level. If not present, no fatigue analysis will occur regardless of the presence of
other bulk data related to fatigue analysis.
3.It is not necessary to include any case control STRESS output requests in order for the FATIGUE
output request to obtain the necessary stresses for the fatigue calculation.
4.For a single fatigue analysis, BULK=n points to a FTGDEF , a FTGPARM , and a FTGSEQ  (or
FTGLOAD ) entry, each with ID=n.
5.A fatigue analysis must have, at a minimum, loading and material data defined on the FTGSEQ  and
MATFTG  bulk data entries, respectively, for a fatigue analysis to be valid. FTGPARM  and FTGDEF&lt;br&gt;
entries can be absent, in which case, defaults will be used. Describer Meaning
SORT1 Printed output will be presented as a tabular listing of elements for each fatigue analysis
or event. In the case of duty cycle, where multiple events are output (EVNTOUT=1 on
FTGSEQ  bulk data), each event is presented as a separate fatigue analysis. Output
written to the OEFTG data blocks is always in SORT1 format.
SORT2 Printed output will be presented as a tabular listing of events for each element, node, or
angle. This is only applicable for duty cycle (loading sequences with more than one event&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EVNTOUT=1 on FTGSEQ  bulk data). If there is only one event, the output is
identical to SORT1. Output written to the OEFTG data blocks is always in SORT1
format.
PRINT The printer will be the output medium (default)   
PUNCH The PUNCH file will be the output medium.
PLOT Results will be generated but no printer output.
FORMAT Request that fatigue be output in specific file formats.
CODE Codes for specific file format output. See Remark 6. and 11.
BULK Specifies that the n refers directly to bulk data IDs of FTGSEQ , FTGPARM  and
FTGDEF  entries of the same ID to process. This is the only options available.
FREQ
DFREQ
MFREQSOL 200 only . Either of these specifies the FATIGUE  case control is for frequency
response (ANALYSIS=MFREQ or DFREQ) subcases in a SOL 200 optimization run.
This is not the default and must be specified if the FATIGUE  case control is referenced
on a DRESP1 of type FRFTG. See Remark 9. (Default=STATICS)
n ID of the FTGSEQ , FTGPARM , FTGDEF  bulk data entries of the same ID (BULK
option) to process.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;35 CHAPTER 2
Introduction to User Interface
Main Index
6.The following additional, optional, fatigue output file formats may be requested. The given codes
must be summed if multiple files are requested. Example: CSV file and FEF file CODE would be
64+128=192. Note the following:
•For multi-layered results, such as shells that compute top and bottom results, a separate file for
each is generated for FEF formats with the following designations in the name: _N or _E (for
element nodal or element center, respectively), _W or _T or _B (for worst layer, top layer or
bottom layer, respectively or _EVi (for event i, or _EVS  for summary only).
•Some output is not available for duty cycle jobs if EVNTOUT&amp;gt;0 on the FTGSEQ  bulk data
entry. Check messages if the f06 file if the requested output files are not being generated.
7.RESTARTs are not possible with FATIGUE  output request for SOL 108 and SOL 111.
8.Standard fatigue output is: File Format CODE
No additional output 0
CSV* File (Comma Separated - Excel File - .csv  extension) 64
FEF† (Patran Results File - produced with extension .els_fef ) 128&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The CSV file output request is also dependent on the LOGLVL field setting on
the FTGPARM  entry. By default a &lt;!-- raw HTML omitted --&gt;PSD.csv  file is always generated,
which at a minimum contains the input PSD, stress transfer function (TF) and
result PSD for the critical entity.
†. Also see Remark 11.
Stress-Life (SN) Analysis Strain-Life (eN) Analysis
LIFE (Seconds) LIFE (Seconds)
LOG of LIFE (Seconds) LOG of LIFE (Seconds)
LIFE (user units *) LIFE (user units)
LOG of LIFE (user units) LOG of LIFE (user units)
DAMAGE DAMAGE
LOG of DAMAGE LOG of DAMAGE
MAX STRESS † MAX STRESS
MIN STRESS ‡ MIN STRESS&lt;/li&gt;
&lt;li&gt;User defined time units are defined on by TUNIT field on the FTGSEQ  entry.
† Maximum stress is actually Mean Stress + MAXPEAK&lt;em&gt;RMS Stress.
‡ Minimum stress is actually Mean Stress - MAXPEAK&lt;/em&gt;RMS Stress. MAXPEAK is de -
fined on the FTGPARM  entry and is defaulted to 3.0.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Element Definitions36
Main Index
9.FREQ, DFREQ, MFREQ options are utilized in SOL 200 only. Fatigue and design sensitivity
analysis will be performed for the designated analysis type only. If one of FREQ, DFREQ, MFREQ
is specified, FATIGUE  case control must be associated with subcases containing
ANALYSIS=MFREQ or DFREQ for random vibration fatigue analysis and the fatigue DRESP1
response/constraints specified must be of RTYPE=FRFTG. For a SOL 200 run it is necessary to
include this option as it is not the default. STATICS is the default, which assumes optimization with
fatigue responses is associated with ANALYSIS=STATICS subcases.
10. For SOL 108/111 with FATIGUE  analysis, PARAM,SPARSEDR,no and PARAM,DDRMM,-1
both must be present. Otherwise, FATIGUE analysis will be skipped. Or, PARAM,SPARSEDR,yes,
which is default, can be used instead.
11. The FEF file output request produces PATRAN 2 style elemental ASCII results files that can be
imported directly into Patran for post processing. In order to import these files into Patran a template
file is also required in order to tell Patran how to map the columns of data in the files to proper,
meaningful labels. The analysis job produces both the FEF file and the corresponding template files.
For SOLs 108 and 111, the template file is called &lt;!-- raw HTML omitted --&gt;.res_tmpl , where &lt;!-- raw HTML omitted --&gt;  is the job name.
Jobs run with LOC=ELEM or NODE or NODA on the FTGPARM  entry create elemental based
FEF files or all SOL sequences. In Patran these files are imported under the File|Import  menu with
the Object  set to Results  and the Format  set to PATRAN 2els&amp;hellip; for elemental based FEF results files,
respectively. The Element Node Results  switch must be set to Connectivity Based  for proper import.
You may use the job produced template files to import the FEF files or you may use standard template
files provided with the Patran installation. The advantage of using the standard template files is that
you may select them directly from the list without navigating the file browser to the location of the
job produced template files. The disadvantage is that these files use more generic labels. The job
produced template files use labels that indicate the stress units and actual defined equivalent fatigue
units as defined by the job. When using the standard template files you must know which template
file to select based on the table below.
12. When a FATIGUE case control is present to perform random vibration fatigue analysis using SOLs&lt;br&gt;
108 and 111, only one FREQUENCY case control set is allowed for all transfer function SUBCASEs
and should be above the SUBCASE level or only present in 1st SUBCASE. The FREQUENCY set
cannot change from SUBCASE to SUBCASE or a fatal error is issued.
Fatigue Element Definitions
To perform fatigue analysis, locations on the model (elements) and specific material properties must be
specified. This is done with two main bulk data entries described here. The MATFTG  entry is required and
for each MATFTG  entry there must be a corresponding MAT1 entry, otherwise no cyclic material definitions
are available for the fatigue analysis. The other is the FTGDEF  entry used to limit the number of entities. If Job Type (SOLs 108, 111)Template Base File Name
(extension .res_tmpl )
Standard SN or N Analysis NEFV_standard_fef&lt;/p&gt;
&lt;p&gt;37 CHAPTER 2
Introduction to User Interface
Main Index
there is no FTGDEF  entry, then every element in the model associated to a MAT1 / MATFTG  entry will
be used in the fatigue analysis.
Defines elements and their associated fatigue properties to be considered for fatigue analysis for frequency
based SOLutions 108 and 111.
Format:
Examples:
Defines all elements of the model (that have fatigue material properties) for a frequency domain based fatigue
analysis but retains only those with RMS stress levels in the top 50% :
Defines actual element sets where IDs 14, 15, and 16 refer to either SET1, SET3, or SET4 entries that define
a set of elements for a spectral fatigue analysis but excludes all elements associated with ID 16FTGDEF Fatigue Element Definitions
1 2 3 4 5 6 7 8 9 10
FTGDEF ID TOPRMS TOPDM
G
&amp;ldquo;ELSET&amp;rdquo; ELSID1 ELSID2 ELSID3
ELSID4 &amp;hellip; &amp;hellip;
-etc.-
&amp;ldquo;XELSET&amp;rdquo; XELSID1 XELSID2 XELSID3 XELSID4 XELSID5 XELSID6 XELSID7
XELSID8 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
-etc.-
FTGDEF 22 50.0
FTGDEF 22
ELSET 14 15
XELSET 16&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Element Definitions38
Main Index
Remarks:
1.FTGDEF  bulk data entries are ignored if not selected by a FATIGUE  case control.  If no FTGDEF&lt;br&gt;
is present for a given fatigue analysis, all elements of the model that have fatigue material properties
defined will be used with default properties.
2.If a SET3 is specified, field 3 of the SET3 entry must be set to &amp;ldquo;ELEM&amp;rdquo;. The SET4 entry must be
specified to select elements by property ID. The following elements referenced by PSHELL, and
PSOLID properties are supported for vibration S-N and -N fatigue analysis: CQUAD4, CQUADR,
CQUAD8, CTRIA3,CTRIAR, CTRIA6, CHEXA, CPENTA, and CTETRA.
3.If only the XELSET flag is present, then the entire model is included in the fatigue analysis less the
excluded entities.
4.Use of TOPRMS allows the user to perform a 2-pass run to speed up the analysis times of very large
models and more quickly determine the critical damage locations. The first (1st) pass determines the
elements with the highest RMS stresses based on the stress combination (COMB field on FTGPARM&lt;br&gt;
entry). The second (2nd) pass computes damage on only the remaining elements. If TOPRMS is not
specified (or set to 100%), then a 1-pass analysis is done on all the specified elements regardless of
their RMS stress levels. This is the default scenario.Field Contents
ID Unique identification number called out by a FATIGUE  case control. (Integer &amp;gt; 0).
TOPRMS Specifies that only elements with RMS stress in the top specified percentage are to be
retained. So for example if there are 100 entities (elements or element nodes) in the
model and 20% TOPRMS is specified, then only those having RMS stress in the top
20 percentile are retained, which can significantly reduce the number of entities actually
analyzed for fatigue life. See Remark 4.
ELSET Flag indicating that a list of element set and property pairs will follow, defining the
elements and their associated properties for consideration in the fatigue analysis.
(Optional, Character = ELSET)
ELSIDi ID of a SET1, SET3, or SET4 entry listing entities of the model (elements) to be
included in the fatigue analysis. (Integer &amp;gt; 0).  See Remark 2.
XELSET Flag indicating that sets of elements to be excluded from the fatigue analysis will follow.
(Optional, Character).  See Remark 3.
XELSIDi ID of a SET1 or SET3 entry listing elements of the model to be excluded from the
fatigue analysis. (Integer&amp;gt;0).  See Remark 2.&lt;/p&gt;
&lt;p&gt;39 CHAPTER 2
Introduction to User Interface
Main Index
Defines a list of property IDs
Format:
Example:
Remarks:
1.THRU option may not appear in field 5 or 9 on first line or field 2 or 9 for continuation lines.
2.Referenced from the FTGDEF  entry.SET4 Property Set Definition
1 2 3 4 5 6 7 8 9 10
SET4 ID CLASS TYPE ID1 ID2 ID3 ID4 ID5  
  ID6 ID7 ID8 -etc-  
SET4 22 PROP  PSOLID 1 THRU 20    
Field Contents
ID Unique identification number. (Integer&amp;gt;0).
CLASS Set to &amp;ldquo;PROP&amp;rdquo;. (Character=PROP; no default)
TYPE Property type. Valid options are PSOLID and PSHELL for vibration fatigue.
IDi Property IDs of the specified TYPE flag.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Element Definitions40
Main Index
Defines fatigue ma terial p roperties for frequency domain based SOLs 108 and 111.
Format:
Examples:
Use of only the “STATIC” line. No S-N or -N analysis is carried out and only the random response is
calculated (resultant stress PSD output). See Remark 3.
If EN line is included with only n’ and K’ defined, then the random-only response is calculated with Neuber
notch correction.
This example contains a line specifically defining the parameters for an S-N curve. The “STATIC” line is
required in either case as UTS must be defined.MATFTG Fatigue Material Properties
1 2 3 4 5 6 7 8 9 10
MATFTG MID CNVRT MATOU
T
&amp;ldquo;STATIC&amp;rdquo; YS UTS  TYPE
“SN””  SRI1 b1 Nc1 b2 Nfc
&amp;ldquo;TABLE&amp;rdquo; VALUE TID
&amp;ldquo;MMPDS&amp;rdquo; A1 A2 A3 A4
&amp;ldquo;EN&amp;rdquo; Sf b c Ef n’ K’ GAMMA
SEe SEp SEc Ne TOLER
“MATID” E NU
MID1 MID2 MID3 MID4 MID5 MID6 MID7
-etc.-
MATFTG 9
STATIC 430 682
MATFTG 9
STATIC 430 682
EN 0.11 805.0
MATFTG 9
STATIC 430 682 RANGE
SN 3095 -0.1339 1.e8 0.0 1.e8&lt;/p&gt;
&lt;p&gt;41 CHAPTER 2
Introduction to User Interface
Main Index
This example associates this MATFTG entry to multiple MAT1 entries.
This example shows that the MATFTG  entry can have multiple definitions. Which definition is used is
based on a hierarchy and the setting of the TYPE field in the FATIGUE  entry. See Remark 3.MATFTG 9
STATIC 430 682 RANGE
SN 3095 -0.1339 1.e8 0.0 1.e8
MATID 2.1e5 0.3
9 THRU 15 18
MATFTG 9
STATIC 430 682 AMPL
SN 3095 -0.1339 1.e8 0.0 1.e8
TABLE 1.0 55
MMPDS 7.92 -2.69 0.64 16.0
EN 917.0 -0.095 -0.47 0.26 0.19 1103.0
Field Contents
MID Unique material ID that matches the identification of a MAT1 entry unless the
MATID line is supplied (Integer&amp;gt;0). See Remark 1.
CNVRT Conversion factor.  See Remark 2. regarding units.
MATOU
TThis is a debug option for writing the fully derived material curve to a file
(Integer 0 or 1; Default = 0). See Output Files, 32  above for more details.
STATIC Required flag indicating that yield and/or ultimate tensile strengths and other
common parameters are supplied (Character = STATIC). See Remark 3. and 4.
YS Yield strength (Valid range equivalent in MPa: 50.0  Real  3000).  See
Remark 2. regarding units.
UTS Ultimate tensile strength (Valid range equivalent in MPa: 100.0  Real  4000).
See Remark 2. regarding units.
TYPE Specification of the type of S-N curves defined using the TABLE or BASTEN
flag (no Default). See Remark 4.
SN Flag indicating the definition of an S-N curve(s) follow (Character = SN,
optional). See Remark 3.
SRI1 Stress range intercept. (Valid range equivalent in MPa: 1.0  Real  2.5e4, no
Default). See Remark 2. regarding units.
b1 First fatigue strength exponent. (-1.0 &amp;lt; Real&amp;lt; -0.02, no Default)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Element Definitions42
Main Index
Nc1 In 1-segment S-N curve, the cycles limit of endurance.  In 2-segment S-N
curve, this is the fatigue transition point. Both are defined in cycles. (1.0  Real
 1.0E25; no Default).
b2 Second fatigue strength exponent.  It is zero when defining 1-segment S-N
curve; (-0.5 &amp;lt; Real  0.0, Default=0.0).&lt;br&gt;
Nfc Fatigue cutoff. (1.e-9 Real  1.0e30; Default=1.0e30).
TABLE Flag indicating the definition of the S-N curve as a tables follows
(Character=TABLE; optional). See Remark 3.
VALUE The constant mean stress, R-ratio, or life (in cycles) of this particular S-N curve.
(Real; no Default). See Remark 2. regarding units.
TID A TABLEM1  ID defining the S-N curve of stress range (y) vs. life (x) in cycles
for this particular S-N curve, or mean stress (x) vs. stress amplitude (y) for
constant life (Haigh diagram) curves (Integer&amp;gt;0). See Remark 2. regarding units.
MMPDS Flag indicating the definition of an S-N curve based on the MMPDS S-N
approach (Character-MMPDS; optional). See Remark 3.
A1
A2
A3
A4Coefficients or exponent of the standard MMPDS-01 material equation (must
be defined in units-KSI based on TYPE=AMPLitude). (Real; typical ranges
5&amp;lt;=A1&amp;lt;=110; -47&amp;lt;=A2&amp;lt;=-1.0, 0.1&amp;lt;=A3&amp;lt;=1.0; 0.0&amp;lt;=A4&amp;lt;=114; no Default).
CNVRT is not applied to these values at all - it is ignored!
EN Flag indicating the definition of an -N curve is to follow. (Character=EN;
optional). See Remark 3.
Sf Fatigue strength coefficient (Valid range equivalent in MPa: 50.0  Real 
4000.0; no Default). See Remark 2. regarding units.
b Fatigue strength exponent (-0.5  Real  -2.0e-3; no Default).
c Fatigue ductility exponent. (-1.2  Real  -0.15; no Default).
Ef Fatigue ductility coefficient, (0.001  Real  10.0; no Default).
n’ Cyclic strain-hardening exponent, (5.0e-3  Real  0.5; no Default).
K’ Cyclic strength coefficient, (Valid range equivalent in MPa: 50.0  Real  1.2e4;
no Default). See Remark 2. regarding units.
GAMMA Additional coefficient needed for the Walker equation, (0.0  Real  1.0 Default
=0.0).
TOLER Parameter used for frequency based strain life analysis with Neuber notch
correction in vibration fatigue only. (Real&amp;gt;=1e-10, Default = 1e-5)
MATID Flag indicating that a list of MAT1 IDs is to follow. See Remark 1.Field Contents&lt;/p&gt;
&lt;p&gt;43 CHAPTER 2
Introduction to User Interface
Main Index
Remarks:
1.Element properties must reference MAT1 entries in order to be linked to a MATFTG  entry as only
metal fatigue analysis of isotropic materials is supported. The MID must match that of an existing
MAT1 entry called out by the property entry (e.g. PSHELL) unless the “MATID” line is provided,
in which case all the MIDi referenced on the “MATID” line are then linked to the MATFTG  entry.
When the “MATID” line is used, E (required) and NU (optional) must be provided on this line as
the code has no way of knowing from which referenced MAT1 this data should be extracted. Young’s
Modulus (E) and elastic Poisson’s ratio (NU) are extracted from the corresponding MAT1 entry of
the same ID when no “MATID” line is present. Usage of E and NU in the fatigue analysis itself is
dependent on the type of fatigue analysis requested and fatigue material properties provided. Young&amp;rsquo;s
Modulus (E) is mainly used for deriving S-N or e-N data when none is provided. If the “MATID”
line is used, and a MAT1 of the same ID also exists, that MAT1 ID must be in the MIDi list or it
will be ignored in the analysis. In other words, when the “MATID” line is used, only the supplied
MIDi IDs are used in the fatigue analysis.
2.The CNVRT field is only used if fatigue material stress based parameters are directly input using the
&amp;ldquo;STATIC,&amp;rdquo; &amp;ldquo;SN,&amp;rdquo; &amp;ldquo;EN,&amp;ldquo;or &amp;ldquo;TABLE&amp;rdquo; methods.  It is used to allow the user to input the fatigue
material stress related parameters, (YS, UTS, SRI1, TID y-values, Sf) in different units other than the
model&amp;rsquo;s consistent units.  Example:  model is producing stresses in PSI units, fatigue material
parameters input in MPa, the CNVRT factor should be 145.0377 to convert MPa to PSI. Note that
the y-values of any referenced TABLEM1 entries are also converted for the S-N method. It is also
necessary to use the DTI,UNITS  for defining the model&amp;rsquo;s stress units.   See DTI,UNITS . (Real;
Default=1.0)
3.The STATIC line is required and at least one of SN, TABLE, MMPDS, or EN lines. If no SN,
TABLE, MMPDS, or EN lines are present, then the fatigue analysis is skipped and only the random
vibration analysis is performed1. The use of the TYPE field in the FTGPARM  entry has limited
affect. Please note: If only SN data is present, it is used by default. If only EN data is present, it is
used by default. The SN, TABLE, and MMPDS entries are mutually exclusive and if more are
present for any particular MID, then the following hierarchical rule is implement to choose which to
use:
•1st - MMPDS
•2nd - TABLE
•3rd - SN. E Young’s modulus, (Valid range equivalent in MPa: Real&amp;gt;0.0, no Default).
NU Elastic Poisson’s ratio. (0.25  Real  0.35, Default = 0.3)
MIDi IDs of existing MAT1 entries to which this MATFTG entry will be linked. At
least one ID must be supplied. The &amp;ldquo;THRU&amp;rdquo; keyword is supported.
1If the EN line is supplied with only n’ and K’ defined, then the Neuber notch correction is also applied in
the random only analysis affecting the resultant output stress PSD.Field Contents&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Element Definitions44
Main Index
If both S-N definitions and the EN line are defined for a particular MID, EN is selected by default
unless TYPE on the FTGPARM  is set, in which case the corresponding S-N or EN definition is used.
However, TYPE is ignored if the corresponding material definition is not present. The material
definition used is then based on the hierarchy just defined.
Thus different MIDs can have different properties defined and the corresponding analysis is
performed independently of the TYPE field setting on FTGPARM . Only when there is a conflict is
TYPE on FTGPARM  used.
4.TYPE can be set to AMPL or RANGE for amplitude or range, respectively, when using the “SN” or
“TABLE” flags. TYPE must be AMPL for “MMPDS”.
Defines tabular data for specifying fatigue cyclic material properties via an S-N (stress-life) curve.
Format:
Example:
Remarks:
1.The TABLEM1  is referenced by a MATFTG  entry on the TABLE line.
2.xi must be in either ascending order and any xi -yi pair may be ignored by placing “SKIP” in either of
the two fields.TABLEM1 Fatigue S-N Curve Tabular Data
1 2 3 4 5 6 7 8 9 10
TABLEM1 TID XAXIS YAXIS
x1 y1 x2 y2 x3 y3 -etc.- &amp;ldquo;ENDT&amp;rdquo;
TABLEM1 60 LOG LOG
2.0E11 121.10 7.19E9 150.0 1.86E7 220.0 1.0E6 265.5
1.71E3 400.0 5.31E1 500.0 1.0E0 645.5 ENDT
Field Contents
TID Table identification number. (Integer &amp;gt; 0)
XAXIS Specifies a linear or logarithmic interpolation for the x -axis.  (Character:  “LINEAR” or
“LOG”; Default = “LINEAR”).
YAXIS Specifies a linear or logarithmic interpolation for the y -axis.  (Character:  “LINEAR” or
“LOG”; Default = “LINEAR”).
xi, yi Tabular values. (Real)
&amp;ldquo;ENDT&amp;rdquo; Flag indicating the end of the table.&lt;/p&gt;
&lt;p&gt;45 CHAPTER 2
Introduction to User Interface
Main Index
3.The end of the table is indicated by the existence of “ENDT” in either of the two fields following the
last entry. An error is detected if any continuations follow the entry containing the end -of-table flag
“ENDT”.
Fatigue Parameters
Fatigue parameters are defined with the entry described below. The main use of this entry is to specify the
type of fatigue analysis (S-N or -N), but many other parameters may be set using this entry. Most of these
are explained in the tutorials that follow in subsequent chapters.
Defines parameters for a fatigue analysis for frequency domain SOLs 108 and 111.
Format:
Examples:
Defines a strain-life ( -N) analysis with all other parameters defaulted:
Specifies a stress-life (SN) analysis with STRESSes to be passed to the fatigue analysis and to convert the stress
tensor to a signed von Mises (SGVON) scalar value and to perform no mean stress correction (NONE). Also
fatigue life is to be determined from element nodal stresses (NODE based on the CUBIC method of stress
recovery:
Changes the default vibration fatigue analysis parameters with everything else defaulted:FTGPARM Fatigue Param eters&lt;br&gt;
1 2 3 4 5 6 7 8 9 10
FTGPARM ID TYPE LOGLVL LAYER
&amp;ldquo;STRESS&amp;rdquo; COMB CORR PLAST LOC RECOVE
R
&amp;ldquo;FOS&amp;rdquo; LIFE
“VIBFTG” ATYPE MAXSTR CLIPLVL MAXPEA
KSTRBINS MAXFRE
QNCALC
FTGPARM 22 EN
FTGPARM 22 SN
STRESS SGVON NONE NODE CUBIC
FTGPARM 22
VIBFTG NARROW 6.0 5.0 3.0 256 90.0 MID&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Parameters46
Main Index
Field Contents
ID Unique ID of the FTGPARM  entry (Integer &amp;gt; 0).  See Remark 1.
TYPE Type of fatigue analysis: &amp;ldquo;SN&amp;rdquo; or &amp;ldquo;EN&amp;rdquo; (Character, Default=SN). This is used only
when there is a conflict with the defined material properties, i.e., both S -N and -N
properties exist for the same material MID. Otherwise it is ignored and the material
properties define the type of fatigue analysis to be performed.
LOGLVL Level of output to generate (Integer 0, Default = 0; 0=Standard, 1=Output all PSD
responses, 2=Additionally output all Rainflow data). Note that LOGLVL &amp;gt;0 can result
in a significant performance penalty and should be used for debugging purposes only
and limited to the entities of interest only. See Remark 4.
LAYER For shell elements, the output results layer to print to the f06 file. Values can be
0=Worst, 1=T op(Z2), 2=Bottom(Z1). (Integer, Default = 0). This is for printed
output only. The analysis produces results for both layers, which are always available
through the MASTER/DBALL, Output2, or other files for graphical postprocessors.
See the FATIGUE  case control entry.
&amp;ldquo;STRESS&amp;rdquo; Flag indicating that stress is used in the fatigue calculation
COMB Stress/strain combination to use in the fatigue analysis. Acceptable values are listed in
Table 2-1 after the Remarks below (Character; Default=ABSMAXPR).
CORR Mean stress correction to use in the fatigue analysis.  Acceptable values are listed in
Table 2-2 after the Remarks below (Character; Default=None).
PLAST Plasticity correction for a strain-life ( -N) analysis. Only &amp;ldquo;NEUBER,&amp;ldquo;is available.
(Character; Default=NEUBER).
LOC Location to report fatigue lives. Valid values are “NODE”, “NODA”, or “ELEM”
based on element nodal, nodal averaged, or element center stresses, respectively.
(Character; Default = NODA). See the RECOVER field and Remark 2.
RECOVER Stress recovery method to determine stresses/strains for the fatigue calculation. Valid
values are “SGAGE”, “CORNER”, “BILIN”, “CUBIC” or &amp;ldquo;CENTER&amp;rdquo; (Character;
Default = CORNER if LOC=NODE or NODA; Default = CENTER if
LOC=ELEM and any other setting is ignored). These are the same values used for the
STRESS case control output request. See LOC field and Remark 2.
&amp;ldquo;FOS&amp;rdquo; Flag indicating that paramete rs that follow are used in a margin of safety calculation.
See Remark 3.
LIFE T otal time duration required for margin of safety calculation in time units specified by
TUNIT field on FTGSEQ  entry (Real &amp;gt; 0.0, Default=1.0).
“VIBFTG” Flag indicating that vibration fatigue parameters follow. The line is optional and
defaults are used if not present.
ATYPE Analysis method to use to generate the PDF of rainflow ranges: DIRLIK, NARROW,
STEIN, SINES. (Character; default = DIRLIK)&lt;/p&gt;
&lt;p&gt;47 CHAPTER 2
Introduction to User Interface
Main Index
Remarks:
1.FTGPARM  bulk data will be ignored if not selected by a FATIGUE  case control entry.  If a
FTGPARM  entry is not defined, default properties are used for the requested fatigue analysis.
2.If LOC=ELEM (element center), fatigue lives are calculated based on stresses/strains at element
centroids (not recommended for anything but shell or 2D solid elements (plane stress/strain and
axisymmetric) and the RECOVER field is ignored or automatically set to CENTER.
If LOC=NODE, the fatigue lives are calculated from the stresses/strains at the element nodes,
resulting in multiple damage values per node. Note that for LOC=NODE, the RECOVER field can
be set to SGAGE, BILIN, CUBIC, or CORNER to control which stresses are used in the fatigue
analysis for element nodal stresses and correspond to the same options as on the STRESS case control.
If LOC is set to NODA, the same RECOVER options as LOC=NODE apply. However in addition,
after the nodal transfer function (TF) stresses for each element contribution are converted to the
requested stress combination (e.g. COMB=SGVON), the stresses are summed and averaged at each
node. This is done at every frequency to give a single TF of stress at each node. Thus a single damage
and fatigue life per node is reported as opposed to slightly different values when LOC=NODE. Please
note that the coordinate system in which the elements are defined should be consistent (the same). MAXSTR Maxi mum stress to use as a function of the number of RMS stress levels to determine
maximum stress in the rainflow cycle count.  (Real&amp;gt;0.0; Default=10.0).
CLIPLVL Value of stress where all stresses are &amp;ldquo;clipped&amp;rdquo; (kept at that level) when doing fatigue
life calculation. Real&amp;gt;0.0; (Default CLIPLVL=MAXSTR). CLIPLVL=6 means +/-
3&lt;em&gt;RMS amplitudes or 6&lt;/em&gt;RMS in terms of range.
MAXPEAK Used to  calculate an estimation of maximum and minimum stress (number of RMS
levels) in the random response. It is not used in any way to calculate damage or life.
This is also used when the maximum elastic-plastic peak strain is calculated. Where a
mean load is included the peak stress is calculated as the mean_stress +
MAXPEAK&lt;em&gt;RMS and the minimum stress is calculated as the mean_stress -
MAXPEAK&lt;/em&gt;RMS. This is similar to the time domain approach where the maximum
and minimum stress are retained from the rainflow cycle count. (Real&amp;gt;0;
Default=CLIPLVL/2 or, if CLIPLVL not defined, MAXSTR/2).
STRBINS Number of BINs to generate in rainflow cycle count. Default = 1280 for
ATYPE=SINES otherwise 32. Not recommended to use anything over 5000.
MAXFREQ Percentage of frequency content retained as a function of the first spectral moment m0
of the PSD defining the maximum frequency used to integrate the spectral moments
for m1, m2, and m4. 0&amp;lt;=Real&amp;lt;=100.0; Default=99.9). 100% is not a recommended
setting as it can cause numerical instability related to the calculation of the 4th spectral
moment.
NCALC Alternative options for the way &amp;ldquo;N&amp;rdquo; (life to failure) is calculated for a given stress BIN.
Valid values are MID, UPR, or AVG for middle, upper or average. (Character;
Default=AVG). See Table 2-3.Field Contents&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Parameters48
Main Index
Otherwise the nodal averaging will not be done using consistent coordinate systems. Thus, for solid
element, setting CORDM on the PSOLID entry to the Basic coordinate system or a specified CID
is required and setting CID=-1 or -2 (element systems) is not recommended. For shell elements,
MCID should be set on the respective element entry.
3.This FOS option is actually a margin of safety (MOS) calculation, which requires only the desired or
required duration of entire loading sequence in time units. By default this is set to 1.0 and the time
units are those defined by the TUNIT field on the FTGSEQ entry. A margin of safety is always
computed.
4.By default the response PSD at the most critical location is output using LOGLVL=0 via a
&lt;!-- raw HTML omitted --&gt;PSD.csv  file. If LOGLVL=1, response PSDs for all requested locations are output to
that same file. Also a &lt;!-- raw HTML omitted --&gt;RCC.csv  file is produced with limited data showing the
summation of damages from the rainflow cycle count. If LOGLVL=2, both files are created and in
the latter, addition the stress and damage BIN data for each event is included. Be aware that this can
create a lot of data, resulting in huge output files, and can severely degrade performance. Please use
this option with care and limit the output to only the critical elements of interest.
Table 2-1  Allowable Value s for the COMB Field
Stress/Strain Combination Meaning
ABSMAXPR Absolute Maximum Principal (default). This is a Maximum Principal
calculation using accurate phase scanning.
MAXPRINC Maximum Principal Stress. This is a fast Maximum Principal calculation
using an approximate algorithm and is less accurate than ABSMAXPR, but
improves computational speed
SGVON Signed von Mises Stress (Recommended but not default)
COMPX
COMPY
COMPZ
COMPXY
COMPYZ
COMPZXIndividual tensor components&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P4</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_004/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_004/</guid>
      <description>
        
        
        &lt;p&gt;49 CHAPTER 2
Introduction to User Interface
Main Index
Fatigue Loading
Fatigue analysis must have a definition of the cyclic nature of the loading. In time domain fatigue analysis
this is accomplished using a number of bulk data entries and can be as simple as a single load oscillating
between one (1) and minus one (-1) to a complicated duty cycle consisting of multiple load events each
containing multiple, simultaneously acting loads. In the frequency domain, the same bulk data entries are
used but with some slight variations. These entries are described here and more specific examples given in
each of the examples in this manual to clarify the proper usage of these entries. Table 2-2  Allowable Valu es for the CORR Field
Mean Stress
Correction Valid for TYPE Meaning
NONE SN
ENNo mean stress correction (default)
GOODMAN SN
ENGoodman mean stress correction
GERBER SN
ENGerber mean stress correction
GDMANT SN
ENTension only Goodman mean stress correction
GRBERT SN
ENTension only Gerber mean stress correction
SWT SN
ENSmith-Watson-T opper mean stress correction. (Version of
Walker with exponent set to 0.5.)
MORROW EN Morrow mean stress correction
WALKER EN Walker mean stress correction
MMPDS SN
ENWalker mean stress correction build into the MMPDS -01
material curves
Table 2-3  Alternative NCALC options to calculate “N” (cycles to failure)
NCALC option Meaning
AVG Calculation of “N” is done by adding up all the values of N within the BIN
and then dividing through by the number of N values used. In this context the
average value of N is calculated over the BIN.
MID “N” is extracted at the mid (stress) point of the BIN.
UPPER “N” is extracted at the upper (stress) point of the BIN.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading50
Main Index
For a valid fatigue analysis, a loading sequence ( FTGSEQ  entry) must be defined with a minimum of a single
event ( FTGEVNT  entry) with some sort of random or deter ministic load definition ( FTGLOAD  entry).
Naturally the loading can be as simple as a single random input load, to as complicated as multiple input
loading with multiple events. Single input loading can also be combined with static offsets and deterministic
loading and/or sine sweeps. Multiple input random loading can also be combined with a static offset. The
chart below illustrates how these loadings are combined using the various bulk data entries used to define the
random loading.
Figure 2-1  Fatigue random loading sequence illustration
Over all load sequence or duty cycle
made up of one or more loading event
Individual events consisting of single or
multiple PSD loading, static offsets,
and/or deterministic loads, narrow bands,
and sine sweeps
Static offset
load
Single random
PSD loading
Multiple input
random PSD loadingDeterministic
(sine wave) loading
Narrow band loading
Sine sweep loading&lt;/p&gt;
&lt;p&gt;51 CHAPTER 2
Introduction to User Interface
Main Index
Defines the loading sequence for random vibration fatigue using SOL 108 or SOL 111.
Format:
Example:
This examples sets up the loading sequence for a fatigue analysis with three events with time units of hours
(HRS). Result from all events plus the summation of events is requested via EVNTOUT .FTGSEQ Fatigue L oad Sequence
1 2 3 4 5 6 7 8 9 10
FTGSEQ ID EVNTOUT TUNIT LDM
FID1 N1 FID2 N2 FID3 N3 FID4 N4
FID5 N5 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
-etc.-
  &amp;ldquo;UNITS&amp;rdquo; EQUIV EQNAME            
FTGSEQ 42 1 HRS
10 1.0 20 1.0 30 1.0
Field Contents
ID Unique ID with respect to all other FTGSEQ  and FTGEVNT  entries called out by a
FATIGUE case control. (Integer&amp;gt;0) See Remark 1.
EVNTOUT Flag for requesting fatigue output for each event individually. (Integer; 0=no or 1=yes;
Default = 0). This also controls the written output request for spectral statistics (m0, m1,
m2, m4, etc.).
TUNIT Time units of Ni values. SECS, MINS, HRS, DAYS, WKS, MTHS, YRS for seconds,
minutes, hours, days, weeks, months, or years, respectively (Character; Default=SECS).
LDM FE load magnitude used to create transfer function. Used to normalize the transfer function
stresses (Real, Default=1.0).
FIDi ID of a FTGEVNT  entry. Nested FTGSEQ s are not allowed
Ni Duration of each event in TUNIT units. Where a swept sine is specified, Ni is the total
duration of the sweep. This value is not needed if only random loading is specified. These
values are also not needed and overwritten if SWRATE/NSWEEP are provided on a
FTGLOAD entry of TYPE= SINE (sine sweep). (Real&amp;gt;0.0; Default=1.0)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading52
Main Index
Remarks:
1.FTGSEQ  bulk data are called out by FATIGUE  case control.
2.For vibration fatigue a FTGSEQ  cannot reference both an event with single input random loading
and multiple input random loading.
3.If the &amp;ldquo;UNITS&amp;rdquo; flag is absent, the default fatigue equivalent unit is 1.0 Repeats  of the resulting stress
time history sequence. Equivalent units specified on FTGLOAD entries are ignored when FTGSEQ
entries are used
4.Example of using equivalent units:   If total duration of the sequence is equivalent to five (5) times
around a test track, the equivalent unit name, EQNAM, might be &amp;quot; laps,&amp;quot; and the equivalent unit,
EQUIV, would be five (5).  Fatigue life will be reported in these units if defined, otherwise they are
reported as repeats of the loading sequence.  Life output is reported in both Repeats  and the fatigue
equivalent units, if defined.&amp;ldquo;UNITS&amp;rdquo; Flag indicating that a fatigue equivalent unit name is applied to this loading. See Remark
3. and 4.
EQUIV Number of equivalent units. (Real&amp;gt;0.0; Default=1.0 ). See Remark 3. and 4.
EQNAME Equivalent name of this loading event. EQNAME can span across fields 4 through 9.  If
not defined it will be called Repeats  (Character). No spaces are allowed. See Remark 3. and
4.Field Contents&lt;/p&gt;
&lt;p&gt;53 CHAPTER 2
Introduction to User Interface
Main Index
Groups simultaneously applied loads into loading events for random vibration fatigue analysis using SOL
108 or SOL 111 by referencing FTGLOAD  entries.
Format:
Example:
This examples groups three loads together representing X, Y, and Z component input at a single location
from shaker table test defined by FTGLOAD  entries of IDs 10, 20, and 30.
Remarks:
1.Each FTGEVNT  ID must be unique relative to all other FTGEVNT  and FTGSEQ  IDs.
2.Event names are passed to the f06 print file and displayed as the name of the event as opposed to the
event ID. If no name is given, the event is referred to by its ID.
3.EVNTNAM cannot have numbers at the start of any field. For example, using 8 character formatted
fields, the first character of fields 3-9 cannot be numeric (columns 1, 9, 17, etc. of the EVNTNAM
field). These would be acceptable:
“Flights”  or “F_l_i_g_h_t_s ’.
But these would not be acceptable:
“1_Flights ” or “F_l_i_g_ 2ts”
because the “1” and the “2” are in columns 1 and 9 of the EVNTNAM field.FTGEVNT  Fatigue Loading Events
1 2 3 4 5 6 7 8 9 10
FTGEVNT ID FLOAD1 FLOAD2 FLOAD3 FLOAD4 FLOAD5 FLOAD6 FLOAD7
FLOAD8 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
-etc-
“NAME” EVNTNAM
FTGEVNT 42 10 20 30
Field Contents
ID Unique ID. See Remark 1.
FLOADi ID of a FTGLOAD  entry (Integer &amp;gt; 0, no default).  See Remark 5.
NAME Flag indicating that a name is to be associated with this load event. See Remark
2.
EVNTAM Event name associated with this event (Character). Can span fields 3 through
9, however for practical purposes, the name is truncated in f06 output. No
spaces are allowed. See Remark 3. and 4.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading54
Main Index
4.EVNTNAM cannot handle spaces within its field as one might expect. If you wish to uses spaces,
make sure that once a space is used the next character does not start until the start of the next field.
For example, using 8 character formatted fields, the following would be acceptable:
“My_flights ” or “My      Flights ”.
But this would not be acceptable:
“My Flights ”
and would end up just being displayed as “ Myts ” because once a space is encountered within the 8
character field, the code interprets that as no more character data until it processes the next 8 character
field. It is best not to use spaces in EVNTNAM.
5.Please note the following limitations:
•Only one FTGLOAD of TYPE=PSD can be referenced
•Only one FTGLOAD of TYPE=STATIC can be referenced
•A FTGEVNT referencing a FTGLOAD of TYPE=STATIC by itself is not allowed
•A FTGEVNT referencing a FTGLOAD of TYPE=SINE or NARROW by itself (or themselves)
is allowed for pure deterministic and/or sine sweeps
•Only single load PSD random input allows mixed deterministic, sine sweep, and static offsets on
random loading. Only a static offset (FTGLOAD of TYPE=STATIC) can be mixed with multi-
load PSD random input.
•FTGSEQ entry referencing FTGEVNT entries cannot mix events containing single load and
multi-load PSDs.
•All multi-load PSD events must all have the same number of channels (input loads).
•When only FTGLOAD entries of TYPE=SINE or NARROW are referenced (i.e., only
deterministic loading with no random loading input), it is recommended that the ATYPE field
of the FTGPARM entry be set to SINE.&lt;/p&gt;
&lt;p&gt;55 CHAPTER 2
Introduction to User Interface
Main Index
Defines random PSD, deterministic, sine sweep and/or static offset loading for SOL 108 and SOL 111.
Format (SOL 108 and 111):
Examples:
This example defines a PSD load. The LCID references a RANDPS  entry.
This example defines a STATIC offset load. The TID references a UDNAME  entry that contains the OP2
file containing the static offset stresses. The LCID references a SUBCASE ID of the referenced OP2 file.
This example defines deterministic loading by referencing specific frequencies. The LCID references the
SUBCASE of the transfer function (TF) for the deterministic loadin.
This example defines narrow band loading by referencing specific frequencies and band widths. The LCID
references the SUBCASE of the TF for the narrow band loading.
This example defines sine sweep loading. The LCID references the SUBCASE of the TF for the sine sweep
loading.FTGLOAD Fatigue Loading Time Variation
1 2 3 4 5 6 7 8 9 10
FTGLOAD ID TID  LCID  SCALE OFFSET TYPE
  &amp;ldquo;DETLOAD &amp;quot; F1 G1/H1 B1 F2 G2/H2 B2
F3 G3/H3 B3 &amp;hellip; &amp;hellip; &amp;hellip;
-etc.-
“SWEEP” F1 G1/H1 B1 Fn Gn/Hn Bn
SWTYPE SWNUM SWRATE NSWEEP FRFUNIT LDUNIT
FTGLOAD 42 20 1.0 0.0 PSD
FTGLOAD 42 10 2 1.0 0.0 STATIC
FTGLOAD 42 5 1.0 0.0 SINE
DETLOAD 10.0 100.0 20.0 200.0
30.0 100.0
FTGLOAD 42 5 1.0 0.0 NARROW
DETLOAD 10.0 100.0 5.0 20.0 200.0 5.0
30.0 100.0 5.0
FTGLOAD 42 5 1.0 0.0 SINE
SWEEP 1.0 100.0 100.0 200.0
HZ 50.0 1.0 1 A A&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading56
Main Index
Field Contents
ID Unique ID which is referenced by an FTGEVNT  entry (Integer &amp;gt; 0).  See Remark 1.
TID Leave blank unless:
TYPE=STATIC: UDNAME ID referencing an external OP2 file containing
stress results for static loading offsets. Leave blank (and set LCID = 0 if a
constant offset defined solely by the OFFSET field is desired.
TYPE = PSD with TIM2PSD: UDNAME ID referencing an external RPC or
CSV file when time history to PSD conversion is requested. A TIM2PSD entry
must be present in this case, otherwise TID is ignored.
LCID TYPE = PSD with no TIM2PSD: SID of RANDPS entry(ies). TID should be
left blank in this case.
TYPE = PSD with TIM2PSD: -1 for fully correlated multi-input loading, -2 for
uncorrelated multi-input loading.
TYPE = STATIC: SUBCASE ID of a static SUBCASE (freq=0.0). A TID must
also be defined in this case to point to an external OP2 file. Set to zero (0) if a
constant offset solely defined by the OFFSET field is desired. TID should be left
blank in this case.
TYPE=SINE or NARROW: SUBCASE ID of transfer function (TF) used for
deterministic or sweep loading. TID should be left blank in this case.
SCALE Acts as an additional scale factor on the input PSD. This applies only to TYPE=PSD
(Real, default=1.0).
OFFSET Offset of resultant stress PSD in stress units. This has the effect of adding a mean stress
effect to the random load response. This only applies to TYPE=STATIC and if TID is
blank, this is only a constant offset. With TID a variable offset plus this constant offset is
applied (Real, default =1.0).
TYPE Flag indicating the type of load being defined. Must be supplied and values can be “PSD”,
“SINE”, “NARROW” or &amp;ldquo;STATIC&amp;rdquo;. No default. See Remarks 2. through 5.
&amp;ldquo;DETLOAD&amp;rdquo; Flag indicating that deterministic load input is to follow for TYPE=SINE or NARROW.
Fi Frequency of sine wave for TYPE=SINE or center frequency of narrow band frequency
block for TYPE=NARROW. (Real&amp;gt;0.0; no Default).
Gi
HiHeight of sine wave (Gi) in units of peak amplitude (FE stress units) for TYPE=SINE.
Height of narrow band PSD block (Hi) in units of (stress)2/Hz for TYPE=NARROW.
(Real&amp;gt;=0.0; no Default).
Bi Width of narrow band frequency block. Only supplied for TYPE=NARROW.
(Real&amp;gt;=0.0; no Default).
&amp;ldquo;SWEEP&amp;rdquo; Flag indicating that sine or narrow band sweep load input is to follow for TYPE=SINE
(not supported for NARROW).&lt;/p&gt;
&lt;p&gt;57 CHAPTER 2
Introduction to User Interface
Main Index
Remarks:
1.The FTGLOAD  entry is ignored if not referenced by a FTGEVNT entry.
2.If the TYPE field is required for random vibration fatigue.
3.If TYPE=STATIC or if TYPE=PSD with TIM2PSD entry active, the UDAME references an
external OP2 file or RPC/CSV channel data file, respectively.
4.If TYPE is STATIC, the TID field must be supplied.
5.LDM and SCALE act as a divisor and multiplier, respectively to the defined loading. OFFSET is only
used for TYPE=STATIC and acts as an additional constant offset over all entities. F1/Fn Frequency of 1st and last sine waves for TYPE=SINE or 1st and last center frequency of
narrow band frequency block for TYPE=NARROW. (Real&amp;gt;0.0; no Default).
G1/H1
Gn/HnHeight of 1st (G1) and last (Gn) sine waves in units of peak amplitude (FE stress units)
for TYPE=SINE. Height of 1st (H1) and last (Hn) narrow band PSD block in units of
(stress)2/Hz for TYPE=NARROW.  (Real&amp;gt;=0.0; no Default).
B1/Bn 1st and last width of narrow band frequency blocks. Only supplied for
TYPE=NARROW. (Real&amp;gt;=0.0; no Default).
SWTYPE The sweep type: Decibel (DB), Octave (OCT), or Linear (HZ). (Character;
Default =HZ)
SWNUM Number of sine/narrow bands to use (Integer&amp;gt;0 where N=SWNUM+1; Default =50)
SWRATE Sweep rate per second in HZ (default), DB or OCT. (Real&amp;gt;0.0; No Default)
NSWEEP Number of sweep passes (Integer&amp;gt;0; No Default).
FRFUNIT Units of loading used to create FRF - can be acceleration (A), velocity (V), displacement
(D), or force (F). Used for TYPE=SINE only.  (Character; Default = A)
LDUNIT Units of loading used to define sweep - can be acceleration (A), velocity (V), displacement
(D), or force (F). Used for TYPE=SINE only. (Character; Default = A)Field Contents&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading58
Main Index
Defines power spectral density functions (PSDs) for use in random vibration fatigue analysis.
Format:
Example:
This example defines direct PSD loading referencing SUBCASEs 3 through 5 (J=K). Only the real portion
of the loading is required for direct PSD loading (X=1.0 &amp;amp; Y=0.0). The TID references a TABRND1
(TID=99) entry that defines the actual x-y values of the PSDs (same for all three).
This example defines a direct and cross PSD loading referencing SUBCASE 3 &amp;amp; 4 (J=K &amp;amp; J!=K). Both the
real and imaginary portion of the loading are given for the cross-PSD loading (X=1.0, Y=0.0) (X=0.0, Y=1.0).
The TID references a TABRND1 (TID=99) entry that defines the actual x-y values of the PSD (same for all).
Remarks:
1.For a single input PSD case LCID = J = K (the subcase of the frequency response analysis).
2.For a multi input PSD case the J and K values define the subcases.
•The values of J and K will increment from 1,1 to Jmax,Kmax.
•J K always so only the upper part of the matrix is defined
•When J=K and X=1, Y=0 it means direct PSD input.RANDPS Power Spectral Density Specification
1 2 3 4 5 6 7 8 9 10
RANDPS SID J K X Y TID
RANDPS 42 3 3 1.0 0.0 99
RANDPS 42 4 4 1.0 0.0 99
RANDPS 42 5 5 1.0 0.0 99
RANDPS 42 3 3 1.0 0.0 99
RANDPS 42 4 4 1.0 0.0 99
RANDPS 42 3 4 1.0 0.0 99
RANDPS 42 3 4 0.0 1.0 99
Field Contents
SID Set identification referenced by a FTGLOAD entry of TYPE = PSD.
J / K Subcase IDs of excited and applied load sets. K&amp;gt;=J. See Remark 1. and 2.
X / Y Components of complex number. See Remark 2.
TID Identification of a TABRND1 entry that defines G(f), the PSD or cross-PSD.&lt;/p&gt;
&lt;p&gt;59 CHAPTER 2
Introduction to User Interface
Main Index
•When J K and X=1, Y=0 it means real part of cross PSD.
•When J K and X=0, Y=1 it means imaginary part of cross PSD.
Defines tabular power spectral density functions (PSDs) for use in random vibration fatigue analysis.
Format:
Example:
Remarks:
1.The TABRND1  is referenced by a RANDPS  entry.
2.The fi must be in either ascending order; at least two entries must be present; any fi -gi pair may be
ignored by placing “SKIP” in either of the two fields used for that entry.
3.Tabular values on an axis if XAXIS or YAXIS = LOG must be positive. A fatal message is issued if an
axis has a tabular value &amp;lt; 0.
4.The end of the table is indicated by the existence of “ENDT” in either of the two fields following the
last entry. An error is detected if any continuations follow the entry containing the end -of-table flag
“ENDT”.TABRND1 Power Spectral Density Table
1 2 3 4 5 6 7 8 9 10
TABRND1 TID XAXIS YAXIS
f1 g1 f2 g2 f3 g3 -etc.-
TABRND1 300 LINEAR LINEAR
0.0 0.0 0.43 11.2E6 5.77 1.88E6 50.0 1000.
ENDT
Field Contents
TID T able identification number. (Integer &amp;gt; 0)
XAXIS Specifies a linear or logarithmic interpolation for the x -axis.  (Character:  “LINEAR” or
“LOG”; Default = “LINEAR”)
YAXIS Specifies a linear or logarithmic interpolation for the y -axis.  (Character:  “LINEAR” or
“LOG”; Default = “LINEAR”)
fi Frequency value in cycles per unit time. (Real &amp;gt; 0.0)
gi Power spectral density. (Real)
&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading60
Main Index
Provides the name of a file referenced from the FTGLOAD  entry.
Format:
Example:
Remarks:
1.The UDID is referenced by a FTGLOAD  entry.
2.The NAME can be of any length, but the Nastran embedded fatigue capability only supports up to
64 words which corresponds to four lines of data in fields 2 through 9.
3.If only a NAME with no path (e.g., channeldata.rsp ) is supplied, the file is assumed to be located in
the same directory as the Nastran input file.  If an absolute or relative path is supplied (e.g,
/local/user/fatigue/channeldata.rsp ), it will be used.
4.The filenames must be all lowercase.UDNAME User Defined File Name
1 2 3 4 5 6 7 8 9 10
UDNAME UDID
NAME    &lt;br&gt;
Field Contents
UDID Unique UDID (Integer&amp;gt;0). See Remark 1.
NAME Name of the file (with or without path) of the external loading time history in RPC or CSV
format or Output2 containing offset stresses (Character).&lt;/p&gt;
&lt;p&gt;61 CHAPTER 2
Introduction to User Interface
Main Index
Fast Fourier Transformation (FFT) conversion tool for use in SOL 108 or SOL 111 random vibration fatigue
analysis. This entry is used to convert time history data into power spectral density (PSD) functions directly
input to the fatigue analysis.
Format:
Example:TIM2PSD FFT conversion tool for use in random vibration fatigue analysis
1 2 3 4 5 6 7 8 9 10
TIM2PSD ID SRATE WINDOW FORMAT MEANS NSKIP
“EVENT” EVNTID1 T1 1
EVNTID2 T2 2
&amp;hellip;
EVNTIDn Tn n
“DELETE” EVNTID1 Ti1_1 Tf1_1 Ti2_1 Tf2_1 Ti3_1 Tf3_1
EVNTID2 Ti1_2 Tf1_2 Ti2_2 Tf2_2 Ti3_2 Tf3_2
&amp;hellip;
EVNTIDn Ti1_n Tf1_n Ti2_n Tf2_n Ti3_n Tf3_n
“MAP” LCID1 CHAN1 LCID2 CHAN2 LCID3 CHAN3
LCID4 CHAN4 &amp;hellip; -etc.-
TIM2PSD 42 512.0 HANNIN
GCSV YES 1
EVENT 80001 2.0 1.0
80002 1.0 0.5
80003 2.0 1.0
DELETE 80001 1.1 1.9
MAP 1 3 2 5 3 7
Field Contents
ID Unique identification number referenced by FATIGUE case control, otherwise
TIM2PSD entry is ignored (Integer &amp;gt; 0).
SRATE Number of samples per second (required) - thus dt = 1/SRATE (Real; No Default).
WINDOW Window function to use. Choices are HANNING or NONE. This is applied to the
&amp;ldquo;block&amp;rdquo; of data extracted from the total time signal. (Character; Default =
HANNING).&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Loading62
Main Index
Remarks:
1.TIM2PSD bulk data entries are ignored if not selected by a FATIGUE case control.FORMAT Format of time signal files (RPC or CSV) (Character; Default = CSV). RPC files are
binary channel data usually with the .rsp  file extension. CSV files are typical MS Excel
comma separated files in which the channels are in the columns (i.e. three columns of
data is three channels of data - y-values only. x-values assumed to be in ascending order
with no regards to length of time between points).
MEANS Used to decide if overall signal mean values are to be calculated (YES or NO)
(Character; Default = NO). Currently this is only calculated and not applied in the
analysis. Ignored if no mean stress correction specified on FTGPARM entry.
NSKIP Number of header lines to skip if an FORMAT=CSV file (Integer&amp;gt;=0; Default=0).
The next continuation lines are required and repeat for as many Events as necessary.
EVENT Flag indicating that event parameters are to follow (one optional set for each event).
EVNTIDi Number of this Event - must correspond to the TID of a FTGLOAD entry of
TYPE=PSD that is referenced by an active FTGEVNT entry. (Note: it is NOT the
actual FTGEVNT ID).
Ti Length of window function in time for this Event (Real&amp;gt;0.0; no Default).
i Overlap or gap in time between windows for this Event (real) (+ means overlap)
(Real&amp;gt;=0.0; Default = 0.0).
The next continuation lines are optional and can repeat for as many Events as necessary.
DELETE Flag indicating that event parameters are to follow for signal deletion. For any Event,
time value pairs can be specified for deleting up to three (3) portions of the time signal
for each Event.
EVNTIDi Number of this Event - correspond to a previously defined EVNTIDi in the “EVENT”
section above.
Tii_i
Tfi_iUsed to specify sections in an Event (defined by pairs of time values t1-t2, t3-t4, t5-t6)
to delete from Event files before FFT process is applied (Real&amp;gt;0; t1&amp;lt;=t2&amp;lt;=t3&amp;lt;t=4&amp;lt;=…;
no Defaults; if none are specified, entire signal is used). Only three (3) delete pairs per
event are currently supported.
The next continuation lines are optional and only necessary if the SUBCASEs corresponding to the
channel data is not one-to-one.
MAP Flag used to map the channel data and load case (SUBCASE) IDs.
LCIDi SUBCASE of transfer function (TF) corresponding to ith load event. SUBCASEs must
be in ascending order in the Case Control! There cannot be more SUBCASEs listed
than there are channels of data in the CSV/RPC files.
CHANi Channel # corresponding to ith load event. Channels must be referenced in ascending
order and cannot be repeated.Field Contents&lt;/p&gt;
&lt;p&gt;63 CHAPTER 2
Introduction to User Interface
Main Index
2.The actual RPC/CSV files are specified with a UDNAME entry referenced by TID field on the
FTGLOAD entry for each Event (FTGEVNT). This is a requirement in the presence of a TIM2PSD
entry.
3.All events must be in the same format, use the same window function, have the same sample rate, and
have the same number and order of channels.
4.Each event can be a different length and can have a different block length and gap.
5.If LOGLVL=1 or 2 on the FTGPARM entry, the input time histories and direct PSD computations
are written to CSV files for possible plotting with MS Excel.
6.The TID on the FTGLOAD is also used as the SID of the auto-generated RANDPS entries in this
process.
7.A file containing the auto-generated RANDPS and TABRND1 entries is created in the same
directory as the referenced UDNAME filename. This file can then be used as an include file for
subsequent analyses that use the same generated PSD data rather than using the TIM2PSD entry
again in subsequent runs.
8.This process also determines the overall mean values of the time histories for each event. The means
are normally thrown away in conversion to PSDs and cross-PSDs. Currently the mean effect is not
taken into account in the subsequent fatigue analysis. These means are appended to the end of the
file containing the auto-generated RANDPS and TABRND1 entries.
9.MAP flag is not necessary if all channels in RPC/CSV file are used in the exact same order as the
SUBCASEs corresponding to the transfer functions. SUBCASE IDs must be in ascending order.
Channels must be referenced in ascending order.
Analysis Model Units
When performing fatigue analysis, it is important to understand the relationship between the model’s units
and those necessary for a fatigue analysis. Please see remarks in the description of DTI, UNITS below.
Defines units necessary for conversion during the analysis for a Nastran embedded fatigue analysis.
Format:
Example:
For fatigue analysis, only the stress units are necessary to define.DTI,UNITS Unit Definitions
1 2 3 4 5 6 7 8 9 10
DTI UNITS 1 STRESS
DTI UNITS 1 MPA&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Optimization64
Main Index
Remarks:
1.MSC Nastran is a unitless code and it is the user’s responsibility to ensure compatible units. During
a fatigue analysis, stress is converted to SI units of MPa because the fatigue material property stress
parameters as defined on the MATFTG  entry are internally converted to standard SI units of MPa.
The stresses from the analysis must match. Thus it is necessary for the user to use DTI,UNITS  to
define the stress units to ensure proper conversion.  The default units are MPa and this entry is only
necessary if stresses are not in MPa.
2.Supported values of STRESS  units are:
•MPA - megapascal
•PA - pascal
•PSI - pound per square inch
•KSI - kilo pound per square inch
Fatigue Optimization
Design optimization using SOL 200 allows for the definition of fatigue life or damage responses. These
responses can be used as design objectives, such as maximizing life or minimizing damage, or for defining
constraints on fatigue life or damage at particular locations on the model. Below is a partial listing of the
DRESP1  entry explaining how it is used for fatigue responses only. The fatigue item codes are also listed.
Defines a set of structural responses that is used in the design either as constraints or as an objective.
Format:
Example:
This example defines a fatigue life response (ATTA=4) on element 321 (ATT1=321) defined by the fatigue
analysis called out by FATIGUE  case control of ID 44 (ATTB=44). A label called FLIGHTS is used to name
the response.DRESP1 Design Sen sitivity Response Quantities
1 2 3 4 5 6 7 8 9 10
DRESP1 ID LABEL RTYPE PTYPE REGION ATTA ATTB ATT1
ATT2 -etc.-
DRESP1 55 FLIGHTS FRFTG ELEM 4 44 321&lt;/p&gt;
&lt;p&gt;65 CHAPTER 2
Introduction to User Interface
Main Index
Remarks:
1.Fatigue item codes can be found in Table 2-5.
2.For RTYPE = FRFTG, PTYPE must be set to ELEM or PSOLID, or PSHELL ATTB is the ID of a
FATIGUE  case control.
3.ATTB is the FID of a FATIGUE case control and must be the same FID for all RTYPEs of type
FRFTG. RTYPEs of type FATIGUE and FRFTG cannot be mixed; either all are
RTYPE=FATIGUE (for pseudo-static fatigue analysis) or all are RTYPE=FRFTG (for random
vibration fatigue analysis). Field Contents
ID Unique entry identifier. (Integer &amp;gt;0)
LABEL User-defined label. (Character)
RTYPE Response type. See Table 2-4. (Character)
PTYPE Element flag (PTYPE =“ELEM”) or property entry name. Used with element type
responses (stress, strain, force, etc.) to identify the property type, since property
entry IDs  are not unique across property types. (Character: “ELEM”, “PSOLID”,
or “PSHELL”)
REGION Region identifier for constraint screening. (Integer &amp;gt;0)
ATTA, ATTB,
ATTiResponse attributes. See Table 2-4. (Integer &amp;gt;0 or Real or blank)
Table 2-4  Design Sensitivity Response Attributes
Response Type
(RTYPE)Response Attributes
ATTA
(Integer &amp;gt;0)ATTB
(Integer &amp;gt; 0 or
Real &amp;gt; 0.0)ATTI
(Integer &amp;gt;0)
FRFTG
(frequency response - random
vibration fatigue)Fatigue Item Code.
See Remark 1.ID of a FATIGUE&lt;br&gt;
case control.
See Remark 2.Property ID (PID) or
Element ID (EID)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Optimization66
Main Index
Remarks:
1.Element Group A consists of elements: CHEXA, CPENTA, CTETRA, CTRIA3
2.Element Group B consists of elements: CQUAD4, CQUAD8, CQUADR, CTRIA6, CTRIAR
3.For CTRIA3 and CSHEAR elements, LOC=ELEM and LOC=NODE options on FTGPARM  use
the same item codes in Table 2-5.
4.For Element Group B (shell elements), if the item code is negative (e.g., -4) for layer Z1, this flags
Nastran to automatically (and internally) create a DRESP1 with the corresponding item code for
layer Z2. This is a convenient method to include responses from both top and bottom by defining
only a single DRESP1 entry for any particular set of elements or property sets.Table 2-5  Standard S-N and -N Fatigue Ite m Codes for LOC=ELEM on FTGPARM
Element Name Real Element Data Item Item Code
Element Group A and
Element Group B
(for Z1 layer - bottom)4
(-4)Fatigue life in Repeats  of the loading sequence
See remark 4.
5 (-5) Log of fatigue life in Repeats  of the loading sequence
6 (-6) Fatigue life in user defined fatigue equivalent units
7 (-7) Log of fatigue life in user defined fatigue equivalent units
8 (-8) Fatigue damage
9 (-9) Log of fatigue damage
12 (-12) Factor from Margin of Safety
Element Group B
(for Z2 layer - top)15 Fatigue life in Repeats  of the loading sequence
16 Log of fatigue life in Repeats  of the loading sequence
17 Fatigue life in user defined fatigue equivalent units
18 Log of fatigue life in user defined fatigue equivalent units
19 Fatigue damage
20 Log of fatigue damage
23 Factor from Margin of Safety&lt;/p&gt;
&lt;p&gt;67 CHAPTER 2
Introduction to User Interface
Main Index
Table 2-6  Standard S-N and -N Fatigue Item Codes for LOC=NODE on FTGPARM
Element Name Item Codes Real Element Data Item
CTETRA 4,16,28,40 Life in Repeats  of the loading sequence
5,17,29,41 Log of life in Repeats  of the loading sequence
6,18,30,42 Life in user defined fatigue equivalent units
7,19,31,43 Log of life in user defined equivalent units
8,20,32,44 Fatigue damage
9,21,33,45 Log of fatigue damage
12,24,36,48 Factor from Margin of Safety
CQUAD4
CQUAD8
CQUADR
(for Z1 layer - bottom)4,27,50,73
(-4,-27,-50,-73)Life in Repeats  of the loading sequence
See remark 7.
5,28,51,74
(-5,-28,-51,-74)Log of life in Repeats  of the loading sequence
6,29,52,75
(-6,-29,-52,-75)Life in user defined fatigue equivalent units
7,30,53,76
(-7,-30,-53,-76)Log of life in user defined equivalent units
8,31,54,77
(-8,-31,-54,-77)Fatigue damage
9,32,55,78
(-9,-32,-55,-78)Log of fatigue damage
12,35,58,81
(-12,-35,-58,-81)Factor from Margin of Safety
(for Z2 layer - top) 15,38,61,84 Life in Repeats  of the loading sequence
16,39,62,85 Log of life in Repeats  of the loading sequence
17,40,63,86 Life in user defined fatigue equivalent units
18,41,64,87 Log of life in user defined equivalent units
19,42,65,88 Fatigue damage
20,43,66,89 Log of fatigue damage
23,46,69,92 Factor from Margin of Safety&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Optimization68
Main Index
CTRIA6
CTRIAR
(for Z1 layer - bottom)4,27,50
(-4,-27,-50)Life in Repeats  of the loading sequence
See remark 7.
5,28,51
(-5,-28,-51)Log of life in Repeats  of the loading sequence
6,29,52
(-6,-29,-52)Life in user defined fatigue equivalent units
7,30,53
(-7,-30,-53)Log of life in user defined equivalent units
8,31,54
(-8,-31,-54)Fatigue damage
9,32,55
(-9,-32,-55)Log of fatigue damage
12,35,58
(-12,-35,-58)Scale factor from Factor of Safety analysis
(for Z2 layer - top) 15,38,61 Life in Repeats  of the loading sequence
16,39,62 Log of life in Repeats  of the loading sequence
17,40,63 Life in user defined fatigue equivalent units
18,41,64 Log of life in user defined equivalent units
19,42,65 Fatigue damage
20,43,66 Log of fatigue damage
23,46,69 Scale factor from Factor of Safety analysis
CPENTA 4,16,28,40,52,64 Life in Repeats  of the loading sequence
5,17,29,41,53,65 Log of life in Repeats  of the loading sequence
6,18,30,42,54,66 Life in user defined fatigue equivalent units
7,19,31,43,55,67 Log of life in user defined equivalent units
8,20,32,44,56,68 Fatigue damage
9,21,33,45,57,69 Log of fatigue damage
12,24,36,48,60,72 Scale factor from Factor of Safety analysisTable 2-6  Standard S-N and -N Fatigue Item Codes for LOC=NODE on FTGPARM
Element Name Item Codes Real Element Data Item&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P5</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_005/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_005/</guid>
      <description>
        
        
        &lt;p&gt;69 CHAPTER 2
Introduction to User Interface
Main Index
Remarks:
1.CQUAD4, CQUAD8, CQUADR, CTETRA item codes are listed for Grids 1-4, respectively.
2.CTRIA6 and CTRIAR item codes are listed for Grids 1-3, respectively.
3.CPENTA item codes are listed for Grids 1-6, respectively.
4.CHEXA item codes are listed for Grids 1-8, respectively.
5.For CTRIA3 elements, LOC=ELEM and LOC=NODE options on FTGPARM  use the same item
codes in Table 2-5.
6.If it is desired to use a life response (or other item) for all nodes (using LOC=NODE on FTGPARM ),
all item codes for the particular item are required, e.g., 4, 16, 27, and 38 for CTETRA (one DRESP1&lt;br&gt;
entry for each item code).
7.For shell elements with bottom (Z1) and top (Z2) layers, if the item code is negative (e.g., -4) for
layer Z1, this flags Nastran to automatically (and internally) create a DRESP1 with the
corresponding item code for layer Z2. This is a convenient method to include responses from both
top and bottom by defining only a single DRESP1 entry for any particular response for a set of
elements or property sets. So as an example, to specify the bottom and top response (Life in Repeats )
for all the grids of the specified element or property set for a CQUAD4 element, use items codes:  -
4,-27,-50,-73
8.These item codes are used for LOC=NODE and all other element nodal values of RECOVER on the
FTGPARM  entry, namely, “SGAGE”, “CORNER”, “BILIN”, and “CUBIC” also.CHEXA 4,16,28,40,52,64,76,88 Life in Repeats  of the loading sequence
5,17,29,41,53,65,77,89 Log of life in Repeats  of the loading sequence
6,18,30,42,54,66,78,90 Life in user defined fatigue equivalent units
7,19,31,43,55,67,79,91 Log of life in user defined equivalent units
8,20,32,44,56,68,80,92 Fatigue damage
9,21,33,45,57,69,81,93 Log of fatigue damage
12,24,36,48,60,72,84,96 Factor from Margin of SafetyTable 2-6  Standard S-N and -N Fatigue Item Codes for LOC=NODE on FTGPARM
Element Name Item Codes Real Element Data Item&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Optimization70
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 3: Single Input Random Loading
3Single I nput Random
Loading
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description72
Main Index
Problem Description
The purpose of this first example problem is to analyze the fatigue life of a steering knuckle due to a single
random vibration input load using the Total Life  method to introduce the input for a vibration fatigue
analysis. For the purpose of this exercise we will refer to it as the knuckle  model. The model is loaded at three
points as shown below. Note that the time histories of loading are also shown. But for this exercise the time
histories have been converted in to frequency domain power spectral density (PSD) functions already and are
used directly. And since we are dealing with only a single input for this exercise, only one of them is used in
the analysis.
Figure 3-1  The Knuckle model and applied load inputs
The first five (5) modes for the model are shown. The frequency content of the loading shown in Figure 3-4,
which clearly shows that dynamic response is significant.
Figure 3-2  First five (5) modes of the model&lt;/p&gt;
&lt;p&gt;73 CHAPTER 3
Single Input Random Loading
Main Index
Objective
To introduce vibration fatigue analysis using a single PSD load input using the S-N fatigue life
prediction method, commonly referred to as the  Stress-Life (S-N)  or Total Life  method.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Fatigue Setup
This fatigue analysis is done using the modal frequency response analysis solution (SOL 111). The partial
input deck is shown below. It is assumed that the user is familiar with the basic setup of a standard SOL 111
job. Only the portions of the input deck dealing directly with the fatigue analysis are explained in this tutorial
(see file knucklePSD_a.dat ). The model consists of solid elements using 10-noded CTETRA elements. A thin
skin of 6-noded CTRIA6 elements covers the outer layer of the model to produce a 2D state of stress at the
surface.
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis of knuckle
&amp;hellip;
FATIGUE(SORT1,PRINT,FORMAT=0,BULK) = 42
&amp;hellip;
SUBCASE 1
SUBTITLE=FRFX
DLOAD = 2
SUBCASE 2
SUBTITLE=FRFY
DLOAD = 4
SUBCASE 3
SUBTITLE=FRFZTable 3-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knucklePSD_a.dat Knuckle model fatigue analysis for all entities with default entries (no
FTGDEF  or FTGPARM  entry).
knucklePSD_b.dat Knuckle model fatigue analysis for only shell elements with element set
specified ( FTGDEF  entry with XELSET).
knucklePSD_c.dat Knuckle model fatigue analysis of only two critical elements, one shell
and one solid ( FTGDEF  entry with ELSET).
knucklePSD_d.dat Knuckle model fatigue analysis of only two critical elements, one shell
and one solid with parameters defined ( FTGPARM  entry with specified
parameters).&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup74
Main Index
DLOAD = 6
BEGIN BULK
&amp;hellip;
MATFTG  42
STATIC  135.    400.            RANGE
TABLE   1.0     60
MATID&lt;br&gt;
1       777      999
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
$
FTGSEQ  42      1               SECS    1.0
100     1.0
FTGEVNT 100     200
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50.0    1000.0
ENDT
&amp;hellip;
include ‘knuckle.bdf’
&amp;hellip;
ENDDATA
Case Co ntrol
In order to perform a fatigue analysis, there must be a FATIGUE  case control:
FATIGUE(SORT1,PRINT,FORMAT=0,BULK) = 42
Note that all defaults are used and are therefore not necessary to specify. This case control will result in the
same fatigue output request:
FATIGUE = 42
Fatigue output is printed to the f06 file ( PRINT ) in SORT1  format and no additional output formats are saved
(FORMAT=0 ). SORT11 format simply means the results for every entity per loading event are printed. The
ID referenced is ID 42 that calls out or activates bulk data entries FTGDEF , FTGPARM , and FTGSEQ  entries
(BULK ). The analysis expects to find a FTGDEF , a FTGPARM , and FTGSEQ  bulk data entry, each with ID= 42. The
only bulk data entries that are absolutely required are the FTGSEQ  and it subordinate entries and the MATFTG&lt;br&gt;
and its subordinate entries. If the other entries are not present, default values are used.
In this and all examples, the STRESS case control output request is also included, but not required to perform
the actual fatigue analysis. Stresses are necessary for the fatigue analysis just as displacements are required to
determine the stresses, but they are automatically computed internally as necessary when the FATIGUE  case
control is present.
1SORT2 format prints every loading event per entity. There must be more than one event for
SORT2 to appear any different than SORT1.&lt;/p&gt;
&lt;p&gt;75 CHAPTER 3
Single Input Random Loading
Main Index
Mate rial and Physical Properties
The FATIGUE  case control calls out a FTGDEF  bulk data of ID 42. This portion of the input deck defines where
on the model, or that is, which elements of the model, are to be included in the fatigue analysis. The FTGDEF&lt;br&gt;
entry uses an “ELSET” flag to indicate element sets to be defined. In this case there is no FTGDEF  present in
the input file, as you probably noticed. This means that all elements that have fatigue material properties
associated with them are to be included in the fatigue analysis by default.
The following is from file knucklePSD_b.dat . It shows the FTGDEF  referencing a SET3 entry of ID 99 that
defines all the solid elements, which are then removed from the analysis using the “XELSET” definition.
Since there is no element set (the &amp;ldquo;ELSET&amp;rdquo; line) all elements are included except for those excluded by the
&amp;ldquo;XELSET&amp;rdquo; line.
$ Fatigue Element Set Definition
$
SET3    99      ELEM    1       THRU    12225
FTGDEF  42      100.0
XELSET   99
The presence of a FTGDEF  limits the fatigue analysis to only the elements defined by this entry. However,
fatigue material properties still need to exist for those elements. If no fatigue material properties exist for any
particular elements, they are ignored in the analysis.
The presence of a MATFTG  entry is required. The MATFTG  entry must be associated to an existing MAT1 entry
that defines Young’s Modulus, which is also required for a fatigue analysis. There are two ways to associate
fatigue materials to elements.
The first, as used in this example, uses a MATFTG  entry of ID 42 to define a tabular S-N curve. Note that the
ID 42 has no relationship with the ID 42 that is defined by the FATIGUE case control. This is simply
coincidence and used as example.
MATFTG  42
STATIC  135.    400.            RANGE
TABLE   1.0     60
MATID&lt;br&gt;
1       777      999
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
The TABLE line in the MATFTG  entry calls out a TABLEM1 entry of ID 60 that defines the tabular S -N curve
that is defined on a log-log scale. The STATIC line defines the yield and ultimate tensile strengths and defines
the S-N curve as being stress range as opposed to stress amplitude. The MATID line associates this MATFTG&lt;br&gt;
to the MAT1 entries with IDs 1, 777, and 999. Thus for a fatigue analysis to occur for a particular element
it must be associated to a material MAT1 entry via its property entry (PSHELL or PSOLID) and have a
corresponding MATFTG  and be called out using a FTGDEF  entry (if one is included).
The second method, but not employed in this example, is for every MAT1 entry, to have a corresponding
MATFTG  entry of the same ID. The MATID line is not to be included in the MATFTG  when this method is
employed.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup76
Main Index
All the stress parameters in this example are given in units of MPa. The stress units of this model are also in
MPa as the model consistent units are length of mm and Force in Newtons (thus stress in N/mm2= MPa).
(Please see the section below about stress parameter units - Model Units .) If plotted, the stress-life curve for the
data given appears as such:
Figure 3-3  Material S-N C urve
Also take a look at the file knucklePSD_c.dat . It shows the FTGDEF  referencing a SET3 entry of ID 99 that
defines only a single critical solid and a single critical shell element.
$ Fatigue Element Set Definition
$
SET3    99      ELEM    13897   5971
FTGDEF  42      100.0
ELSET   99
Note:   A portion of the S-N curve includes a region where the S-N curve is invalid. The S-N fatigue
analysis method is generally only good for High Cycle Fatigue (HCF)  problems, meaning that
the number of cycles to failure is generally very high. Note that this invalid region is generally
below about 104 cycles (the flat, red portion of the curve). Vibration fatigue problems are
normally considered always to be high cycle. The other flat portion of the curve indicates infinite
life.&lt;/p&gt;
&lt;p&gt;77 CHAPTER 3
Single Input Random Loading
Main Index
Model Units
Nastran is a unitless code, meaning that the user must ensure all units are consistent. One thing to be very
aware of when doing fatigue analysis is the consistent model units, particularly the units of stress. In general,
fatigue material properties must be entered in the model’s consistent units unless the CNVRT field is used.
In this example the material stress parameters such as Young’s Modulus (E) and other parameters defining
the S-N curve are in MPa, which is consistent with the rest of the model units (length units in millimeters,
force units in Newtons).   Stresses from the analysis are in MPa.
Should you wish to input any values on the MATFTG  entry in units other than the model’s consistent units,
the CNVRT field (field 3 on the 1st line of MATFTG ) must be used to convert the stress parameters from
whatever units they are in, to the model’s consistent units. The conversion scaling is only applied to those
stress parameters1 on the MATFTG  or referenced by MATFTG  in TABLEM1  entries.
When a fatigue analysis is initiated, all fatigue material stress parameters, including Young’s modulus on the
MAT1 entry are converted to SI units of MPa internally. All stresses from the analysis are also converted to
MPa so that the look up on the stress-life curve is done properly and consistently.   In order for this to occur,
the analysis stress units must also be identified to the fatigue analysis. This is done on the DTI,UNITS  entry like
this:
DTI     UNITS   1                                       MPA
MPa is the default stress unit system! This entry is not needed for this example because our stress units are
already in MPa and our fatigue material stress parameters are entered in MPa, which is the model’s consistent
stress units. Subsequent examples where the model’s stress units are in PSI better illustrate the use of the
DTI,UNITS  entry.
1 The one exception is the MMPDS definition that must always be entered in KSI units regardless
of the model’s consistent unit systems. With the use of DTI,UNITS , any conversion necessary is done
internally to the code.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup78
Main Index
Fatigue Parameters
The FATIGUE  case control also calls out FTGPARM  bulk data of ID 42. This is also optional and is not present
in this example input file as shown above. This means all defaults are used in the analysis. See example file
knucklePSD_d.dat , which includes the FTGPARM , showing some specifically defined settings.   At this time we
only introduce these parameters and talk about them throughout the rest of the tutorial problems as
applicable. For this example, the FTGPARM  entry uses these default values.
$ Fatigue Parameters
$
FTGPARM 42      SN                      0       0
STRESS  ABSMAXPR NONE           NODA            CORNER
VIBFTG  DIRLIK
For now here is a brief explanation of the setting shown above.
1.The third field (TYPE) indicates an S-N analysis is to be done. This setting is actually ignored unless
there is a conflict in the material properties defined. For example if only S-N material properties are
defined in a MATFTG  entry, then only an S-N analysis is possible. So regardless of what this TYPE field
is set to, it will only do an S-N analysis. If both S-N and -N material data are defined in a MATFTG&lt;br&gt;
entry, then this TYPE field is used to define which material data to use, thus performing an S-N or
an -N analysis .
2.The other two fields on the first line are the LOGLVL and LAYER fields. Both are set to zero (0). For
LOGLVL, zero (0) indicates no additional output for debugging purposes is to be created. Setting
this to anything other than zero (0) can degrade performance and create large output files. So use
cautiously and limit the fatigue entities on the FTGDEF entry to only those of interest when using
this field. More will be introduced on this in later examples. The LAYER field is set to zero (0)
indicating that for layered results (shell elements with top and bottom layers), only the worst layer is
to be reported in the F06 file printed output.
3.The &amp;ldquo;STRESS&amp;rdquo; line indicates the following:
•The stress parameter or Stress Combination  to compute from the stress tensor components and
to use in the fatigue analysis (look up on the S-N curve) is to be a the maximum absolute principal
stress (ABSMAXPR ) parameter. The stress tensor from the FE analysis results is extracted at each
element’s node. However only a single stress value can be looked up on the S -N curve. So the six
component values of the stress tensor are resolved to the absolute maximum principal value which
is used as the stress look up parameter.
•No Mean Stress Correction  is to take place ( NONE ). In this case, the random loading has no stress
offset, so no mean stress correction could take place even if this were set to some other setting.
•The entities to be evaluated for fatigue life are at the element nodes ( NODA ) as averaged values as
opposed to the element centers ( ELEM ) or individual element nodal results ( NODE ). If element
centers are evaluated, each element reports a single fatigue life. When element nodes are evaluated,
each element reports back a fatigue life for each node of the element. Thus each node evaluated
has a fatigue life contribution from each element associated to the node. So be aware that graphical
post-processors then average the fatigue lives or damage results from these multiple contributions
when making visual plots. Setting this field to NODA averages the transfer functions (TF) of
stress at the nodes per frequency creating a single TF of stress at each node. Thus in this case only
a single damage is computed for per node as opposed to the NODE setting.&lt;/p&gt;
&lt;p&gt;79 CHAPTER 3
Single Input Random Loading
Main Index
•The RECOVER field is set to ( CORNER ), which means the stress tensor results recovered are at
the element corners. The possible setting for this field correspond to the same setting when
requesting stress with a STRESS case control.
4.The &amp;ldquo;VIBFTG&amp;rdquo; line has a number of setting for controlling the random vibration fatigue analysis.
Most of these will be explained in later examples. The one field shown indicates that the probability
density function (PSD) of rainflow cycle counts is to be computed using the ( DIRLIK ) method.
Random Loading
The load applied in the FE model is shown back in Figure 3-1. Three input loads are applied corresponding
to three SUBCASEs. For this example however, only the first SUBCASE is analyzed corresponding to the
load in the x-direction. The time domain loading has been converted into a corresponding power spectral
density (PSD) function, which is used as the input loading to this problem.
The analysis itself is a frequency response analysis, which excites the structure at the loading point using a
unit sine wave a various defined frequencies thus creating a transfer function (TF) of stresses. When the TF
is multiplied by the random loading input PSD, a random stress response PSD is the result at each defined
location. Once the resultant stress PSDs are available, the probability density function (PDF) of rainflow
ranges can be determined, in this case using the Dirlik method, and the fatigue damage computed.
Figure 3-4  Random input loading PSD of load2/Hz vs frequency (Hz)
The random loading for a vibration fatigue analysis is defined on the FTGSEQ  entry and is required or an error
occurs. The FATIGUE  case control also calls out FTGSEQ  bulk data of ID 42 just as it does the FTGDEF  and
FTGPARM  entries already discussed. In addition to the FTGSEQ , the full definition of the random loading
requires all these entries a explained a little further down: FTGEVNT , FTGLOAD , RANDPS , and TABRND1 .
Before explaining this input however, let us review the definition of a PSD.
What  is a PSD?
The easiest way to envision a Power Spectral Density (PSD) is to consider it to be the sum of a large number
of individual sine waves each with its own amplitude, frequency and phase as shown below. This is the basis
of a Fourier series or Fourier analysis (see historical footnote below). Both sides of this transformation are&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup80
Main Index
time based and can be referred to as being in the time domain. But the original time signal is random (its
value at any arbitrary time value is not known), whereas the individual sine waves are deterministic.
Furthermore, these individual sine waves are not very easy to handle within a structural analysis and fatigue
life calculation.
It is useful, and productive, to show these individual sine waves in an alternative format. The sine wave
amplitudes can be collected together in one set as a function of frequency. The phases can also be presented
in the same way as a function of frequency. The data itself is unchanged but by performing this
transformation the data becomes more useful in a structural analysis environment. This type of data is now
in the so-called frequency domain but is still determi nistic because the phase information is retained. This
form of data is analogous to the output from a Fast Fourier T ransform (FFT) that is obtained with a standard
FFT algorithm.
Figure 3-5  Fourier series analysis
Figure 3-6  Fourier seri es analysis produces complex results (FFT output)&lt;/p&gt;
&lt;p&gt;81 CHAPTER 3
Single Input Random Loading
Main Index
This form of data still contains the phase information and this is sometimes needed, especially where two (2)
simultaneous inputs are being considered which might be connected some way in terms of correlation.
However, for a single PSD, where the underlying data (time process) can be considered to be Gaussian  the
phase information becomes redundant because it follows a form which is known in advance. In this case we
can discard the phases. Furthermore, in order to make the amplitude content more useful we typically square
the amplitude values and divide through by the frequency spacing between sine wave frequency values. This
has the effect of normalizing the result making it independent of the original sample rate or process used to
obtain the PSD.
Figure 3-7  How a PSD is obtained from the square of the amplitude of the FFT
The issue of whether the phases are random or not is closely tied to the question of whether the data itself is
Gaussian or not. Fortunately the Central Limit Theorem  explains why this assumption is reasonable in
engineering applications. The Central Limit Theorem tells us that the sum of a large set of individual
processes will be Gaussian even if the individual processes themselves are not Gaussian, as long as no one
individual process dominates. This is a surprising but very useful observation. It means that when we add
sine waves together, the sum of the sine waves will follow this distribution as long as no one single sine wave
dominates. This allows us to treat any random process (as shown above) as the sum of the responses from a
set of individual sine waves. And this is the basis of system transfer functions - which tell us the response of
s structural system to individual sine waves.
Historical Footnote
The name &amp;ldquo;Power Spectral Density&amp;rdquo; comes from the study of random variations of the power absorbed in an
electrical circuit. Although developed for electrical engineering applications, the same theory is applicable to
mechanical vibration applications. Vibration testing typically uses acceleration measurements so
&amp;ldquo;Acceleration Spectral Density&amp;rdquo; is a more apt name but &amp;ldquo;PSD&amp;rdquo; has been adopted by the industry.
Power Spectral Density (PSD) is a measure of a signal&amp;rsquo;s power intensity in the frequency domain. The PSD
provides a useful way to characterize the amplitude versus frequency content of a random signal. Random
vibration is experienced everyday in the real world. The motions experienced, on the back of a truck, the&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup82
Main Index
hold of an airplane or ship, the bed of a flatcar during travel are all random vibration. It is motion at many
frequencies at the same time. The amplitude at these frequencies varies randomly with time. The PSD is used
to show the average value of all the amplitudes within a given frequency range.
For vibration testing, the amplitude values of an acceleration PSD are normally expressed in g2/Hz. What
physical significance do these units have? The g2 units result from the way that the spectrum is calculated and
Hz (frequency) is a normalizing quantity, which means the result will be independent (in an average sense)
of the frequency bandwidths used for the PSD calculation.
Deterministic versus Random
Another interesting consideration is the question of how many sine waves are needed for a reasonable
Gaussian approximation. With regards to the fatigue damage potential of a random signal the relative values
of peaks is very important. We know, (see Gaussian probability table later) that the peaks in a random signal
should go to around three to four (3-4) times the RMS (root mean square) value. We also know, that the peak
height of a sine wave is 1.41 times the RMS. This is why a PSD would be a bad way to represent a single sine
wave. However, a simple investigation to determine the maximum possible peak created by the sum of a set
of sine wave shows that the maximum possible (deterministic) peak from the sum of n sine waves of random
phase is equal to,
And this gives the following possible maximums, for given n, as follows,
Table 3-2  Theoretical maximum obtained from addition of multiple sine waves over infinite time duration
From this table it is possible to see that as the number of sine waves increases the maximum possible
theoretical peak also increases but with ever decreasing probability. And this is the nature of the Gaussian
distribution. Another observation is that three (3), four (4), or more sine waves give peaks that approximate
quite nicely with the Gaussian peak probabilities.
Figure 3-8  Theoretical maximum obtained from addition of sine wavesNumber of sines ( n) 1 2 3 4 5 6 7 8 9 10 20 30 40 50 100
Maximum peak 1.
412.
002.
452.
833.
163.
463.
744.
004.
244.4
76.3
27.7
59.9
410.
014.
14n2
n&amp;mdash;&amp;mdash;&amp;mdash;- 2n =&lt;/p&gt;
&lt;p&gt;83 CHAPTER 3
Single Input Random Loading
Main Index
The relationship between the theoretical maximum that can occur in a time history (if you forced the peaks
to coincide for all contributing sine waves) and the probability of occurrence is of vital importance. The
theoretical maximum for an infinite sum of sine waves is also infinite. But the rapidly decreasing probability
of occurrence means that, for Gaussian signals, the practical maximum can be considered to be in the range
three (3) to four and a half (4 1/2) times the RMS.
Occasionally loads that exceed these practical limits can occur. Then the important question relates to
whether the structural (stress) response can also reach these excessive peak levels. For a strictly linear system
this would be predicted. However, real structural systems provide a constraint on this behavior because of a
number of issues like, for example, structural damping. So, in practice, even when loadings are non-Gaussian
in nature the response will still usually be of Gaussian form.
Reconstructing a Time Signal from a PSD
It might be of interest to know how a time signal could be regenerated from a PSD, when the phases are not
directly available. In this situation the phases have to be regenerated using a random number generator. Then,
once each sine wave amplitude has an associated phase the signal can be compiled by simple summation as
follows.
Figure 3-9  Reconstructing a time signal from a PSD, which has no phase information&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup84
Main Index
Random Loading Bulk Data Input
Now back to the bulk data input that defines the random input PSD loading. The FTGSEQ of ID 42 is
called out by the FATIGUE  case control of the same ID.
$ Fatigue Loading Sequence - single PSD applied to SUBCASE 1
$
FTGSEQ  42      1               SECS
100     1.0
FTGEVNT 100     200
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50.0    1000.0
ENDT
A FTGSEQ  entry defines a sequence of load events called out by referencing FTGEVNT  entries. In this case there
is only one event of ID 100. The FTGSEQ  also defines the time units used to define the duration of the random
signal. In this case the time units are seconds ( SECS ) and the duration of the event is 1.0 second.
A FTGEVNT  entry groups different loads into a single event (simultaneously acting loads) and calls those loads
out by referencing FTGLOAD  entries. In this case there is only one single input random load of ID 200.
A FTGLOAD  entry defines the type of loading. The loading can be a random PSD, a static offset, a deterministic
load (sine wave or narrow band), or a sine sweep. All of these could act simultaneously and would each be
called out be a FTGEVNT  entry if this were the case. In this case only a single random PSD load is defined. So
the FTGLOAD  is of type: PSD. The actual definition of the PSD is defined through the use of RANDPS  and
TABRND1  entries.
The FTGLOAD  references RANDPS  of ID 300. The RANDPS  entry associates the transfer function (TF)
SUBCASEs to the actual definition of the PDS, which is defined in a TABRND1  entry of ID 400. The third
and fourth fields of the RANDPS  call out the SUBCASE IDs of the TF . These are the J and K fields of the
RANDPS  entry. For a single SUBCASE J=K always and only one RANDPS  entry is needed. The X field is always
1.0 and the Y field is always 0.0 indicating real values (as opposed to imaginary). This is referred to as a single
direct PSD. The PSD1 defined in the TABRND1  entry is plotted in Figure 3-4.
This may seem like a convoluted way to define a single PSD load when the only thing really defining the PSD
is the TABRND1  table definition, but it will become clear why the complication is needed when we expand out
to support of multiple input load and multiple simultaneous loading conditions. Suffice it to say that for a
simple, single random input PSD loading, you just need to have one FTGSEQ  reference one FTGEVNT&lt;br&gt;
referencing one FTGLOAD  of TYPE=PSD that references a RANDPS  that references the SUBCASE of the TF and
the TABRND1  containing the definition of the actual PSD load.
1 Note the frequency content of the PSD (0-50 Hz) and the frequencies defined in the SOL 111 frequency
response analysis (0-50 Hz). The same or comparable frequency ranges should be defined in both,
otherwise significant responses can be missed.&lt;/p&gt;
&lt;p&gt;85 CHAPTER 3
Single Input Random Loading
Main Index
Fatigue Results
Run any of the input files: knucklePSD_a, _b, _c, or _d.dat  using a supported version of MSC Nastran ( 
2017). Then inspect the resulting  knucklePSD_x.f06  files. Below shows the results for two of the critical
elements, one CTRIA6 element and one CTETRA element of knucklePSD_d.dat . Note that when nodal
averaged results are requested, all the nodes of each element (of the same type) report the same damage.
When element nodal results are requested, each node of each element reports a different damage. Plus a
summary at the end reveals the most critical element (and node).
Listing 3-1  Fatigue life and damage for critical elements
Note that Life, Seconds  is displayed twice. This is because life is reported in both seconds and in the TUNITs
defined on the FTGSEQ  entry. Since TUNITs is in Seconds, Life, Seconds is reported twice . Had TUNITs been
set to hours, life would have been displayed in seconds and in hours.
The Log life, Cycles  reveals the log (base 10) of the fatigue life. This output is available mostly for post-
processing reasons in a graphical pre- and post-processor to make the contour bands more readable as life and
damage results tend to have very high gradients (from infinite life to no life). The log values help spread out
the contour bands.
Damage  is the reciprocal of life.
The Maximum  Stress  is actually the mean stress (which is zero in this example) plus 3.0&lt;em&gt;RMS stress.
Minimum Stress is the mean stress (0) minus 3.0&lt;/em&gt;RMS stress. The other results will be explained in subsequent
examples. The factor &amp;ldquo;3.0&amp;rdquo; can be changed using the MAXPEAK field on FTGPARM  entry.                                                                                            EVENT ID       100    FATIGUE ID      42
F A T I G U E   R E S P O N S E   I N   T E T R A   E L E M E N T S               OPTION =NODE
ELEMENT    GRID  LAYER  LIFE   LOG-LIFE     LIFE   LOG-LIFE      DAMAGE     LOG      MAXIMUM       MINIMUM     MARGIN   PLAST
ID        ID         (  SECONDS       ) (   SECONDS      )               DAMAGE    STRESS        STRESS      SAFETY   INDEX
5971           2658        0.7010E+09   8.85    0.7010E+09   8.85    0.1427E-08  -8.85    0.1419E+03  -0.1419E+03   0.730E+02    0.0
2622        0.2495E+12  11.40   0.2495E+12  11.40   0.4008E-11 -11.40   0.9685E+02  -0.9685E+02   0.766E+02    0.0
2671        0.3944E+12  11.60   0.3944E+12  11.60   0.2535E-11 -11.60   0.9530E+02  -0.9530E+02   0.767E+02    0.0
2616        0.1203E+03   2.08    0.1203E+03   2.08    0.8311E-02  -2.08    0.3958E+03  -0.3958E+03   0.265E+02    0.0
1    SINGLE INPUT RANDOM FATIGUE ANALYSIS OF KNUCKLE                      SEPTEMBER  30, 2017  MSC Nastran  9/15/17   PAGE    14
FRFX                                                                                                                        &lt;br&gt;
0                                                                                                            SUBCASE 1           &lt;br&gt;
EVENT ID       100    FATIGUE ID      42
F A T I G U E   R E S P O N S E   I N   T R I A 6   E L E M E N T S               OPTION =NODE
ELEMENT    GRID  LAYER  LIFE   LOG-LIFE     LIFE   LOG-LIFE      DAMAGE     LOG      MAXIMUM       MINIMUM     MARGIN   PLAST
ID        ID         (  SECONDS       ) (   SECONDS      )               DAMAGE    STRESS        STRESS      SAFETY   INDEX
13897     2858  Z2    0.1964E+07   6.29   0.1964E+07   6.29   0.5091E-06  -6.29   0.2074E+03  -0.2074E+03   0.606E+02    0.0
2859  Z2    0.2706E+14  13.43   0.2706E+14  13.43   0.3695E-13 -13.43   0.7565E+02  -0.7565E+02   0.767E+02    0.0
2756  Z2    0.2336E+04   3.37   0.2336E+04   3.37   0.4282E-03  -3.37   0.3197E+03  -0.3197E+03   0.393E+02    0.0
1    SINGLE INPUT RANDOM FATIGUE ANALYSIS OF KNUCKLE                      SEPTEMBER  30, 2017  MSC Nastran  9/15/17   PAGE    15
FRFX                                                                                                                        &lt;br&gt;
0                                                                                                            SUBCASE 1           &lt;br&gt;
EVENT ID       100    FATIGUE ID      42
* * *  C R I T I C A L  F A T I G U E   R E S P O N S E  * * *                          OPTION =NODE
ELEMENT    GRID  LAYER  LIFE   LOG-LIFE     LIFE   LOG-LIFE      DAMAGE     LOG      MAXIMUM       MINIMUM     MARGIN   PLAST
ID        ID         (  SECONDS       ) (   SECONDS      )               DAMAGE    STRESS        STRESS      SAFETY   INDEX
5971     2616        0.1203E+03   2.08   0.1203E+03   2.08   0.8311E-02  -2.08   0.3958E+03  -0.3958E+03   0.265E+02    0.0&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup86
Main Index
Figure 3-10  Log of Damage (per second) plotted in Patran
The table below shows the results at Node 2616 for each of the jobs in this chapter. Why the difference in
results? The differences are due to a number of things to take note.&lt;br&gt;
The first job ( knucklePSD_a ) was performed on all the elements. So the nodal averaging of the transfer
function at the designated node has contributions from all the surrounding solid elements. The second job
(knucklePSD_b ) only request results from shell elements. The first job averaged the results from all the
surrounding solid elements at that node. The second averaged the result from all the surrounding shell
elements. The averaging is only done on like elements (solids or shells). Averaging solid element results with
shell element results is not done. The stresses in the shell elements are in 2D state of stress (surface resolved) Table 3-3  Critical Node 2616 Results
Job Node 2616
knucklePSD_a 9904 Seconds (Solid Element 5971)
knucklePSD_b 3.19E6 Seconds (Shell Element 13510)
knucklePSD_c 26.52 Seconds (Solid Element 5971)
knucklePSD_d 120.3 Seconds (Solid Element 5971)&lt;/p&gt;
&lt;p&gt;87 CHAPTER 3
Single Input Random Loading
Main Index
whereas the solid elements are in a 3D state of stress. Thus the transfer function (TF) stresses used in the
fatigue analysis are different between the two jobs.
The third job ( knucklePSD_c ) requested only two critical element. The most critical was the solid element.
Comparing the results from the first and the third jobs would seem to require that they be the same. However
since only one element was requested, there are no contributions from surrounding elements to the averaged
TF of stress. Thus once again, the stresses being used between the two jobs are different. If the third job
designated all solid element containing Node 2616, then the results would be identical.
The fourth job ( knucklePSD_d ) uses element a signed vonMises stress parameter instead of the maximum
absolute principal and it also specifies to use the element nodes in the analysis rather than nodal averaged TF
stresses. If the FTGPARM entry were modified to use the default entries, the same answers as the third job
would result. Since results at element nodes were requested, but only one element is specified, doing nodal
averaging should not have any affect since there are no contributions from other elements available. Change
the COMB field in FTGPARM to ABSMAXPR (or leave blank) and change NODE to NODA (or leave
blank) and rerun knucklePSD_d . You will see that it gives equivalently the same answers as knucklePSD_c .&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup88
Main Index
Results Files
The files that are produced by these runs by default are (showing those from the first input file,
knucklePSD_a.dat ):
Table 3-4  Results Files Produced
Files Required Description
knucklePSD_a.f06 Standard MSC Nastran output as described above. Always check this
file first for any FATAL errors that may occur.
knucklePSD_a.f04 Standard MSC Nastran output showing execution calls and timing.
knucklePSD_a.log Standard MSC Nastran log file. Check this file for possible errors when
jobs do not conclude properly.
knucklePSD_aCFV.log Specific log file of the fatigue analysis. This file contains the parameters
settings, information, and results of the job for critical elements. Can
be used for debugging purposes. See Listing 3-2.
knucklePSD_a.op2 If PARAM,POST,1 is placed in the input file in the bulk data section,
this file is produced and can be attached to a Patran database to access
and plot results.
knucklePSD_a.MASTER
knucklePSD_a.DBALLIf a NASTRAN SYSTEM(316)=19 is placed in the input file at the
start before the FMS section, the MASTER file is produced with results
and can be attached to a Patran database to access and plot results.
knucklePSD_aPSD.csv This file contains tabular (comma separated) data of the input and
response PSDs, the stress transfer function, and the spectral moments
for every calculation frequency for the critical element only and can be
plotted with standard plotting tools like MS Excel. See Listing 3-3. All
element nodes (grids) and center (0) locations are given for all layers
(top or bottom for shells, NONE for solids). If LOGLVL = 1 or 2 in
the FTGPARM  entry, all requested entities are written to this file. Use with
caution as this can create an enormous amount of data. You should
limit your output using the FTGDEF  ELSET field when using LOGLVL
1 or 2.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P6</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_006/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_006/</guid>
      <description>
        
        
        &lt;p&gt;89 CHAPTER 3
Single Input Random Loading
Main Index
Listing 3-2  Sample of knucklePSD_aCFV.log  file
Vibfat entry chosen: Jobname = ./knucklePSD_a,  Jobid = 42
Jobname = ./knucklePSD_a
Source = nastran
Output file type requested = xxxnw
To read from op2 files: nodav
Pass option:  Write 1st pass results to file and re-read for second pass
FE Units with id 42
Cnvrt1 = 1 FE_L_MAG = 1
Chosen vftgdef entry has id 42 and parameters:
ATYPE = dirlik
TOPRMS = 100 and not UTS-BASED
CLIPLEVEL = 10
MAXFREQ = 0.999
MAXSTR = 10
STRBINS = 32
MID = 0 will be ignored as elsets are present
Number of ELSET MID pairs defined = 1
ELSET        MID
1         42
ABSRESP not defined
XELSET not defined
Chosen vftgparm entry has id 42 and parameters:
Type = sn as given by user.  However, see below:
In case user put in definitions (in matftg) of type = SN, table, mmpds, en
we choose 1 type based on what was given on the ftgparm card
or based on a heirarchy
Here is the rule -
a) if there is only 1 type defined on matftg, we use it
b) if there are multiple types defined then
if ftgparm (type) says en we choose the en
if ftgparm (type) says sn then we choose based on the following heirarchy -
mmpds over table over sn
Flag indicating &amp;ldquo;stress&amp;rdquo;
Combination used = absmaxpr
Correction used = none
Ncalc (method for computing N) = naver
Debug flag = none
Tolerance for Neuber = 1e-05
MAXPEAK = 5
vftgseq with id 42 has required duration 1 in seconds
Tscale = 1
Equiv and Eqname not set
This sequence has 1 event(s):
vftgevnt_id    duration in seconds&lt;/p&gt;
&lt;hr&gt;
&lt;pre&gt;&lt;code&gt;   100      1
&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;vftgevnt with id 100
It refers to the following 1 Loads:
Load ID (vftgload, detload, nbload or static offset)&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;load-id-vftgload-detload-nbload-or-static-offset&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#load-id-vftgload-detload-nbload-or-static-offset&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;   200
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For Event 100, Duration = 1
**vftgload entry with id 200 will be processed:
type = psd, tid = 300, scale = 1
Load case id = 1
Single input random load
op2file address: XXXXXXXX
MATFTG entries used are described below &amp;mdash;
Matftg id 42
Cnvrt2 value is 1
Stresses are in MPa
YS = 135,  UTS = 400, E = 210000
Type = TABLE with ID 60
Information: Stress for subcase id 1 read from Nastran Stress Data Recovery Module
Number of points (corner+center+upper/lower stress locations) in model = 93595
Information: Stress for subcase id 2 read from Nastran Stress Data Recovery Module
Information: Stress for subcase id 3 read from Nastran Stress Data Recovery Module
Number of forcing frequencies in model = 45
From 0 Hz to 50 Hz&lt;/p&gt;
&lt;h2&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup90
Main Index
Max RMS Stress (over all points and events in model) = 58.1946 MPa
Max RMS Stress = 58.1946 in user given stress units
This (Max) RMS is an RMS Stress averaged over the events at this point
critical element=5971 grid=2616 layer=none event=100
TOPRMS percentage value from VFTGDEF entry is 100 %
TOPRMS is not UTS-BASED
16283 elements have some point with rms value above 0
These 16283 elements retained for further analysis
Information: Stress for subcase id 1 read from Nastran Stress Data Recovery Module
Second Pass (STRESS):
Number of points (corner+center+upper/lower stress locations) in reduced model (using TOPRMS) = 93595
STRESS: re-processing (from stored TF) subcase 1 freq 1 of 45 (0 Hz)
STRESS: re-processing (from stored TF) subcase 1 freq 2 of 45 (0.097656 Hz)
STRESS: re-processing (from stored TF) subcase 1 freq 3 of 45 (0.195312 Hz)
STRESS: re-processing (from stored TF) subcase 1 freq 4 of 45 (0.292968 Hz)
STRESS: re-processing (from stored TF) subcase 1 freq 5 of 45 (0.390624 Hz)
&amp;hellip;
STRESS: re-processing (from stored TF) subcase 1 freq 45 of 45 (50 Hz)
Information: Stress for subcase id 2 read from Nastran Stress Data Recovery Module
Information: Stress for subcase id 3 read from Nastran Stress Data Recovery Module
Beginning Damage Computations
Number of points in model after restricting to FSET3 elements (if used):  93595
Damage computed
&amp;hellip;
3d Element nodes - Worst Damage sum (duty cycle) over 3d element nodes&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;3d-element-nodes---worst-damage-sum-duty-cycle-over-3d-element-nodes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#3d-element-nodes---worst-damage-sum-duty-cycle-over-3d-element-nodes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;h2&gt;Rank     Elem    Grid   Layer      DamageSum
1     5971    2616     N/A      1.009714e-04
2     6741    2616     N/A      1.009714e-04
3     9882    2616     N/A      1.009714e-04
4     5409    2756     N/A      8.261296e-05
5     6176    2756     N/A      8.261296e-05
6     7114    2756     N/A      8.261296e-05
7     7233    2756     N/A      8.261296e-05
8     9294    2756     N/A      8.261296e-05
9     9342    2756     N/A      8.261296e-05
10     9793    2756     N/A      8.261296e-05
&amp;hellip;
2d Element nodes - Worst Damage sum (duty cycle) over 2d element nodes&lt;span class=&#34;hx-absolute -hx-mt-20&#34; id=&#34;2d-element-nodes---worst-damage-sum-duty-cycle-over-2d-element-nodes&#34;&gt;&lt;/span&gt;
    &lt;a href=&#34;#2d-element-nodes---worst-damage-sum-duty-cycle-over-2d-element-nodes&#34; class=&#34;subheading-anchor&#34; aria-label=&#34;Permalink for this section&#34;&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Rank     Elem    Grid   Layer      DamageSum
1    13510    2616   lower      3.133429e-07
2    13510    2616   upper      3.133429e-07
3    13511    2616   lower      3.133429e-07
4    13511    2616   upper      3.133429e-07
5    13767    2616   lower      3.133429e-07
6    13767    2616   upper      3.133429e-07
7    14934    2616   lower      3.133429e-07
8    14934    2616   upper      3.133429e-07
9    14935    2616   lower      3.133429e-07
10    14935    2616   upper      3.133429e-07
All MAXPEAK*RMS stresses are less than UTS&lt;/p&gt;
&lt;p&gt;91 CHAPTER 3
Single Input Random Loading
Main Index
Listing 3-3  Sample of knucklePSD_aPSD.csv  file of 1st &amp;amp; last frequencies
Note that this information is written for all the corner grids of the element including the center (0). So five
(5) sets of data are written for element 5971 for every frequency, layer, and event.
For the critical shell element, eight(8) sets would be written. Element 13897 is a CTRIA6 shell element
which contains three (3) corners and a center result for an upper and lower level (layer). So in total there are
eight (8) results for this type of element.
Element 5971 is a CTETRA solid element which has four (4) corners and a center. So in total there are five
(5) results for this type of element.
Figure 3-11  Location of grid IDs for CTETRA and CTRIA3 (shell) elements
More results will be discussed in next example problem.Freq  Elem  Grid  Layer  Event Input
PSDTF Response
PSD M0  M1  M2  M4
0.00E+00 5971 0  NONE 100 0.00E+00 4.56e-06 0.00E+00 0.00E+00 0.00E+00 0.00E+00 0.00E+00
0.00E+00 5971 2658  NONE 100 0.00E+00 8.22e-06 0.00E+00 0.00E+00 0.00E+00 0.00E+00 0.00E+00
0.00E+00 5971 2622  NONE 100 0.00E+00 1.92e-05 0.00E+00 0.00E+00 0.00E+00 0.00E+00 0.00E+00
0.00E+00 5971 2671  NONE 100 0.00E+00 1.67e-06 0.00E+00 0.00E+00 0.00E+00 0.00E+00 0.00E+00
0.00E+00 5971 2616  NONE 100 0.00E+00 4.14e-05 0.00E+00 0.00E+00 0.00E+00 0.00E+00 0.00E+00
&amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
5.00E+01 5971 0  NONE 100 1.00e+03 2.33e-06  2.33e-03 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
5.00E+01 5971 2658  NONE 100 1.00e+03 5.11e-06  5.11e-03 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
5.00E+01 5971 2622  NONE 100 1.00e+03 1.06e-05 1.06e-02 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
5.00E+01 5971 2671  NONE 100 1.00e+03 8.13e-07 8.13e-04 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;
5.00E+01 5971 2616  NONE 100 1.00e+03 2.04e-05 2.04e-02 &amp;hellip; &amp;hellip; &amp;hellip; &amp;hellip;&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks92
Main Index
Concluding Remarks
This is simplest random vibration fatigue analysis example and the following comments are made for
reinforcement of understanding.
Frequency Response Analysis
Random vibration fatigue analysis is accomplished using frequency response analysis, solutions SOL 108 or
SOL 111. The frequency response analysis produces the transfer functions (TF) of stress for all defined
frequencies of interest.
Random Vibration Analysis
The random vibration analysis is performed by defining an input loading PSD. The input load PSD is
multiplied by the TFs of stress to produce stress response PSDs at all element of interest. Responses can be
reported at the element center or the element nodes for layered shell or non-layered solid elements. The
frequency range/content/resolution of the TFs and the input PSD should be defined such that no dynamic
responses are truncated or inadvertently omitted.
Fatigue Analysis
The fatigue analysis is performed by extracting the spectral statistics from the response PSDs and creating
what is called a PDF of rain flow cycle counts consisting of a number of stress range BINs. Using the stress
range of each BIN, damage can be looked up on a defined S-N curve, summed, and reported as damage and
fatigue life.
Job Setup
To set up a random vibration fatigue analysis using SOL 108 or SOL 111, the following input entries are
required at a minimum:
FATIGUE  case control calling out the FTGDEF , FTGPARM , and FTGSEQ  entries of the same ID.
•The FTGDEF  is only necessary if you wish to limit the number of elements analyzed.
•The FTGPARM  is only necessary if you wish to change the default parameters for a vibration fatigue
analysis.
•The FTGSEQ  is required to define the input PSD loading.
A MATFTG  is required. Only elements whose property definitions (PSOLID, PSHELL) point to
existing MAT1 entries that also have corresponding MATFTG entries of the same ID, or the
MATFTG uses the MATID line to associate multiple MAT1 IDs, are included in the analysis
regardless of whether they are called out on a FTGDEF  entry.
The random input PSD load is defined using the FTGSEQ  entry in the following manner for a single
input load PSD:
•The FTGSEQ  references a single event via a FTGEVNT  entry
•The FTGEVNT  references as single FTGLOAD  entry of type PSD
•The FTGLOAD  entry of TYPE=PSD reference a single RANDPS  entry&lt;/p&gt;
&lt;p&gt;93 CHAPTER 3
Single Input Random Loading
Main Index
The RANDPS  entry reference the PSD definition via a TABRND1  entry and associates it to the stress TF
subcase of the SOL 108 or SOL 111 analysis with its J=K fields calling out the same SUBCASE.
Results
Printed results of fatigue damage and life (in seconds) are produced in the standard MSC Nastran F06 print
file. Additionally other results files for possible postprocessing or graphing in MS Excel are produced. The
possible results that can be investigated are:
Fatigue life (log of life) in time units (seconds in this example)
Damage - reciprocal of life
Input PSD, resultant stress PSD, and TF at critical location (or all if requested)
Damage sum or damage per stress BIN from PDF of rainflow ranges (if requested)
Spectral moments and other statistics such as RMS stress of the response PSDs (if requested)
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but may appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knucklePSD . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knucklePSD_a.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC Nastran.
Step 2: Check the Model
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction. An FRFY.SC2 and an
FRFZ.SC3 load case were also imported for unit loads in y- and z-directions, but they are not used
in this first example.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup94
Main Index
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry shown in the section Material and
Physical Properties, 75 . Verify that they are the same. Open the Options  form and ensure that the Log
x-axis  and Log y-axis  toggles are set ON. Also check the non-spatial field ( Field.400 ) that defines our
input PSD loading. The values here are from the TABRND1 entry shown in the section Random
Loading Bulk Data Input, 84 .Curve Type: None
Ultimate T ensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60Parameter Value&lt;/p&gt;
&lt;p&gt;95 CHAPTER 3
Single Input Random Loading
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knucklePSD_a.dat ,
a job by the name of knucklePSD_a  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Abs. Max. Principal
Results Location: Nodal Averaged
Recovery: Corner
Layer: Worst
Level of Output: Standard
Top RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this OFF
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 10.0
RMS Stress Clip Level: 10.0
Peak RMS Stress Level: 5.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 128&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup96
Main Index
The input file, knucklePSD_a.dat , did not actually contain a FTGPARM  entry. So all the defaults are
used.
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis in which case a FTGDEF  entry
is not actually needed (but Patran will always write one). At this point, nothing further is need to be
defined on this form unless you want to limit the elements included in the analysis in which case you
would select items from the two top list boxes on the right side of the form in advanced mode.&lt;/p&gt;
&lt;p&gt;97 CHAPTER 3
Single Input Random Loading
Main Index
One last note about output requests. Fatigue life output requests are subcase independent unlike
most standard output requests such as stress and displacement. If you are using multiple subcases, the
first (or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the
next step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only
if necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: FRFX.SC1 , FRFY.SC2 , FRFZ.SC3 . Even though all three are
selected, only one ( FRFX.SC1 ) will participate in the analysis as you will see from this setup.
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a single
load event (Event: 1) that associates our transfer function subcase called FRFX.SC1  to the PSD load
input defined by a non spatial field created or inspected earlier.
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup98
Main Index
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
In the tree widget on the left, ensure that a Load Sequence with one event is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select the one and only event from the list box that appears
and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;99 CHAPTER 3
Single Input Random Loading
Main Index
Step 8: View the Results
When the job is complete, attach the MSC Nastran database to Patran to view the results. Still in the
Analysis  application, set Action =Access Results , Object =Attach MASTER , and Method =Result
Entities . Select the knucklePSD_a.MASTER  file and press the Apply  button.
Go to the Results  application and view the results by selecting Log of Damage  or Log of Life  from the
knucklePSD_a:SN_42:,A1:Event =100  Results Case.
Step 9: Run other Fatigue Jobs
To run the other jobs from this Chapter, you can import each input deck into a new empty database and
repeat the steps here making modifications as necessary and shown below for each different input deck. Or
you can define new jobs in the same database by selecting the existing job knucklePSD_a  and then renaming
it and making the modifications as necessary. The table below lists the modifications necessary for each using
the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup100
Main Index
Input Deck Modification
knucklePSD_a.dat Baseline - no modifications necessary
knucklePSD_b.dat Create a group containing all the solid elements. In the Output
Requests  form for subcase FRFX.SC1 , select the group from the Select
Elements to Exclude  list box. If you imported the input file, a group
called set3_99  should already be available and selected. This is the only
change required from the baseline job ( knucklePSD_a ).
knucklePSD_c.dat Create a group containing only the elements 5971 and 13897. In the
Output Requests  form for subcase FRFX.SC1 , set the Type of include
data to Groups  then select the group from the Select Groups  list box. If
you imported the input file, a group called set3_99  should already be
available and selected. This is the only change required from the
baseline job ( knucklePSD_a ).
knucklePSD_d.dat Follow the same modification as job knucklePSD_c  to limit the analysis
to only the critical elements. And then under the Fatigue Parameters&lt;br&gt;
form, change the Stress Combination  to Signed von Mises , the Results
Location  to Element Nodal.&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 4: More Fatigue Results
4 More Fa tigue Results
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description102
Main Index
Problem Description
This example uses the same steering knuckle as the previous example. The purpose of this tutorial is to further
investigate and understand the result outputs from a random vibration fatigue analysis.
Figure 4-1  The Knuckle model and applied load inputs
Objective
To investigate additional results output from the random vibration fatigue analysis of the previous
example using the steering knuckle model.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Fatigue Setup
This fatigue analysis is mostly identical to the previous chapter with the exception of some additional output
requests. The differences in the input file are shown in the partial listing below in red.Table 4-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knucklePSD_e.dat Knuckle model fatigue analysis of only two critical elements, one shell
and one solid with various parameters defined and additional output
requests ( FTGPARM  with LOGLVL=2, MATFTG  with MATOUT=1,
FATIGUE  with FORMAT=192).&lt;/p&gt;
&lt;p&gt;103 CHAPTER 4
More Fatigue Results
Main Index
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis of knuckle
FATIGUE(SORT1,PRINT, FORMAT=192 ,BULK) = 42
&amp;hellip;
SUBCASE 1
SUBTITLE=FRFX
&amp;hellip;
BEGIN BULK
$
$ Fatigue Element Set Definition
$ The analysis is only done on elements 13897 and 5971
SET3    99      ELEM    13897   5971
FTGDEF  42      100.0
ELSET   99
$
$ Fatigue Parameters
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            NODE            CORNER
VIBFTG  DIRLIK                          64
$
$ Fatigue Material Properties
MATFTG  42              1
STATIC  135 .    400.            R ANGE
TABLE   1.0     60
MATID   210000. 0.3
1       777     999
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
$
$ Fatigue Loading Sequence - single PSD applied to SUBCASE 1
FTGSEQ  42      1               SECS    1.0
100     1.0
FTGEVNT 100     200
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50.0    1000.0
ENDT
&amp;hellip;
include ‘knuckle.bdf’
&amp;hellip;
ENDDATA
Case Control
In order to perfo rm a fatigue analysis, there must be a FATIGUE  case control:
FATIGUE(SORT1,PRINT, FORMAT=192 ,BULK) = 42&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup104
Main Index
The difference from the previous example is the FORMAT option.
FORMAT=64 produces a comma delimited CSV file.
FORMAT=128 produces a Patran neutral element results file.
FORMAT=192 is used because 64+128=192. The sum of the two values is used to request both files.
When a Patran neutral results file is produced a template file ( &lt;!-- raw HTML omitted --&gt;.res_tmpl ) is also produced, which is
used when importing the file into Patran.
Material Properties
Difference from the previous example is in the MATOUT field (4th field on the 1st line) in the MATFTG  entry.
If set to unity, a comma delimited CSV style file is produced containing the fully populated S-N curve
definition used in the analysis ( &lt;!-- raw HTML omitted --&gt;&lt;em&gt;vmatvtg&lt;/em&gt;&lt;!-- raw HTML omitted --&gt;.txt ).
MATFTG  42              1
STATIC  135 .    400.            R ANGE
TABLE   1.0     60
MATID   210000. 0.3
1       777     999
TABLEM1 60      LOG     LOG
1.0E15  121.10  2.0E11  121.10  7.19E9  150.00  1.86E7  220.00
1.0E6   265.50  1.71E3  400.00  5.31E1  500.00  1.0E0   645.50
ENDT
Fatigue Parameters
The difference from the previous example is in the LOGLVL field (6th field on the 1st line) in the FTGPARM&lt;br&gt;
entry. If set to one (1), or (2), various other CSV style output is produce as shown in the next sections.
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            NODE            CORNER
VIBFTG  DIRLIK  16.0    16.0    3.0     64      99.9
Random Loading
No changes in the random loading input are made between this and the previous example.&lt;/p&gt;
&lt;p&gt;105 CHAPTER 4
More Fatigue Results
Main Index
Fatigue Result Files
Run the job knucklePSD_e.dat . This input file has the following differences set from the jobs in the previous
example:
LOGLVL field on FTGPARM  is set to 2
MATOUT field on MATFTG  is set to 1
FORMAT in FATIGUE  case control is set to 192
This results in the additional output. Please note that these output request mechanisms are turned OFF by
default as they can produce a lot of data (possibly unwanted) and can cause performance degradation. When
they are used, the FTGDEF  entry should be used to limit the output to only the locations of interest.
Table 4-2  Additional Results Files Produced
Files Required Description
knucklePSD_e.csv Affected by FORMAT in FATIGUE  case control. FORMAT=64
produces this CSV file. The FORMAT code is s summation of
requests. FORMAT = 192 is used because the code 128 is also
used to output another file type listed below (64 + 128 = 192).
This comma separated file contains the following results per
entity, layer, and event (see Listing 4-2):
knucklePSD_e._N_W_EV1.els_fef
knucklePSD_e.res_tmplAffected by FORMAT in FATIGUE  case control. FORMAT=128
produces this Patran neutral element results file. The
FORMAT code is s summation of requests. FORMAT = 192 is
used because the code 64 is also used to output another file type
listed above (64 + 128 = 192). A template file is also produced,
which is used when importing the file into Patran.
knucklePSD_ePSD.csv
knucklePSD_eRCC.csvProduced with LOGLVL=1 or 2 in the FTGPARM  entry. If
LOGLVL=1, all resultant PSD information is written to the
&amp;ldquo;PSD&amp;rdquo; file, which is produced with LOGLVL=0 also, but only
contains the critical element resultant PSD. If LOGLVL=2, the
&amp;ldquo;RCC&amp;rdquo; file is also produced, which contains the rainflow cycle
damage values for every BIN. The file is also produced if
LOGLVL=1, but contains only the sum of the damage and not
every BIN value.
knucklePSD_vmatftg_nn.txt Produced with MATOUT=1 in the MATFTG  and is also a CSV
file, but of the fully populated material S-N curve. nn refers to
the material ID number of the MATFTG  entry.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup106
Main Index
Result PSDs
First let us take a look at one of the CSV files produced with LOGLVL=1 or LOGLVL=2. This creates a
&lt;!-- raw HTML omitted --&gt;PSD.csv  file. By default this file is produced containing only the result PSD of the critical location.
If LOGLVL on FTGPARM  is greater than zero (0), then the responses for all entities requested in the random
vibration fatigue analysis are output. Below is a sample of the file showing some of the frequencies for only
the center of shell element 13897 (bottom layer).
Listing 4-1  Sample of PSD.csv  file of 1st few frequencies of Element 13897
In order to look at the data in the &lt;!-- raw HTML omitted --&gt;PSD.csv   file it is easy to use MS Excel to sort then plot the data.
Select the header row and use the pull down tool Data  | Sort to get any sections of the data into a form that
can be plotted as shown below. The best is to sort in this order: Event, Layer, Grid, Element, Frequency, which
then reorders the data in a form which is easier select what to plot in Excel.
The CSV file actually contains the input load PSD, the actual transfer function (TF) of stress from the
frequency response analysis, the resultant stress PSD, and the spectral moments of the results PSD at each
frequency. Below are plots of the input PSD, equivalent stress (TF), and response PSD for the center (ID=0)
of element 13987.
Figure 4-2  Input load PSD for Element 13897 centerFreq  Elem  Grid  Layer  Event Input
PSDTF Respons
e
PSD M0  M1  M2  M4
8.50E+00 13897 0  lower 100 1.76E+06 1.61E-04 2.84E+02 1.04E+03 3.99E+03 2.25E+04 1.08E+06
8.85E+00 13897 0  lower 100 1.75E+06 2.05E-04 3.58E+02 1.16E+03 4.98E+03 3.11E+04 1.73E+06
8.87E+00 13897 0  lower 100 1.75E+06 1.98E-04 3.46E+02 1.16E+03 5.04E+03 3.17E+04 1.77E+06
9.21E+00 13897 0  lower 100 1.73E+06 5.85E-05 1.02E+02 1.24E+03 5.71E+03 3.77E+04 2.26E+06
9.88E+00 13897 0  lower 100 1.71E+06 2.81E-06 4.80E+00 1.27E+03 6.05E+03 4.10E+04 2.55E+06
1.08E+01 13897 0  lower 100 1.67E+06 1.61E-06 2.69E+00 1.28E+03 6.09E+03 4.13E+04 2.59E+06&lt;/p&gt;
&lt;p&gt;107 CHAPTER 4
More Fatigue Results
Main Index
Figure 4-3  Transfer function of stress for Elem 13897 center
Figure 4-4  Response stress PSD for Elem 13897 center
At the center of this process is a stress response calculation using system properties in the form of transfer
functions (TF). These are obtained from the frequency response analysis. It is convenient to consider the TF
as (the square of) the linear relationship between an arbitrary sinusoidal load input and the resultant
sinusoidal response at any particular frequency. It is then assumed that the response to multiple simultaneous
sinusoidal inputs can be obtained by performing a set of separate steady state analysis runs (SOL 108 or
SOL111) followed by a summation of the response sine waves. This is the underlying assumption when using
Power Spectral Density (PSD) functions to describe loading and response in this way.
So in practical terms the TFs are nothing more than the (square of the) response (in this case stress) caused
by input sine waves of load (for example acceleration, G) applied at different frequencies.
Once the transfer function is available the stress response PSD S(f) is then obtained by multiplying the input
load PSD G(f) by the transfer function H(f) in the following way,
Sf HafHbfGabf
b1=n

a1=n
=&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup108
Main Index
where, in this case, we only have one direct PSD (a=b).
Hand Checking the Results
This equivalent stress transfer function is a processed version of the MSC Nastran system properties (stress
per unit load input). The version shown here is not a complex function but where multiple inputs are being
used this data will need to remain complex until the final response PSD calculation.
For a single input process we can now consider the structural response calculation to be a simple
multiplication of the input PSD times this transfer function. At this stage a simple numerical check on one
particular frequency can be performed. For example, at 8.852828 Hz we can see the following values. A
simple numerical check shows that the response PSD is obtained by multiplying the input PSD by the
transfer function. See Listing 4-1.
At 8.852828  HzInput PSD = 1.749034E+6
TF = 2.04624E-04
Response PSD = 357.894&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P7</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_007/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_007/</guid>
      <description>
        
        
        &lt;p&gt;109 CHAPTER 4
More Fatigue Results
Main Index
Scalar CSV Output
Next let us take a look at the scalar CSV files created with FORMAT=64 in FATIGUE  case control.
FORMAT=64 produces this CSV file. The FORMAT code is s summation of requests. FORMAT = 192 is
used because the code 128 is also used to output another file type as mentioned already (64 + 128 = 192).
This comma separated file contains the following results per entity, layer, and event (see Listing 4-2):
•spectral moments: m0, m1, m2, m3
•zero upward crossings E[0] and
number of peaks E[P]
•irregularity factor E[0]/E[P]
•RMS stress and strain
•mean stress
•mean + 3&lt;em&gt;RMS stress/strain
•mean - 3&lt;/em&gt;RMS stress/strain
•Damage and log of damage
•Life and log of life
•Margin of safety
•Plasticity index
Listing 4-2  Sample of knucklePSD_e.csv  file (text rotated)
Now let us check the derived response statistics, the simplest of which is the root mean square (RMS), which
is the square root of the area of the PSD. Should it be required to check this by hand then the area can be
evaluated from the above response PSD plot to be 1573 MPa2. This can be seen as m0 in the results table.
The RMS value is then obtained as the square root of this value (39.67MPa).
In the CSV results table we can also see results for Mean + 5sigma etc. In this example there is no mean load
applied so these results are simply 5 * the RMS values for each grid ID. Why five (5) times and not, say, three
(3) times or two (2) times RMS? This is controlled by the MAXPEAK setting on the FTGPARM  entry in the Element
Grid
Layer
Elset Id
Material ID
Event
m0
m1
m2
m4
rms_str ess
rms_strain
E[0]
E[p]
Irr_Factor
Mean S tress
Mean+5sigma_str ess
Mean-5sigma_str ess
Mean+5sigma_strain
Mean-5sigma_strain
Damage(D uty C ycle)
Log D amage (D uty C ycle)
Life(seconds)
Log of Life(seconds)
MOS
Plasticity I ndex5971
0
none
1
42
100
4.40E+02
4.08E+03
8.01E+04
6.74E+07
2.10E+01
0.00E+00
1.35E+01
2.90E+01
4.65E-01
0.00E+00
1.05E+02
-1.05E+02
0.00E+00
0.00E+00
1.27E-11
-1.09E+01
7.85E+10
1.09E+01
9.87E+01
0.00E+0013897
0
lower
1
42
100
1.57E+03
1.36E+04
2.55E+05
2.30E+08
3.97E+01
0.00E+00
1.27E+01
3.00E+01
4.24E-01
0.00E+00
1.19E+02
-1.19E+02
0.00E+00
0.00E+00
2.88E-07
-6.54E+00
3.47E+06
6.54E+00
6.20E+01
0.00E+00&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup110
Main Index
VIBFTG line. By default it is set to half of whatever MAXSTRESS (in RMS levels) is set to (also on the
FTGPARM  entry). The default for MAXSTRESS is 10, so the default for MAXPEAK is five (5), thus the reason
for reporting 5*RMS.
If it is required to do a hand check to evaluate the equivalent stress results in the above transfer function then
it is first necessary to extract the raw stress tensor data from the Nastran F06 results file as shown below. Care
should be taken when requesting such stresses (STRESS case control) because the size of this F06 file can
become very large.
The transfer function for a particular element can be obtained from the F06 for a particular element in stress
tensor form. For example for frequency 8.852828 Hz:
Listing 4-3  TF at 8.85 Hz for Elements 5971 and 13897 from F06 output
Each of these stress tensors, for the required element and grid ID, then has to be converted into an equivalent
stress form that can be used for the subsequent analysis and fatigue calculation. This can be done using a
&amp;ldquo;von-Mises&amp;rdquo; type calculation, a &amp;ldquo;principal&amp;rdquo; stress calculation or one of the component results such as X, Y, Z
etc. In the hand check below a von-Mises calculation is performed. First of all the stress tensor is extracted
from the above raw data as follow from the center of the element:     FRFX                                                                                                                        &lt;br&gt;
0                                                                                                            SUBCASE 1           &lt;br&gt;
FREQUENCY =  8.852828E+00
C O M P L E X   S T R E S S E S   I N   T E T R A H E D R O N   E L E M E N T S   ( C T E T R A )
(REAL/IMAGINARY)
0                   CORNER      &amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;CENTER AND CORNER POINT STRESSES&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
ELEMENT-ID    GRID-ID      NORMAL-X       NORMAL-Y       NORMAL-Z         SHEAR-XY       SHEAR-YZ       SHEAR-ZX
0         5971           0GRID CS 10 GP
0                   CENTER    -1.227013E-03  -4.305254E-04   9.137275E-05    -4.363337E-04  -3.491578E-04  -7.813063E-04
4.203820E-03   1.131108E-03   1.507587E-04     1.462987E-03   7.881903E-04   1.748060E-03
0                     2658     7.596715E-04   3.977431E-04   2.889512E-04     1.162120E-03   7.543490E-04  -5.170151E-04
-3.831882E-03  -1.191447E-03  -2.237849E-03    -4.239782E-03  -1.128468E-03   2.155915E-03
0                     2622     1.286523E-03   8.068166E-04   2.021003E-03    -2.733324E-04  -5.738168E-04   3.904927E-04
-5.551559E-03  -3.578471E-03  -2.213646E-03     4.521370E-04   1.536775E-03  -2.894068E-03
0                     2671    -1.249404E-03   8.655492E-05   3.315318E-04    -2.349575E-04   1.053837E-04  -5.001586E-04
5.926539E-03   9.430802E-04   5.410014E-04     9.194610E-04  -3.311346E-04   1.040512E-03
0                     2616    -5.704843E-03  -3.013216E-03  -2.275995E-03    -2.399165E-03  -1.682547E-03  -2.498544E-03
2.027218E-02   8.351269E-03   4.513529E-03     8.720133E-03   3.075589E-03   6.689879E-03
1    SINGLE INPUT RANDOM FATIGUE ANALYSIS OF KNUCKLE                           JUNE   8, 2016  MSC Nastran  5/ 4/16   PAGE    52
FRFX                                                                                                                        &lt;br&gt;
0                                                                                                            SUBCASE 1           &lt;br&gt;
FREQUENCY =  8.852828E+00
C O M P L E X   S T R E S S E S   I N   T R I A N G U L A R   E L E M E N T S   ( T R I A 6 )
(REAL/IMAGINARY)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ELEMENT              FIBER                                  - STRESSES IN ELEMENT  COORDINATE SYSTEM -
  ID      GRID-ID   DISTANCE                 NORMAL-X                        NORMAL-Y                       SHEAR-XY
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;0     13897    CEN/6 -5.000000E-02   -6.164243E-04 /  2.124029E-03    -2.705388E-03  /  1.209356E-02    1.249566E-03  / -4.789899E-03
5.000000E-02   -6.164243E-04 /  2.124029E-03   -2.705388E-03 /  1.209356E-02    1.249566E-03 / -4.789899E-03
2858  -5.000000E-02   -3.893638E-04 /  1.330557E-03   -2.967790E-03 /  1.358371E-02    1.090640E-03 / -4.091571E-03
5.000000E-02   -3.893638E-04 /  1.330557E-03   -2.967790E-03 /  1.358371E-02    1.090640E-03 / -4.091571E-03
2859  -5.000000E-02   -5.261517E-05 /  3.247057E-04   -8.974149E-04 /  5.890106E-03    3.659614E-04 / -1.536610E-03
5.000000E-02   -5.261517E-05 /  3.247057E-04   -8.974149E-04 /  5.890106E-03    3.659614E-04 / -1.536610E-03
2756  -5.000000E-02   -1.407294E-03 /  4.716823E-03   -4.250959E-03 /  1.680686E-02    2.292096E-03 / -8.741515E-03
5.000000E-02   -1.407294E-03 /  4.716823E-03   -4.250959E-03 /  1.680686E-02    2.292096E-03 / -8.741515E-03
Elem Sxreal Sximag Syreal Syimag Szreal Szimag Sxyreal Sxyimag Syzreal Syzimag Szxreal Szximag
5971 -1.23E-3 4.20E-3 -4.31E-4 1.13E-3 9.12E-05 1.51E-4 -4.36E-4 1.46E-03 -3.49E-4 7.88E-4 -7.81E-0 1.75E-3
13897 -6.16E-4 2.12E-3 -2.71E-3 1.21E-2 1.25E-3 -4.79E-3&lt;/p&gt;
&lt;p&gt;111 CHAPTER 4
More Fatigue Results
Main Index
From this single stress tensor, at 8.85 Hz, it is possible to perform a hand check for the von-Mises result. For
the shell element, the maximum value (as a function of time) of von-Mises for this stress tensor is 0.014289.
But the method used by MSC Nastran results in 0.014305. Whilst this is very similar to the &amp;ldquo;classic&amp;rdquo; result
using a reconstituted time signal other situations might cause the divergence to increase.
von-Mises Equi valent Stress Calculation
There is a fundamental problem calculating the value of von-Mises for a complex stress tensor. The classic
von-Mises yield criterion is normally expressed as follows
However, this can not be evaluated easily for a complex result because the value will vary according to the
phase of each term calculated. If for example, we convert the frequency based stress tensor into a set of time-
based (sine wave) functions we get the following:
Figure 4-5  Stress tensor components plotted versus time
Figure 4-6  von-Mises plotted at a function of timeElem
13897Real Imaginary Amplitude Phase Phase(rad)
Sx(f) -0.000616 0.002124 0.002212 -73.816431 -1.288340
Sy(f) -0.002705 0.012094 0.012392 -77.390195 -1.350714
Sxy(f) 0.001250 -0.004790 0.004950 -75.378755 -1.315607vm2 1
2&amp;mdash;1122– 22233– 21133– 26232312122+ +   + + +   =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup112
Main Index
The maximum value (as a function of time) from this curve is 0.014289.
This seems like a reasonable way to establish the appropriate value to use. However, recent literature has
strongly suggested an alternative method different method for calculating the von-Mises value as
follows:
Where Sx, Sy, Sz are the x, y and z PSDs of response, Sxy, Syz, Sxz are the shear PSDs and the Sx&lt;em&gt;Sy, Sy&lt;/em&gt;Sz, and
Sx*Sz terms are cross PSDs.
The calculation done using this method is 0.014305.
Whilst this is very similar to the &amp;ldquo;classic&amp;rdquo; result using a reconstituted time signal other situations might cause
the divergence to increase. Current best practice suggests using this alternative method and this is embedded
in the MSC Nastran software.
In order to compare this with the transfer function above the equivalent stress calculated this way has to be
squared (the transfer stresses are squared). When we square this result we get 0.000204633, which is virtually
the same as that extracted from CAEfatigue VIBRATION. VMPSD Sx2Sy2Sz23Sxy2Syz2Sxz2+ +  SxSySySz– SxSz– – + + + =&lt;/p&gt;
&lt;p&gt;113 CHAPTER 4
More Fatigue Results
Main Index
Derived Response Statistics
If you now go back to the PSD.csv file and plot (MS Excel used) the cum ulative moments, m0, m1, m2, and
m4, you get.
Figure 4-7  Cumulative moment plots
The above plots show that it is necessary to integrate all the way through the frequency axis in order to obtain
the correct values for m0, m1, and m2. However, these plots also show that it is important to not integrate
the fourth moment, m4, too far up the frequency axis, otherwise the result becomes unstable. For this reason,
an automatic frequency cut-off called MAXFREQ on the FTGPARM  entry is used, which has a default of
99.9%.
If required, these moments can be checked by hand (using a simple numerical integration procedure) for the
response PSD. The moments obtained are,
m01577.5
m11.36E+04
m22.53E+05
m42.23E+08
and these agree with the computed results shown the CSV file ( knucklePSD_e.csv ) for our shell element
13897 at its center.
In order to represent the stress response at any location in the model these four (4) response moments (m0,
m1, m2 and m4) are used and calculated by:
What is really quite astonishing is that these four (4) moments can be used to completely represent (at any
particular location) any required stress response quantities.
mnfnGffd
0
finGfif
1i
= =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup114
Main Index
These basic response statistics (m0, m1, m2 and m4) are provided in the CSV file as well as other output files
if requested. In addition the mean crossing rate (E[0]), the mean peak rate (E[P]), and the irregularity factor,
which is equal to E[0]/E[P] are calculated and reported as
follows:
Figure 4-8  Defining response characteristics of random signal
An important use of these statistics is as a way to determine the type of response obtained. For example,  can
only vary between 1 (narrow band) and 0.0 (very wide band) and so this might be a useful assessment to
perform. These can also be plotted as contour plots shown later.E0M2
M0&amp;mdash;&amp;mdash;&amp;ndash; = EPM4
M2&amp;mdash;&amp;mdash;&amp;ndash; = E0
EP&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;M22
M0M4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = =&lt;/p&gt;
&lt;p&gt;115 CHAPTER 4
More Fatigue Results
Main Index
Figure 4-9  Determining the &amp;ldquo;bandwidth&amp;rdquo; of a random signal from response statistics&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup116
Main Index
Rainfl ow Cycle Count
Another one of the CSV files produced with LOGLVL=1 or LOGLVL=2 is the &lt;!-- raw HTML omitted --&gt;RCC.csv  file. By
default this file is not produced. If LOGLVL on FTGPARM  is greater than zero (0), then the stress range and
damage cycle count information is output. When LOGLVL=1, only the final damage summation is output.
But when LOGLVL=2, all stress range cycle BINs are output with stress range and corresponding damage
including the damage summation.
Below is a sample of the file showing some of the rainflow cycle BINs for only the center of shell element
13897 (bottom layer).
Listing 4-4   Sample of RCC.csv  file of some of the BINs of Element 13897
The partial listing above lists the number of BINs requested. In this case 128 BINs were requested. Plus the
damage sum of all the BINs is listed. For each BIN, the probable number of stress cycles at the given stress
range, S, for that BIN is given by n. The allowable number of cycles to failure at that stress range is given by
N. This rainflow cycle count is determined by the analysis type specified on the FTGPARM  entry, the ATYPE
field. By default for random vibration load input, the analysis type is Dirlik.
Dirlik comp utes this PDF (probability density function) of rainflow cycles/stress ranges by this formula using
the response spectrum statistics: Element Grid Layer Event BIN n S N damage
13897 0  lower 100 1 1.06E-05 3.86E+02 3.00E+03 3.55E-09
13897 0  lower 100 2 8.87E-06 3.89E+02 2.65E+03 3.35E-09
13897 0  lower 100 &amp;hellip; 7.38E-06 3.92E+02 2.34E+03 3.16E-09
13897 0  lower 100 64 6.13E-06 3.95E+02 2.07E+03 2.96E-09
13897 0  lower 100  SUM    2.59E-07
Dirlik Solution: PSDfm0m1m2m4   =
PSDD1
Q&amp;mdash;&amp;mdash;-eZ–
Q&amp;mdash;&amp;mdash;D2Z
R2&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;eZ2–
2R2&amp;mdash;&amp;mdash;&amp;mdash;
 D3ZeZ2–
2&amp;mdash;&amp;mdash;&amp;mdash;
 + +
2 m0&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
where
ZS
2 m0&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = xmm1
m0&amp;mdash;&amp;mdash;-=m2
m4&amp;mdash;&amp;mdash;- m2
m0M4&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; =
D12xm2– 
12+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash; = D31D1– D2– = D21– D1D12+ –
1R–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =
Q1.25D3– D2R –  
D1&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash; = RxmD12– –
1– D1– D12+&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- =&lt;/p&gt;
&lt;p&gt;117 CHAPTER 4
More Fatigue Results
Main Index
These PDFs can be plotted in MS Excel as shown.
Figure 4-10  PDF of rainflow cycle count, n, allowable cycles, N, and damage, D
PDF of Rainflow Cycle Count, n
PDF of Allowable Cycles to Failure, N
PDF of Damage, D&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup118
Main Index
The above plots are dependent on the number of BINs requested in the analysis and the maximum RMS
stress level specified. These are both specified on the FTGPARM  entry and the values used to create the above
plots are as shown below:
$ Fatigue Parameters
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            NODE            CORNER
VIBFTG  DIRLIK  16.0    16.0    3.0     64      99.9
Stress Cli pping (CLIPLVL)
Stress clipping is obtained by setting the value CLIPLVL on the FTGPARM  entry to the required number of
RMS levels. Note that the way this is interpreted is that all stresses above CLIPLVL are set to the value of
CLIPLVL as shown below.
Figure 4-11  The concept of stress clipping
Normally, the damage is determined for each stress range BIN by dividing the number of cycles by the
allowable number of cycles to failure at that stress level and then summing damage from all BINs in this
manner:
However, with stress clipping, when the damage is being determined from a stress BIN whose RMS level is
greater than the set clipping level, then the equation reverts to:
Or in other words, the calculation of damage for any BIN with RMS stress above the clipping level uses the
clipping level stress to compute allowable cycles to failure, N, in the calculation. This tends to make the results
less conservative since stress ranges above the clip level all take the same amount of cycles to fail as opposed
to taking less cycles to fail as the stress range increases.
Dni
NSi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
1
=
Dni
NSi&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-ni
NSclip&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;-
clip
+
1clip
=&lt;/p&gt;
&lt;p&gt;119 CHAPTER 4
More Fatigue Results
Main Index
Allowable C ycles to Failure (NCALC)
A final note on the calculation of allowable cycles to failure is the method in which N is determined.
There is one additional setting of relevance to the damage calculation, that of NCALC on the FTGPARM  entry.
NCALC determines the position within the BIN where the value of N (allowable cycles to failure) is
calculated. The options are these:
AVG an average (integral) is calculated across the BIN (most accurate and default).
MID the middle value of the BIN is used
UPR the upper value of the BIN is used
Figure 4-12  Calculation of allowable cycles to failure, N, for a BIN
The larger the N used from a particular BIN, the less conservative the damage results will be. Thus the UPR
is the least conservative option.
Material Ou tput
The knucklePSD_vmatftg_nn.txt output file is a CSV file also with two columns of data defining the fuly
populated S-N curve. If MATOUT on the MATFTG  is set to one (1), a file for each MATID defined is
produced. If plotted in MS Excel it appears as follows:
Figure 4-13  Fully populate S-N curve with MATOUT=1 on MATFTG&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks120
Main Index
Concluding Remarks
This example problem or tutorial explained some of the additional output requests that can be made and
some of the calculation setting for a random vibration fatigue analysis.
Output Request
The following outputs are available:
F06 - standard MSC Nastran print file containing the print out of the fatigue results for all
requested entities when the FATIGUE case control is used with the PRINT option. Requested entities
are determined in this order by:
•association with a MATFTG /MAT1/PSOLID or PSHELL
•listed on a FTGDEF  entry
If a FTGDEF entry is present, elements must have a MATFTG association to be included in the
analysis. If no FTGDEF is present, then all elements with a MATFTG association are included
in the analysis.
CSV file - tabular results of life and damage and statistical response PSD output when FATIGUE  case
control includes a FORMAT=64 or code summation value that includes this value as explained
previously.
Patran neutral element results file - a file and its mapping template that can be imported into Patran
for postprocessing of life, damage, and response PSD statistical values when FATIGUE  case control
includes a FORMAT=128 or code summation value that includes this values as explained
previously.
MASTER/DBALL files for postprocessing in Patran - NASTRAN SYSTEM(316)=19 needs to be
included before the FMS section for this file to be produced with accessible results. The file can then
be attached to a Patran process and results accessed from Patran’s Results application.
OP2 file for postprocessing in Patran - PARAM,POST,1 needs to be included in the bulk data
section for this file to be produced and can be attached to a Patran process in a like manner as the
MASTER/DBALL file.
PSD.csv file - this file is produced with differing levels of output. The input PSD, TF, response
PDS, and cumulative (running) moments are output to a CSV file, which can be sorted and plotted
in MS Excel if desired or any other plotting package. If FTGPARM  with LOGLVL=0 (default) is set,
only the critical location is included in this file. If LOGLVL&amp;gt;0, then all requested entities are
included in this file. Care should be taken to only include those elements of interest via the FTGDEF&lt;br&gt;
entry when this level of output is being requested.
RCC.csv file - this file is produced with differing levels of output. The PDFs of rainflow cycle
counting are output to a CSV file, which can be plotted in MS Excel if desired or any other plotting
package. If FTGPARM  with LOGLVL=0 (default) is set, not output is available. If LOGLVL=1 only
the damage summation from each event is included in this file. If LOGLVL&amp;gt;1, then all requested
entities for all stress BINs (plus the damage summation) are included in this file. Care should be
taken to only include those elements of interest via the FTGDEF  entry when this level of output is
being requested.&lt;/p&gt;
&lt;p&gt;121 CHAPTER 4
More Fatigue Results
Main Index
vmatftg.txt file - this CSV file is a fully populated S-N curve that can be plotted just as with other
CSV files discussed thus far.
Parameter Settings
Some of the setting that affect the analysis or amount of data produced was also discussed. Here is a recap of
those mentioned in this chapter. All of these settings are available on the FTGPARM  entry using the VIBFTG
line.
ATYPE : The analysis type used to calculate the PDF of stress range (cycle) BINs or rainflow cycles
count, depending on how one likes to express this. The Dirlik method is the only one used thus far
and is the default used for random vibration load input. It is the most widely valid method across all
types of signals. The signal types have been identified as narrow band, wide or broad band,
deterministic, or white noise. The spectral statistics allow one to determine the frequency content
and thus the characteristics of a signal by investigating the irregularity factor, which can take on
value between zero and 1.0, 1.0 being a deterministic (sine wave) signal, and &amp;lt; 0.5 being white noise
with frequency content across the spectrum.
MAXSTR: Although not mentioned directly in the discussion above, any stress above this RMS
level is ignored in the analysis. This should be set sufficiently high as not to truncate any damage
that may be significant. The stress range BIN widths are determined by this setting.
CLIPLVL : The level RMS level of stress above which to keep the allowable cycles to failure constant
regardless of the stress range BIN value. This tends to compute less conservative fatigue life/damage.
By default this is the same as MAXSTR.
MAXPEAK : This is used mostly as a reporting mechanism of maximum stress and or strain. Result
are reported back for RMS stress and the mean stress + MAXPEAK&lt;em&gt;RMS stress as maximum stress
and the mean stress - MAXPEAK&lt;/em&gt;RMS stress as minimum stress. By default, this is half of
MAXSTR.
STRBINS : Although this was not mentioned specifically in the discussion in this Chapter, it is
possible to set the number of stress range BINs. The default of 128 for random loading input should
suffice for most applications. But if more accuracy is required, it can be increased. Or if more
calculation efficiency is required, it can be decreased. It is not recommended to set this over 5000.
MAXFREQ : This is used only in the integration of the running sum of spectral moments, or the
cumulative moment calculation. The value is set to 99.9% to keep from integrating too far up the
frequency axis so that results of m4 do not become unstable. It is highly unlikely that a user would
have to change this parameter.1 2 3 4 5 6 7 8 9 10
FTGPAR
M ID TYPE LOGLVL LAYER
&amp;ldquo;STRESS&amp;rdquo; COMB CORR PLAST LOC RECOVER
&amp;ldquo;FOS&amp;rdquo; LIFE
“VIBFTG” ATYPE MAXSTR CLIPLVL MAXPEA
KSTRBINS MAXFRE
QNCALC&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup122
Main Index
NCALC : Used to determine where to extract the allowable cycles to failure, N, from the stress BINs.
Again, this is a parameter that most users likely will never have to set. By default it is AVG (average).
Using this in conjunction with the STRBIN setting may be advantageous when less BINs are
desired. The more BINs used, the less affect this setting has on the damage calculation.
Patran Setup
This section explains how to run the example in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knucklePSD . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knucklePSD_e.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC.Nastran.
Step 2: Check the Model
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction. An FRFY.SC2 and an
FRFZ.SC3 load case were also imported for unit loads in y- and z-directions, but they are not used
in this first example.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate T ensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;123 CHAPTER 4
More Fatigue Results
Main Index
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry shown in the section Material
Properties, 104 . Verify that they are the same. Open the Options  form and ensure that the Log x-axis&lt;br&gt;
and Log y-axis  toggles are set ON. Also check the non-spatial field ( Field.400 ) that defines our input
PSD loading. The values here are from the TABRND1 entry.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup124
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job knucklePSD_e.dat ,
a job by the name of knucklePSD_e  has been created. Click on it to restore all its settings. Open the
Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open the Solution
Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form and ensure
the following parameters are set, which are written to the FTGPARM  entry. If a parameter is not
mentioned below, use the default value or leave it blank. Close all the forms when done using the OK
buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Nodal
Recovery: Corner
Layer: Worst
Level of Output: +Rainflow Damage
T op RMS  Stress (%)
Filter:100.0
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: None
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this ON
Analysis Settings:
Rainflow Method: Set this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 3.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;125 CHAPTER 4
More Fatigue Results
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is necessary to set this form to the advanced
setting ( Form Type: Advanced ) for this example.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. By default all
elements that have an S-N material defined are included in the analysis in which case a FTGDEF  entry
is not actually needed (but Patran will always write one).
For this example, only the critical elements are included in the analysis, and they are designated by
selecting group set3_99  from the Select Group(s)  list box (make sure the Type of include data  is set
to Groups ). If this group is not available, you can easily create the group under the Group |Create&lt;br&gt;
menu and include only element 5971 and 13897.
Finally the Additional Output File Formats  to be output are CSV File  and FEF. Make sure they are
selected.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup126
Main Index
One last note about output requests. Fatigue life output requests are subcase independent unlike most
standard output requests such as stress and displacement. If you are using multiple subcases, the first
(or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the next
step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only if
necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: FRFX.SC1 , FRFY.SC2 , FRFZ.SC3 . Even though all three are
selected, only one ( FRFX.SC1 ) will participate in the analysis as you will see from this setup.
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a single
load event (Event: 1) that associates our transfer function subcase called FRFX.SC1  to the PSD load
input defined by a non spatial field created or inspected earlier.
Click on the cell under the Subcase i  column in the spreadsheet and then select the subcase from the
bottom list box. The Subcase j  field is automatically filled with the same subcase since this is a direct
PSD (not a cross PSD). The next cell ( Input PSD ) should become selected or active.&lt;/p&gt;
&lt;p&gt;127 CHAPTER 4
More Fatigue Results
Main Index
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
In the tree widget on the left, ensure that a Load Sequence with one event is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select the one and only event from the list box that appears
and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup128
Main Index
Step 8: View the Results
In the last chapter we attached the results file and created fringe plots of damage and/or life. Since we
only analyzed two critical elements in this job, fringe plots are not going to be of much use. We need
results over the entire model or at least a major portion to create a meaningful plot.
Instead let us plot the PSD output, spectral moments, the rainflow count data, and the material curve
used in the analysis. A special utility in Patran has been created to easily and quickly make these plots.
Once the plots are created they can be saved and manipulated in any manner necessary using the XY
Plot application.
To access this utility go to the Tools  | Results  | NEF Random Vibration&amp;hellip;  pull down menu and form.
When the form appears you can make the following plots can be made at any requested entity
(element/node):
•Input PSD, Stress Transfer Function, and Output Stress PSD
•Spectral Running Moments m0, m1, m2, m4 vs. frequency
•Cycles to failure, Allowable Cycles to failure, and damager vs. stress Bins
•Fully populated S-N curve used in the analysis (this only varies by material ID)
The utility is easy to use. Simply follow these steps.
1.Set the type of plot to be made: PSDs , Moments , Cycles , or Material
2.Select the file containing the information.
a.For PSD plots: knucklePSD_ePSD.csv
b.For Moment plots: knucklePSD_ePSD.csv
c.For Cycle plots: knucklePSD_eRCC.csv
d.For Material plots: knucklePSD_vmatftg_42.csv
3.Set the entity of interest (not applicable for Material plots)
a.Select the Element ID  (Element 5971  show in plots below)&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P8</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_008/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_008/</guid>
      <description>
        
        
        &lt;p&gt;129 CHAPTER 4
More Fatigue Results
Main Index
b.Select the Grid ID  (Grid 2616  shown in plots below)
c.Select the Layer  (None  is the only choice for this element as it is a solid element)
d.Select the Event  (100 is the only choice as there is only one Event)
4.Press the Plot button
5.You may modify the plot by turning the LogX, LogY, Dots, and/or Bars toggles ON or OFF as
required or moving the slider bars to modify the x-axis range. These operations occur immediately to
existing plots. Not all operations are available for all plot types.
6.You may turn the other toggles ON or OFF as desired to append curves to the existing XY windows,
save the curves in the database, write the curves to Patran fields or external XY data files. These
operations occur when you press the Plot button.
7.Close the utility when done. The XY Windows are unposted and the curves are automatically cleaned
up (deleted) unless the Save Curves toggle was on when creating the curves.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup130
Main Index
Input PSD, Stress TF, Output PSD Plots :
Running Moment Plots :&lt;/p&gt;
&lt;p&gt;131 CHAPTER 4
More Fatigue Results
Main Index
Rainflow PDF Plots (n, N, damage :
Material (S-N) Plot :&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup132
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 5: Static Offset on Random
5 Stati c Offset on Random
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description134
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. The purpose of this tutorial is to apply
a static offset to the random loading and investigate the affect of mean stress and how to correct for it.
Figure 5-1  The Knuckle model and applied load inputs
Objective
To apply a static offset to the random input load and investigate the affect of mean stress.
Show how use TOPRMS to reduce the number of calculation point to only those deemed critical.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 5-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knuckle_static.dat Static analysis input file of the Knuckle model that produces an output2
file used as the static offset stresses to the random loading.
knucklePSD_msc.dat Knuckle random vibration fatigue analysis of skinned outer layer with
static offset.
knucklePSD_rms.dat Knuckle random vibration fatigue analysis of skinned outer layer with
static offset limiting output to elements in top RMS percentage.&lt;/p&gt;
&lt;p&gt;135 CHAPTER 5
Static Offset on Random
Main Index
Fatigue Setup
Two analyses must be run in order for the static offset on top of random loading to be applied.
Static Analysis
First, before attempting the random vibration fatigue analysis, a static analysis is performed to obtain offset
stresses to the random loading. Run the input file knuckle_static.dat  to obtain an output2 (OP2) file
containing the stresses. The OP2 file is used in the random vibration fatigue analysis to offset the random
stress responses. In order to obtain this OP2 file the following is done in the input file as shown in the partial
listing here:
SOL 101
CEND
&amp;hellip;
SET 1 = 12226 THRU 16285
&amp;hellip;
TITLE = Static run
$
STRESS(PLOT,SORT1,REAL,VONMISES,BILIN)  = 1
&amp;hellip;
SUBCASE 1
SUBTITLE=Static_X
LOAD = 3
SUBCASE 2
SUBTITLE=Static_Y
LOAD = 4
SUBCASE 3
SUBTITLE=Static_Z
LOAD = 5
&amp;hellip;
BEGIN BULK
&amp;hellip;
PARAM,POST,-1
include &amp;lsquo;knuckle.bdf&amp;rsquo;
&amp;hellip;
$ Nodal Forces of Load Set : Unit_x
FORCE    3       3135    0       1.      1.      0.      0.
$ Nodal Forces of Load Set : Unit_y
FORCE    4       3135    0       1.      0.      1.      0.
$ Nodal Forces of Load Set : Unit_z
FORCE    5       3135    0       1.      0.      0.      1.
ENDDATA
1.The PARAM,POST,-1 entry is necessary and is what requests the OP2 file output.
2.The STRESS case control must be included for stresses to be output to the OP2 file, with PRINT or
PLOT option set.
3.The STRESS case control output is limited to only the skinned shell elements of the model by
referencing the SET 1 entry.
4.Unit loads in the X, Y, and Z direction are applied that correspond to the same input load location
and directions of the random loading PSDs applied in the random response analysis.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup136
Main Index
Random Analysis
The major modification is the inclusion of another FTGLOAD  entry of TYPE=STATIC defining the static offset
as shown in red.
SOL 111
CEND
TITLE = Static offset + Single Input Random Vibration fatigue of knuckle
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
&amp;hellip;
SUBCASE 1
SUBTITLE=FRFX
&amp;hellip;
BEGIN BULK
$
$ Fatigue Element Set Definition
$ Only shells are used; solids (elms 1 to 12225) are removed
SET3    99      ELEM    1       THRU    12225
FTGDEF  42      100.0
XELSET  99
$
$ Fatigue Parameters
FTGPARM 42      SN                      0       0
STRESS  SGVON   GOODMAN         NODE            CORNER
VIBFTG   DIRLIK  16.0    16.0    4.0     64      99.9
$
$ Fatigue Material Properties (not shown)
&amp;hellip;
$ Fatigue Loading Sequence - single PSD applied to SUBCASE 1 + offset
FTGSEQ  42      1               SECS    1.0
100     1.0
FTGEVNT 100     200     801
$
$ Static offset loading definition
FTGLOAD 801     555     1               -10000 .         S TATIC
UDNAME  555
knuckle_static.op2
$
$ Random loading definition
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50.0    1000.0
ENDT
&amp;hellip;
include ‘knuckle.bdf’
&amp;hellip;
ENDDATA
Fatigue Parameters
This entry is shown here with changes on the STRESS and VIBFTG lines.&lt;/p&gt;
&lt;p&gt;137 CHAPTER 5
Static Offset on Random
Main Index
FTGPARM 42      SN                      0       0
STRESS  SGVON   GOODMAN         ELEM            CENTER
VIBFTG   DIRLIK  16.0    16.0    4.0     64      99.9
The VIBFTG line has non-default values for some of its entries. These were discussed in the last Chapter,
Please see Concluding Remarks  (Ch. 4).
The STRESS line now contains a non-default value for the mean stress correction (CORR field). Random
loading by nature has zero mean. S-N curves derived from material testing also generally are created with
zero-mean loading. In this example we are applying a static offset on top of the random loading, which means
the mean stress is no longer going to be zero. There are techniques to adjust the damage look up from an S-
N curve based on this mean. This GOODMAN method and others will be discussed further down in the
Chapter.
The STRESS line also indicates that we are only interested in analysis at the element centers (ELEM +
CENTER). The CENTER definition is not actually necessary to specify in the RECOVER field if the
LOC=ELEM. The RECOVER field is only really used when LOC=NODE for recovering element nodal
results with different extrapolation methods.
Static Loading
The major modification is the definition of the static load. Since the static load is being applied on top of or
simultaneously with the random loading, it must be included as part of the loading event. We are still dealing
with a single load sequence with one event. However, now this one event has two simultaneously acting loads,
the random input load and the static offset.
FTGEVNT 100     200     801
$
$ Static offset loading definition
$       ID      TID     LCID            SCALE   OFFSET  TYPE
FTGLOAD 801     555     1               -10000 .         S TATIC
UDNAME  555
knuckle_static.op2
So the FTGEVNT  entry calls out FTGLOAD  entries 200 and 801. FTGLOAD  200 is the random input load PSD
associated to SUBCASE 1.
The FTGLOAD  801 has a TYPE= STATIC . When TYPE=STATIC, the TID field can reference an external OP2
file containing static stress output. The LCID field (defined as 1 here), references the SUBCASE from the
static analysis from which to extract the stresses from. Remember that we are only dealing with a single load
defined in the x-direction for the fatigue analysis. But the actual static and frequency response analyses have
three SUBCASEs defined for loading in the, x-, y-, and z-directions.
Also note that the static SUBCASE was a unit load. So the SCALE field is set to -10000.  to scale the static
load to the desired value.
Mean Stress Correction
Run the job knucklePSD_msc.dat . Look at the results in the F06 file. The damage for the critical element
center result corresponds to element 13897 with a damage of 1.74E-06. Note that the effect of the mean&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup138
Main Index
stress (Goodman) correction is to increase the damage from 2.88E-07 to 1.74E-06 (six times more). T o see
this difference, simply change GOODMAN to NONE on the FTGPARM  STRESS line and rerun the analysis.
You can repeat this calculation for the single critical element 13897 using all the valid mean stress correction
options (CORR = GOODMAN, GERBER, MODGOOD, GDMANT , GRBERT , SWT , MMPDS on
FTGPARM  line) for S-N analysis. You can also investigate with a -10,000 applied load and a +10,000 applied
load (SCALE on FTGLOAD ). The different results obtained are listed below.
The mean stress corrections in the above table are operating on two results, one in tension, and the other in
compression. It can be seen that the for the compression results, no mean stress correction is applied for the
Goodman T ension Only, Gerber, Tension Only, SWT , and MMPDS methods. In a sense, these methods may
be more accurate since it is less likely to accumulate damage when a stress range is in compression and thus,
perhaps the correction should be ignored. Between the Goodman, Gerber, and Modified Goodman, only the
Goodman method makes any difference between tension and compression. So if less damage accumulates in
compression than in tension, the Goodman method would be preferred.
Goodman and Gerber can be applied with and without compressive stress correction. In general the effect of
a mean stress will be to reduce fatigue life for tensile means (because the stress used to calculate Ni is increased)
and to increase fatigue life for compressive means (because the stress used to calculate Ni is decreased).
Tension only Goodman and Gerber ignore the compressive mean situation. Also MMPDS and STW should
only be used for tension. Modified Goodman uses the stress and if it is compressive makes it tensile before
applying in a standard Goodman mean stress Mean Stress Correction
Method Static LoadLocal Stress
Offset DamageDamage
Noramized by
&amp;ldquo;None&amp;rdquo;
None -10,000 +43.6 2.88E-07 1.00
Goodman -10,000 +43.6 1.74E-06 6.04
Gerber -10,000 +43.6 3.47E-07 1.20
Modified Goodman -10,000 +43.6 1.74E-06 6.04
Goodman Tension Only -10,000 +43.6 1.74E-06 6.04
Gerber T ension Only -10,000 +43.6 3.47E-07 1.20
SWT -10,000 +43.6 1.98E-06 6.88
MMPDS -10,000 +43.6 1.54E-05 53.47
Goodman +10,000 -43.6 5.76E-08 0.20
Gerber +10,000 -43.6 3.47E-07 1.20
Modified Goodman +10,000 -43.6 1.74E-06 6.04
Goodman Tension Only +10,000 -43.6 2.88E-07 1.00
Gerber T ension Only +10,000 -43.6 2.88E-07 1.00
SWT +10,000 -43.6 2.88E-07 1.00
MMPDS +10,000 -43.6 2.88E-07 1.00&lt;/p&gt;
&lt;h1&gt;139 CHAPTER 5
Static Offset on Random
Main Index
calculation.
When a static offset is applied to a random load, the process is a few steps depending on how the offset is
defined:
1.If an external source, such as an Output2 file is used
•the six (6) component stresses are extracted at all required locations.
•the components are resolved down to the requested stress parameter (absolute maximum
principal, von Mises, or a single component)
•if von Mises is requested, the sign from the principal stress is placed on the von Mises value
2.If the offset is supplied on the FTGLOAD entry directly, it is
•used directly - no modifications
•added on top of any externally supplied and resolved stress (from the Output2 file)
3.The damage lookup using the random loading is done by modifying the actual lookup stress based
on the offset using one of the above equations. It has the effect of changing the slope, and thus the y-
or stress-intercept of the S-N curve.SmodSa
1Sm
UTS&amp;mdash;&amp;mdash;&amp;mdash;&amp;ndash;n
–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;- = SmodSrSr
2SmSr–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
   A31–
= SmodSrSr
2SmSr–&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;&amp;mdash;
   0.5–&lt;/h1&gt;&lt;p&gt;Goodman (n=1)
Gerber      (=2)MMPDS (Walker) Smith-Watson-Topper (SWT)&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup140
Main Index
Limiting O utput (TOPRMS)
Investigate and run the job knucklePSD_rms.dat .
Sometimes it is desirable to only perform fatigue calculations on those elements that are fatigue critical.
Generally it is not know which elements those will be a priori. A preliminary filter on RMS stress can be used
to eliminate elements from the analysis if below a certain percentage. This is what the TOPRMS field on the
FTGDEF  entry is used for, by setting it to anything less than 100%. This has the effect of dramatically reducing
output file sizes whilst at the same time retaining the elements and nodes with significant damage.
For example in this problem with TOPRMS set to 100% versus setting it to 50.0 , one of the CSV files
reduces 98%. The number of originally analyzed elements is over 4000. The retained set of elements after
eliminating based on RMS level reduces to under 100.
$ Fatigue Element Set Definition
$ Only shells are used; solids (elms 1 to 12225) are removed
$ Filter based on elements with top 50% RMS levels
SET3    99      ELEM    1       THRU    12225
FTGDEF  42      50.0
XELSET  99
The TOPRMS setting specifies that only elements with RMS stress in the top specified percentage are to be
retained. So for example if there are 100 entities (elements or element nodes) in the model and 20%
TOPRMS is specified, then only those having RMS stress in the top 20 percentile are retained, which can
significantly reduce the number of entities actually analyzed for fatigue life.
Root Me an Square Value
This is probably a good place to reiterate the definition of RMS.
The root mean square value (RMS) is a very useful response parameter, which gives a valuable indication of
the intensity of the response. It can be calculated from both the PSD and the time signal in the following way.
In the frequency domain this is simply the square root of the area of the PSD.
And from a time signal it is calculated using the following expression:
where p(x) is the amplitude distribution of the time signal.rms m0f0Gffd
0
Gff= = =
rmsx2x2pxxd
0
= =&lt;/p&gt;
&lt;p&gt;141 CHAPTER 5
Static Offset on Random
Main Index
There are some useful observations that can be made about the rms of different types of time signal. For
example, for a sine wave the RMS is equal to 0.707 a, where a is the sine wave amplitude.
Figure 5-2  RMS calculation for a sine wave
And for a typical random time signal (both wide and narrow band) the maximum peak is typically in the
range three to four and a half (3.0 - 4.5) times the RMS.
Figure 5-3  Approximate RMS of a random (Gaussian) time signal
Concluding Remarks
.In this example we investigated three specific features of random vibration fatigue analysis:
1.The ability to include a static offset load on top of random vibration PSD loading. Note that this
actually has no affect on fatigue life/damage unless a mean stress correction is applied. This is
accomplished by:
•Including a FTGLOAD  entry of TYPE=STATIC
•Referencing an external OP2 file with static stresses from the FTGLOAD  entry
•Including the FTGLOAD  entry as a simultaneously acting load in the load event on the FTGEVNT&lt;br&gt;
entry.
2.The affect of mean stress correction when a mean stress is present. The mean stress corrections
available for the S-N method have different affects depending on whether in compression or tension.
In general, compressive cycles tend to increase life and tension cycles tend to decrease life. Corrections
for compressive cycles is only possible with some methods. Mean stress corrections are accomplished
by:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup142
Main Index
•Ensuring a static offset load ( FTGLOAD  entry of TYPE=STATIC) is present and called out in a
FTGEVNT  entry
•Turning on a mean stress correction method on the FTGPARM  entry using the CORR field to a
valid setting for S-N analysis as listed previously.
3.The ability to limit output based on filtering elements on top percentage RMS stress levels. This
reduces output and computation time. From a postprocessing perspective however, if some elements
are eliminated in the analysis, when making colored fringe plots, no data will appear for many areas
of the model, making the plots semi-undesirable. Filtering based on RMS level is accomplished by:
•Setting the TOPRMS field on the FTGDEF  entry to anything less than 100%.
Patran Setup
This section explains how to run the examples in this Chapter through Patran. It is assumed that the user is
familiar with Patran operations. Only generic steps are given here and not in depth explanations of how to
perform each operation. Any graphic images shown are from the Windows platform. Forms are similar for
Linux but appear differently than the Windows forms shown here.
Step 1: Import the Model
Start Patran and open a new Patran database and call it knucklePSD . Use the Analysis  application (or
tab) to import the first input deck associated with this example: knucklePSD_msc.dat  (Action =Read
Input File ). Make sure the Analysis Preference  is set to MSC.Nastran.
Step 2: Check the Model
Go to the Loads/BCs  application (or tab). Plot the LBC markers ( Action =Plot Markers ). Make sure
the Current Load Case  is the imported load case ( FRFX.SC1 ). Select all the LBCs and press the Apply&lt;br&gt;
button. You should see the constraints and unit load in the x-direction. An FRFY.SC2 and an
FRFZ.SC3 load case were also imported for unit loads in y- and z-directions, but they are not used
in this first example.
Go to the Materials  application (or Properties  tab, then click on Isotropic  ribbon icon). Set the
Action  to Modify  and select mat1.1 . Note the values in the Linear Elastic  constitutive model. If there
is no current Stress-Life (SN)  constitutive model, create one. If there is, verify the following
parameters, which are written to the MATFTG  entry or modify as necessary:
Parameter Value
Constitutive Model: Stress-Life (SN)
Option: Tabular
Material (CODE): None
Stress: Range
Curve Type: None
Ultimate T ensile Strength 400.0 MPa
SN Curve 1 (TID1) Field.60&lt;/p&gt;
&lt;p&gt;143 CHAPTER 5
Static Offset on Random
Main Index
Do the same for the other two imported materials: mat1.777  and mat1.999 . Field.60  is a tabular field
of stress vs life (SN curve). See the next paragraph.
Go to the Fields  application (or Properties  tab and click on one of the Fields  ribbon icons). Check
the Material Property field ( Field.60 ) defining the S-N curve ( Action =Modify , Object =Material
Property , Method =Tabular Input ) by selecting it. Life (N) should be set as the independent variable.
The values of the field defined here are from the TABLEM1 entry shown in the section Fatigue
Parameters, 136 . Verify that they are the same. Open the Options  form and ensure that the Log x-axis&lt;br&gt;
and Log y-axis  toggles are set ON. Also check the non-spatial field ( Field.400 ) that defines our input
PSD loading. The values here are from the TABRND1 entry.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup144
Main Index
Step 3: Check the Fatigue Parameters
Go to the Analysis  application ( Action  = Analyze ). Since we read the existing job
knucklePSD_msc.dat , a job by the name of knucklePSD_msc  has been created. Click on it to restore
all its settings. Open the Solution Type&amp;hellip;  form (ensure it is set to Frequency Response ) and then open
the Solution Parameters&amp;hellip; form. From here you can check the Fatigue Parameters&amp;hellip;  Open this form
and ensure the following parameters are set, which are written to the FTGPARM  entry. If a parameter is
not mentioned below, use the default value or leave it blank. Close all the forms when done using the
OK buttons.
Parameter Value
General Parameters:
Stress Units: MPa
Stress Combination: Signed von Mises
Results Location: Element Center
Recovery: Center
Layer: Worst
Level of Output: Standard
T op RMS  Stress (%)
Filter:100.0 or
50% for knucklePSD_rms.dat
Stress/Strain-Life (SN/eN):
Run SN Analysis T urn this ON
Random Analysis Only T urn this OFF
Option: Automatic
Mean Stress Corr.: Goodman
Plasticity Correction: Neuber
Output Fully Populated
Material CurvesT urn this OFF
Analysis Settings:
Rainflow Method: T urn this to Dirlik
Max. RMS Stress Levels: 16.0
RMS Stress Clip Level: 16.0
Peak RMS Stress Level: 4.0&lt;/p&gt;
&lt;h1&gt;of Stress Range BINs 64&lt;/h1&gt;&lt;p&gt;% Frequency Content: 99.9
&amp;ldquo;N&amp;rdquo; Calc. Method: Average of BIN&lt;/p&gt;
&lt;p&gt;145 CHAPTER 5
Static Offset on Random
Main Index
Step 4: Request the Appropriate Output File
Also, in order to post-process the fatigue results in Patran, make sure that the results are written to
the MASTER/DBALL files. This is done in the Solution Parameters&amp;hellip; form by opening the Results
Output Format&amp;hellip; form and turning ON the MASTER/DBALL  toggle.
Step 5: Check the Output Requests
Still in the Analysis  application, click on the Subcases&amp;hellip;  form. Make sure the label at the top indicates
Solution Sequence: 111 . If not, click on the job name in the Analysis form to refresh the Subcases&amp;hellip;&lt;br&gt;
form.
Our subcase is called FRFX.SC1 . Click on it from the Available Subcases  list box to access all its
settings. Then open the Output Requests&amp;hellip;  form. It is best to set this form to the Form Type:&lt;br&gt;
Advanced  setting.
If FATIGUE is not already defined as an Output Request , then do so by selecting Fatigue Life  from
the top list box (scroll to the bottom of the list). If it does exist, select it from the Output Requests&lt;br&gt;
list box. This defines the FATIGUE  case control as well as the FTGDEF  bulk data entry. For this job,
additional output request have been made for a CSV File  and all the elements of the model are to be
analyzed except the elements in set3_99 , which are all the solid elements of the model. So only the
shell elements of the model are actually being retained in this analysis. If the output requests are not
as described, please create a group with only solid elements and select it as the Select Elements to
Exclude  selection and select the CSV File  as Additional Output File Formats.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup146
Main Index
One last note about output requests. Fatigue life output requests are subcase independent unlike most
standard output requests such as stress and displacement. If you are using multiple subcases, the first
(or at least one of the) selected subcase(s) must have the Fatigue Life  output request in it (see the next
step).
When done inspecting this form and adding the fatigue output request, if necessary, close the form
and press the Apply  button on the Subcases&amp;hellip;  form to store the changes to this subcase (again, only if
necessary).
Step 6: Check the Cyclic Load Definition
Next open the Subcase Select&amp;hellip;  form (still part of the Analysis  application). You should see all three
(3) subcases in the bottom list box: FRFX.SC1 , FRFY.SC2 , FRFZ.SC3 . Even though all three are
selected, only one ( FRFX.SC1 ) will participate in the analysis as you will see from this setup.
Now open the Define Fatigue Load Sequences&amp;hellip;  form. On this form ensure that the loading
associations are set up properly. For the simple loading in this example, we want to define a single
load event (Event: 1) that associates our transfer function subcase called FRFX.SC1  to the PSD load
input defined by a non spatial field created or inspected earlier. And we want to set up a static offset
load.&lt;/p&gt;
&lt;p&gt;147 CHAPTER 5
Static Offset on Random
Main Index
With Define Load Event  set to PSD Input , click on the cell under the Subcase i  column in the
spreadsheet and then select the subcase from the bottom list box. The Subcase j  field is automatically
filled with the same subcase since this is a direct PSD (not a cross PSD). The next cell ( Input PSD )
should become selected or active.
Click on the cell under the Input PSD  column, if necessary, and select the Non-spatial Field from the
appropriate list box ( Field.400 ). The cell just needs to be selected and active to make selection. The
single load event is now defined. The Divisor , Scale Factor , and Offset  can remain with defaults.
With Define Load Event  set to Static Offset , clock on the cell under Subcase ID  and enter one ( 1).
This is the external subcase number in the output2 file that will be specified shortly. Pressing the
Return/Enter  key advances focus to the next spreadsheet cell. Select knucle_static.op2  from the
Output2 (.o2) files  list box that appears. The focused cell advances. Enter 1.0 for the Divisor  and
press Enter  to advance to the next cell. Enter -10000 . for the Scale Factor . The focused cell advances
to Offset . Leave this at zero ( 0.0). This offset could be used for additional constant static stress offset
if desired. A static offset load is now defined.
In the tree widget on the left, ensure that a Load Sequence with one event is set up. If not, use the
right mouse button to click on Load Sequences  and Add a New Sequence . Then right mouse button
click on the new sequence and Add Event . Select the one and only event from the list box that appears
and press Apply . The load sequence is now defined.
Data on this form defines the FTGSEQ /FTGEVNT /FTGLOAD /RANDPS/TABRND1 entries. You can close
this form with the OK button. And close the Subcase Select  form with the OK button.&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup148
Main Index
Step 7: Run the Analysis
Press the Apply  button on the Analysis  application form to submit the job ( Method =Full Run ). It is
assumed that Patran has been configured to properly run the correct version of MSC Nastran.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>User&#39;s Manual P9</title>
      <link>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_009/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>//uildDrafts:1313/docs/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide/msc_nastran_2024.1_embedded_vibration_fatigue_user_guide_009/</guid>
      <description>
        
        
        &lt;p&gt;149 CHAPTER 5
Static Offset on Random
Main Index
Step 8: View the Results
When the job is complete, attach the MSC Nastran database to Patran to view the results. Still in the
Analysis  application, set Action =Access Results , Object =Attach MASTER , and Method =Result
Entities . Select the knucklePSD_msc.MASTER  file and press the Apply  button.
Go to the Results  application and view the results by selecting Log of Damage  or Log of Life  from the
knucklePSD_msc:SN_42:,A1:Event =100  Results Case as done in the previous two example chapters.
Step 9: Run other Fatigue Jobs
To run the other job from this Chapter, you can import the input deck into a new empty database and repeat
the steps here making modifications as necessary and shown below the different input deck. Or you can
define a new job in the same database by selecting the existing job knucklePSD_msc  and then renaming it to
knucklePSD_rms  and making the modifications as necessary. The table below lists the modifications
necessary for each using the first as a baseline.
Note: Whenever you change a job name you have to reselect the subcases for your job and redefine the
loading sequence - so always inspect the selected subcases and loading sequence before submitting
the job.
Input Deck Modification
knucklePSD_msc.dat Baseline - no modifications necessary
knucklePSD_rms.dat On the Fatigue Parameters&amp;hellip; form set the T op RMS Stress (%) Filter&lt;br&gt;
to 50% . This is the only change required from the baseline job
(knucklePSD_msc ).&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Patran Setup150
Main Index&lt;/p&gt;
&lt;p&gt;Main Index
Chapter 6: Sine Sweep on Random
6Sine Sw eep on Random
Problem Description
Fatigue Setup
Concluding Remarks
Patran Setup&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Problem Description152
Main Index
Problem Description
This example uses the same steering knuckle as the previous examples. The purpose of this tutorial is to apply
a sine sweep on top of the random loading.
Figure 6-1  The Knuckle model and applied load inputs
Objective
To apply a sine sweep on top of random input load using two different mechanisms.
To run a fatigue analysis of just the sine sweep alone with no random loading.
Files Required
All files necessary to run this and subsequent examples are found in the test problem library ( tpl/nef_ug )
directory in a complete MSC Nastran Documentation installation.
Table 6-1  Files Required
Files Required Description
knuckle.bdf Include file containing Knuckle model data -
nodes/elements/properties/etc.
knucklePSDsine_a.dat Knuckle manual  sine sweep on random vibration fatigue analysis of
critical element.
knucklePSDsine_b.dat Knuckle automatic  sine sweep on random vibration fatigue analysis of
critical element .
knuckleSINE_a.dat Knuckle manual  sine sweep only (no random) fatigue analysis of critical
element.
knuckleSINE_b.dat Knuckle automatic  sine sweep only (no random) fatigue analysis of
critical element.&lt;/p&gt;
&lt;p&gt;153 CHAPTER 6
Sine Sweep on Random
Main Index
Fatigue Setup
The objective of this example is to combine a PSD (the same one used in all previous examples) with a sine
wave sweep defined by a series of FTGLOAD  entries of TYPE=SINE superimposed on top with a specific
amplitudes and frequencies. There are actually two mechanisms to set up this type of analysis and both are
illustrated here using knucklePSDsine_a.dat  and knucklePSDsine_b.dat . Also the random loading can be
eliminated and only the sine sweep loading can be used in the fatigue analysis. See knuckleSINE_a.dat  and
knuckleSINE_b.dat .
From a job setup perspective, only the loading is changed from previous examples. So only those entries are
explained. Also, only the one critical shell element is analyzed.
Manual Sine Sweep Setup
A sine sweep can be entered manually with one FTGLOAD  entry per frequency to be swept over. Each
deterministic load on top of the random load must be treated as a separate event. The damage from all events
(all deterministic loads on top of the random) are then summed to give the total damage. So the input looks
like this for the sine sweep on top of random.
SOL 111
CEND
TITLE = Single Input Random Fatigue Analysis + sine sweep
FATIGUE(SORT1,PRINT,FORMAT=64,BULK) = 42
SUBCASE 1
&amp;hellip;
BEGIN BULK
&amp;hellip;
$ Fatigue  Loading Sequence - sine sweep on random
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
125     1.0     126     1.0     127     1.0     128     1.0
129     1.0     130     1.0     131     1.0     132     1.0knuckleSINEpsdOFF .dat Knuckle sine sweep plus static offset on random PSD loading fatigue
analysis of critical element only.
knuckleHRMpsdOFF .dat Knuckle harmonics plus static offset on random PSD loading fatigue
analysis of critical element only.
knuckleHRM.dat Knuckle harmonics only (no random) fatigue analysis of critical
element only.
knuckle_static.dat Knuckle static job for producing Output2 file of static offset stresses.Table 6-1  Files Required
Files Required Description&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup154
Main Index
$
$ Deterministic Loads (sine waves 401-432) + PSD (200)
FTGEVNT 101     401     200
FTGEVNT 102     402     200
&amp;hellip; &lt;!-- raw HTML omitted --&gt;
FTGEVNT 132     432     200
$
$ Random loading definition
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (sine waves)
$
FTGLOAD 401             1                               SINE
DETLOAD 1.0     9600.0
FTGLOAD 402             1                               SINE
DETLOAD 2.0     9600.0
&amp;hellip;
&amp;hellip; &amp;lt; repeats for every deterministic load
&amp;hellip;
FTGLOAD 432             1                               SINE
DETLOAD 32.0    9600.0
&amp;hellip;
include &amp;lsquo;knuckle.bdf&amp;rsquo;
&amp;hellip;
ENDDATA
So notice that we now have 32 events ( FTGEVNT ). The total load sequence FTGSEQ  is made up of all events.
Each event has two loads, the random vibration load, and a single deterministic (sine wave) at a designated
frequency. The duration of each event is specified as 1.0 seconds. This duration is important as it affects the
damage calculation.
Automatic Sine Sweep Setup
Alternatively, the same job can be set up in this manner using the FTGLOAD  entry and the SWEEP line. Only
the loading entries are shown below. This takes significantly less input.
BEGIN BULK
&amp;hellip;
$ Fatigue Loading Sequence - sine sweep on random
$
FTGSEQ  42      1               SECS    1.0
100     32.0
$
$ Deterministic Loads (sine waves 401) + PSD (200)
$
FTGEVNT 100     401     200
$
$ Random loading definition
$&lt;/p&gt;
&lt;p&gt;155 CHAPTER 6
Sine Sweep on Random
Main Index
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (sine waves)
$
FTGLOAD 401             1                               SINE
SWEEP   1.0     9600.0          32.0    9600.0
HZ      31
&amp;hellip;
ENDDATA
Now only one event is defined consisting of the random loading and the sine sweep. Any event can only have
one FTGLOAD  of TYPE=SINE as a SWEEP , just as it can only have one FTGLOAD  of TYPE=PSD. Internally
however, each sine wave is converted to an equivalent event consisting of the single deterministic load at that
frequency on top of the random load. So 32 events are still produced internally. To be comparable to the
manual method, the duration of the single event must be equal to the sum of the durations of each event
from the manual method. That would be 32.0  seconds defined in the FTGSEQ  line above.
Defining a sine sweep with this automatic method requires that you use the FTGLOAD  entry with TYPE=SINE
and use the SWEEP line to define the start frequency, the end frequency, and the start and end amplitudes.
So the draw back with this method is that you cannot specify a separate amplitude for each frequency. It will
extrapolate between the start and end amplitudes.
So internally, when a sine sweep is defined, the total duration of the event is taken and multiple events are
derived from it for each frequency as follows:
First sine wave duration: Ni/(2&lt;em&gt;SWNUM)
Intermediate sine wave durations: Ni/(SWNUM)
Last sine wave duration: Ni/(2&lt;/em&gt;SWNUM)
where Ni is the event duration as defined on FTGSEQ  entry and SWNUM is the number of sweep frequencies.
SWNUM should be set to the number of desired frequencies less one. Thus the number of events produced
is SWNUM+1.
So in our example, the total event duration is 32.0  seconds. The number of sweep frequencies is 31. Thus
the duration of each generated event is:
First sine wave duration: 32.0 /(2&lt;em&gt;31) = 0.516129 secs
Intermediate sine wave durations: 32.0 /(31)= 1.032258 secs
Last sine wave duration: 32.0 /(2&lt;/em&gt;31)= 0.516129 secs
Automatic vs Manual Sine Sweep Comparison
The damage result for the two jobs are at element 13897 center:
knucklePSDsine_a.dat : Damage = 4.9025E-02
knucklePSDsine_b.dat :Damage = 5.0602E-02&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup156
Main Index
So comparing the two methods (the manual with FTGLOAD  TYPE=SINE with DETLOAD line vs FTGLOAD&lt;br&gt;
TYPE=SINE with SWEEP line) the results are not identical, but are close. They will be identical if you
substitute the calculated durations for the event duration in the manual sine sweep deck
(knucklePSDsine_a.dat ).
Damage versus Frequency
The figure below shows the deterministic load at 15 Hz superimposed onto the PSD loading.
Figure 6-2  Deterministic load (sine wave) at 15Hz on random loading&lt;/p&gt;
&lt;p&gt;157 CHAPTER 6
Sine Sweep on Random
Main Index
In the analysis this is then repeated (using 32 events) for frequencies from 1Hz to 32Hz. When LOGLVL on
FTGPARM  has been set to two (2), results are available as a function of deterministic load (frequency) and the
damage as a result of frequency is shown below (which is really plotting damage per event).
Figure 6-3  Damage as a function of sweep frequency (event)
Sine Sweep Only (no Random)
It is entirely possible to run the same jobs simply without the random loading also. The load input portion
of the input decks is shown here. Simply removing the reference to the random load ( FTGLOAD  of TYPE=PSD)
from all the events does the trick. The jobs to run are knuckleSINE_a.dat and knuckleSINE_b.dat  for the
manual and the automatic sine sweep versions, respectively.
Because this analysis involves the application of just single sine waves with no random component it would
be incorrect to use a Rainflow cycle calculation method such as Dirlik because this assumes the response is
random (which it is not). Therefore, for the ATYPE variable on the FTGPARM  entry, we must specify SINES .
This effectively applies the raw sine wave to the frequency response functions (FRF) obtained from MSC
Nastran. It is analogous to performing a steady state analysis. More on this below.
Manual Sine Sweep
BEGIN BULK
&amp;hellip;
$ Fatigue Parameters
$
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            ELEM            CENTER
FOS             1.0
VIBFTG  SINES   16.0    16.0    3.0     64      99.9
$
$ Fatigue Loading Sequence - sine sweep on random
$&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup158
Main Index
FTGSEQ  42      1               SECS    1.0
101     1.0     102     1.0     103     1.0     104     1.0
105     1.0     106     1.0     107     1.0     108     1.0
109     1.0     110     1.0     111     1.0     112     1.0
113     1.0     114     1.0     115     1.0     116     1.0
117     1.0     118     1.0     119     1.0     120     1.0
121     1.0     122     1.0     123     1.0     124     1.0
125     1.0     126     1.0     127     1.0     128     1.0
129     1.0     130     1.0     131     1.0     132     1.0
$
$ Deterministic Loads (sine waves 401-432
$
FTGEVNT 101     401
FTGEVNT 102     402
&amp;hellip; &lt;!-- raw HTML omitted --&gt;
FTGEVNT 132     432     200
$
$ Random loading definition ( NO LONGER REFERENCED in FTGEVNTs )
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (sine waves)
$
FTGLOAD 401             1                               SINE
DETLOAD 1.0     9600.0
FTGLOAD 402             1                               SINE
DETLOAD 2.0     9600.0
&amp;hellip; &amp;lt; repeats for every deterministic load
FTGLOAD 432             1                               SINE
DETLOAD 32.0    9600.0
&amp;hellip;
include &amp;lsquo;knuckle.bdf&amp;rsquo;
&amp;hellip;
ENDDATA
Automatic Sine Sweep
BEGIN BULK
&amp;hellip;
$ Fatigue Parameters
$
FTGPARM 42      SN                      2       0
STRESS  SGVON   NONE            ELEM            CENTER
FOS             1.0
VIBFTG  SINES    16.0    16.0    3.0     64      99.9
$
$ Fatigue Loading Sequence - sine sweep on random
$
FTGSEQ  42      1               SECS    1.0
100     32.0
$&lt;/p&gt;
&lt;p&gt;159 CHAPTER 6
Sine Sweep on Random
Main Index
$ Deterministic Loads (sine waves 401)
$
FTGEVNT 100     401
$
$ Random loading definition ( NO LONGER REFERENCED on FTGEVNT )
$
FTGLOAD 200             300                             PSD
RANDPS  300     1       1       1.0     0.0     400
TABRND1 400
0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
ENDT
$
$ Deterministic loads (sine waves)
$
FTGLOAD 401             1                               SINE
SWEEP   1.0     9600.0          32.0    9600.0
HZ      31
&amp;hellip;
ENDDATA
Sine Sweep Only Results
The damage result for the two jobs are at element 13897 center:
knuckleSINE_a.dat : Damage = 1.2541E-06
knuckleSINE_b.dat :Damage = 1.2945E-06
The damage is calculated at each sine wave frequency (which is reported per event). So you can plot damage
versus sine wave frequency to get a plot like this form data in the CSV file:&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup160
Main Index
Figure 6-4  Fatigue damage as a function of sine sweep frequency
Zero PSD
Another mechanism for turning our sine sweep on random job to sine sweep only is to simply zero-out the
PSD by either setting SCALE to 0.0 on FTGLOAD  entry for TYPE=PSD,
FTGLOAD 200             300             0.0             PSD
or setting the TABRND1  values to zero as such:
TABRND1 400
$       0.0     0.0     0.43    11.2E6  5.77    1.88E6  50      1000
0.0     0.0     50.0    0.0     SKIP            SKIP
ENDT
Rainflow C ycle Count
As mentioned above, because this analysis involves only sine waves and no random loading, it is incorrect to
use a Rainflow cycle calculation method. Therefore, ATYPE= SINES  should be used on the FTGPARM  for cases
involving only sine waves. This applies the raw sine wave to the frequency response functions (FRF) obtained
from MSC Nastran as if doing steady state analysis.
Once the spectral moments and signal parameters are determined, the methods like Dirlik, Narrow Band,
and Steinberg are all used as a mechanism to determine the actual ( n) cycles to failure for damage look up on
the S-N curve over a range of BINs (stress ranges). If the loading is entirely deterministic in the form of a
single sine wave then the approach is modified to account for the fact that the PDF of stress responses is fully
deterministic.
For a single deterministic sine wave, if FRF( fk) is the value of the FRF (transfer function) calculated (by
interpolation) at fk then the relevant moments can be calculated using:
mnSingleSine   f1n0.5g1f2FRFf1  =&lt;/p&gt;
&lt;p&gt;161 CHAPTER 6
Sine Sweep on Random
Main Index
Likewise, for multiple deterministic loads, if FRF( fk) is the value of the FRF (transfer function) calculated
(by interpolation) at fk then the relevant moments can be calculated
using:
For a single sine (ss) wave, only one BIN needs to be filled as follows for determining
n
where
mnDETLOAD   fkn0.5gkf2FRFfk 
k1=
=
nss1.0EPT@2.828*RMS    =
EPM4
M2&amp;mdash;&amp;mdash;&amp;ndash; =&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup162
Main Index
Type of Ra ndom Loads and Assumptions
Loads on dynamically responsive structures can be, in fact usually are, the mixture of both time and frequency
domain loading sources as shown below. Loading sources have to be combined together before the calculation
of stress ranges because Rainflow cycles from the time and frequency domain cannot be mixed.
Figure 6-5  Combining random and deterministic load sources
This calculation processes assume, for most of the calculation procedures, that all loading forms - both
random and deterministic, can be processed in the frequency domain. For this to be strictly true it is necessary
to assume that the loadings are Gaussian, stationary and random. Certainly for some of the loading cases this
cannot be assumed to be strictly true. On the other hand there are very significant practical and procedural
gains to be had from working in the frequency domain. In fact sometimes it is not even feasible to proceed
in the time domain. So it is important to know the effect of transforming into the frequency domain even if
it is not strictly valid.
The fundamental concept behind the methods described is that all loading conditions can be specified and
processed in the frequency domain, including random conditions, both wide and narrow band, as well as
deterministic conditions like sine wave harmonics. This facilitates a very elegant and easy to use interface for&lt;/p&gt;
&lt;p&gt;163 CHAPTER 6
Sine Sweep on Random
Main Index
the analyst. Examples of the different forms of random load conditions that are often specified are shown
below.
Figure 6-6  Examples of different types of frequency based loads
The following assumptions are necessary in order to apply the methods described in the guide.
Structural Linearity
Gaussian Load Inputs
Stationary Load Inputs
Random Load inputs
Structural Linearity Assu mption
Structural linearity is a fairly common assumption to make when doing structural dynamic analysis. In
simple terms this assumption requires the stress response to be a linear function of the input load. Clearly
there are many situations where this may not be true, and there are (fairly complicated) methods to deal with
such situations. However, these methods are beyond the scope of this document.
Gaussian Assu mption
The introductory sections of this User Guide discussed the implications of the assumption we make that the
applied loading (and response) is Gaussian. We noted that the Central Limit Theorem gives us some
confidence that this is a reasonable assumption to make. Practically it means that the time data and its
amplitude distribution follow the form shown below. A table of this amplitude distribution is also provided.
This can be a useful way to quantify the probability of specific events. For example, it can be seen that the&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Fatigue Setup164
Main Index
probability (likelihood) of time signal data exceeding three (3) times the RMS is 0.5000 - 0.4987 = 0.0013
or 0.13%. So the probability of exceeding either +3 or -3 times the RMS is 0.26%.
Figure 6-7  Gaussian density functions, which are widely used in engineering
It should be noted that the root mean square (RMS) is the square root of the average (mean) of the squares
as described earlier. If the mean of the overall signal is non zero this parameter becomes less useful and then
the standard deviation should be used where x(t) is measured from the signal mean. Throughout this
document we use the RMS variable and assume that the overall mean is zero.
We will consider the assumptions of stationarity and randomness in the next few Chapters.&lt;/p&gt;
&lt;p&gt;165 CHAPTER 6
Sine Sweep on Random
Main Index
Stationar ity Assumption
Perhaps one of the most common issues associated with random loading measurements concerns the issue of
stationarity. In order for a PSD to be a valid estimation of a random process the underlying process must be
stationary. This means, in simple terms, that if you break the signal up into a series of shorter blocks the
statistics of the individual blocks should be stationary. The statistics we would be interested in are, for
example, the mean, RMS, moments etc, so we would check to see that these parameters stayed within a small
bandwidth. Judging how small this bandwidth needs to be is a considerable engineering challenge.
Figure 6-8  One process for estimating the stationarity of a signal
If the fundamental statistical composition of the data (its PSD shape) changes with time then it is really
necessary to calculate, keep separate and then separately apply these individual PSDs to the structural system
(transfer function).
However, if the shape of the underlying PSD is constant and it is only the RMS (or perhaps the mean) that
varies slowly with time then it is sufficient to apply one single PSD to the structural system and then scale
the resultant Rainflow cycle count and or fatigue damage.
The concept of a non stationarity table as shown would then be needed. This is not currently implemented
but is being considered.
Rand om Assumption
An important assumption associated with the use of PSDs for structural analysis is that the data being
processed is random. It would be wrong, for example, to process a single sine wave using a PSD. In such a
situation we would take a time signal with a maximum peak of 1.41 times the RMS and then create a process
with peaks in the range 3.0 to 4.5 times the RMS. Note that this is a different problem from non stationarity
as shown in the last section. One important practical example of a non-random event is the pothole event
shown below. MSC in conjunction with its partners and customers is actively looking for techniques to allow
situations like this to be processed in the frequency domain. But in the immediate future a procedure should&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks166
Main Index
be implemented which separates the transient part of the process (pot hole) shown below and analyses this
separately using a suitable time domain analysis.
Figure 6-9  Pothole event causing short-term perturbations to underlying random loading
Concluding Remarks
.In this example we investigated the sine sweep capability:
1.Sine sweep on random loading using two methods
•Manual method requires all deterministic load (sine waves) to be defined as FTGLOAD  entries with
TYPE=SINE using the DETLOAD line. A event ( FTGEVNT ) for each frequency in the sweep is
created and references both a deterministic load plus the random load. The FTGSEQ  groups all the
events into a single loading sequence. Each event defines the duration of the sine wave for that
frequency. Damage from each sine wave on random load is summed.&lt;/p&gt;
&lt;p&gt;167 CHAPTER 6
Sine Sweep on Random
Main Index
•Automatic method requires only a single FTGEVNT  where the random load and FTGLOAD  of
TYPE=SINE with the SWEEP line is defined. Less input is required to set this up. However there
is not quite as much flexibility in defining the actual sine waves. Internally the single event is
converted to multiple events and damage is computed and summed in the same manner as the
manual method.
•Damage can be determined and plotted as a function of sine wave frequency.
2.Sine sweep only
•The mechanism is the same as with random loading except no FTGLOAD  of TYPE=PSD is defined.
•Since the loading is no longer random, rainflow cycle counting should not be used and the
ATYPE (analysis type) on the FTGPARM  should be set to SINES.
3.Zeroing out the PSD
•Random loading input can be zero’d out in a sine on random or sine sweep on random problem
simply by setting SCALE to zero on FTGLOAD  of TYPE=PSD or setting the TABRND1  values to zero
across the frequency range.
Sine Sweep Specifications
Conventional sine sweep specifications specify the sweep rate and number of sweeps. These values are
converted, for each sweep, into a total time &amp;ldquo;EVTi&amp;rdquo; thus the FTGSEQ  Ni entry (field) is ignored if entered.
Conversion factors are given below.
Note that:
seconds could be minutes or hours, etc. based on the TUNITS set on the FTGSEQ  entry
log(x) is the log of x in base10Sweep T ype Rate (r) Number of
SweepsTime (EVTi)
Linear r (Hz/sec) N (fN-f1)*N/r
Decibel (logarithmic) r (DB/sec) N (log(fN)-log(f1))&lt;em&gt;N/r
Octave (logarithmic) r (Oct/sec) N 3.3219&lt;/em&gt;(log(fN)-log(f1))*N/r&lt;/p&gt;
&lt;p&gt;MSC Nastran Embedded Vibration Fatigue User’s Guide
Concluding Remarks168
Main Index
f1 and fN are the first and last sine wave frequencies
It is assumed that the input sweep is in the same basic units as the random PSD (if one is specified). For
example, if the input PSD is in G units (e.g., G2/Hz) then the sine sweep must also be specified in the same
units of peak G.
Also sometimes a sine sweep will have changing units for different frequency bands. If applicable, this is done
automatically based on the values specified for FRFUNIT and LDUNIT as detailed below (this is not
applicable to TYPE= NARROW).
FRF Loading Units
(FRFUNIT)Sine Sweep loading units (LDUNIT)
Acceleration
amplitude AV X Force
Acceleration
amplitude A1.0 2nf . V (2nf)2 . V -
Velocity
amplitude V1/(2nf) . A 1.0 2nf.X -
Displacement amplitude
X1/(2nf)2  . A 1/(2nf)  . V 1.0 -
Force - - - 1.0&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
